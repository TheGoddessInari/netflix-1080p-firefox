function a000(){}a000.J9b=function(){return typeof a000.G9b.W9b === 'function'?a000.G9b.W9b.apply(a000.G9b,arguments):a000.G9b.W9b;};a000.P9b=function(){return typeof a000.G9b.M9b === 'function'?a000.G9b.M9b.apply(a000.G9b,arguments):a000.G9b.M9b;};a000.T9b=function(){return typeof a000.G9b.W9b === 'function'?a000.G9b.W9b.apply(a000.G9b,arguments):a000.G9b.W9b;};a000.X9b=function(){return typeof a000.G9b.M9b === 'function'?a000.G9b.M9b.apply(a000.G9b,arguments):a000.G9b.M9b;};a000.G9b=(function(O9b){return {M9b:function(){var V9b,N9b=arguments;switch(O9b){case 0:V9b=N9b[2] + N9b[0] - N9b[1];break;case 14:V9b=N9b[1] * (N9b[3] + N9b[0]) - N9b[2] + -N9b[4];break;case 18:V9b=N9b[0] <= N9b[1];break;case 7:V9b=(N9b[1] / N9b[2] | N9b[0]) * N9b[3];break;case 5:V9b=N9b[1] + N9b[0] + N9b[2] + N9b[3] + N9b[4];break;case 15:V9b=(N9b[0] - N9b[2]) * N9b[1];break;case 4:V9b=N9b[1] + N9b[0] + N9b[2];break;case 9:V9b=N9b[2] + N9b[3] / N9b[0] * N9b[1];break;case 1:V9b=N9b[1] + N9b[0];break;case 13:V9b=(N9b[1] + N9b[0]) * N9b[2] / N9b[3];break;case 17:V9b=N9b[0] >= N9b[1];break;case 10:V9b=N9b[0] * N9b[2] / N9b[1] | N9b[3];break;case 19:V9b=N9b[0] === N9b[1];break;case 3:V9b=N9b[0] - N9b[1];break;case 12:V9b=N9b[1] - N9b[2] + -N9b[0];break;case 2:V9b=void N9b[1] !== N9b[0];break;case 6:V9b=(-N9b[2] - N9b[1]) * -N9b[3] / N9b[0];break;case 16:V9b=(N9b[4] - N9b[1] + -N9b[0]) * N9b[2] - N9b[3];break;case 11:V9b=N9b[0] / N9b[2] | N9b[1];break;case 8:V9b=N9b[1] / N9b[0];break;}return V9b;},W9b:function(Z9b){O9b=Z9b;}};})();(function(){(function(ka,da){var tb,Eb,Sa,sc,oa,ya,bb,Bd,Cd,Oa,Pa,Pb,Dd,tc,Ed,Fd,Tc,n,la,gc,Gd,Uc,F,L,ga,wb,jb,$a,X,cb,Ra,Rb,Fa,Da,Ga,eb,uc,xb,pb,qb,vc,Vc,Hd,Hb,Ib,Sb,Wc,Yb,yb,wc,Ob,Xc,Id,Zb,Yc,Zc,$c,ad,zb,bd,cd,dd,ac,Ab,Bb,bc,xc,yc,zc,ib,Le,Qa,Qb,Jd,Ac,mb,Kd,Me,rb,Ld,Md,Bc,Nd,Ne,fc,Od,Ke,Oe,ed,Cc,Pe,Qe,yd,Re,zd,Pd,kb,hc,Qd,ic,Rd,nb,Sd,fd,Td,hd,Dc,Ud,Te,Ad,Ec,Sc,Vd,Se,Wd,id,Xd,Yd,Zd,jd,Nb,ae,$d,Ue,jc,be,ld,kc,ce,kd,de,ee,md,ge,he,Hc,Vb,cc,Wb,ie,je,ke,le,me,ne,Ic,Ve,oe,pe,od,qe,hb,Tb,$b,Ub,Kb,Cb,Fc,db,Gb,fe,lc,Xb,re,We,mc,se,Xe,dc,te,Jc,pd,nc,qd,ue,oc,ve,we,xe,Ye,pc,ye,Ze,$e,ze,nd,Gc,Ae,Je,Be,af,cf,bf,ec,rc,df,xd,ef,Ce;function Ya(g,n){if(!n || "utf-8" === n)return Mc(g);throw Error("unsupported encoding");}function Xa(g,n){if(!n || "utf-8" === n)return Nc(g);throw Error("unsupported encoding");}function Mc(g){for(var n=0,p,Ma=g.length,F="";n < Ma;){p=g[n++];if(p & 128)if(192 === (p & 224))p=((p & 31) << 6) + (g[n++] & 63);else if(224 === (p & 240))p=((p & 15) << 12) + ((g[n++] & 63) << 6) + (g[n++] & 63);else throw Error("unsupported character");F+=String.fromCharCode(p);}return F;}function Nc(g){var n,p,Ma,F,t;n=g.length;p=0;F=0;for(Ma=n;Ma--;){t=g.charCodeAt(Ma);128 > t?p++:p=2048 > t?p + 2:p + 3;}p=new Uint8Array(p);for(Ma=0;Ma < n;Ma++){t=g.charCodeAt(Ma);128 > t?p[F++]=t:(2048 > t?p[F++]=192 | t >>> 6:(p[F++]=224 | t >>> 12,p[F++]=128 | t >>> 6 & 63),p[F++]=128 | t & 63);}return p;}function ab(g,p){if(g === p)return !0;if(!g || !p || g.length != p.length)return !1;for(var n=0;n < g.length;++n){if(g[n] != p[n])return !1;}return !0;}function gb(g){var t;if(!(g && g.constructor == Uint8Array || Array.isArray(g)))throw new TypeError("Cannot compute the hash code of " + g);for(var p=1,n=0;n < g.length;++n){t=g[n];if("number" !== typeof t)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + t);p=31 * p + t & 4294967295;}return p;}function sd(g,p){var ra;if(g === p)return !0;if(!g || !p)return !1;p instanceof Array || (p=[p]);for(var n=0;n < p.length;++n){for(var t=p[n],F=!1,Db=0;Db < g.length;++Db){ra=g[Db];if(t.equals && "function" === typeof t.equals && t.equals(ra) || t == ra){F=!0;break;}}if(!F)return !1;}return !0;}function td(g,p){return sd(g,p) && (g.length == p.length || sd(p,g));}function p(g,p,n){var t,F;n && (t=n);if("object" !== typeof g || "function" !== typeof g.result || "function" !== typeof g.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{F=p.call(t,g);F !== da && g.result(F);}catch(Oc){try{g.error(Oc);}catch(ra){}}}function t(g,n,t){if("object" !== typeof g || "function" !== typeof g.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");p(g,n,t);}function g(g,p,n){1E5 > g && (g=1E5 + g);Object.defineProperties(this,{internalCode:{value:g,writable:!1,configurable:!1},responseCode:{value:p,writable:!1,configurable:!1},message:{value:n,writable:!1,configurable:!1}});}function Pc(g){switch(g){case Qa.PSK:case Qa.MGK:return !0;default:return !1;}}function ud(g){switch(g){case Qa.PSK:case Qa.MGK:case Qa.X509:case Qa.RSA:case Qa.NPTICKET:case Qa.ECC:return !0;default:return !1;}}function Ge(g){return g.toJSON();}function vd(p,n){rc?n.result(rc):Promise.resolve().then(function(){return Ga.getKeyByName(p);})["catch"](function(){return Ga.generateKey({name:p},!1,["wrapKey","unwrapKey"]);}).then(function(g){rc=g;n.result(rc);})["catch"](function(p){n.error(new F(g.INTERNAL_EXCEPTION,"Unable to get system key"));});}function wd(g,p){var n,t,F;n=p.masterToken;t=p.userIdToken;F=p.serviceTokens;return {NccpMethod:g.method,UserId:g.userId,UT:t && t.serialNumber,MT:n && n.serialNumber + ":" + n.sequenceNumber,STCount:F && F.length};}function He(g){return g.uniqueKey();}function Ie(t,Db,ob,Ma,ub){var Ia;function L(g,M){g.errorCode === n.ENTITY_REAUTH || g.errorCode === n.ENTITYDATA_REAUTH?(Ma.clearCryptoContexts(),Va()):g.errorCode !== n.USER_REAUTH && g.errorCode !== n.USERDATA_REAUTH || ra(M);}function ra(g){if(g=Ma.getUserIdToken(g))(Ma.removeUserIdToken(g),Va());}function Y(g,M,G){var w;w=[];(function C(){g.read(-1,M,{result:function(g){p(G,function(){var x,H,K,G,M;if(g)(w.push(g),C());else switch(w.length){case 0:return new Uint8Array(0);case 1:return w[0];default:(G=w.length,M=0);for(H=x=0;H < G;H++){x+=w[H].length;}x=new Uint8Array(x);for(H=0;H < G;H++){K=w[H];x.set(K,M);M+=K.length;}return x;}});},timeout:function(){G.timeout();},error:function(g){G.error(g);}});})();}function Va(){Ma.getStoreState({result:function(g){for(var M=Ia.slice(),G=0;G < M.length;G++){M[G]({storeState:g});}},timeout:function(){t.error("Timeout getting store state","" + e);},error:function(g){t.error("Error getting store state","" + g);}});}Ia=[];this.addEventHandler=function(g,M){switch(g){case "shouldpersist":Ia.push(M);}};this.send=function(p){return new Promise(function(M,G){var w,z,C;w=p.timeout;z=new xd(t,ob,p,Ma.getKeyRequestData());C=new yd(p.url);t.trace("Sending MSL request");Db.request(ob,z,C,w,{result:function(z){var x;t.trace("Received MSL response",{Method:p.method});if(z){p.allowTokenRefresh && Va();x=z.getErrorHeader();x?(L(x,p.profileGuid || p.userId),G({success:!1,error:x})):Y(z,w,{result:function(g){M({success:!0,body:Ya(g)});},timeout:function(){G({success:!1,subCode:ub.MSL_READ_TIMEOUT});},error:function(g){G({success:!1,error:g});}});}else G({success:!1,error:new F(g.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){G({success:!1,subCode:ub.MSL_REQUEST_TIMEOUT});},error:function(g){G({success:!1,error:g});}});});};this.hasUserIdToken=function(g){return ! !Ma.getUserIdToken(g);};this.getUserIdTokenKeys=function(){return Ma.getUserIdTokenKeys();};this.removeUserIdToken=ra;this.clearUserIdTokens=function(){Ma.clearUserIdTokens();Va();};this.isErrorReauth=function(g){return g && g.errorCode == n.USERDATA_REAUTH;};this.isErrorHeader=function(g){return g instanceof Nb;};this.getErrorCode=function(g){return g && g.errorCode;};this.getStateForMdx=function(g){var M,G;M=Ma.getMasterToken();g=Ma.getUserIdToken(g);G=Ma.getCryptoContext(M);return {masterToken:M,userIdToken:g,cryptoContext:G};};this.buildPlayDataRequest=function(g,M){var G;G=new zd();Db.request(ob,new xd(t,ob,g),G,g.timeout,{result:function(){M.result(G.getRequest());},error:function(){M.result(G.getRequest());},timeout:function(){M.timeout();}});};this.rekeyUserIdToken=function(g,M){Ma.rekeyUserIdToken(g,M);Va();};this.getServiceTokens=function(g){var M;M=Ma.getMasterToken();(g=Ma.getUserIdToken(g)) && !g.isBoundTo(M) && (g=da);return Ma.getServiceTokens(M,g);};this.removeServiceToken=function(g){var M;M=Ma.getMasterToken();Ma.getServiceTokens(M).find(function(G){return G.name === g;}) && (Ma.removeServiceTokens(g,M),Va());};}function Qc(p,n,t,Ma,ub,L){function ra(n){var Y;return Promise.resolve().then(function(){Y=p.authenticationKeyNames[n];if(!Y)throw new F(g.KEY_IMPORT_ERROR,"Invalid config keyName " + n);return Ga.getKeyByName(Y);}).then(function(p){return new Promise(function(n,M){Yb(p,{result:n,error:function(){M(new F(g.KEY_IMPORT_ERROR,"Unable to create " + Y + " CipherKey"));}});});})["catch"](function(p){throw new F(g.KEY_IMPORT_ERROR,"Unable to import " + Y,p);});}return Promise.resolve().then(function(){if(!Ga.getKeyByName)throw new F(g.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([ra("e"),ra("h"),ra("w")]);}).then(function(g){var Y,Ia,Ea;Y={};Y[n]=new t(p.esn,g[0],g[1],g[2]);g=new Ma(p.esn);Ia=new Je();Ia=[new ub(Ia)];Ea=new L(n);return {entityAuthFactories:Y,entityAuthData:g,keyExchangeFactories:Ia,keyRequestData:Ea};});}function Rc(p,n,t){var ob;function Ma(){return Promise.resolve().then(function(){return Ga.generateKey(n,!1,["wrapKey","unwrapKey"]);}).then(function(g){return ub(g.publicKey,g.privateKey);});}function ub(p,n){return Promise.all([new Promise(function(n,Y){Ob(p,{result:n,error:function(p){Y(new F(g.INTERNAL_EXCEPTION,"Unable to create keyx public key",p));}});}),new Promise(function(p,Y){Zb(n,{result:p,error:function(p){Y(new F(g.INTERNAL_EXCEPTION,"Unable to create keyx private key",p));}});})]).then(function(g){g=new Sc("rsaKeypairId",t,g[0],g[1]);ob && (g.storeData={keyxPublicKey:p,keyxPrivateKey:n});return g;});}ob=!p.systemKeyWrapFormat;return Promise.resolve().then(function(){var g,n;g=p.storeState;n=g && g.keyxPublicKey;g=g && g.keyxPrivateKey;return ob && n && g?ub(n,g):Ma();}).then(function(g){var n,Va,Ia;n={};n[Qa.NONE]=new Ke();Va=new fc(p.esn);Ia=[new Ad()];return {entityAuthFactories:n,entityAuthData:Va,keyExchangeFactories:Ia,keyRequestData:g,createKeyRequestData:ob?Ma:da};});}Eb=ka.nfCrypto || ka.msCrypto || ka.webkitCrypto || ka.crypto;Sa=Eb && (Eb.webkitSubtle || Eb.subtle);sc=ka.nfCryptokeys || ka.msCryptokeys || ka.webkitCryptokeys || ka.cryptokeys;(function(g){var p,n;p=(function(){function g(g,n){g instanceof p?(this.abv=g.abv,this.position=g.position):(this.abv=g,this.position=n || 0);}g.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(g){this.abv[this.position++]=g;},peekByte:function(g){return this.abv[g];},copyBytes:function(g,n,p){var Y;Y=new Uint8Array(this.abv.buffer,this.position,p);g=new Uint8Array(g.buffer,n,p);Y.set(g);this.position+=p;},seek:function(g){this.position=g;},skip:function(g){this.position+=g;},getPosition:function(){return this.position;},setPosition:function(g){this.position=g;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return g;})();n={};(function(){var K,x,H,na,ba,Ja,qa,P,ua;function g(x,w){var S;w.writeByte(x.tagClass << 6 | x.constructed << 5 | x.tag);S=x.payloadLen;if(128 > S)w.writeByte(S);else {for(var H=S,z=0;H;){++z;H>>=8;}w.writeByte(128 | z);for(H=0;H < z;++H){w.writeByte(S >> 8 * (z - H - 1) & 255);}}if(x.child)for((x.tag == K.BIT_STRING && w.writeByte(0),S=x._child);S;){if(!g(S,w))return !1;S=S.next;}else switch(x.tag){case K.INTEGER:x.backingStore[x.dataIdx] >> 7 && w.writeByte(0);w.copyBytes(x.backingStore,x.dataIdx,x.dataLen);break;case K.BIT_STRING:w.writeByte(0);w.copyBytes(x.backingStore,x.dataIdx,x.dataLen);break;case K.OCTET_STRING:w.copyBytes(x.backingStore,x.dataIdx,x.dataLen);break;case K.OBJECT_IDENTIFIER:w.copyBytes(x.backingStore,x.dataIdx,x.dataLen);}return !0;}function t(g){var x,S;x=g.readByte();S=x & 127;if(S == x)return S;if(3 < S || 0 === S)return -1;for(var w=x=0;w < S;++w){x=x << 8 | g.readByte();}return x;}function F(g,w,H){var S,z,G,C,W,ea,M;S=g.backingStore;z=new p(S,w);w+=H;H=g;if(8 < ba++)return da;for(;z.getPosition() < w;){z.getPosition();W=z.readByte();if(31 == (W & 31)){for(C=0;W & 128;){C<<=8;C|=W & 127;}W=C;}G=W;C=G & 31;if(0 > C || 30 < C)return da;W=t(z);if(0 > W || W > z.getRemaining())return da;H.constructed=G & 32;H.tagClass=(G & 192) >> 6;H.tag=C;H.dataLen=W;H.dataIdx=z.getPosition();C=z;ea=G;G=W;if(ea & 32)C=!0;else if(ea < K.BIT_STRING || ea > K.OCTET_STRING)C=!1;else {M=new p(C);ea == K.BIT_STRING && M.skip(1);M.readByte() >> 6 & 1?C=!1:(ea=t(M),C=M.getPosition() - C.getPosition() + ea == G);}C && (C=z.getPosition(),G=W,H.tag == K.BIT_STRING && (H.dataIdx++,H.dataLen--,C++,G--),H.child=new x(S,H),F(H.child,C,G));H.tag == K.INTEGER && (C=z.getPosition(),0 == z.peekByte(C) && z.peekByte(C + 1) >> 7 && (H.dataIdx++,H.dataLen--));z.skip(W);z.getPosition() < w && (H.next=new x(S,H.parent),H=H.next);}ba--;return g;}function ra(g,x,w){if(9 != w)return !1;for(w=0;9 > w;++w){if(g[x++] != Ja[w])return !1;}return !0;}function Y(g){var x;if(!(g && g.child && g.child.next && g.child.child && g.child.next.child))return !1;x=g.child.child;return ra(x.backingStore,x.dataIdx,x.dataLen) && 2 == g.nChildren && 2 == g.child.nChildren && 2 == g.child.next.child.nChildren?!0:!1;}function Va(g){var x;if(!(g && g.child && g.child.next && g.child.next.child && g.child.next.next && g.child.next.next.child))return !1;x=g.child.next.child;return ra(x.backingStore,x.dataIdx,x.dataLen) && 3 == g.nChildren && 2 == g.child.next.nChildren && 9 == g.child.next.next.child.nChildren?!0:!1;}function Ia(g){var x,w;x=H.createSequenceNode();w=new na(x);w.addChild(H.createSequenceNode());w.addChild(H.createOidNode(Ja));w.addSibling(H.createNullNode());w.addToParent(x,H.createBitStringNode(null));w.addChild(H.createSequenceNode());w.addChild(H.createIntegerNode(g.n));w.addSibling(H.createIntegerNode(g.e));return x;}function Ea(g){var x;g=g.child.next.child.child;x=g.data;g=g.next;return new qa(x,g.data,null,null);}function M(g){var x,w;x=H.createSequenceNode();w=new na(x);w.addChild(H.createIntegerNode(new Uint8Array([0])));w.addSibling(H.createSequenceNode());w.addChild(H.createOidNode(Ja));w.addSibling(H.createNullNode());w.addToParent(x,H.createOctetStringNode(null));w.addChild(H.createSequenceNode());w.addChild(H.createIntegerNode(new Uint8Array([0])));w.addSibling(H.createIntegerNode(g.n));w.addSibling(H.createIntegerNode(g.e));w.addSibling(H.createIntegerNode(g.d));w.addSibling(H.createIntegerNode(g.p));w.addSibling(H.createIntegerNode(g.q));w.addSibling(H.createIntegerNode(g.dp));w.addSibling(H.createIntegerNode(g.dq));w.addSibling(H.createIntegerNode(g.qi));return x;}function G(g){var x;x=[];g=g.child.next.next.child.child.next;for(var w=0;8 > w;w++){x.push(g.data);g=g.next;}return new P(x[0],x[1],x[2],x[3],x[4],x[5],x[6],x[7]);}function w(g,x,w,H){if(!(g instanceof qa || g instanceof P))return da;if(w)for(var z=0;z < w.length;++z){if(-1 == ua.indexOf(w[z]))return da;}x={kty:"RSA",alg:x,key_ops:w || [],ext:H == da?!1:H,n:oa(g.n,!0),e:oa(g.e,!0)};g instanceof P && (x.d=oa(g.d,!0),x.p=oa(g.p,!0),x.q=oa(g.q,!0),x.dp=oa(g.dp,!0),x.dq=oa(g.dq,!0),x.qi=oa(g.qi,!0));return x;}function z(g){var x,w,H,z,S,G,C,K,ba,M;if(!g.kty || "RSA" != g.kty || !g.n || !g.e)return da;x=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(g.alg && -1 == x.indexOf(g.alg))return da;x=[];g.use?"enc" == g.use?x=["encrypt","decrypt","wrap","unwrap"]:"sig" == g.use && (x=["sign","verify"]):x=g.key_ops;w=g.ext;H=ya(g.n,!0);z=ya(g.e,!0);if(g.d){S=ya(g.d,!0);G=ya(g.p,!0);C=ya(g.q,!0);K=ya(g.dp,!0);ba=ya(g.dq,!0);M=ya(g.qi,!0);return new P(H,z,S,G,C,K,ba,M,g.alg,x,w);}return new qa(H,z,w,x);}function C(g,x,w,H){this.der=g;this.type=x;this.keyOps=w;this.extractable=H;}K={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};x=function(g,x,w,H,z,G){this._data=g;this._parent=x || da;this._constructed=w || !1;this._tagClass=0;this._tag=H || 0;this._dataIdx=z || 0;this._dataLen=G || 0;};x.prototype={_child:da,_next:da,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(g) {this._constructed=0 != g?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(g) {this._tagClass=g;},get tag() {return this._tag;},set tag(g) {this._tag=g;},get dataIdx() {return this._dataIdx;},set dataIdx(g) {this._dataIdx=g;},get dataLen() {return this._dataLen;},set dataLen(g) {this._dataLen=g;},get child() {return this._child;},set child(g) {this._child=g;this._child.parent=this;},get next() {return this._next;},set next(g) {this._next=g;},get parent() {return this._parent;},set parent(g) {this._parent=g;},get payloadLen() {var g;g=0;if(this._child){for(var x=this._child;x;){g+=x.length;x=x.next;}this._tag == K.BIT_STRING && g++;}else switch(this._tag){case K.INTEGER:g=this._dataLen;this._data[this._dataIdx] >> 7 && g++;break;case K.BIT_STRING:g=this._dataLen + 1;break;case K.OCTET_STRING:g=this._dataLen;break;case K.NULL:g=0;break;case K.OBJECT_IDENTIFIER:ra(this._data,this._dataIdx,this._dataLen) && (g=9);}return g;},get length() {var g,x;g=this.payloadLen;if(127 < g)for(x=g;x;){x>>=8;++g;}return g + 2;},get der() {var x,w;x=this.length;if(!x)return da;x=new Uint8Array(x);w=new p(x);return g(this,w)?x:da;},get nChildren() {for(var g=0,x=this._child;x;){g++;x=x.next;}return g;}};H={createSequenceNode:function(){return new x(null,null,!0,K.SEQUENCE,null,null);},createOidNode:function(g){return new x(g,null,!1,K.OBJECT_IDENTIFIER,0,g?g.length:0);},createNullNode:function(){return new x(null,null,!1,K.NULL,null,null);},createBitStringNode:function(g){return new x(g,null,!1,K.BIT_STRING,0,g?g.length:0);},createIntegerNode:function(g){return new x(g,null,!1,K.INTEGER,0,g?g.length:0);},createOctetStringNode:function(g){return new x(g,null,!1,K.OCTET_STRING,0,g?g.length:0);}};na=function(g){this._currentNode=this._rootNode=g;};na.prototype={addChild:function(g){this.addTo(this._currentNode,g);},addSibling:function(g){this.addTo(this._currentNode.parent,g);},addTo:function(g,x){this._currentNode=x;this._currentNode.parent=g;if(g.child){for(var w=g.child;w.next;){w=w.next;}w.next=x;}else g.child=x;},addToParent:function(g,x){this.findNode(g) && this.addTo(g,x);},findNode:function(g){for(var x=this._currentNode;x;){if(g == x)return !0;x=x.parent;}return !1;}};ba=0;Ja=new Uint8Array([42,134,72,134,247,13,1,1,1]);qa=function(g,x,w,H){this.n=g;this.e=x;this.ext=w;this.keyOps=H;};P=function(g,x,w,H,z,G,C,K,ba,M,P){this.n=g;this.e=x;this.d=w;this.p=H;this.q=z;this.dp=G;this.dq=C;this.qi=K;this.alg=ba;this.keyOps=M;this.ext=P;};ua=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");C.prototype.getDer=function(){return this.der;};C.prototype.getType=function(){return this.type;};C.prototype.getKeyOps=function(){return this.keyOps;};C.prototype.getExtractable=function(){return this.extractable;};n.parse=function(g){ba=0;return F(new x(g),0,g.length);};n.show=function(g,x){};n.isRsaSpki=Y;n.isRsaPkcs8=Va;n.NodeFactory=H;n.Builder=na;n.tagVal=K;n.RsaPublicKey=qa;n.RsaPrivateKey=P;n.buildRsaSpki=Ia;n.parseRsaSpki=function(g){g=n.parse(g);return Y?Ea(g):da;};n.buildRsaPkcs8=M;n.parseRsaPkcs8=function(g){g=n.parse(g);return Va(g)?G(g):da;};n.buildRsaJwk=w;n.parseRsaJwk=z;n.RsaDer=C;n.rsaDerToJwk=function(g,x,H,z){g=n.parse(g);if(!g)return da;if(Y(g))g=Ea(g);else if(Va(g))g=G(g);else return da;return w(g,x,H,z);};n.jwkToRsaDer=function(g){var x,w;g=z(g);if(!g)return da;if(g instanceof qa)(x="spki",w=Ia(g).der);else if(g instanceof P)(x="pkcs8",w=M(g).der);else return da;return new C(w,x,g.keyOps,g.ext);};n.webCryptoAlgorithmToJwkAlg=function(g){return "RSAES-PKCS1-v1_5" == g.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == g.name?"SHA-256" == g.hash.name?"RS256":"SHA-384" == g.hash.name?"RS384":"SHA-512" == g.hash.name?"RS512":da:da;};n.webCryptoUsageToJwkKeyOps=function(g){return g.map(function(g){return "wrapKey" == g?"wrap":"unwrapKey" == g?"unwrap":g;});};})();g.ASN1=n;})(ka);(function(){for(var g={},n={},p={"=":0,".":0},t={"=":0,".":0},F=/\s+/g,L=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,ra=64;ra--;){g[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ra]]=262144 * ra;n[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ra]]=4096 * ra;p[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ra]]=64 * ra;t[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ra]]=ra;}for(ra=64;ra-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ra] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ra];){g[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ra]]=262144 * ra;n[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ra]]=4096 * ra;p[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ra]]=64 * ra;t[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ra]]=ra;}oa=function(g,n){for(var p="",Y=0,M=g.length,G=M - 2,w,z=n?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=n?"":"=";Y < G;){w=65536 * g[Y++] + 256 * g[Y++] + g[Y++];p+=z[w >>> 18] + z[w >>> 12 & 63] + z[w >>> 6 & 63] + z[w & 63];}Y == G?(w=65536 * g[Y++] + 256 * g[Y++],p+=z[w >>> 18] + z[w >>> 12 & 63] + z[w >>> 6 & 63] + C):Y == M - 1 && (w=65536 * g[Y++],p+=z[w >>> 18] + z[w >>> 12 & 63] + C + C);return p;};ya=function(Y,Va){var Ia;Y=Y.replace(F,"");if(Va){Ia=Y.length % 4;if(Ia)for(var Ia=4 - Ia,Ea=0;Ea < Ia;++Ea){Y+="=";}}Ia=Y.length;if(0 != Ia % 4 || !L.test(Y))throw Error("bad base64: " + Y);for(var M=Ia / 4 * 3 - ("=" == Y[Ia - 1]?1:0) - ("=" == Y[Ia - 2]?1:0),G=new Uint8Array(M),w=0,z=0;w < Ia;){Ea=g[Y[w++]] + n[Y[w++]] + p[Y[w++]] + t[Y[w++]];G[z++]=Ea >>> 16;z < M && (G[z++]=Ea >>> 8 & 255,z < M && (G[z++]=Ea & 255));}return G;};})();bb={};(function(){var L,ra,Y,Ia;function g(n){if(!(this instanceof g))return new g(n);for(var M=0,G=ra.length;M < G;M++){this[ra[M]]="";}this.bufferCheckPosition=bb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=n || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Y.BEGIN;this.stack=new L();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;p(this,"onready");}function p(g,M,G){if(g[M])g[M](G);}function n(g,M){var G,w;G=g.opt;w=g.textNode;G.trim && (w=w.trim());G.normalize && (w=w.replace(/\s+/g," "));g.textNode=w;g.textNode && p(g,M?M:"onvalue",g.textNode);g.textNode="";}function t(g,M){n(g);M+="\nLine: " + g.line + "\nColumn: " + g.column + "\nChar: " + g.c;M=Error(M);g.error=M;p(g,"onerror",M);return g;}function F(Ea){Ea.state !== Y.VALUE && t(Ea,"Unexpected end");n(Ea);Ea.c="";Ea.closed=!0;p(Ea,"onend");g.call(Ea,Ea.opt);return Ea;}L=Array;bb.parser=function(p){return new g(p);};bb.CParser=g;bb.MAX_BUFFER_LENGTH=65536;bb.DEBUG=!1;bb.INFO=!1;bb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");ra=["textNode","numberNode"];bb.EVENTS.filter(function(g){return "error" !== g && "end" !== g;});Y=0;bb.STATE={BEGIN:Y++,VALUE:Y++,OPEN_OBJECT:Y++,CLOSE_OBJECT:Y++,OPEN_ARRAY:Y++,CLOSE_ARRAY:Y++,TEXT_ESCAPE:Y++,STRING:Y++,BACKSLASH:Y++,END:Y++,OPEN_KEY:Y++,CLOSE_KEY:Y++,TRUE:Y++,TRUE2:Y++,TRUE3:Y++,FALSE:Y++,FALSE2:Y++,FALSE3:Y++,FALSE4:Y++,NULL:Y++,NULL2:Y++,NULL3:Y++,NUMBER_DECIMAL_POINT:Y++,NUMBER_DIGIT:Y++};for(var Va in bb.STATE){bb.STATE[bb.STATE[Va]]=Va;}Y=bb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(g){return g.__proto__;});Ia=/[\\"\n]/g;g.prototype={end:function(){F(this);},write:function(g){var w,z,C;if(this.error)throw this.error;if(this.closed)return t(this,"Cannot write after close. Assign an onready handler.");if(null === g)return F(this);for(var M=g[0],G;M;){G=M;this.c=M=g.charAt(this.index++);G !== M?this.p=G:G=this.p;if(!M)break;this.position++;"\n" === M?(this.line++,this.column=0):this.column++;switch(this.state){case Y.BEGIN:"{" === M?this.state=Y.OPEN_OBJECT:"[" === M?this.state=Y.OPEN_ARRAY:"\r" !== M && "\n" !== M && " " !== M && "\t" !== M && t(this,"Non-whitespace before {[.");continue;case Y.OPEN_KEY:case Y.OPEN_OBJECT:if("\r" === M || "\n" === M || " " === M || "\t" === M)continue;if(this.state === Y.OPEN_KEY)this.stack.push(Y.CLOSE_KEY);else if("}" === M){p(this,"onopenobject");p(this,"oncloseobject");this.state=this.stack.pop() || Y.VALUE;continue;}else this.stack.push(Y.CLOSE_OBJECT);'"' === M?this.state=Y.STRING:t(this,'Malformed object key should start with "');continue;case Y.CLOSE_KEY:case Y.CLOSE_OBJECT:if("\r" === M || "\n" === M || " " === M || "\t" === M)continue;":" === M?(this.state === Y.CLOSE_OBJECT?(this.stack.push(Y.CLOSE_OBJECT),n(this,"onopenobject")):n(this,"onkey"),this.state=Y.VALUE):"}" === M?(n(this),p(this,"oncloseobject",void 0),this.state=this.stack.pop() || Y.VALUE):"," === M?(this.state === Y.CLOSE_OBJECT && this.stack.push(Y.CLOSE_OBJECT),n(this),this.state=Y.OPEN_KEY):t(this,"Bad object");continue;case Y.OPEN_ARRAY:case Y.VALUE:if("\r" === M || "\n" === M || " " === M || "\t" === M)continue;if(this.state === Y.OPEN_ARRAY)if((p(this,"onopenarray"),this.state=Y.VALUE,"]" === M)){p(this,"onclosearray");this.state=this.stack.pop() || Y.VALUE;continue;}else this.stack.push(Y.CLOSE_ARRAY);'"' === M?this.state=Y.STRING:"{" === M?this.state=Y.OPEN_OBJECT:"[" === M?this.state=Y.OPEN_ARRAY:"t" === M?this.state=Y.TRUE:"f" === M?this.state=Y.FALSE:"n" === M?this.state=Y.NULL:"-" === M?this.numberNode+=M:"0" === M?(this.numberNode+=M,this.state=Y.NUMBER_DIGIT):-1 !== ("123456789").indexOf(M)?(this.numberNode+=M,this.state=Y.NUMBER_DIGIT):t(this,"Bad value");continue;case Y.CLOSE_ARRAY:if("," === M)(this.stack.push(Y.CLOSE_ARRAY),n(this,"onvalue"),this.state=Y.VALUE);else if("]" === M)(n(this),p(this,"onclosearray",void 0),this.state=this.stack.pop() || Y.VALUE);else if("\r" === M || "\n" === M || " " === M || "\t" === M)continue;else t(this,"Bad array");continue;case Y.STRING:G=this.index - 1;(w=this.slashed,z=this.unicodeI);a:for(;;){if(bb.DEBUG)for(;0 < z;){if((this.unicodeS+=M,M=g.charAt(this.index++),4 === z?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),z=0,G=this.index - 1):z++,!M))break a;}if('"' === M && !w){this.state=this.stack.pop() || Y.VALUE;(this.textNode+=g.substring(G,this.index - 1)) || p(this,"onvalue","");break;}if("\\" === M && !w && (w=!0,this.textNode+=g.substring(G,this.index - 1),M=g.charAt(this.index++),!M))break;if(w)if((w=!1,"n" === M?this.textNode+="\n":"r" === M?this.textNode+="\r":"t" === M?this.textNode+="\t":"f" === M?this.textNode+="\f":"b" === M?this.textNode+="\b":"u" === M?(z=1,this.unicodeS=""):this.textNode+=M,M=g.charAt(this.index++),G=this.index - 1,M))continue;else break;Ia.lastIndex=this.index;C=Ia.exec(g);if(null === C){this.index=g.length + 1;this.textNode+=g.substring(G,this.index - 1);break;}this.index=C.index + 1;M=g.charAt(C.index);if(!M){this.textNode+=g.substring(G,this.index - 1);break;}}this.slashed=w;this.unicodeI=z;continue;case Y.TRUE:if("" === M)continue;"r" === M?this.state=Y.TRUE2:t(this,"Invalid true started with t" + M);continue;case Y.TRUE2:if("" === M)continue;"u" === M?this.state=Y.TRUE3:t(this,"Invalid true started with tr" + M);continue;case Y.TRUE3:if("" === M)continue;"e" === M?(p(this,"onvalue",!0),this.state=this.stack.pop() || Y.VALUE):t(this,"Invalid true started with tru" + M);continue;case Y.FALSE:if("" === M)continue;"a" === M?this.state=Y.FALSE2:t(this,"Invalid false started with f" + M);continue;case Y.FALSE2:if("" === M)continue;"l" === M?this.state=Y.FALSE3:t(this,"Invalid false started with fa" + M);continue;case Y.FALSE3:if("" === M)continue;"s" === M?this.state=Y.FALSE4:t(this,"Invalid false started with fal" + M);continue;case Y.FALSE4:if("" === M)continue;"e" === M?(p(this,"onvalue",!1),this.state=this.stack.pop() || Y.VALUE):t(this,"Invalid false started with fals" + M);continue;case Y.NULL:if("" === M)continue;"u" === M?this.state=Y.NULL2:t(this,"Invalid null started with n" + M);continue;case Y.NULL2:if("" === M)continue;"l" === M?this.state=Y.NULL3:t(this,"Invalid null started with nu" + M);continue;case Y.NULL3:if("" === M)continue;"l" === M?(p(this,"onvalue",null),this.state=this.stack.pop() || Y.VALUE):t(this,"Invalid null started with nul" + M);continue;case Y.NUMBER_DECIMAL_POINT:"." === M?(this.numberNode+=M,this.state=Y.NUMBER_DIGIT):t(this,"Leading zero not followed by .");continue;case Y.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(M)?this.numberNode+=M:"." === M?(-1 !== this.numberNode.indexOf(".") && t(this,"Invalid number has two dots"),this.numberNode+=M):"e" === M || "E" === M?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || t(this,"Invalid number has two exponential"),this.numberNode+=M):"+" === M || "-" === M?("e" !== G && "E" !== G && t(this,"Invalid symbol in number"),this.numberNode+=M):(this.numberNode && p(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Y.VALUE);continue;default:t(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){g=Math.max(bb.MAX_BUFFER_LENGTH,10);G=M=0;for(w=ra.length;G < w;G++){z=this[ra[G]].length;if(z > g)switch(ra[G]){case "text":break;default:t(this,"Max buffer length exceeded: " + ra[G]);}M=Math.max(M,z);}this.bufferCheckPosition=bb.MAX_BUFFER_LENGTH - M + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var t;function g(g,p){p || (p=g.length);return g.reduce(function(g,n,Y){return Y < p?g + String.fromCharCode(n):g;},"");}for(var p={},n=0;256 > n;++n){t=g([n]);p[t]=n;}for(var F=Object.keys(p).length,L=[],n=0;256 > n;++n){L[n]=[n];}Bd=function(n,Y){var x,H;function t(g,x){var H;for(;0 < x;){if(z >= w.length)return !1;if(x > C){H=g;H=H >>> x - C;w[z]|=H & 255;x-=C;C=8;++z;}else x <= C && (H=g,H<<=C - x,H&=255,H>>>=8 - C,w[z]|=H & 255,C-=x,x=0,0 == C && (C=8,++z));}return !0;}for(var Ia in p){Y[Ia]=p[Ia];}for(var Ea=F,M=[],G=8,w=new Uint8Array(n.length),z=0,C=8,K=0;K < n.length;++K){x=n[K];M.push(x);Ia=g(M);H=Y[Ia];if(!H){M=g(M,M.length - 1);if(!t(Y[M],G))return null;0 != Ea >> G && ++G;Y[Ia]=Ea++;M=[x];}}return 0 < M.length && (Ia=g(M),H=Y[Ia],!t(H,G))?null:w.subarray(0,8 > C?z + 1:z);};Cd=function(g){var K,x,C,t;for(var p=L.slice(),n=0,t=0,Ea=8,M=new Uint8Array(Math.ceil(1.5 * g.length)),G=0,w,z=[];n < g.length && !(8 * (g.length - n) - t < Ea);){for(var C=w=0;C < Ea;){K=Math.min(Ea - C,8 - t);x=g[n];x=x << t;x=x & 255;x=x >>> 8 - K;C=C + K;t=t + K;8 == t && (t=0,++n);w|=(x & 255) << Ea - C;}C=p[w];0 == z.length?++Ea:(C?z.push(C[0]):z.push(z[0]),p[p.length]=z,z=[],p.length == 1 << Ea && ++Ea,C || (C=p[w]));w=G + C.length;w >= M.length && (K=new Uint8Array(Math.ceil(1.5 * w)),K.set(M),M=K);M.set(C,G);G=w;z=z.concat(C);}return M.subarray(0,G);};})();(function(){var g,p,t;Oa="utf-8";Pa=9007199254740992;g=Pb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Pb);Dd=function(p){for(var n=[g.GZIP,g.LZW],t=0;t < n.length && 0 < p.length;++t){for(var F=n[t],Y=0;Y < p.length;++Y){if(p[Y] == F)return F;}}return null;};p=tc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(tc);Ed=function(g){return p.AES_CBC_PKCS5Padding == g?p.AES_CBC_PKCS5Padding:p.RSA_ECB_PKCS1Padding == g?p.RSA_ECB_PKCS1Padding:p[g];};t=Fd={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Fd);Tc=function(g){return t[g];};n={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(n);})();la={isObjectLiteral:function(g){return null !== g && "object" === typeof g && g.constructor === Object;},extendDeep:function(){var g,p,n,t,F,L,ra,Y;g=arguments[0];p=1;n=arguments.length;t=!1;"boolean" === typeof g && (t=g,g=arguments[1],p=2);for(;p < n;p++){if(null != (F=arguments[p]))for(L in F){t && (L in g) || (Y=F[L],g !== Y && Y !== da && (ra=g[L],g[L]=null !== ra && null !== Y && "object" === typeof ra && "object" === typeof Y?la.extendDeep(t,{},ra,Y):Y));}}return g;}};(function(){var ra,Y;function g(g,p){return function(){var n,M;n=g.base;g.base=p;M=g.apply(this,arguments);g.base=n;return M;};}function p(p,n,t){var M,G,w,z;t=t || Y;z=! !t.extendAll;for(M in n){G=n.__lookupGetter__(M);w=n.__lookupSetter__(M);G || w?(G && p.__defineGetter__(M,G),w && p.__defineSetter__(M,w)):(G=n[M],w=p[M],"function" === typeof G && "function" === typeof w && G !== w?(G.base !== Function.prototype.base && (G=g(G,w)),G.base=w):(z || t[M]) && la.isObjectLiteral(G) && la.isObjectLiteral(w) && (G=la.extendDeep({},w,G)),p[M]=G);}}function n(){var g,p;g=Array.prototype.slice;p=g.call(arguments,1);return this.extend({init:function M(){var G;G=g.call(arguments,0);M.base.apply(this,p.concat(G));}});}function t(g,n){var Y;Y=new this(ra);p(Y,g,n);return L(Y);}function F(g,n){p(this.prototype,g,n);return this;}function L(g){var p;p=function(){var g;g=this.init;g && arguments[0] !== ra && g.apply(this,arguments);};g && (p.prototype=g);p.prototype.constructor=p;p.extend=t;p.bind=n;p.mixin=F;return p;}ra={};Y={actions:!0};Function.prototype.base=function(){};la.Class={create:L,mixin:p,extend:function(g,p){var n;n=L();n.prototype=new g();return n.extend(p);}};la.mixin=function(){la.log && la.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");p.apply(null,arguments);};})();(function(){var ra,Y,Va;function g(g,p){return function(){var n,G;n=g.base;g.base=p;G=g.apply(this,arguments);g.base=n;return G;};}function p(p,n,M){var G,w,z,C;M=M || Y;C=! !M.extendAll;for(G in n){w=n.__lookupGetter__(G);z=n.__lookupSetter__(G);w || z?(w && p.__defineGetter__(G,w),z && p.__defineSetter__(G,z)):(w=n[G],z=p[G],"function" === typeof w && "function" === typeof z && w !== z?(w.base !== Va && (w=g(w,z)),w.base=z):(C || M[G]) && la.isObjectLiteral(w) && la.isObjectLiteral(z) && (w=la.extendDeep({},z,w)),p[G]=w);}}function n(){var g,p;g=Array.prototype.slice;p=g.call(arguments,1);return this.extend({init:function G(){var w;w=g.call(arguments,0);G.base.apply(this,p.concat(w));}});}function t(g,n){var M;M=new this(ra);p(M,g,n);return L(M);}function F(g,n){p(this.prototype,g,n);return this;}function L(g){var p;p=function(){var g;g=this.init;g && arguments[0] !== ra && g.apply(this,arguments);};g && (p.prototype=g);p.prototype.constructor=p;p.extend=t;p.bind=n;p.mixin=F;return p;}ra={};Y={actions:!0};Va=function(){};Function.prototype.base=Va;la.Class={create:L,mixin:p,extend:function(g,p){var n;n=L();n.prototype=new g();return n.extend(p);}};la.mixin=function(){la.log && la.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");p.apply(null,arguments);};})();(function(){function g(g){return g == Pa?1:g + 1;}function p(p){if(0 === Object.keys(p._waiters).length)return 0;for(var n=g(p._nextWaiter);!p._waiters[n];){n=g(n);}return n;}gc=la.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var n;if(this._waiters[g]){n=this._waiters[g];delete this._waiters[g];g == this._nextWaiter && (this._nextWaiter=p(this));n.call(this,da);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(n,F){var L,X;L=this;X=g(this._lastWaiter);this._lastWaiter=X;t(F,function(){var g,Y;if(0 < this._queue.length){g=this._queue.shift();setTimeout(function(){F.result(g);},0);}else {-1 != n && (Y=setTimeout(function(){delete L._waiters[X];X == L._nextWaiter && (L._nextWaiter=p(L));F.timeout();},n));this._waiters[X]=function(g){clearTimeout(Y);setTimeout(function(){F.result(g);},0);};this._nextWaiter || (this._nextWaiter=X);}},L);return X;},add:function(g){var n;if(this._nextWaiter){n=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=p(this);n.call(this,g);}else this._queue.push(g);}});})();(function(){var g;g=0 - Pa;Gd=la.Class.create({nextBoolean:function(){var g;g=new Uint8Array(1);Eb.getRandomValues(g);return g[0] & 1?!0:!1;},nextInt:function(g){var p;if(null !== g && g !== da){if("number" !== typeof g)throw new TypeError("n must be of type number");if(1 > g)throw new RangeError("n must be greater than zero");--g;p=new Uint8Array(4);Eb.getRandomValues(p);return Math.floor(((p[3] & 127) << 24 | p[2] << 16 | p[1] << 8 | p[0]) / 2147483648 * (g - 0 + 1) + 0);}g=new Uint8Array(4);Eb.getRandomValues(g);p=(g[3] & 127) << 24 | g[2] << 16 | g[1] << 8 | g[0];return g[3] & 128?-p:p;},nextLong:function(){var n,p;for(var p=g;p == g;){p=new Uint8Array(7);Eb.getRandomValues(p);n=16777216 * ((p[6] & 31) << 24 | p[5] << 16 | p[4] << 8 | p[3]) + (p[2] << 16 | p[1] << 8 | p[0]);p=p[6] & 128?-n - 1:n;}return p;},nextBytes:function(g){Eb.getRandomValues(g);}});})();(function(){function g(g){return g == Pa?1:g + 1;}function p(p){if(0 === Object.keys(p._waitingReaders).length)return 0;for(var n=g(p._nextReader);!p._waitingReaders[n];){n=g(n);}return n;}function n(p){if(0 === Object.keys(p._waitingWriters).length)return 0;for(var n=g(p._nextWriter);!p._waitingWriters[n];){n=g(n);}return n;}Uc=la.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var t;if(this._waitingReaders[g]){t=this._waitingReaders[g];delete this._waitingReaders[g];g == this._nextReader && (this._nextReader=p(this));t.call(this,!0);}this._waitingWriters[g] && (t=this._waitingWriters[g],delete this._waitingWriters[g],g == this._nextWriter && (this._nextWriter=n(this)),t.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(n,F){var L,ra;L=this;ra=g(this._lastNumber);this._lastNumber=ra;t(F,function(){var g;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[ra]=!0,ra);-1 != n && (g=setTimeout(function(){delete L._waitingReaders[ra];ra == L._nextReader && (L._nextReader=p(L));F.timeout();},n));this._waitingReaders[ra]=function(p){clearTimeout(g);p?setTimeout(function(){F.result(da);},0):(L._readers[ra]=!0,setTimeout(function(){F.result(ra);},0));};this._nextReader || (this._nextReader=ra);},L);return ra;},writeLock:function(p,F){var L,ra;L=this;ra=g(this._lastNumber);this._lastNumber=ra;t(F,function(){var g;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=ra;-1 != p && (g=setTimeout(function(){delete L._waitingWriters[ra];ra == L._nextWriter && (L._nextWriter=n(L));F.timeout();},p));this._waitingWriters[ra]=function(p){clearTimeout(g);p?setTimeout(function(){F.result(da);},0):(L._writer=ra,setTimeout(function(){F.result(ra);},0));};this._nextWriter || (this._nextWriter=ra);},L);return ra;},unlock:function(p){if(p == this._writer)this._writer=null;else {if(!this._readers[p])throw new X("There is no reader or writer with ticket number " + p + ".");delete this._readers[p];}if(this._nextWriter)0 < Object.keys(this._readers).length || (p=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=n(this),p.call(this,!1));else {for(var t=this._nextReader;0 < Object.keys(this._waitingReaders).length;t=g(t)){this._waitingReaders[t] && (p=this._waitingReaders[t],delete this._waitingReaders[t],p.call(this,!1));}this._nextReader=0;}}});})();la.Class.mixin(g,{JSON_PARSE_ERROR:new g(0,n.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new g(1,n.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new g(2,n.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new g(3,n.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new g(4,n.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new g(5,n.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new g(6,n.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new g(7,n.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new g(8,n.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new g(9,n.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new g(10,n.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new g(11,n.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new g(12,n.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new g(13,n.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new g(14,n.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new g(15,n.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new g(16,n.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new g(17,n.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new g(18,n.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new g(19,n.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new g(20,n.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new g(21,n.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new g(22,n.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new g(23,n.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new g(24,n.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new g(25,n.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new g(26,n.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new g(27,n.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new g(28,n.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new g(29,n.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new g(30,n.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new g(31,n.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new g(32,n.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new g(33,n.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new g(34,n.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new g(35,n.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new g(36,n.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new g(37,n.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new g(38,n.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new g(39,n.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new g(40,n.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new g(41,n.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new g(42,n.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new g(43,n.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new g(44,n.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new g(45,n.FAIL,"Error exporting key."),DIGEST_ERROR:new g(46,n.FAIL,"Error in digest."),UNSUPPORTED_KEY:new g(47,n.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new g(48,n.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new g(49,n.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new g(50,n.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new g(51,n.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new g(52,n.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new g(53,n.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new g(54,n.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new g(55,n.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new g(56,n.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new g(57,n.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new g(58,n.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new g(59,n.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new g(60,n.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new g(61,n.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new g(62,n.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new g(1E3,n.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new g(1001,n.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new g(1002,n.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new g(1003,n.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(1004,n.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(1005,n.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new g(1006,n.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new g(1007,n.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new g(1008,n.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new g(1009,n.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new g(1010,n.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new g(1011,n.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new g(1012,n.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new g(1013,n.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new g(1014,n.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new g(2E3,n.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new g(2001,n.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new g(2002,n.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new g(2003,n.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new g(2004,n.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new g(2005,n.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2006,n.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2007,n.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new g(2008,n.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new g(2009,n.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new g(2010,n.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new g(2011,n.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new g(2012,n.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new g(2013,n.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new g(2014,n.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new g(2015,n.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new g(2016,n.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new g(2017,n.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new g(2018,n.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new g(2019,n.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new g(2020,n.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new g(3E3,n.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new g(3001,n.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new g(3002,n.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new g(3003,n.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new g(3004,n.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3005,n.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3006,n.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new g(3007,n.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new g(3008,n.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new g(3009,n.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new g(4E3,n.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new g(4001,n.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new g(4002,n.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new g(4003,n.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new g(4004,n.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new g(4005,n.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new g(4006,n.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new g(4007,n.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new g(4008,n.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new g(4009,n.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new g(4010,n.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new g(4011,n.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new g(4012,n.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new g(4013,n.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new g(4014,n.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new g(4015,n.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new g(4016,n.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new g(4017,n.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new g(4018,n.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new g(4019,n.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new g(4020,n.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new g(4021,n.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new g(4022,n.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new g(4023,n.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new g(4024,n.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new g(4025,n.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new g(4026,n.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new g(5E3,n.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new g(5001,n.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new g(5002,n.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new g(5003,n.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new g(5004,n.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new g(5005,n.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new g(5006,n.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new g(5007,n.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new g(5008,n.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new g(5009,n.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new g(5010,n.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new g(5011,n.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new g(5012,n.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new g(5013,n.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new g(5014,n.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new g(5015,n.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new g(5016,n.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new g(5017,n.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new g(5018,n.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new g(5019,n.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new g(5020,n.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new g(5021,n.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new g(5022,n.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new g(5023,n.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new g(5024,n.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new g(5025,n.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new g(5026,n.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new g(5027,n.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new g(5028,n.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new g(5029,n.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new g(5030,n.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new g(5031,n.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new g(5032,n.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new g(5033,n.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new g(5034,n.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new g(5035,n.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new g(5036,n.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new g(5037,n.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new g(5038,n.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new g(5039,n.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new g(5040,n.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new g(6E3,n.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new g(6001,n.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new g(6002,n.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new g(6003,n.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new g(6004,n.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new g(6005,n.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new g(6006,n.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new g(6007,n.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new g(6008,n.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new g(6009,n.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new g(6010,n.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new g(6011,n.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new g(6012,n.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new g(6013,n.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new g(6014,n.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new g(6015,n.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new g(6016,n.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new g(6017,n.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new g(6018,n.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(6019,n.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new g(6020,n.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new g(6021,n.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new g(6022,n.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new g(6023,n.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new g(6024,n.FAIL,"Invalid header data."),PAYLOAD_INVALID:new g(6025,n.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new g(6026,n.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new g(6027,n.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new g(6028,n.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new g(6029,n.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new g(6030,n.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new g(6031,n.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new g(6032,n.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new g(6033,n.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new g(6034,n.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new g(6035,n.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new g(6036,n.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new g(6037,n.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new g(7E3,n.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new g(7001,n.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new g(7002,n.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new g(7003,n.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new g(7004,n.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new g(7005,n.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new g(7006,n.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new g(7007,n.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new g(7008,n.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new g(7009,n.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new g(7010,n.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new g(7011,n.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new g(7012,n.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new g(7013,n.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new g(7014,n.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new g(7015,n.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new g(7016,n.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new g(8E3,n.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new g(8001,n.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new g(8002,n.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new g(8003,n.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new g(8004,n.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new g(8005,n.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new g(8006,n.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new g(8007,n.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new g(8008,n.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new g(8009,n.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new g(8010,n.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new g(8011,n.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new g(8012,n.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new g(9E3,n.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new g(9001,n.FAIL,"Error communicating with MSL entity."),NONE:new g(9999,n.FAIL,"Special unit test error.")});Object.freeze(g);(function(){F=la.Class.create(Error());F.mixin({init:function(g,p,n){var L,X,ra;function t(){return X?X:this.cause && this.cause instanceof F?this.cause.messageId:da;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);L=g.message;p && (L+=" [" + p + "]");ra=this.stack;Object.defineProperties(this,{message:{value:L,writable:!1,configurable:!0},error:{value:g,writable:!1,configurable:!0},cause:{value:n,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:t,set:function(g){if(0 > g || g > Pa)throw new RangeError("Message ID " + g + " is outside the valid range.");t() || (X=g);},configurable:!0},stack:{get:function(){var g;g=this.toString();ra && (g+="\n" + ra);n && n.stack && (g+="\nCaused by " + n.stack);return g;},configurable:!0}});},setEntity:function(g){!g || this.masterToken || this.entityAuthenticationData || (g instanceof hb?this.masterToken=g:g instanceof Qb && (this.entityAuthenticationData=g));return this;},setUser:function(g){!g || this.userIdToken || this.userAuthenticationData || (g instanceof $b?this.userIdToken=g:g instanceof Gb && (this.userAuthenticationData=g));return this;},setMessageId:function(g){this.messageId=g;return this;},toString:function(){return this.name + ": " + this.message;}});})();L=F.extend({init:function Db(g,p,n){Db.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ga=F.extend({init:function ob(g,p,n){ob.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});wb=F.extend({init:function Ma(g,p,n){Ma.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){jb=la.Class.create(Error());jb.mixin({init:function(g,p,n){var t;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);t=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:p,writable:!1,configurable:!1},requestCause:{value:n,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();t && (g+="\n" + t);p && p.stack && (g+="\nCaused by " + p.stack);return g;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){$a=la.Class.create(Error());$a.mixin({init:function(g,p){var n;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);n=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:p,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();n && (g+="\n" + n);p && p.stack && (g+="\nCaused by " + p.stack);return g;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){X=la.Class.create(Error());X.mixin({init:function(g,p){var n;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);n=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:p,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();n && (g+="\n" + n);p && p.stack && (g+="\nCaused by " + p.stack);return g;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){cb=la.Class.create(Error());cb.mixin({init:function(g,p){var n;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);n=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:p,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();n && (g+="\n" + n);p && p.stack && (g+="\nCaused by " + p.stack);return g;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Ra=F.extend({init:function ub(g,p,n){ub.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Rb=F.extend({init:function Oc(g,p){Oc.base.call(this,g);Object.defineProperties(this,{masterToken:{value:p,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Fa=F.extend({init:function ra(g,p,n){ra.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Da=F.extend({init:function Y(g,p,n){Y.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var M;function g(g){return "undefined" === typeof g?!1:g;}function p(g){return g && g.length?(eb === M.V2014_02 && (g=g.map(function(g){return "wrap" == g?"wrapKey":"unwrap" == g?"unwrapKey":g;})),g):eb === M.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function n(g,w,z,p,n){return Promise.resolve().then(function(){return Sa.importKey(g,w,z,p,n);})["catch"](function(x){var H;if("spki" !== g && "pkcs8" !== g)throw x;x=ASN1.webCryptoAlgorithmToJwkAlg(z);H=ASN1.webCryptoUsageToJwkKeyOps(n);x=ASN1.rsaDerToJwk(w,x,H,p);if(!x)throw Error("Could not make valid JWK from DER input");x=JSON.stringify(x);return Sa.importKey("jwk",Nc(x),z,p,n);});}function t(g,w){return Promise.resolve().then(function(){return Sa.exportKey(g,w);})["catch"](function(p){if("spki" !== g && "pkcs8" !== g)throw p;return Sa.exportKey("jwk",w).then(function(g){g=JSON.parse(Mc(new Uint8Array(g)));g=ASN1.jwkToRsaDer(g);if(!g)throw Error("Could not make valid DER from JWK input");return g.getDer().buffer;});});}M=uc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(uc);eb=M.LATEST;Ga={encrypt:function(g,w,p){switch(eb){case M.LEGACY:return new Promise(function(z,n){var x;x=Sa.encrypt(g,w,p);x.oncomplete=function(g){z(g.target.result);};x.onerror=function(g){n(g);};});case M.V2014_01:case M.V2014_02:return Sa.encrypt(g,w,p).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(g,w,p){switch(eb){case M.LEGACY:return new Promise(function(z,n){var x;x=Sa.decrypt(g,w,p);x.oncomplete=function(g){z(g.target.result);};x.onerror=function(g){n(g);};});case M.V2014_01:case M.V2014_02:return Sa.decrypt(g,w,p).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(g,w,p){switch(eb){case M.LEGACY:return new Promise(function(z,n){var x;x=Sa.sign(g,w,p);x.oncomplete=function(g){z(g.target.result);};x.onerror=function(g){n(g);};});case M.V2014_01:case M.V2014_02:return Sa.sign(g,w,p).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(g,w,p,n){switch(eb){case M.LEGACY:return new Promise(function(z,x){var H;H=Sa.verify(g,w,p,n);H.oncomplete=function(g){z(g.target.result);};H.onerror=function(g){x(g);};});case M.V2014_01:case M.V2014_02:return Sa.verify(g,w,p,n);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(g,w){switch(eb){case M.LEGACY:return new Promise(function(p,n){var z;z=Sa.digest(g,w);z.oncomplete=function(g){p(g.target.result);};z.onerror=function(g){n(g);};});case M.V2014_01:case M.V2014_02:return Sa.digest(g,w).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(n,w,z){var G,K;G=g(w);K=p(z);switch(eb){case M.LEGACY:return new Promise(function(g,w){var x;x=Sa.generateKey(n,G,K);x.oncomplete=function(x){g(x.target.result);};x.onerror=function(g){w(g);};});case M.V2014_01:case M.V2014_02:return Sa.generateKey(n,G,K);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(n,w,z,C,K){var x,H;x=g(C);H=p(K);switch(eb){case M.LEGACY:return new Promise(function(g,p){var K;K=Sa.deriveKey(n,w,z,x,H);K.oncomplete=function(x){g(x.target.result);};K.onerror=function(g){p(g);};});case M.V2014_01:case M.V2014_02:return Sa.deriveKey(n,w,z,x,H);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(G,w,z,C,K){var x,H;x=g(C);H=p(K);switch(eb){case M.LEGACY:return new Promise(function(g,p){var n;n=Sa.importKey(G,w,z,x,H);n.oncomplete=function(x){g(x.target.result);};n.onerror=function(g){p(g);};});case M.V2014_01:case M.V2014_02:return n(G,w,z,x,H);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(g,w){switch(eb){case M.LEGACY:return new Promise(function(p,n){var z;z=Sa.exportKey(g,w);z.oncomplete=function(g){p(g.target.result);};z.onerror=function(g){n(g);};});case M.V2014_01:case M.V2014_02:return t(g,w).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(g,w,p,n){switch(eb){case M.LEGACY:return new Promise(function(g,x){var H;H=Sa.wrapKey(w,p,n);H.oncomplete=function(x){g(x.target.result);};H.onerror=function(g){x(g);};});case M.V2014_01:case M.V2014_02:return Sa.wrapKey(g,w,p,n).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(n,w,z,C,K,x,H){switch(eb){case M.LEGACY:return new Promise(function(g,x){var p;p=Sa.unwrapKey(w,K,z);p.oncomplete=function(x){g(x.target.result);};p.onerror=function(g){x(g);};});case M.V2014_01:case M.V2014_02:return Sa.unwrapKey(n,w,z,C,K,g(x),p(H));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};sc && sc.getKeyByName && (Ga.getKeyByName=function(g){switch(eb){case M.LEGACY:return new Promise(function(w,p){var z;z=sc.getKeyByName(g);z.oncomplete=function(g){w(g.target.result);};z.onerror=function(g){p(g);};});case M.V2014_01:case M.V2014_02:return sc.getKeyByName(g);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});ka.netflix=ka.netflix || ({});ka.netflix.crypto=Ga;})();xb={name:"AES-KW"};pb={name:"AES-CBC"};qb={name:"HMAC",hash:{name:"SHA-256"}};vc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Vc={name:"RSAES-PKCS1-v1_5"};Hd={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Hb=["encrypt","decrypt"];Ib=["wrap","unwrap"];Sb=["sign","verify"];(function(){Wc=la.Class.create({init:function(n,t,F){var M;function Y(g){p(t,function(){var w;w=g?oa(g):da;Object.defineProperties(M,{rawKey:{value:n,writable:!1,configurable:!1},keyData:{value:g,writable:!1,configurable:!1},keyDataB64:{value:w,writable:!1,configurable:!1}});return this;},M);}M=this;p(t,function(){if(!n || "object" != typeof n)throw new L(g.INVALID_SYMMETRIC_KEY);!F && n.extractable?Ga.exportKey("raw",n).then(function(g){Y(new Uint8Array(g));},function(p){t.error(new L(g.KEY_EXPORT_ERROR,"raw"));}):Y(F);},M);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Yb=function(g,p){new Wc(g,p);};yb=function(n,t,F,Ea){p(Ea,function(){try{n="string" == typeof n?ya(n):n;}catch(M){throw new L(g.INVALID_SYMMETRIC_KEY,"keydata " + n,M);}Ga.importKey("raw",n,t,!0,F).then(function(g){new Wc(g,Ea,n);},function(p){Ea.error(new L(g.INVALID_SYMMETRIC_KEY));});});};})();(function(){wc=la.Class.create({init:function(n,t,F){var M;function Y(g){p(t,function(){Object.defineProperties(M,{rawKey:{value:n,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},M);}M=this;p(t,function(){if(!n || "object" != typeof n || "public" != n.type)throw new TypeError("Only original public crypto keys are supported.");!F && n.extractable?Ga.exportKey("spki",n).then(function(g){Y(new Uint8Array(g));},function(p){t.error(new L(g.KEY_EXPORT_ERROR,"spki"));}):Y(F);});},getEncoded:function(){return this.encoded;}});Ob=function(g,p){new wc(g,p);};Xc=function(n,t,F,Ea){p(Ea,function(){try{n="string" == typeof n?ya(n):n;}catch(M){throw new L(g.INVALID_PUBLIC_KEY,"spki " + n,M);}Ga.importKey("spki",n,t,!0,F).then(function(g){new wc(g,Ea,n);},function(p){Ea.error(new L(g.INVALID_PUBLIC_KEY));});});};})();(function(){Id=la.Class.create({init:function(n,t,F){var M;function Y(g){p(t,function(){Object.defineProperties(M,{rawKey:{value:n,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},M);}M=this;p(t,function(){if(!n || "object" != typeof n || "private" != n.type)throw new TypeError("Only original private crypto keys are supported.");!F && n.extractable?Ga.exportKey("pkcs8",n).then(function(g){Y(new Uint8Array(g));},function(p){t.error(new L(g.KEY_EXPORT_ERROR,"pkcs8"));}):Y(F);});},getEncoded:function(){return this.encoded;}});Zb=function(g,p){new Id(g,p);};})();(function(){var n;n=ad={V1:1,V2:2};Yc=la.Class.create({init:function(g,t,F,M){p(M,function(){var p,w,z,C;p=n.V1;w=g;z=null;for(C in tc){if(tc[C] == g){p=n.V2;w=null;z=g;break;}}Object.defineProperties(this,{version:{value:p,writable:!1,enumerable:!1,configurable:!1},keyId:{value:w,writable:!1,configurable:!1},cipherSpec:{value:z,writable:!1,configurable:!1},iv:{value:t,writable:!1,configurable:!1},ciphertext:{value:F,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var g;g={};switch(this.version){case n.V1:g.keyid=this.keyId;this.iv && (g.iv=oa(this.iv));g.ciphertext=oa(this.ciphertext);g.sha256="AA==";break;case n.V2:g.version=this.version;g.cipherspec=this.cipherSpec;this.iv && (g.iv=oa(this.iv));g.ciphertext=oa(this.ciphertext);break;default:throw new X("Ciphertext envelope version " + this.version + " encoding unsupported.");}return g;}});Zc=function(g,p,n,M){new Yc(g,p,n,M);};$c=function(t,F,Y){p(Y,function(){var p,G,w,z,C,K,x;p=t.keyid;G=t.cipherspec;w=t.iv;z=t.ciphertext;C=t.sha256;if(!F)if((F=t.version) && "number" === typeof F && F === F){K=!1;for(x in n){if(n[x] == F){K=!0;break;}}if(!K)throw new L(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(t));}else F=n.V1;switch(F){case n.V1:if("string" !== typeof p || w && "string" !== typeof w || "string" !== typeof z || "string" !== typeof C)throw new ga(g.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(t));break;case n.V2:x=t.version;if(x != n.V2)throw new L(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(t));if("string" !== typeof G || w && "string" !== typeof w || "string" !== typeof z)throw new ga(g.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(t));G=Ed(G);if(!G)throw new L(g.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(t));p=G;break;default:throw new L(g.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(t));}try{w && (w=ya(w));z=ya(z);}catch(H){throw new L(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(t),H);}new Yc(p,w,z,Y);});};})();(function(){var n;n=dd={V1:1,V2:2};zb=la.Class.create({init:function(g,p,t){var M;switch(g){case n.V1:M=t;break;case n.V2:M={};M.version=g;M.algorithm=p;M.signature=oa(t);M=Xa(JSON.stringify(M),Oa);break;default:throw new X("Signature envelope version " + g + " encoding unsupported.");}Object.defineProperties(this,{version:{value:g,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:p,writable:!1,configurable:!1},signature:{value:t,writable:!1,configurable:!1},bytes:{value:M,writable:!1,configurable:!1}});}});bd=function(){var g,t,F,M;2 == arguments.length?(g=n.V1,t=arguments[0],F=null,M=arguments[1]):3 == arguments.length && (g=n.V2,F=arguments[0],t=arguments[1],M=arguments[2]);p(M,function(){return new zb(g,F,t);});};cd=function(t,F,Y){p(Y,function(){var p,G,w,z,C,K,x;if(F)switch(F){case n.V1:return new zb(n.V1,null,t);case n.V2:try{p=Ya(t,Oa);G=JSON.parse(p);w=parseInt(G.version);z=G.algorithm;C=G.signature;if(!w || "number" !== typeof w || w != w || "string" !== typeof z || "string" !== typeof C)throw new ga(g.JSON_PARSE_ERROR,"signature envelope " + oa(t));if(n.V2 != w)throw new L(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + oa(t));K=Tc(z);if(!K)throw new L(g.UNIDENTIFIED_ALGORITHM,"signature envelope " + oa(t));x=ya(C);if(!x)throw new L(g.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(t));return new zb(n.V2,K,x);}catch(H){if(H instanceof SyntaxError)throw new ga(g.JSON_PARSE_ERROR,"signature envelope " + oa(t),H);throw H;}default:throw new L(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + oa(t));}try{p=Ya(t,Oa);G=JSON.parse(p);}catch(H){G=null;}if(G && G.version){if((p=G.version,"number" !== typeof p || p !== p))p=n.V1;}else p=n.V1;switch(p){case n.V1:return new zb(p,null,t);case n.V2:K=G.algorithm;C=G.signature;if("string" !== typeof K || "string" !== typeof C)return new zb(n.V1,null,t);K=Tc(K);if(!K)return new zb(n.V1,null,t);try{x=ya(C);}catch(H){return new zb(n.V1,null,t);}return new zb(p,K,x);default:throw new L(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + t);}});};})();ac=la.Class.create({encrypt:function(g,p){},decrypt:function(g,p){},wrap:function(g,p){},unwrap:function(g,p,n,t){},sign:function(g,p){},verify:function(g,p,n){}});(function(){var n;n=Bb={RSA_OAEP:vc.name,A128KW:xb.name};tb="A128GCM";Ab=la.Class.create({init:function(g,p,t,M,G){switch(p){case n.RSA_OAEP:G=G && (G.rawKey || G);M=M && (M.rawKey || M);break;case n.A128KW:G=M=M && (M.rawKey || M);break;default:throw new X("Unsupported algorithm: " + p);}Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_algo:{value:p,writable:!1,enumerable:!1,configurable:!1},_enc:{value:t,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:G,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:M,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(p,n){n.error(new L(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(p,n){n.error(new L(g.DECRYPT_NOT_SUPPORTED));},wrap:function(n,t){p(t,function(){Ga.wrapKey("jwe+jwk",n.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(g){t.result(g);},function(p){t.error(new L(g.WRAP_ERROR));});},this);},unwrap:function(n,t,F,M){function G(w){p(M,function(){switch(w.type){case "secret":Yb(w,M);break;case "public":Ob(w,M);break;case "private":Zb(w,M);break;default:throw new L(g.UNSUPPORTED_KEY,"type: " + w.type);}});}p(M,function(){Ga.unwrapKey("jwe+jwk",n,this._unwrapKey,this._unwrapKey.algorithm,t,!1,F).then(function(g){G(g);},function(){M.error(new L(g.UNWRAP_ERROR));});},this);},sign:function(p,n){n.error(new L(g.SIGN_NOT_SUPPORTED));},verify:function(p,n,t){t.error(new L(g.VERIFY_NOT_SUPPORTED));}});})();bc=ac.extend({encrypt:function(g,p){p.result(g);},decrypt:function(g,p){p.result(g);},wrap:function(g,p){p.result(g);},unwrap:function(g,p,n,t){t.result(g);},sign:function(g,p){p.result(new Uint8Array(0));},verify:function(g,p,n){n.result(!0);}});(function(){var n;n=yc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};xc=ac.extend({init:function Ia(g,p,G,w,z){Ia.base.call(this);G && (G=G.rawKey);w && (w=w.rawKey);Object.defineProperties(this,{id:{value:p,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:G,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:w,writable:!1,enumerable:!1,configurable:!1},transform:{value:z == n.ENCRYPT_DECRYPT_PKCS1?Vc:z == n.ENCRYPT_DECRYPT_OAEP?vc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:z == n.WRAP_UNWRAP_PKCS1?Vc:z == n.WRAP_UNWRAP_OAEP?vc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:z == n.SIGN_VERIFY?Hd:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,t){var M;M=this;p(t,function(){if("nullOp" == this.transform)return n;if(!this.publicKey)throw new L(g.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == n.length)return n;Ga.encrypt(M.transform,M.publicKey,n).then(function(p){Zc(M.id,null,p,{result:function(p){var w;try{w=JSON.stringify(p);t.result(Xa(w,Oa));}catch(C){t.error(new L(g.ENCRYPT_ERROR,null,C));}},error:function(p){p instanceof F || (p=new L(g.ENCRYPT_ERROR,null,p));t.error(p);}});},function(p){t.error(new L(g.ENCRYPT_ERROR));});},this);},decrypt:function(n,t){var M;M=this;p(t,function(){var p,w;if("nullOp" == this.transform)return n;if(!this.privateKey)throw new L(g.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == n.length)return n;try{w=Ya(n,Oa);p=JSON.parse(w);}catch(z){if(z instanceof SyntaxError)throw new L(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,z);throw new L(g.DECRYPT_ERROR,null,z);}$c(p,ad.V1,{result:function(p){var n;try{if(p.keyId != M.id)throw new L(g.ENVELOPE_KEY_ID_MISMATCH);n=t.result;Ga.decrypt(M.transform,M.privateKey,p.ciphertext).then(n,function(p){t.error(new L(g.DECRYPT_ERROR));});}catch(K){K instanceof F?t.error(K):t.error(new L(g.DECRYPT_ERROR,null,K));}},error:function(p){p instanceof ga && (p=new L(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,p));p instanceof F || (p=new L(g.DECRYPT_ERROR,null,p));t.error(p);}});},this);},wrap:function(n,t){p(t,function(){var p;if("nullOp" == this.wrapTransform || !this.publicKey)throw new L(g.WRAP_NOT_SUPPORTED,"no public key");p=t.result;Ga.wrapKey("jwk",n.rawKey,this.publicKey,this.wrapTransform).then(p,function(p){t.error(new L(g.WRAP_ERROR));});},this);},unwrap:function(n,t,M,G){function w(n){p(G,function(){switch(n.type){case "secret":Yb(n,G);break;case "public":Ob(n,G);break;case "private":Zb(n,G);break;default:throw new L(g.UNSUPPORTED_KEY,"type: " + n.type);}});}p(G,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new L(g.UNWRAP_NOT_SUPPORTED,"no private key");Ga.unwrapKey("jwk",n,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},t,!1,M).then(w,function(p){G.error(new L(g.UNWRAP_ERROR));});},this);},sign:function(n,t){p(t,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new L(g.SIGN_NOT_SUPPORTED,"no private key");Ga.sign(this.algo,this.privateKey,n).then(function(g){bd(g,{result:function(g){t.result(g.bytes);},error:t.error});},function(p){t.error(new L(g.SIGNATURE_ERROR));});},this);},verify:function(n,t,M){var G;G=this;p(M,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new L(g.VERIFY_NOT_SUPPORTED,"no public key");cd(t,dd.V1,{result:function(w){p(M,function(){var p;p=M.result;Ga.verify(this.algo,this.publicKey,w.signature,n).then(p,function(p){M.error(new L(g.SIGNATURE_ERROR));});},G);},error:M.error});},this);}});})();(function(){zc=ac.extend({init:function Va(g,p,n,G,w){Va.base.call(this);n=n && n.rawKey;G=G && G.rawKey;w=w && w.rawKey;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},id:{value:p,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:n,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:G,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:w,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,t){var X;X=this;p(t,function(){var p;if(!this.encryptionKey)throw new L(g.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == n.length)return n;p=new Uint8Array(16);this.ctx.getRandom().nextBytes(p);Ga.encrypt({name:pb.name,iv:p},X.encryptionKey,n).then(function(n){n=new Uint8Array(n);Zc(X.id,p,n,{result:function(p){var n;try{n=JSON.stringify(p);t.result(Xa(n,Oa));}catch(C){t.error(new L(g.ENCRYPT_ERROR,null,C));}},error:function(p){p instanceof F || (p=new L(g.ENCRYPT_ERROR,null,p));t.error(p);}});},function(p){t.error(new L(g.ENCRYPT_ERROR));});},this);},decrypt:function(n,t){var X;X=this;p(t,function(){var p,G;if(!this.encryptionKey)throw new L(g.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == n.length)return n;try{G=Ya(n,Oa);p=JSON.parse(G);}catch(w){if(w instanceof SyntaxError)throw new L(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,w);throw new L(g.DECRYPT_ERROR,null,w);}$c(p,ad.V1,{result:function(p){try{if(p.keyId != X.id)throw new L(g.ENVELOPE_KEY_ID_MISMATCH);Ga.decrypt({name:pb.name,iv:p.iv},X.encryptionKey,p.ciphertext).then(function(g){g=new Uint8Array(g);t.result(g);},function(){t.error(new L(g.DECRYPT_ERROR));});}catch(z){z instanceof F?t.error(z):t.error(new L(g.DECRYPT_ERROR,null,z));}},error:function(p){p instanceof ga && (p=new L(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,p));p instanceof F || (p=new L(g.DECRYPT_ERROR,null,p));t.error(p);}});},this);},wrap:function(n,t){p(t,function(){if(!this.wrapKey)throw new L(g.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ga.wrapKey("raw",n.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(g){t.result(g);},function(p){t.error(new L(g.WRAP_ERROR));});},this);},unwrap:function(n,t,F,M){function G(n){p(M,function(){switch(n.type){case "secret":Yb(n,M);break;case "public":Ob(n,M);break;case "private":Zb(n,M);break;default:throw new L(g.UNSUPPORTED_KEY,"type: " + n.type);}});}p(M,function(){if(!this.wrapKey)throw new L(g.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ga.unwrapKey("raw",n,this.wrapKey,this.wrapKey.algorithm,t,!1,F).then(function(g){G(g);},function(p){M.error(new L(g.UNWRAP_ERROR));});},this);},sign:function(n,t){var F;F=this;p(t,function(){if(!this.hmacKey)throw new L(g.SIGN_NOT_SUPPORTED,"no HMAC key.");Ga.sign(qb,this.hmacKey,n).then(function(g){p(t,function(){var p;p=new Uint8Array(g);bd(p,{result:function(g){t.result(g.bytes);},error:t.error});},F);},function(){t.error(new L(g.HMAC_ERROR));});},this);},verify:function(n,t,F){var M;M=this;p(F,function(){if(!this.hmacKey)throw new L(g.VERIFY_NOT_SUPPORTED,"no HMAC key.");cd(t,dd.V1,{result:function(G){p(F,function(){Ga.verify(qb,this.hmacKey,G.signature,n).then(function(g){F.result(g);},function(p){F.error(new L(g.HMAC_ERROR));});},M);},error:F.error});},this);}});})();ib=zc.extend({init:function Va(p,n,t,G,w){if(t || G || w)Va.base.call(this,p,t + "_" + n.sequenceNumber,G,w,null);else {if(!n.isDecrypted())throw new Rb(g.MASTERTOKEN_UNTRUSTED,n);Va.base.call(this,p,n.identity + "_" + n.sequenceNumber,n.encryptionKey,n.hmacKey,null);}}});Le=ac.extend({encrypt:function(g,p){p.result(g);},decrypt:function(g,p){p.result(g);},wrap:function(g,p){p.error(new X("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(g,p,n,t){t.error(new X("Unwrap is unsupported by the MSL token crypto context."));},sign:function(g,p){p.result(new Uint8Array(0));},verify:function(g,p,n){n.result(!1);}});Qa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Qa);(function(){Qb=la.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(g){return this === g?!0:g instanceof Qb?this.scheme == g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});Jd=function(p,n){var t,M,G;t=n.scheme;M=n.authdata;if(!t || !M)throw new ga(g.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(n));if(!Qa[t])throw new wb(g.UNIDENTIFIED_ENTITYAUTH_SCHEME,t);G=p.getEntityAuthenticationFactory(t);if(!G)throw new wb(g.ENTITYAUTH_FACTORY_NOT_FOUND,t);return G.createData(p,M);};})();Ac=la.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,p){},getCryptoContext:function(g,p){}});(function(){mb=Qb.extend({init:function Ia(g){Ia.base.call(this,Qa.MGK);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function Ea(g){return this === g?!0:g instanceof mb?Ea.base.call(this,this,g) && this.identity == g.identity:!1;}});Kd=function(p){var n;n=p.identity;if(!n)throw new ga(g.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(p));return new mb(n);};})();Me=Ac.extend({init:function Ia(g){Ia.base.call(this,Qa.MGK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,p){return Kd(p);},getCryptoContext:function(p,n){if(!(n instanceof mb))throw new X("Incorrect authentication data type " + JSON.stringify(n) + ".");if(n.identity != this.localIdentity)throw new wb(g.ENTITY_NOT_FOUND,"mgk " + n.identity).setEntity(n);return new bc();}});(function(){rb=Qb.extend({init:function Ea(g){Ea.base.call(this,Qa.PSK);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function M(g){return this === g?!0:g instanceof rb?M.base.call(this,this,g) && this.identity == g.identity:!1;}});Ld=function(p){var n;n=p.identity;if(!n)throw new ga(g.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(p));return new rb(n);};})();Md=Ac.extend({init:function Ea(g){Ea.base.call(this,Qa.PSK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,p){return Ld(p);},getCryptoContext:function(p,n){if(!(n instanceof rb))throw new X("Incorrect authentication data type " + JSON.stringify(n) + ".");if(n.getIdentity() != this.localIdentity)throw new wb(g.ENTITY_NOT_FOUND,"psk " + n.identity).setEntity(n);return new bc();}});(function(){Bc=Qb.extend({init:function M(g,p){M.base.call(this,Qa.RSA);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1},publicKeyId:{value:p,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;g.pubkeyid=this.publicKeyId;return g;},equals:function G(g){return this === g?!0:g instanceof Bc?G.base.call(this,this,g) && this.identity == g.identity && this.publicKeyId == g.publicKeyId:!1;}});Nd=function(p){var n,z;n=p.identity;z=p.pubkeyid;if(!n || "string" !== typeof n || !z || "string" !== typeof z)throw new ga(g.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(p));return new Bc(n,z);};})();Ne=Ac.extend({init:function M(g){M.base.call(this,Qa.RSA);Object.defineProperties(this,{store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,p){return Nd(p);},getCryptoContext:function(p,n){var w,z,C;if(!(n instanceof Bc))throw new X("Incorrect authentication data type " + n + ".");w=n.identity;z=n.publicKeyId;C=this.store.getPublicKey(z);if(!C)throw new wb(g.RSA_PUBLICKEY_NOT_FOUND,z).setEntity(n);return new xc(p,w,null,C,yc.SIGN_VERIFY);}});(function(){fc=Qb.extend({init:function G(g){G.base.call(this,Qa.NONE);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function w(g){return this === g?!0:g instanceof fc?w.base.call(this,this,g) && this.identity == g.identity:!1;}});Od=function(p){var n;n=p.identity;if(!n)throw new ga(g.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(p));return new fc(n);};})();Ke=Ac.extend({init:function G(){G.base.call(this,Qa.NONE);},createData:function(g,p){return Od(p);},getCryptoContext:function(g,p){if(!(p instanceof fc))throw new X("Incorrect authentication data type " + JSON.stringify(p) + ".");return new bc();}});Oe=la.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(g,p){if(!(p instanceof wc))throw new X("Incorrect key data type " + p + ".");this.rsaKeys[g]=p;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(g){delete this.rsaKeys[g];},getPublicKey:function(g){return this.rsaKeys[g];}});ed=la.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,p,n){}});Cc=la.Class.create({abort:function(){},close:function(g,p){},write:function(g,p,n,C,K){},flush:function(g,p){}});Pe=la.Class.create({init:function(g){Object.defineProperties(this,{_data:{value:g,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new $a("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(g,p,n){t(n,function(){var p;if(this._closed)throw new $a("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == g && (g=this._data.length - this._currentPosition);p=this._data.subarray(this._currentPosition,this._currentPosition + g);this._currentPosition+=p.length;return p;},this);}});Qe=la.Class.create({init:function(){var g;g={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},abort:function(){},close:function(g,p){this._closed=!0;p.result(!0);},write:function(g,p,n,C,K){t(K,function(){var x;if(this._closed)throw new $a("Stream is already closed.");if(0 > p)throw new RangeError("Offset cannot be negative.");if(0 > n)throw new RangeError("Length cannot be negative.");if(p + n > g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");x=g.subarray(p,n);this._buffered.push(x);return x.length;},this);},flush:function(g,p){var n,w;for(;0 < this._buffered.length;){n=this._buffered.shift();if(this._result){w=new Uint8Array(this._result.length + n.length);w.set(this._result);w.set(n,this._result.length);this._result=w;}else this._result=new Uint8Array(n);}p.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Re=la.Class.create({getResponse:function(g,p,n){}});(function(){var g,p;g=Cc.extend({init:function(g,p){var n;n={_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:p,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Qe(),writable:!1,enumerable:!1,configurable:!1},_response:{value:da,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:da,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new gc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,n);},setTimeout:function(g){this._timeout=g;},getResponse:function(g,p){var n;n=this;this._responseQueue.poll(g,{result:function(g){t(p,function(){g && this._responseQueue.add(g);return g;},n);},timeout:function(){t(p,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();p.timeout();},n);},error:function(g){t(p,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw g;},n);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(g,p){var n;n=this;t(p,function(){var g;if(this._response)return !0;g=this._buffer.toByteArray();0 < g.length && (this._abortToken=this._httpLocation.getResponse({body:g},this._timeout,{result:function(g){n._response={response:g};n._responseQueue.add(n._response);},timeout:function(){n._response={isTimeout:!0};n._responseQueue.add(n._response);},error:function(g){n._response={isError:!0,error:g};n._responseQueue.add(n._response);}}));return !0;},this);},write:function(g,p,n,x,H){t(H,function(){if(this._response)throw new $a("HttpOutputStream already closed.");this._buffer.write(g,p,n,x,H);},this);},flush:function(g,p){t(p,function(){if(this._response)return !0;this._buffer.flush(g,p);},this);}});p=ed.extend({init:function(g){Object.defineProperties(this,{_out:{value:g,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:da,writable:!0,enumerable:!1,configurable:!1},_exception:{value:da,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:da,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(g,p,n){var H;function x(x){t(n,function(){if(!x)return new Uint8Array(0);this._out.getResponse(p,{result:function(x){t(n,function(){var w;if(x.isTimeout)(this._timedout=!0,n.timeout());else {if(x.isError)throw (this._exception=x.error || new $a("Unknown HTTP exception."),this._exception);if(!x.response)throw (this._exception=new $a("Missing HTTP response."),this._exception);x.response.json !== da && (this._json=x.response.json,this.getJSON=function(){return H._json;});w=x.response.content || Nc("string" === typeof x.response.body?x.response.body:JSON.stringify(this._json));this._buffer=new Pe(w);this._buffer.read(g,p,n);}},H);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});},H);}H=this;t(n,function(){if(this._exception)throw this._exception;if(this._timedout)n.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(g,p,n):this._out.close(p,{result:function(g){x(g);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});}},H);}});yd=la.Class.create({init:function(g,p){Object.defineProperties(this,{_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:p,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(g){this._timeout=g;},openConnection:function(){var n;n=new g(this._httpLocation,this._timeout);return {input:new p(n),output:n};}});})();(function(){var g,p;g=Cc.extend({init:function(){var g;g={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setTimeout:function(){},getResponse:function(g,p){p.result({success:!1,content:null,errorHttpCode:da,errorSubCode:da});},abort:function(){},close:function(g,p){p.result(!0);},write:function(g,p,n,x,H){var w,z;try{if(0 > p)throw new RangeError("Offset cannot be negative.");if(0 > n)throw new RangeError("Length cannot be negative.");if(p + n > g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=g.subarray(p,n);z=new Uint8Array(this._buffer.length + w.length);z.set(this._buffer);z.set(w,this._buffer.length);this._buffer=z;H.result(w.length);}catch(Ja){H.error(Ja);}},flush:function(g,p){p.result(!0);},request:function(){return this._buffer;}});p=ed.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,p,n){n.result(new Uint8Array(16));}});zd=la.Class.create({init:function(){var n;n={output:{value:new g(),writable:!1,enumerable:!1,configurable:!1},input:{value:new p(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,n);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Mc(this.output.request());}});})();Pd=function(g,p,n){function w(g){var p,n;g=new Se(Ya(g,"utf-8"));p=[];for(n=g.nextValue();n !== da;){p.push(n);n=g.nextValue();}return p;}(function(g,p,H){g.read(-1,p,{result:function(g){g && g.length?H(null,g):H(null,null);},timeout:function(){n.timeout();},error:function(g){H(g,null);}});})(g,p,function(p,x){p?n.error(p):x?g.getJSON !== da && "function" === typeof g.getJSON?n.result(g.getJSON()):n.result(w(x)):n.result(null);});};kb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(kb);(function(){hc=la.Class.create({init:function(g){Object.defineProperties(this,{keyExchangeScheme:{value:g,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this === g?!0:g instanceof hc?this.keyExchangeScheme == g.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Qd=function(n,w,z){p(z,function(){var p,K,x;p=w.scheme;K=w.keydata;if(!p || !K || "object" !== typeof K)throw new ga(g.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(w));if(!kb[p])throw new Ra(g.UNIDENTIFIED_KEYX_SCHEME,p);x=n.getKeyExchangeFactory(p);if(!x)throw new Ra(g.KEYX_FACTORY_NOT_FOUND,p);x.createRequestData(n,K,z);});};})();(function(){ic=la.Class.create({init:function(g,p){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},keyExchangeScheme:{value:p,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.mastertoken=this.masterToken;g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this === g?!0:g instanceof ic?this.masterToken.equals(g.masterToken) && this.keyExchangeScheme == g.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Rd=function(n,w,z){p(z,function(){var t,K,x;t=w.mastertoken;K=w.scheme;x=w.keydata;if(!K || !t || "object" !== typeof t || !x || "object" !== typeof x)throw new ga(g.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(w));if(!kb[K])throw new Ra(g.UNIDENTIFIED_KEYX_SCHEME,K);Tb(n,t,{result:function(H){p(z,function(){var p;p=n.getKeyExchangeFactory(K);if(!p)throw new Ra(g.KEYX_FACTORY_NOT_FOUND,K);return p.createResponseData(n,H,x);});},error:function(g){z.error(g);}});});};})();(function(){var n;n=la.Class.create({init:function(g,p){Object.defineProperties(this,{keyResponseData:{value:g,writable:!1,configurable:!1},cryptoContext:{value:p,writable:!1,configurable:!1}});}});nb=la.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createRequestData:function(g,p,n){},createResponseData:function(g,p,n){},generateResponse:function(g,p,n,t){},getCryptoContext:function(g,p,n,t,x){},generateSessionKeys:function(n,z){p(z,function(){var p,w;p=new Uint8Array(16);w=new Uint8Array(32);n.getRandom().nextBytes(p);n.getRandom().nextBytes(w);yb(p,pb,Hb,{result:function(p){yb(w,qb,Sb,{result:function(g){z.result({encryptionKey:p,hmacKey:g});},error:function(p){z.error(new L(g.SESSION_KEY_CREATION_FAILURE,null,p));}});},error:function(p){z.error(new L(g.SESSION_KEY_CREATION_FAILURE,null,p));}});});},importSessionKeys:function(g,p,n){yb(g,pb,Hb,{result:function(g){yb(p,qb,Sb,{result:function(p){n.result({encryptionKey:g,hmacKey:p});},error:function(g){n.error(g);}});},error:function(g){n.error(g);}});}});nb.KeyExchangeData=n;})();(function(){var w,z,t;function n(n,x,H,z,t){p(t,function(){var K,ba;switch(x){case w.PSK:(K=new rb(z),ba=n.getEntityAuthenticationFactory(Qa.PSK));if(!ba)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,x);K=ba.getCryptoContext(n,K);return new Ab(n,Bb.A128KW,tb,da);case w.MGK:K=new mb(z);ba=n.getEntityAuthenticationFactory(Qa.MGK);if(!ba)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,x);K=ba.getCryptoContext(n,K);return new Ab(n,Bb.A128KW,tb,da);case w.WRAP:K=n.getMslCryptoContext();K.unwrap(H,xb,Ib,{result:function(g){p(t,function(){return new Ab(n,Bb.A128KW,tb,g);});},error:t.error});break;default:throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,x);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};z=fd=hc.extend({init:function x(g,p){x.base.call(this,kb.JWE_LADDER);switch(g){case w.WRAP:if(!p)throw new X("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:p=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:p,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata && (g.wrapdata=oa(this.wrapdata));return g;},equals:function H(g){return g === this?!0:g instanceof fd?H.base.call(this,g) && this.mechanism == g.mechanism && ab(this.wrapdata,g.wrapdata):!1;},uniqueKey:function na(){var g;g=na.base.call(this) + ":" + this.mechanism;this.wrapdata && (g+=":" + gb(this.wrapdata));return g;}});t=Td=ic.extend({init:function ba(g,p,n,w,z){ba.base.call(this,g,kb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:p,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:z,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=oa(this.wrapKey);g.wrapdata=oa(this.wrapdata);g.encryptionkey=oa(this.encryptionKey);g.hmackey=oa(this.hmacKey);return g;},equals:function Ja(g){return this === g?!0:g instanceof Td?Ja.base.call(this,g) && ab(this.wrapKey,g.wrapKey) && ab(this.wrapdata,g.wrapdata) && ab(this.encryptionKey,g.encryptionKey) && ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function qa(){return qa.base.call(this) + ":" + gb(this.wrapKey) + ":" + gb(this.wrapdata) + ":" + gb(this.encryptionKey) + ":" + gb(this.hmacKey);}});Sd=nb.extend({init:function P(g){P.base.call(this,kb.JWE_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(n,t,S){p(S,function(){var p,n,P;p=t.mechanism;n=t.wrapdata;if(!p || p == w.WRAP && (!n || "string" !== typeof n))throw new ga(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(t));if(!w[p])throw new Ra(g.UNIDENTIFIED_KEYX_MECHANISM,p);switch(p){case w.WRAP:try{P=ya(n);}catch(va){throw new Ra(g.KEYX_WRAPPING_KEY_MISSING,"keydata " + t.toString());}if(null == P || 0 == P.length)throw new Ra(g.KEYX_WRAPPING_KEY_MISSING,"keydata " + t.toString());break;default:P=null;}return new z(p,P);});},createResponseData:function(p,n,w){var z,P,S,C,ua,G,F;p=w.wrapkey;z=w.wrapdata;P=w.encryptionkey;S=w.hmackey;if(!(p && "string" === typeof p && z && "string" === typeof z && P && "string" === typeof P && S) || "string" !== typeof S)throw new ga(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(w));try{C=ya(p);ua=ya(z);}catch(ea){throw new L(g.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(w),ea);}try{G=ya(P);}catch(ea){throw new L(g.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(w),ea);}try{F=ya(S);}catch(ea){throw new L(g.INVALID_HMAC_KEY,"keydata " + JSON.stringify(w),ea);}return new t(n,C,ua,G,F);},generateResponse:function(w,C,S,W){var Ba,pa;function P(g,n,z){Ba.generateSessionKeys(w,{result:function(w){p(W,function(){N(g,n,z,w.encryptionKey,w.hmacKey);},Ba);},error:function(g){p(W,function(){g instanceof F && g.setEntity(pa);throw g;});}});}function N(g,z,t,P,S){p(W,function(){n(w,C.mechanism,C.wrapdata,g,{result:function(g){g.wrap(z,{result:function(d){ua(z,t,P,S,d);},error:function(d){p(W,function(){d instanceof F && d.setEntity(pa);throw d;});}});},error:function(g){p(W,function(){g instanceof F && g.setEntity(pa);throw g;});}});},Ba);}function ua(g,n,z,t,P){p(W,function(){var ea;ea=new Ab(w,Bb.A128KW,tb,g);ea.wrap(z,{result:function(d){ea.wrap(t,{result:function(b){G(n,P,z,d,t,b);},error:function(b){p(W,function(){b instanceof F && b.setEntity(pa);throw b;});}});},error:function(d){p(W,function(){d instanceof F && d.setEntity(pa);throw d;});}});},Ba);}function G(g,n,z,P,C,N){p(W,function(){var d;d=w.getTokenFactory();pa?d.renewMasterToken(w,pa,z,C,{result:function(b){p(W,function(){var a,c;a=new ib(w,b);c=new t(b,n,g,P,N);return new nb.KeyExchangeData(c,a,W);},Ba);},error:function(b){p(W,function(){b instanceof F && b.setEntity(pa);throw b;});}}):d.createMasterToken(w,S,z,C,{result:function(b){p(W,function(){var a,c;a=new ib(w,b);c=new t(b,n,g,P,N);return new nb.KeyExchangeData(c,a,W);},Ba);},error:W.error});},Ba);}Ba=this;p(W,function(){var n,t;if(!(C instanceof z))throw new X("Key request data " + JSON.stringify(C) + " was not created by this factory.");n=S;if(S instanceof hb){if(!S.isVerified())throw new Rb(g.MASTERTOKEN_UNTRUSTED,S);pa=S;n=S.identity;}t=new Uint8Array(16);w.getRandom().nextBytes(t);yb(t,xb,Ib,{result:function(g){p(W,function(){w.getMslCryptoContext().wrap(g,{result:function(p){P(n,g,p);},error:function(g){p(W,function(){g instanceof F && g.setEntity(pa);throw g;},Ba);}});},Ba);},error:function(n){p(W,function(){throw new L(g.WRAP_KEY_CREATION_FAILURE,null,n).setEntity(pa);},Ba);}});},Ba);},getCryptoContext:function(n,C,S,W,za){var ua;function P(g,w,z,t,P){p(za,function(){var ea;ea=new Ab(n,Bb.A128KW,tb,P);ea.unwrap(w.encryptionKey,pb,Hb,{result:function(P){ea.unwrap(w.hmacKey,qb,Sb,{result:function(g){p(za,function(){this.repository.addCryptoContext(w.wrapdata,ea);this.repository.removeCryptoContext(z);return new ib(n,w.masterToken,t,P,g);},ua);},error:function(n){p(za,function(){n instanceof F && n.setEntity(g);throw n;});}});},error:function(n){p(za,function(){n instanceof F && n.setEntity(g);throw n;});}});},ua);}ua=this;p(za,function(){var N,W;if(!(C instanceof z))throw new X("Key request data " + JSON.stringify(C) + " was not created by this factory.");if(!(S instanceof t))throw new X("Key response data " + JSON.stringify(S) + " was not created by this factory.");N=C.mechanism;W=C.wrapdata;n.getEntityAuthenticationData(null,{result:function(z){p(za,function(){var t,C,ua;t=z.getIdentity();switch(N){case w.PSK:C=new rb(t);ua=n.getEntityAuthenticationFactory(Qa.PSK);if(!ua)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,N).setEntity(z);C=ua.getCryptoContext(n,C);C=new Ab(n,Bb.A128KW,tb,da);break;case w.MGK:C=new mb(t);ua=n.getEntityAuthenticationFactory(Qa.MGK);if(!ua)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,N).setEntity(z);C=ua.getCryptoContext(n,C);C=new Ab(n,Bb.A128KW,tb,C.wrapKey);break;case w.WRAP:C=this.repository.getCryptoContext(W);if(!C)throw new Ra(g.KEYX_WRAPPING_KEY_MISSING,oa(W)).setEntity(z);break;default:throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,N).setEntity(z);}C.unwrap(S.wrapKey,xb,Ib,{result:function(g){P(z,S,W,t,g);},error:function(g){p(za,function(){g instanceof F && g.setEntity(z);throw g;});}});},ua);},error:za.error});},ua);}});})();(function(){var w,z,t,K;function n(n,H,z,t,C){p(C,function(){var x,P;switch(H){case w.PSK:(x=new rb(t),P=n.getEntityAuthenticationFactory(Qa.PSK));if(!P)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,H);x=P.getCryptoContext(n,x);return new K(da);case w.MGK:x=new mb(t);P=n.getEntityAuthenticationFactory(Qa.MGK);if(!P)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,H);x=P.getCryptoContext(n,x);return new K(da);case w.WRAP:x=n.getMslCryptoContext();x.unwrap(z,xb,Ib,{result:function(g){p(C,function(){return new K(g);});},error:C.error});break;default:throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,H);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};z=Dc=hc.extend({init:function H(g,p){H.base.call(this,kb.JWK_LADDER);switch(g){case w.WRAP:if(!p)throw new X("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:p=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:p,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata && (g.wrapdata=oa(this.wrapdata));return g;},equals:function na(g){return g === this?!0:g instanceof Dc?na.base.call(this,g) && this.mechanism == g.mechanism && ab(this.wrapdata,g.wrapdata):!1;},uniqueKey:function ba(){var g;g=ba.base.call(this) + ":" + this.mechanism;this.wrapdata && (g+=":" + gb(this.wrapdata));return g;}});t=Ud=ic.extend({init:function Ja(g,p,n,w,z){Ja.base.call(this,g,kb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:p,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:z,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=oa(this.wrapKey);g.wrapdata=oa(this.wrapdata);g.encryptionkey=oa(this.encryptionKey);g.hmackey=oa(this.hmacKey);return g;},equals:function qa(g){return this === g?!0:g instanceof Ud?qa.base.call(this,g) && ab(this.wrapKey,g.wrapKey) && ab(this.wrapdata,g.wrapdata) && ab(this.encryptionKey,g.encryptionKey) && ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function P(){return P.base.call(this) + ":" + gb(this.wrapKey) + ":" + gb(this.wrapdata) + ":" + gb(this.encryptionKey) + ":" + gb(this.hmacKey);}});K=ac.extend({init:function(g){g && g.rawKey && (g=g.rawKey);Object.defineProperties(this,{_wrapKey:{value:g,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(p,n){n.error(new L(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(p,n){n.error(new L(g.DECRYPT_NOT_SUPPORTED));},wrap:function(n,w){p(w,function(){Ga.wrapKey("jwk",n.rawKey,this._wrapKey,xb).then(function(g){w.result(g);},function(p){w.error(new L(g.WRAP_ERROR));});},this);},unwrap:function(n,w,z,t){function C(n){p(t,function(){switch(n.type){case "secret":Yb(n,t);break;case "public":Ob(n,t);break;case "private":Zb(n,t);break;default:throw new L(g.UNSUPPORTED_KEY,"type: " + n.type);}});}p(t,function(){Ga.unwrapKey("jwk",n,this._wrapKey,xb,w,!1,z).then(function(g){C(g);},function(p){t.error(new L(g.UNWRAP_ERROR));});},this);},sign:function(p,n){n.error(new L(g.SIGN_NOT_SUPPORTED));},verify:function(p,n,w){w.error(new L(g.VERIFY_NOT_SUPPORTED));}});hd=nb.extend({init:function ua(g){ua.base.call(this,kb.JWK_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(n,t,C){p(C,function(){var p,n,C;p=t.mechanism;n=t.wrapdata;if(!p || p == w.WRAP && (!n || "string" !== typeof n))throw new ga(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(t));if(!w[p])throw new Ra(g.UNIDENTIFIED_KEYX_MECHANISM,p);switch(p){case w.WRAP:try{C=ya(n);}catch(Aa){throw new Ra(g.KEYX_WRAPPING_KEY_MISSING,"keydata " + t.toString());}if(null == C || 0 == C.length)throw new Ra(g.KEYX_WRAPPING_KEY_MISSING,"keydata " + t.toString());break;default:C=null;}return new z(p,C);});},createResponseData:function(p,n,w){var z,C,K,S,W,ua,ea;p=w.wrapkey;z=w.wrapdata;C=w.encryptionkey;K=w.hmackey;if(!(p && "string" === typeof p && z && "string" === typeof z && C && "string" === typeof C && K) || "string" !== typeof K)throw new ga(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(w));try{S=ya(p);W=ya(z);}catch(vb){throw new L(g.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(w),vb);}try{ua=ya(C);}catch(vb){throw new L(g.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(w),vb);}try{ea=ya(K);}catch(vb){throw new L(g.INVALID_HMAC_KEY,"keydata " + JSON.stringify(w),vb);}return new t(n,S,W,ua,ea);},generateResponse:function(w,C,W,G){var pa,ea;function S(g,n,z){pa.generateSessionKeys(w,{result:function(w){p(G,function(){ua(g,n,z,w.encryptionKey,w.hmacKey);},pa);},error:function(g){p(G,function(){g instanceof F && g.setEntity(ea);throw g;});}});}function ua(g,z,t,K,S){p(G,function(){n(w,C.mechanism,C.wrapdata,g,{result:function(d){d.wrap(z,{result:function(b){za(z,t,K,S,b);},error:function(b){p(G,function(){b instanceof F && b.setEntity(ea);throw b;});}});},error:function(d){p(G,function(){d instanceof F && d.setEntity(ea);throw d;});}});},pa);}function za(g,n,w,z,t){p(G,function(){var d;d=new K(g);d.wrap(w,{result:function(b){d.wrap(z,{result:function(a){Ba(n,t,w,b,z,a);},error:function(a){p(G,function(){a instanceof F && a.setEntity(ea);throw a;});}});},error:function(b){p(G,function(){b instanceof F && b.setEntity(ea);throw b;});}});},pa);}function Ba(g,n,z,C,K,d){p(G,function(){var b;b=w.getTokenFactory();ea?b.renewMasterToken(w,ea,z,K,{result:function(a){p(G,function(){var b,l;b=new ib(w,a);l=new t(a,n,g,C,d);return new nb.KeyExchangeData(l,b,G);},pa);},error:function(a){p(G,function(){a instanceof F && a.setEntity(ea);throw a;});}}):b.createMasterToken(w,W,z,K,{result:function(a){p(G,function(){var b,l;b=new ib(w,a);l=new t(a,n,g,C,d);return new nb.KeyExchangeData(l,b,G);},pa);},error:G.error});},pa);}pa=this;p(G,function(){var n,t;if(!(C instanceof z))throw new X("Key request data " + JSON.stringify(C) + " was not created by this factory.");n=W;if(W instanceof hb){if(!W.isVerified())throw new Rb(g.MASTERTOKEN_UNTRUSTED,W);ea=W;n=W.identity;}t=new Uint8Array(16);w.getRandom().nextBytes(t);yb(t,xb,Ib,{result:function(g){p(G,function(){w.getMslCryptoContext().wrap(g,{result:function(p){S(n,g,p);},error:function(g){p(G,function(){g instanceof F && g.setEntity(ea);throw g;},pa);}});},pa);},error:function(n){p(G,function(){throw new L(g.WRAP_KEY_CREATION_FAILURE,null,n).setEntity(ea);},pa);}});},pa);},getCryptoContext:function(n,C,W,G,N){var ua;function S(g,w,z,t,C){p(N,function(){var ea;ea=new K(C);ea.unwrap(w.encryptionKey,pb,Hb,{result:function(C){ea.unwrap(w.hmacKey,qb,Sb,{result:function(g){p(N,function(){this.repository.addCryptoContext(w.wrapdata,ea);this.repository.removeCryptoContext(z);return new ib(n,w.masterToken,t,C,g);},ua);},error:function(n){p(N,function(){n instanceof F && n.setEntity(g);throw n;});}});},error:function(n){p(N,function(){n instanceof F && n.setEntity(g);throw n;});}});},ua);}ua=this;p(N,function(){var G,za;if(!(C instanceof z))throw new X("Key request data " + JSON.stringify(C) + " was not created by this factory.");if(!(W instanceof t))throw new X("Key response data " + JSON.stringify(W) + " was not created by this factory.");G=C.mechanism;za=C.wrapdata;n.getEntityAuthenticationData(null,{result:function(z){p(N,function(){var t,C,ea;t=z.getIdentity();switch(G){case w.PSK:C=new rb(t);ea=n.getEntityAuthenticationFactory(Qa.PSK);if(!ea)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(z);C=ea.getCryptoContext(n,C);C=new K(C.wrapKey);break;case w.MGK:C=new mb(t);ea=n.getEntityAuthenticationFactory(Qa.MGK);if(!ea)throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(z);C=ea.getCryptoContext(n,C);C=new K(C.wrapKey);break;case w.WRAP:C=this.repository.getCryptoContext(za);if(!C)throw new Ra(g.KEYX_WRAPPING_KEY_MISSING,oa(za)).setEntity(z);break;default:throw new Ra(g.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(z);}C.unwrap(W.wrapKey,xb,Ib,{result:function(g){S(z,W,za,t,g);},error:function(g){p(N,function(){g instanceof F && g.setEntity(z);throw g;});}});},ua);},error:N.error});},ua);}});})();Te=la.Class.create({addCryptoContext:function(g,n){},getCryptoContext:function(g){},removeCryptoContext:function(g){}});(function(){var w,z,t,K;function n(n,p,z,t,C){switch(z){case w.JWE_RSA:case w.JWEJS_RSA:return new Ab(n,Bb.RSA_OAEP,tb,t,C);case w.JWK_RSA:return new xc(n,p,t,C,yc.WRAP_UNWRAP_OAEP);case w.JWK_RSAES:return new xc(n,p,t,C,yc.WRAP_UNWRAP_PKCS1);default:throw new L(g.UNSUPPORTED_KEYX_MECHANISM,z);}}w=Ec={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};z=Sc=hc.extend({init:function H(g,n,p,w){H.base.call(this,kb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:g,writable:!1,configurable:!1},mechanism:{value:n,writable:!1,configurable:!1},publicKey:{value:p,writable:!1,configurable:!1},privateKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.mechanism=this.mechanism;g.publickey=oa(this.publicKey.getEncoded());return g;},equals:function na(g){var n;if(g === this)return !0;if(!(g instanceof Sc))return !1;n=this.privateKey === g.privateKey || this.privateKey && g.privateKey && ab(this.privateKey.getEncoded(),g.privateKey.getEncoded());return na.base.call(this,g) && this.keyPairId == g.keyPairId && this.mechanism == g.mechanism && ab(this.publicKey.getEncoded(),g.publicKey.getEncoded()) && n;},uniqueKey:function ba(){var g,n;g=this.publicKey.getEncoded();n=this.privateKey && this.privateKey.getEncoded();g=ba.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + gb(g);n && (g+=":" + gb(n));return g;}});t=function(n,t){p(t,function(){var p,C,K,S;p=n.keypairid;C=n.mechanism;K=n.publickey;if(!p || "string" !== typeof p || !C || !K || "string" !== typeof K)throw new ga(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(n));if(!w[C])throw new Ra(g.UNIDENTIFIED_KEYX_MECHANISM,C);try{S=ya(K);switch(C){case w.JWE_RSA:case w.JWEJS_RSA:case w.JWK_RSA:Xc(S,vc,Ib,{result:function(g){t.result(new z(p,C,g,null));},error:function(g){t.error(g);}});break;case w.JWK_RSAES:Xc(S,Vc,Ib,{result:function(g){t.result(new z(p,C,g,null));},error:function(g){t.error(g);}});break;default:throw new L(g.UNSUPPORTED_KEYX_MECHANISM,C);}}catch(W){if(!(W instanceof F))throw new L(g.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(n),W);throw W;}});};K=Vd=ic.extend({init:function Ja(g,n,p,w){Ja.base.call(this,g,kb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:n,writable:!1,configurable:!1},encryptionKey:{value:p,writable:!1,configurable:!1},hmacKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.encryptionkey=oa(this.encryptionKey);g.hmackey=oa(this.hmacKey);return g;},equals:function qa(g){return this === g?!0:g instanceof Vd?qa.base.call(this,g) && this.keyPairId == g.keyPairId && ab(this.encryptionKey,g.encryptionKey) && ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function P(){return P.base.call(this) + ":" + this.keyPairId + ":" + gb(this.encryptionKey) + ":" + gb(this.hmacKey);}});Ad=nb.extend({init:function ua(){ua.base.call(this,kb.ASYMMETRIC_WRAPPED);},createRequestData:function(g,n,p){t(n,p);},createResponseData:function(n,p,w){var z,t,C,S;n=w.keypairid;z=w.encryptionkey;t=w.hmackey;if(!n || "string" !== typeof n || !z || "string" !== typeof z || !t || "string" !== typeof t)throw new ga(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(w));try{C=ya(z);}catch(Ba){throw new L(g.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(w),Ba);}try{S=ya(t);}catch(Ba){throw new L(g.INVALID_HMAC_KEY,"keydata " + JSON.stringify(w),Ba);}return new K(p,n,C,S);},generateResponse:function(g,w,t,C){var G;function N(z,K){p(C,function(){var ea;ea=n(g,w.keyPairId,w.mechanism,null,w.publicKey);ea.wrap(z,{result:function(g){p(C,function(){ea.wrap(K,{result:function(n){S(z,g,K,n);},error:function(g){p(C,function(){g instanceof F && t instanceof hb && g.setEntity(t);throw g;},G);}});},G);},error:function(g){p(C,function(){g instanceof F && t instanceof hb && g.setEntity(t);throw g;},G);}});},G);}function S(n,z,ea,N){p(C,function(){var S;S=g.getTokenFactory();t instanceof hb?S.renewMasterToken(g,t,n,ea,{result:function(n){p(C,function(){var p,t;p=new ib(g,n);t=new K(n,w.keyPairId,z,N);return new nb.KeyExchangeData(t,p,C);},G);},error:function(g){p(C,function(){g instanceof F && g.setEntity(t);throw g;},G);}}):S.createMasterToken(g,t,n,ea,{result:function(n){p(C,function(){var p,t;p=new ib(g,n);t=new K(n,w.keyPairId,z,N);return new nb.KeyExchangeData(t,p,C);},G);},error:C.error});},G);}G=this;p(C,function(){if(!(w instanceof z))throw new X("Key request data " + JSON.stringify(w) + " was not created by this factory.");this.generateSessionKeys(g,{result:function(g){N(g.encryptionKey,g.hmacKey);},error:function(g){p(C,function(){g instanceof F && t instanceof hb && g.setEntity(t);throw g;},G);}});},G);},getCryptoContext:function(w,t,C,G,N){var S;S=this;p(N,function(){var W,ua,va;if(!(t instanceof z))throw new X("Key request data " + JSON.stringify(t) + " was not created by this factory.");if(!(C instanceof K))throw new X("Key response data " + JSON.stringify(C) + " was not created by this factory.");W=t.keyPairId;ua=C.keyPairId;if(W != ua)throw new Ra(g.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + W + "; response " + ua).setEntity(G);ua=t.privateKey;if(!ua)throw new Ra(g.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(G);va=n(w,W,t.mechanism,ua,null);va.unwrap(C.encryptionKey,pb,Hb,{result:function(g){va.unwrap(C.hmacKey,qb,Sb,{result:function(n){w.getEntityAuthenticationData(null,{result:function(z){p(N,function(){var p;p=z.getIdentity();return new ib(w,C.masterToken,p,g,n);},S);},error:function(g){p(N,function(){g instanceof F && g.setEntity(G);throw g;},S);}});},error:function(g){p(N,function(){g instanceof F && g.setEntity(G);throw g;},S);}});},error:function(g){p(N,function(){g instanceof F && g.setEntity(G);throw g;},S);}});},S);}});})();Se=la.Class.create({init:function(g){var n,p,t,K,x,H,G,ba;n=bb.parser();p=[];t=[];G=0;ba=!1;n.onerror=function(g){ba || (ba=!0,n.end());};n.onopenobject=function(g){var n;if(K)(K[H]={},t.push(K),K=K[H]);else if(x){n={};t.push(x);x.push(n);K=n;x=da;}else K={};H=g;};n.oncloseobject=function(){var g;g=t.pop();g?"object" === typeof g?K=g:(K=da,x=g):(p.push(K),G=n.index,K=da);};n.onopenarray=function(){var g;if(K)(K[H]=[],t.push(K),x=K[H],K=da);else if(x){g=[];t.push(x);x.push(g);x=g;}else x=[];};n.onclosearray=function(){var g;g=t.pop();g?"object" === typeof g?(K=g,x=da):x=g:(p.push(x),G=n.index,x=da);};n.onkey=function(g){H=g;};n.onvalue=function(g){K?K[H]=g:x?x.push(g):(p.push(g),G=n.index);};n.write(g).close();Object.defineProperties(this,{_values:{value:p,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:G,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?da:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var n,w,z,t,K;n=id="entityauthdata";w=Xd="mastertoken";z=Yd="headerdata";t=Zd="errordata";K=jd="signature";Wd=function(x,H,C,G){p(G,function(){var p,ba,P,na,S,W;p=H[n];ba=H[w];P=H[K];if(p && "object" !== typeof p || ba && "object" !== typeof ba || "string" !== typeof P)throw new ga(g.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(H));try{na=ya(P);}catch(za){throw new Fa(g.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(H),za);}S=null;p && (S=Jd(x,p));W=H[z];if(W != da && null != W){if("string" !== typeof W)throw new ga(g.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(H));ba?Tb(x,ba,{result:function(g){kd(x,W,S,g,na,C,G);},error:function(g){G.error(g);}}):kd(x,W,S,null,na,C,G);}else if((p=H[t],p != da && null != p)){if("string" !== typeof p)throw new ga(g.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(H));$d(x,p,S,na,G);}else throw new ga(g.JSON_PARSE_ERROR,JSON.stringify(H));});};})();(function(){function t(g,n){this.errordata=g;this.signature=n;}Nb=la.Class.create({init:function(n,z,t,K,x,H,G,ba,Ja,qa){var w;w=this;p(qa,function(){var C,S;0 > H && (H=-1);if(0 > K || K > Pa)throw new X("Message ID " + K + " is out of range.");if(!z)throw new Fa(g.MESSAGE_ENTITY_NOT_FOUND);if(Ja)return (Object.defineProperties(this,{entityAuthenticationData:{value:z,writable:!1,configurable:!1},recipient:{value:t,writable:!1,configurable:!1},messageId:{value:K,writable:!1,configurable:!1},errorCode:{value:x,writable:!1,configurable:!1},internalCode:{value:H,writable:!1,configurable:!1},errorMessage:{value:G,writable:!1,configurable:!1},userMessage:{value:ba,writable:!1,configurable:!1},errordata:{value:Ja.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ja.signature,writable:!1,enumerable:!1,configurable:!1}}),this);C={};t && (C.recipient=t);C.messageid=K;C.errorcode=x;0 < H && (C.internalcode=H);G && (C.errormsg=G);ba && (C.usermsg=ba);try{S=n.getEntityAuthenticationFactory(z.scheme).getCryptoContext(n,z);}catch(W){throw (W instanceof F && (W.setEntity(z),W.setMessageId(K)),W);}C=Xa(JSON.stringify(C),Oa);S.encrypt(C,{result:function(g){p(qa,function(){S.sign(g,{result:function(n){p(qa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:z,writable:!1,configurable:!1},recipient:{value:t,writable:!1,configurable:!1},messageId:{value:K,writable:!1,configurable:!1},errorCode:{value:x,writable:!1,configurable:!1},internalCode:{value:H,writable:!1,configurable:!1},errorMessage:{value:G,writable:!1,configurable:!1},userMessage:{value:ba,writable:!1,configurable:!1},errordata:{value:g,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){p(qa,function(){g instanceof F && (g.setEntity(z),g.setMessageId(K));throw g;},w);}});},w);},error:function(g){p(qa,function(){g instanceof F && (g.setEntity(z),g.setMessageId(K));throw g;},w);}});},w);},toJSON:function(){var g;g={};g[id]=this.entityAuthenticationData;g[Zd]=oa(this.errordata);g[jd]=oa(this.signature);return g;}});ae=function(g,n,p,t,x,H,G,ba,Ja){new Nb(g,n,p,t,x,H,G,ba,null,Ja);};$d=function(w,z,C,K,x){p(x,function(){var H,G,ba;if(!C)throw new Fa(g.MESSAGE_ENTITY_NOT_FOUND);try{G=C.scheme;ba=w.getEntityAuthenticationFactory(G);if(!ba)throw new wb(g.ENTITYAUTH_FACTORY_NOT_FOUND,G);H=ba.getCryptoContext(w,C);}catch(Ja){throw (Ja instanceof F && Ja.setEntity(C),Ja);}try{z=ya(z);}catch(Ja){throw new Fa(g.HEADER_DATA_INVALID,z,Ja).setEntity(C);}if(!z || 0 == z.length)throw new Fa(g.HEADER_DATA_MISSING,z).setEntity(C);H.verify(z,K,{result:function(G){p(x,function(){if(!G)throw new L(g.MESSAGE_VERIFICATION_FAILED).setEntity(C);H.decrypt(z,{result:function(H){p(x,function(){var p,G,S,ba,na,N,va,Ja;p=Ya(H,Oa);try{G=JSON.parse(p);}catch(pa){if(pa instanceof SyntaxError)throw new ga(g.JSON_PARSE_ERROR,"errordata " + p,pa).setEntity(C);throw pa;}S=G.recipient !== da?G.recipient:null;ba=parseInt(G.messageid);na=parseInt(G.errorcode);N=parseInt(G.internalcode);va=G.errormsg;Ja=G.usermsg;if(S && "string" !== typeof S || !ba || ba != ba || !na || na != na || G.internalcode && N != N || va && "string" !== typeof va || Ja && "string" !== typeof Ja)throw new ga(g.JSON_PARSE_ERROR,"errordata " + p).setEntity(C);if(0 > ba || ba > Pa)throw new Fa(g.MESSAGE_ID_OUT_OF_RANGE,"errordata " + p).setEntity(C);G=!1;for(var F in n){if(n[F] == na){G=!0;break;}}G || (na=n.FAIL);if(N){if(0 > N)throw new Fa(g.INTERNAL_CODE_NEGATIVE,"errordata " + p).setEntity(C).setMessageId(ba);}else N=-1;p=new t(z,K);new Nb(w,C,S,ba,na,N,va,Ja,p,x);});},error:function(g){p(x,function(){g instanceof F && g.setEntity(C);throw g;});}});});},error:function(g){p(x,function(){g instanceof F && g.setEntity(C);throw g;});}});});};})();Ue=la.Class.create({getUserMessage:function(g,n){}});(function(){ld=function(g,n){var p,w;if(!g || !n)return null;p=g.compressionAlgorithms.filter(function(g){for(var p=0;p < n.compressionAlgorithms.length;++p){if(g == n.compressionAlgorithms[p])return !0;}return !1;});w=g.languages.filter(function(g){for(var p=0;p < n.languages.length;++p){if(g == n.languages[p])return !0;}return !1;});return new jc(p,w);};jc=la.Class.create({init:function(g,n){g || (g=[]);n || (n=[]);g.sort();Object.defineProperties(this,{compressionAlgorithms:{value:g,writable:!1,enumerable:!0,configurable:!1},languages:{value:n,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var g;g={};g.compressionalgos=this.compressionAlgorithms;g.languages=this.languages;return g;},equals:function(g){return this === g?!0:g instanceof jc?td(this.compressionAlgorithms,g.compressionAlgorithms) && td(this.languages,g.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});be=function(n){var p,t,K;p=n.compressionalgos;t=n.languages;if(p && !(p instanceof Array) || t && !(t instanceof Array))throw new ga(g.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(n));n=[];for(var C=0;p && C < p.length;++C){K=p[C];Pb[K] && n.push(K);}return new jc(n,t);};})();(function(){var qa,P;function n(g,n,p,x,w){this.customer=g;this.sender=n;this.messageCryptoContext=p;this.headerdata=x;this.signature=w;}function w(g,n,p,x,w,H,t,z,C,K,G,ba,P,ma,na,d,b,a,c,l){return {cryptoContext:{value:n,writable:!1,configurable:!1},customer:{value:p,writable:!1,configurable:!1},entityAuthenticationData:{value:x,writable:!1,configurable:!1},masterToken:{value:w,writable:!1,configurable:!1},sender:{value:H,writable:!1,configurable:!1},messageId:{value:t,writable:!1,configurable:!1},nonReplayableId:{value:d,writable:!1,configurable:!1},keyRequestData:{value:z,writable:!1,configurable:!1},keyResponseData:{value:C,writable:!1,configurable:!1},userAuthenticationData:{value:K,writable:!1,configurable:!1},userIdToken:{value:G,writable:!1,configurable:!1},serviceTokens:{value:ba,writable:!1,configurable:!1},peerMasterToken:{value:P,writable:!1,configurable:!1},peerUserIdToken:{value:ma,writable:!1,configurable:!1},peerServiceTokens:{value:na,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:b,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:c,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}};}function t(n,p,x){var w;if(x){if(p=n.getMslStore().getCryptoContext(x))return p;if(!x.isVerified() || !x.isDecrypted())throw new Rb(g.MASTERTOKEN_UNTRUSTED,x);return new ib(n,x);}x=p.scheme;w=n.getEntityAuthenticationFactory(x);if(!w)throw new wb(g.ENTITYAUTH_FACTORY_NOT_FOUND,x);return w.getCryptoContext(n,p);}function C(n,x,w,H,t){p(t,function(){x.verify(w,H,{result:function(n){p(t,function(){if(!n)throw new L(g.MESSAGE_VERIFICATION_FAILED);x.decrypt(w,{result:function(g){p(t,function(){return Ya(g,Oa);});},error:function(g){t.error(g);}});});},error:function(g){t.error(g);}});});}function K(g,n,x){p(x,function(){if(n)Rd(g,n,x);else return null;});}function x(g,n,x,w){p(w,function(){if(n)Ub(g,n,x,w);else return null;});}function H(g,n,x,w){p(w,function(){if(x)fe(g,n,x,w);else return null;});}function na(n,x,w,H,t,z,C){var G;function K(x,C,ba){var ea,P;if(C >= x.length){ea=[];for(P in G){ea.push(G[P]);}ba.result(ea);}else {ea=x[C];if("object" !== typeof ea)throw new ga(g.JSON_PARSE_ERROR,"headerdata " + z);Fc(n,ea,w,H,t,{result:function(g){p(ba,function(){G[g.uniqueKey()]=g;K(x,C + 1,ba);});},error:function(g){ba.error(g);}});}}G={};p(C,function(){if(x){if(!(x instanceof Array))throw new ga(g.JSON_PARSE_ERROR,"headerdata " + z);K(x,0,C);}else return [];});}function ba(n,x,w,H,t,z){function C(n,x,w){p(w,function(){var p;p=x.peermastertoken;if(p && "object" !== typeof p)throw new ga(g.JSON_PARSE_ERROR,"headerdata " + t);if(!p)return null;Tb(n,p,w);});}function K(n,x,w,H){p(H,function(){var p;p=x.peeruseridtoken;if(p && "object" !== typeof p)throw new ga(g.JSON_PARSE_ERROR,"headerdata " + t);if(!p)return null;Ub(n,p,w,H);});}p(z,function(){if(!n.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};C(n,x,{result:function(g){p(z,function(){var C;C=w?w.masterToken:g;K(n,x,C,{result:function(w){p(z,function(){na(n,x.peerservicetokens,C,w,H,t,{result:function(n){p(z,function(){return {peerMasterToken:g,peerUserIdToken:w,peerServiceTokens:n};});},error:function(g){p(z,function(){g instanceof F && (g.setEntity(C),g.setUser(w));throw g;});}});});},error:function(g){p(z,function(){g instanceof F && g.setEntity(C);throw g;});}});});},error:z.error});});}function Ja(n,x,w,H){var z;function t(g,x){p(H,function(){if(x >= g.length)return z;Qd(n,g[x],{result:function(n){p(H,function(){z.push(n);t(g,x + 1);});},error:function(g){H.error(g);}});});}z=[];p(H,function(){var n;n=x.keyrequestdata;if(!n)return z;if(!(n instanceof Array))throw new ga(g.JSON_PARSE_ERROR,"headerdata " + w);t(n,0);});}qa=de=la.Class.create({init:function(g,n,p,x,w,H,t,z,C){Object.defineProperties(this,{messageId:{value:g,writable:!1,configurable:!1},nonReplayableId:{value:n,writable:!1,configurable:!1},renewable:{value:p,writable:!1,configurable:!1},capabilities:{value:x,writable:!1,configurable:!1},keyRequestData:{value:w,writable:!1,configurable:!1},keyResponseData:{value:H,writable:!1,configurable:!1},userAuthData:{value:t,writable:!1,configurable:!1},userIdToken:{value:z,writable:!1,configurable:!1},serviceTokens:{value:C,writable:!1,configurable:!1}});}});P=ee=la.Class.create({init:function(g,n,p){Object.defineProperties(this,{peerMasterToken:{value:g,writable:!1,configurable:!1},peerUserIdToken:{value:n,writable:!1,configurable:!1},peerServiceTokens:{value:p,writable:!1,configurable:!1}});}});kc=la.Class.create({init:function(g,n,x,H,z,C,K){var ba;function G(ea){p(K,function(){var G,P,N,ma,na,d,b,a,c,l,k,m,f,h,q,u,r;n=x?null:n;G=H.nonReplayableId;P=H.renewable;N=H.capabilities;ma=H.messageId;na=H.keyRequestData?H.keyRequestData:[];d=H.keyResponseData;b=H.userAuthData;a=H.userIdToken;c=H.serviceTokens?H.serviceTokens:[];g.isPeerToPeer()?(l=z.peerMasterToken,k=z.peerUserIdToken,m=z.peerServiceTokens?z.peerServiceTokens:[]):(k=l=null,m=[]);if(0 > ma || ma > Pa)throw new X("Message ID " + ma + " is out of range.");if(!n && !x)throw new X("Message entity authentication data or master token must be provided.");d?g.isPeerToPeer()?(f=x,h=d.masterToken):(f=d.masterToken,h=l):(f=x,h=l);if(a && (!f || !a.isBoundTo(f)))throw new X("User ID token must be bound to a master token.");if(k && (!h || !k.isBoundTo(h)))throw new X("Peer user ID token must be bound to a peer master token.");c.forEach(function(b){if(b.isMasterTokenBound() && (!f || !b.isBoundTo(f)))throw new X("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!a || !b.isBoundTo(a)))throw new X("User ID token bound service tokens must be bound to the provided user ID token.");},this);m.forEach(function(a){if(a.isMasterTokenBound() && (!h || !a.isBoundTo(h)))throw new X("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound() && (!k || !a.isBoundTo(k)))throw new X("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(C){q=C.customer;u=C.messageCryptoContext;r=w(g,u,q,n,x,ea,ma,na,d,b,a,c,l,k,m,G,P,N,C.headerdata,C.signature);Object.defineProperties(this,r);return this;}q=a?a.customer:null;r={};ea && (r.sender=ea);r.messageid=ma;"number" === typeof G && (r.nonreplayableid=G);r.renewable=P;N && (r.capabilities=N);0 < na.length && (r.keyrequestdata=na);d && (r.keyresponsedata=d);b && (r.userauthdata=b);a && (r.useridtoken=a);0 < c.length && (r.servicetokens=c);l && (r.peermastertoken=l);k && (r.peeruseridtoken=k);0 < m.length && (r.peerservicetokens=m);try{u=t(g,n,x);}catch(v){throw (v instanceof F && (v.setEntity(x),v.setEntity(n),v.setUser(a),v.setUser(b),v.setMessageId(ma)),v);}r=Xa(JSON.stringify(r),Oa);u.encrypt(r,{result:function(f){p(K,function(){u.sign(f,{result:function(h){p(K,function(){var r;r=w(g,u,q,n,x,ea,ma,na,d,b,a,c,l,k,m,G,P,N,f,h);Object.defineProperties(this,r);return this;},ba);},error:function(f){p(K,function(){f instanceof F && (f.setEntity(x),f.setEntity(n),f.setUser(a),f.setUser(b),f.setMessageId(ma));throw f;},ba);}});},ba);},error:function(f){p(K,function(){f instanceof F && (f.setEntity(x),f.setEntity(n),f.setUser(a),f.setUser(b),f.setMessageId(ma));throw f;},ba);}});},ba);}ba=this;p(K,function(){C?G(C.sender):x?g.getEntityAuthenticationData(null,{result:function(g){g=g.getIdentity();G(g);},error:K.error}):G(null);},ba);},isEncrypting:function(){return this.masterToken || Pc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var g;g={};this.masterToken?g[Xd]=this.masterToken:g[id]=this.entityAuthenticationData;g[Yd]=oa(this.headerdata);g[jd]=oa(this.signature);return g;}});ce=function(g,n,p,x,w,H){new kc(g,n,p,x,w,null,H);};kd=function(w,z,G,za,N,va,Aa){p(Aa,function(){var S,W;G=za?null:G;if(!G && !za)throw new Fa(g.MESSAGE_ENTITY_NOT_FOUND);S=z;try{z=ya(S);}catch(ea){throw new Fa(g.HEADER_DATA_INVALID,S,ea);}if(!z || 0 == z.length)throw new Fa(g.HEADER_DATA_MISSING,S);try{W=t(w,G,za);}catch(ea){throw (ea instanceof F && (ea.setEntity(za),ea.setEntity(G)),ea);}C(w,W,z,N,{result:function(t){p(Aa,function(){var C,ea,S,ma,ua;try{C=JSON.parse(t);}catch(d){if(d instanceof SyntaxError)throw new ga(g.JSON_PARSE_ERROR,"headerdata " + t,d).setEntity(za).setEntity(G);throw d;}ea=parseInt(C.messageid);if(!ea || ea != ea)throw new ga(g.JSON_PARSE_ERROR,"headerdata " + t).setEntity(za).setEntity(G);if(0 > ea || ea > Pa)throw new Fa(g.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + t).setEntity(za).setEntity(G);S=za?C.sender:null;if(za && (!S || "string" !== typeof S))throw new ga(g.JSON_PARSE_ERROR,"headerdata " + t).setEntity(za).setEntity(G).setMessageId(ea);ma=C.keyresponsedata;if(ma && "object" !== typeof ma)throw new ga(g.JSON_PARSE_ERROR,"headerdata " + t).setEntity(za).setEntity(G).setMessageId(ea);ua=Aa;Aa={result:function(d){ua.result(d);},error:function(d){d instanceof F && (d.setEntity(za),d.setEntity(G),d.setMessageId(ea));ua.error(d);}};K(w,ma,{result:function(d){p(Aa,function(){var b,a;b=!w.isPeerToPeer() && d?d.masterToken:za;a=C.useridtoken;if(a && "object" !== typeof a)throw new ga(g.JSON_PARSE_ERROR,"headerdata " + t);x(w,a,b,{result:function(a){p(Aa,function(){var c;c=C.userauthdata;if(c && "object" !== typeof c)throw new ga(g.JSON_PARSE_ERROR,"headerdata " + t);H(w,b,c,{result:function(c){p(Aa,function(){var l,f,h;if(c){f=c.scheme;h=w.getUserAuthenticationFactory(f);if(!h)throw new Da(g.USERAUTH_FACTORY_NOT_FOUND,f).setUser(a).setUser(c);f=za?za.identity:G.getIdentity();l=h.authenticate(w,f,c,a);}else l=a?a.customer:null;na(w,C.servicetokens,b,a,va,t,{result:function(b){p(Aa,function(){var f,h,q,m;f=C.nonreplayableid !== da?parseInt(C.nonreplayableid):null;h=C.renewable;if(f != f || "boolean" !== typeof h)throw new ga(g.JSON_PARSE_ERROR,"headerdata " + t);if(0 > f || f > Pa)throw new Fa(g.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + t);q=null;m=C.capabilities;if(m){if("object" !== typeof m)throw new ga(g.JSON_PARSE_ERROR,"headerdata " + t);q=be(m);}Ja(w,C,t,{result:function(m){ba(w,C,d,va,t,{result:function(k){p(Aa,function(){var r,u,v,A;r=k.peerMasterToken;u=k.peerUserIdToken;v=k.peerServiceTokens;A=new qa(ea,f,h,q,m,d,c,a,b);r=new P(r,u,v);u=new n(l,S,W,z,N);new kc(w,G,za,A,r,u,Aa);});},error:Aa.error});},error:function(b){p(Aa,function(){b instanceof F && (b.setUser(a),b.setUser(c));throw b;});}});});},error:function(f){p(Aa,function(){f instanceof F && (f.setEntity(b),f.setUser(a),f.setUser(c));throw f;});}});});},error:Aa.error});});},error:Aa.error});});},error:Aa.error});});},error:Aa.error});});};})();(function(){function n(g,n){this.payload=g;this.signature=n;}md=la.Class.create({init:function(g,n,t,K,x,H,G,ba){var w;w=this;p(ba,function(){var z,C;if(0 > g || g > Pa)throw new X("Sequence number " + g + " is outside the valid range.");if(0 > n || n > Pa)throw new X("Message ID " + n + " is outside the valid range.");if(G)return (Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:n,writable:!1,configurable:!1},compressionAlgo:{value:K,writable:!1,configurable:!1},data:{value:x,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:G.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:G.signature,writable:!1,enumerable:!1,configurable:!1}}),this);K?(z=nd(K,x),z || (K=null,z=x)):(K=null,z=x);C={};C.sequencenumber=g;C.messageid=n;t && (C.endofmsg=t);K && (C.compressionalgo=K);C.data=oa(z);z=Xa(JSON.stringify(C),Oa);H.encrypt(z,{result:function(z){p(ba,function(){H.sign(z,{result:function(H){p(ba,function(){Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:n,writable:!1,configurable:!1},compressionAlgo:{value:K,writable:!1,configurable:!1},data:{value:x,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:z,writable:!1,enumerable:!1,configurable:!1},signature:{value:H,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){ba.error(g);}});},w);},error:function(g){ba.error(g);}});},w);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var g;g={};g.payload=oa(this.payload);g.signature=oa(this.signature);return g;}});ge=function(g,n,p,t,x,H,G){new md(g,n,p,t,x,H,null,G);};he=function(w,t,C){p(C,function(){var z,x,H,G;z=w.payload;x=w.signature;if(!z || "string" !== typeof z || "string" !== typeof x)throw new ga(g.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(w));try{H=ya(z);}catch(ba){throw new Fa(g.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(w),ba);}try{G=ya(x);}catch(ba){throw new Fa(g.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(w),ba);}t.verify(H,G,{result:function(x){p(C,function(){if(!x)throw new L(g.PAYLOAD_VERIFICATION_FAILED);t.decrypt(H,{result:function(x){p(C,function(){var p,w,z,K,ba,na,N;p=Ya(x,Oa);try{w=JSON.parse(p);}catch(va){if(va instanceof SyntaxError)throw new ga(g.JSON_PARSE_ERROR,"payload chunk payload " + p,va);throw va;}z=parseInt(w.sequencenumber);K=parseInt(w.messageid);ba=w.endofmsg;na=w.compressionalgo;w=w.data;if(!z || z != z || !K || K != K || ba && "boolean" !== typeof ba || na && "string" !== typeof na || "string" !== typeof w)throw new ga(g.JSON_PARSE_ERROR,"payload chunk payload " + p);if(0 > z || z > Pa)throw new F(g.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + p);if(0 > K || K > Pa)throw new F(g.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + p);ba || (ba=!1);if(na && !Pb[na])throw new Fa(g.UNIDENTIFIED_COMPRESSION,na);try{N=ya(w);}catch(va){throw new Fa(g.PAYLOAD_DATA_CORRUPT,w,va);}if(N && 0 != N.length)p=na?Gc(na,N):N;else {if(0 < w.length)throw new Fa(g.PAYLOAD_DATA_CORRUPT,w);if(ba)p=new Uint8Array(0);else throw new Fa(g.PAYLOAD_DATA_MISSING,w);}N=new n(H,G);new md(z,K,ba,na,p,t,N,C);});},error:function(g){C.error(g);}});});},error:function(g){C.error(g);}});});};})();(function(){var C,K;function n(n,w,t,z,C){var H,K,G,ba,na;function x(){p(C,function(){var t,z;K >= w.length && (K=0,++H);if(H >= G.length){if(ba)throw ba;throw new Ra(g.KEYX_FACTORY_NOT_FOUND,JSON.stringify(w));}t=G[H];z=w[K];t.scheme != z.keyExchangeScheme?(++K,x()):t.generateResponse(n,z,na,{result:function(g){C.result(g);},error:function(g){p(C,function(){if(!(g instanceof F))throw g;ba=g;++K;x();});}});});}H=0;K=0;G=n.getKeyExchangeFactories();na=t?t:z;x();}function w(g,w,t,z,C){p(C,function(){var x;x=w.keyRequestData;if(w.isRenewable() && 0 < x.length)z?z.isRenewable() || z.isExpired()?n(g,x,z,null,C):g.getTokenFactory().isNewestMasterToken(g,z,{result:function(w){p(C,function(){if(w)return null;n(g,x,z,null,C);});},error:C.error}):n(g,x,null,t.getIdentity(),C);else return null;});}function t(n,w,t,z){p(z,function(){var p,x,H,C;p=w.userIdToken;x=w.userAuthenticationData;H=w.messageId;if(p && p.isVerified()){if(p.isRenewable() && w.isRenewable() || p.isExpired() || !p.isBoundTo(t)){x=n.getTokenFactory();x.renewUserIdToken(n,p,t,z);return;}}else if(w.isRenewable() && t && x){p=w.customer;if(!p){p=x.scheme;C=n.getUserAuthenticationFactory(p);if(!C)throw new Da(g.USERAUTH_FACTORY_NOT_FOUND,p).setEntity(t).setUser(x).setMessageId(H);p=C.authenticate(n,t.identity,x,null);}x=n.getTokenFactory();x.createUserIdToken(n,p,t,z);return;}return p;});}C=new Uint8Array(0);K=Vb=function(g){if(0 > g || g > Pa)throw new X("Message ID " + g + " is outside the valid range.");return g == Pa?0:g + 1;};cc=function(g){if(0 > g || g > Pa)throw new X("Message ID " + g + " is outside the valid range.");return 0 == g?Pa:g - 1;};Wb=function(g,n,w,t,z){p(z,function(){var x;if(t == da || null == t){x=g.getRandom();do {t=x.nextLong();}while(0 > t || t > Pa);}else if(0 > t || t > Pa)throw new X("Message ID " + t + " is outside the valid range.");g.getEntityAuthenticationData(null,{result:function(x){p(z,function(){var p;p=g.getMessageCapabilities();return new Hc(g,t,p,x,n,w,null,null,null,null,null);});},error:function(g){z.error(g);}});});};ie=function(g,n,z){p(z,function(){var H,C,G,na,S,W;function x(g){p(z,function(){g instanceof F && (g.setEntity(H),g.setEntity(C),g.setUser(G),g.setUser(na),g.setMessageId(S));throw g;});}H=n.masterToken;C=n.entityAuthenticationData;G=n.userIdToken;na=n.userAuthenticationData;S=n.messageId;W=K(S);w(g,n,C,H,{result:function(w){p(z,function(){var C;C=w?w.keyResponseData.masterToken:C=H;g.getEntityAuthenticationData(null,{result:function(K){p(z,function(){t(g,n,C,{result:function(x){p(z,function(){var p,t,z;G=x;p=ld(n.messageCapabilities,g.getMessageCapabilities());t=n.keyResponseData;z=n.serviceTokens;return g.isPeerToPeer()?new Hc(g,W,p,K,t?t.masterToken:n.peerMasterToken,n.peerUserIdToken,n.peerServiceTokens,H,G,z,w):new Hc(g,W,p,K,t?t.masterToken:H,G,z,null,null,null,w);});},error:x});});},error:x});});},error:x});});};je=function(g,n,w,t,z){p(z,function(){g.getEntityAuthenticationData(null,{result:function(x){p(z,function(){var p,H;if(n != da && null != n)p=K(n);else {H=g.getRandom();do {p=H.nextInt();}while(0 > p || p > Pa);}ae(g,x,p,w.responseCode,w.internalCode,w.message,t,z);});},error:function(g){z.error(g);}});});};Hc=la.Class.create({init:function(g,n,p,w,t,z,C,K,G,F,za){var x,H,ba,P,na;if(!g.isPeerToPeer() && (K || G))throw new X("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");x=za && !g.isPeerToPeer()?za.keyResponseData.masterToken:t;H=[];x=g.getMslStore().getServiceTokens(x,z);H.push.apply(H,x);C && C.forEach(function(g){H.push(g);},this);na=[];g.isPeerToPeer() && (ba=K,P=G,C=za?za.keyResponseData.masterToken:K,G=g.getMslStore().getServiceTokens(C,G),na.push.apply(na,G),F && F.forEach(function(g){na.push(g);},this));Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:w,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:t,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:p,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:za,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:z,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:H,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:ba,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:P,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:na,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Pc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Pc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || ud(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || ud(this._entityAuthData.scheme);},getHeader:function(n){p(n,function(){var p,x,w;p=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;x=[];for(w in this._keyRequestData){x.push(this._keyRequestData[w]);}if(this._nonReplayable){if(!this._masterToken)throw new Fa(g.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);w=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else w=null;p=new de(this._messageId,w,this._renewable,this._capabilities,x,p,this._userAuthData,this._userIdToken,this._serviceTokens);x=new ee(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);ce(this._ctx,this._entityAuthData,this._masterToken,p,x,n);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(g){this._nonReplayable=g;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(g){this._renewable=g;return this;},setAuthTokens:function(g,n){var p,w;if(n && !n.isBoundTo(g))throw new X("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new X("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{p=this._ctx.getMslStore().getServiceTokens(g,n);}catch(qa){if(qa instanceof F)throw new X("Invalid master token and user ID token combination despite checking above.",qa);throw qa;}for(var x=this._serviceTokens.length - 1;0 <= x;--x){w=this._serviceTokens[x];(w.isUserIdTokenBound() && !w.isBoundTo(n) || w.isMasterTokenBound() && !w.isBoundTo(g)) && this._serviceTokens.splice(x,1);}p.forEach(function(g){this.excludeServiceToken(g.name,g.isMasterTokenBound(),g.isUserIdTokenBound());this._serviceTokens.push(g);},this);this._masterToken=g;this._userIdToken=n;},setUserAuthenticationData:function(g){this._userAuthData=g;return this;},setCustomer:function(g,n){var x;x=this;p(n,function(){var w;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new X("User ID token or peer user ID token already exists for the remote user.");w=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!w)throw new X("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,g,w,{result:function(g){p(n,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=g:(this._userIdToken=g,this._userAuthData=null);return !0;},x);},error:function(g){n.error(g);}});},x);},addKeyRequestData:function(g){this._keyRequestData[g.uniqueKey()]=g;return this;},removeKeyRequestData:function(g){delete this._keyRequestData[g.uniqueKey()];return this;},addServiceToken:function(n){var p;p=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(n.isMasterTokenBound() && !n.isBoundTo(p))throw new Fa(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(n) + "; mt " + JSON.stringify(p)).setEntity(p);if(n.isUserIdTokenBound() && !n.isBoundTo(this._userIdToken))throw new Fa(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(n) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(p).setUser(this._userIdToken);this.excludeServiceToken(n.name,n.isMasterTokenBound(),n.isUserIdTokenBound());this._serviceTokens.push(n);return this;},addServiceTokenIfAbsent:function(g){var p;for(var n=this._serviceTokens.length - 1;0 <= n;--n){p=this._serviceTokens[n];if(p.name == g.name && p.isMasterTokenBound() == g.isMasterTokenBound() && p.isUserIdTokenBound() == g.isUserIdTokenBound())return this;}this.addServiceToken(g);return this;},excludeServiceToken:function(){var g,n,p,t;1 == arguments.length?(p=arguments[0],g=p.name,n=p.isMasterTokenBound(),p=p.isUserIdTokenBound()):(arguments.length=3,g=arguments[0],n=arguments[1],p=arguments[2]);for(var w=this._serviceTokens.length - 1;0 <= w;--w){t=this._serviceTokens[w];t.name == g && t.isMasterTokenBound() == n && t.isUserIdTokenBound() == p && this._serviceTokens.splice(w,1);}return this;},deleteServiceToken:function(){var g,n,w,t;if(2 == arguments.length){w=arguments[0];g=w.name;w.isMasterTokenBound();w.isUserIdTokenBound();n=arguments[1];}else (arguments.length=4,g=arguments[0],n=arguments[3]);t=this;p(n,function(){var x,w;x=originalToken.isMasterTokenBound()?this._masterToken:null;w=originalToken.isUserIdTokenBound()?this._userIdToken:null;Cb(this._ctx,g,C,x,w,!1,null,new bc(),{result:function(g){p(n,function(){return this.addServiceToken(g);},t);},error:function(g){g instanceof F && (g=new X("Failed to create and add empty service token to message.",g));n.error(g);}});},t);},getServiceTokens:function(){var g;g=[];g.push.apply(g,this._serviceTokens);return g;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(n,p){var x,t;if(!this._ctx.isPeerToPeer())throw new X("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(p && !n)throw new X("Peer master token cannot be null when setting peer user ID token.");if(p && !p.isBoundTo(n))throw new Fa(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + p + "; mt " + n).setEntity(n).setUser(p);try{x=this._ctx.getMslStore().getServiceTokens(n,p);}catch(qa){if(qa instanceof F)throw new X("Invalid peer master token and user ID token combination despite proper check.",qa);throw qa;}for(var w=this._peerServiceTokens.length - 1;0 <= w;--w){t=this._peerServiceTokens[w];(t.isUserIdTokenBound() && !t.isBoundTo(p) || t.isMasterTokenBound() && !t.isBoundTo(n)) && this._peerServiceTokens.slice(w,1);}x.forEach(function(g){this.excludePeerServiceToken(g.name,g.isMasterTokenBound(),g.isUserIdTokenBound());this._peerServiceTokens.push(g);},this);this._peerUserIdToken=p;this._peerMasterToken=n;return this;},addPeerServiceToken:function(n){if(!this._ctx.isPeerToPeer())throw new X("Cannot set peer service tokens when not in peer-to-peer mode.");if(n.isMasterTokenBound() && !n.isBoundTo(this._peerMasterToken))throw new Fa(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(n) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(n.isUserIdTokenBound() && !n.isBoundTo(this._peerUserIdToken))throw new Fa(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(n) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(n.name,n.isMasterTokenBound(),n.isUserIdTokenBound());this._peerServiceTokens.push(n);return this;},addPeerServiceTokenIfAbsent:function(g){var p;for(var n=this._peerServiceTokens.length - 1;0 <= n;--n){p=this._peerServiceTokens[n];if(p.name == g.name && p.isMasterTokenBound() == g.isMasterTokenBound() && p.isUserIdTokenBound() == g.isUserIdTokenBound())return this;}this.addPeerServiceToken(g);return this;},excludePeerServiceToken:function(){var g,n,p,t;1 == arguments.length?(p=arguments[0],g=p.name,n=p.isMasterTokenBound(),p=p.isUserIdTokenBound()):(arguments.length=3,g=arguments[0],n=arguments[1],p=arguments[2]);for(var w=this._peerServiceTokens.length - 1;0 <= w;--w){t=this._peerServiceTokens[w];t.name == g && t.isMasterTokenBound() == n && t.isUserIdTokenBound() == p && this._peerServiceTokens.splice(w,1);}return this;},deletePeerServiceToken:function(){var g,n,w,t,z,K;if(2 == arguments.length){z=arguments[0];g=z.name;n=z.isMasterTokenBound();w=z.isUserIdTokenBound();t=arguments[1];}else (arguments.length=4,g=arguments[0],n=arguments[1],w=arguments[2],t=arguments[3]);K=this;p(t,function(){Cb(this._ctx,g,C,n?this._peerMasterToken:null,w?this._peerUserIdToken:null,!1,null,new bc(),{result:function(g){p(t,function(){return this.addPeerServiceToken(g);},K);},error:function(g){g instanceof F && (g=new X("Failed to create and add empty peer service token to message.",g));t.error(g);}});},K);},getPeerServiceTokens:function(){var g;g=[];g.push.apply(g,this._peerServiceTokens);return g;}});})();(function(){function g(g,n){return n[g]?n[g]:n[""];}function n(g){var n;n=g.builder.getKeyExchangeData();return n && !g.ctx.isPeerToPeer()?n.keyResponseData.masterToken:g.builder.getMasterToken();}ke=la.Class.create({init:function(g,n,p){g={ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:n.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:p,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},isPrimaryMasterTokenAvailable:function(){return n(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(g){try{return (this.builder.addServiceToken(g),!0);}catch(C){if(C instanceof Fa)return !1;throw C;}},addPeerServiceToken:function(g){try{return (this.builder.addPeerServiceToken(g),!0);}catch(C){if(C instanceof Fa)return !1;throw C;}},addUnboundPrimaryServiceToken:function(n,w,t,x,H){var z;z=this;p(H,function(){var C;C=g(n,this.cryptoContexts);if(!C)return !1;Cb(this.ctx,n,w,null,null,t,x,C,{result:function(g){p(H,function(){try{this.builder.addServiceToken(g);}catch(qa){if(qa instanceof Fa)throw new X("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},z);},error:function(g){H.error(g);}});},z);},addUnboundPeerServiceToken:function(n,w,t,x,H){var z;z=this;p(H,function(){var C;C=g(n,this.cryptoContexts);if(!C)return !1;Cb(this.ctx,n,w,null,null,t,x,C,{result:function(g){p(H,function(){try{this.builder.addPeerServiceToken(g);}catch(qa){if(qa instanceof Fa)throw new X("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},z);},error:function(g){H.error(g);}});},z);},addMasterBoundPrimaryServiceToken:function(w,t,K,x,H){var z;z=this;p(H,function(){var C,G;C=n(this);if(!C)return !1;G=g(w,this.cryptoContexts);if(!G)return !1;Cb(this.ctx,w,t,C,null,K,x,G,{result:function(g){p(H,function(){try{this.builder.addServiceToken(g);}catch(P){if(P instanceof Fa)throw new X("Service token bound to incorrect authentication tokens despite setting correct master token.",P);throw P;}return !0;},z);},error:function(g){H.error(g);}});},z);},addMasterBoundPeerServiceToken:function(n,w,t,x,H){var z;z=this;p(H,function(){var C,K;C=this.builder.getPeerMasterToken();if(!C)return !1;K=g(n,this.cryptoContexts);if(!K)return !1;Cb(this.ctx,n,w,C,null,t,x,K,{result:function(g){p(H,function(){try{this.builder.addPeerServiceToken(g);}catch(P){if(P instanceof Fa)throw new X("Service token bound to incorrect authentication tokens despite setting correct master token.",P);throw P;}return !0;},z);},error:function(g){H.error(g);}});},z);},addUserBoundPrimaryServiceToken:function(w,t,K,x,H){var z;z=this;p(H,function(){var C,G,F;C=n(this);if(!C)return !1;G=this.builder.getUserIdToken();if(!G)return !1;F=g(w,this.cryptoContexts);if(!F)return !1;Cb(this.ctx,w,t,C,G,K,x,F,{result:function(g){p(H,function(){try{this.builder.addServiceToken(g);}catch(ua){if(ua instanceof Fa)throw new X("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ua);throw ua;}return !0;},z);},error:function(g){H.error(g);}});},z);},addUserBoundPeerServiceToken:function(n,w,t,x,H){var z;z=this;p(H,function(){var C,K,G;C=this.builder.getPeerMasterToken();if(!C)return !1;K=this.builder.getPeerUserIdToken();if(!K)return !1;G=g(n,this.cryptoContexts);if(!G)return !1;Cb(this.ctx,n,w,C,K,t,x,G,{result:function(g){p(H,function(){try{this.builder.addPeerServiceToken(g);}catch(ua){if(ua instanceof Fa)throw new X("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ua);throw ua;}return !0;},z);},error:function(g){H.error(g);}});},z);},excludePrimaryServiceToken:function(){var g,n,p,w;if(1 == arguments.length){w=arguments[0];g=w.name;n=w.isMasterTokenBound();p=w.isUserIdTokenBound();}else (arguments.length=3,g=arguments[0],n=arguments[1],p=arguments[2]);for(var t=this.builder.getServiceTokens(),G=0;G < t.length;++G){if((w=t[G],w.name == g && w.isMasterTokenBound() == n && w.isUserIdTokenBound() == p))return (this.builder.excludeServiceToken(g,n,p),!0);}return !1;},excludePeerServiceToken:function(){var g,n,p,w;if(1 == arguments.length){w=arguments[0];g=w.name;n=w.isMasterTokenBound();p=w.isUserIdTokenBound();}else (arguments.length=3,g=arguments[0],n=arguments[1],p=arguments[2]);for(var t=this.builder.getPeerServiceTokens(),G=0;G < t.length;++G){if((w=t[G],w.name == g && w.isMasterTokenBound() == n && w.isUserIdTokenBound() == p))return (this.builder.excludePeerServiceToken(g,n,p),!0);}return !1;},deletePrimaryServiceToken:function(){var g,n,w,x,t;if(2 == arguments.length){t=arguments[0];g=t.name;n=t.isMasterTokenBound();w=t.isUserIdTokenBound();x=arguments[1];}else 4 == arguments.length && (g=arguments[0],n=arguments[1],w=arguments[2],x=arguments[3]);p(x,function(){var z;for(var p=this.builder.getServiceTokens(),t=0;t < p.length;++t){z=p[t];if(z.name == g && z.isMasterTokenBound() == n && z.isUserIdTokenBound() == w){this.builder.deleteServiceToken(g,n,w,{result:function(){x.result(!0);},error:function(g){x.error(g);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var g,n,w,x,t;if(2 == arguments.length){t=arguments[0];g=t.name;n=t.isMasterTokenBound();w=t.isUserIdTokenBound();x=arguments[1];}else 4 == arguments.length && (g=arguments[0],n=arguments[1],w=arguments[2],x=arguments[3]);p(x,function(){var z;for(var p=this.builder.getPeerServiceTokens(),t=0;t < p.length;++t){z=p[t];if(z.name == g && z.isMasterTokenBound() == n && z.isUserIdTokenBound() == w){this.builder.deletePeerServiceToken(g,n,w,{result:function(){x.result(!0);},error:function(g){x.error(g);}});return;}}return !1;},this);}});})();(function(){function n(n,t,C,K){p(K,function(){var z,G,ba,Ja,qa,P;function w(){p(K,function(){var x;if(P >= C.length){if(qa)throw qa;throw new Ra(g.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(C));}x=C[P];ba != x.keyExchangeScheme?(++P,w()):Ja.getCryptoContext(n,x,G,z,{result:K.result,error:function(g){p(K,function(){if(!(g instanceof F))throw g;qa=g;++P;w();});}});});}z=t.masterToken;G=t.keyResponseData;if(!G)return null;ba=G.keyExchangeScheme;Ja=n.getKeyExchangeFactory(ba);if(!Ja)throw new Ra(g.KEYX_FACTORY_NOT_FOUND,ba);P=0;w();});}le=ed.extend({init:function(p,z,C,G,x,H,na){var w;w=this;t(na,function(){var na;function t(){w._ready=!0;w._readyQueue.add(!0);}function K(g,n){var p;try{p=n.masterToken;g.getTokenFactory().isMasterTokenRevoked(g,p,{result:function(x){x?(w._errored=new Rb(x,p).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),t()):P(g,n);},error:function(g){g instanceof F && (g.setEntity(n.masterToken),g.setUser(n.userIdToken),g.setUser(n.userAuthenticationData),g.setMessageId(n.messageId));w._errored=g;t();}});}catch(Aa){Aa instanceof F && (Aa.setEntity(n.masterToken),Aa.setUser(n.userIdToken),Aa.setUser(n.userAuthenticationData),Aa.setMessageId(n.messageId));w._errored=Aa;t();}}function P(g,n){var p,x;try{p=n.masterToken;x=n.userIdToken;x?g.getTokenFactory().isUserIdTokenRevoked(g,p,x,{result:function(z){z?(w._errored=new MslUserIdTokenException(z,x).setEntity(p).setUser(x).setMessageId(n.messageId),t()):ba(g,n);},error:function(g){g instanceof F && (g.setEntity(n.masterToken),g.setUser(n.userIdToken),g.setUser(n.userAuthenticationData),g.setMessageId(n.messageId));w._errored=g;t();}}):ba(g,n);}catch(Ba){Ba instanceof F && (Ba.setEntity(n.masterToken),Ba.setUser(n.userIdToken),Ba.setUser(n.userAuthenticationData),Ba.setMessageId(n.messageId));w._errored=Ba;t();}}function ba(n,p){var x;try{x=p.masterToken;x.isExpired()?p.isRenewable() && 0 != p.keyRequestData.length?n.getTokenFactory().isMasterTokenRenewable(n,x,{result:function(g){g?(w._errored=new Fa(g,"Master token is expired and not renewable.").setEntity(x).setUser(p.userIdToken).setUser(p.userAuthenticationData).setMessageId(p.messageId),t()):S(n,p);},error:function(g){g instanceof F && (g.setEntity(p.masterToken),g.setUser(p.userIdToken),g.setUser(p.userAuthenticationData),g.setMessageId(p.messageId));w._errored=g;t();}}):(w._errored=new Fa(g.MESSAGE_EXPIRED,JSON.stringify(p)).setEntity(x).setUser(p.userIdToken).setUser(p.userAuthenticationData).setMessageId(p.messageId),t()):S(n,p);}catch(Aa){Aa instanceof F && (Aa.setEntity(p.masterToken),Aa.setUser(p.userIdToken),Aa.setUser(p.userAuthenticationData),Aa.setMessageId(p.messageId));w._errored=Aa;t();}}function S(n,p){var x,z;try{x=p.masterToken;z=p.nonReplayableId;"number" === typeof z?x?n.getTokenFactory().acceptNonReplayableId(n,x,z,{result:function(n){n || (w._errored=new Fa(g.MESSAGE_REPLAYED,JSON.stringify(p)).setEntity(x).setUser(p.userIdToken).setUser(p.userAuthenticationData).setMessageId(p.messageId));t();},error:function(g){g instanceof F && (g.setEntity(x),g.setUser(p.userIdToken),g.setUser(p.userAuthenticationData),g.setMessageId(p.messageId));w._errored=g;t();}}):(w._errored=new Fa(g.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(p)).setEntity(p.entityAuthenticationData).setUser(p.userIdToken).setUser(p.userAuthenticationData).setMessageId(p.messageId),t()):t();}catch(Ba){Ba instanceof F && (Ba.setEntity(p.masterToken),Ba.setEntity(p.entityAuthenticationData),Ba.setUser(p.userIdToken),Ba.setUser(p.userAuthenticationData),Ba.setMessageId(p.messageId));w._errored=Ba;t();}}na={_source:{value:z,writable:!1,enumerable:!1,configurable:!1},_parser:{value:da,writable:!0,enumerable:!1,configurable:!1},_charset:{value:C,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:H,writable:!1,enumerable:!1,configurable:!1},_header:{value:da,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:da,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:da,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,na);Pd(w._source,H,{result:function(z){w._json=z;w._jsonIndex=0;null === w._json?(w._errored=new ga(g.MESSAGE_DATA_MISSING),t()):Wd(p,w._json[w._jsonIndex++],x,{result:function(g){var x;w._header=g;if(w._header instanceof Nb)(w._keyxCryptoContext=null,w._cryptoContext=null,t());else {x=w._header;n(p,x,G,{result:function(g){var n;try{w._keyxCryptoContext=g;p.isPeerToPeer() || !w._keyxCryptoContext?w._cryptoContext=x.cryptoContext:w._cryptoContext=w._keyxCryptoContext;try{n=x.masterToken;n && (p.isPeerToPeer() || n.isVerified())?K(p,x):S(p,x);}catch(pa){pa instanceof F && (pa.setEntity(x.masterToken),pa.setUser(x.userIdToken),pa.setUser(x.userAuthenticationData),pa.setMessageId(x.messageId));w._errored=pa;t();}}catch(pa){pa instanceof F && (pa.setEntity(x.masterToken),pa.setEntity(x.entityAuthenticationData),pa.setUser(x.userIdToken),pa.setUser(x.userAuthenticationData),pa.setMessageId(x.messageId));w._errored=pa;t();}},error:function(g){g instanceof F && (g.setEntity(x.masterToken),g.setEntity(x.entityAuthenticationData),g.setUser(x.userIdToken),g.setUser(x.userAuthenticationData),g.setMessageId(x.messageId));w._errored=g;t();}});}},error:function(g){w._errored=g;t();}});},timeout:function(){w._timedout=!0;t();},error:function(g){w._errored=g;t();}});return this;},w);},nextData:function(n,p){var w;w=this;t(p,function(){var x;function n(g){t(g,function(){var p;if(this._jsonIndex < this._json.length)return p=this._json[this._jsonIndex++];Pd(this._source,this._timeout,{result:function(p){p && p.length && 0 < p.length?(p.forEach(function(g){this._json.push(g);}),n(g)):(this._eom=!0,g.result(null));},timeout:function(){g.timeout();},error:function(n){g.error(n);}});},w);}x=this.getMessageHeader();if(!x)throw new X("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;n({result:function(n){t(p,function(){if(!n)return null;if("object" !== typeof n)throw new ga(g.MESSAGE_FORMAT_ERROR);he(n,this._cryptoContext,{result:function(n){t(p,function(){var p,w,t,z;p=x.masterToken;w=x.entityAuthenticationData;t=x.userIdToken;z=x.getUserAuthenticationData;if(n.messageId != x.messageId)throw new Fa(g.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + n.messageId + " header mid " + x.messageId).setEntity(p).setEntity(w).setUser(t).setUser(z);if(n.sequenceNumber != this._payloadSequenceNumber)throw new Fa(g.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + n.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(p).setEntity(w).setUser(t).setUser(z);++this._payloadSequenceNumber;n.isEndOfMessage() && (this._eom=!0);p=n.data;this._payloads.push(p);this._payloadIndex=-1;return p;},w);},error:function(n){n instanceof SyntaxError && (n=new ga(g.JSON_PARSE_ERROR,"payloadchunk",n));p.error(n);}});},w);},timeout:function(){p.timeout();},error:function(g){p.error(g);}});},w);},isReady:function(g,n){var w;function p(){t(n,function(){if(this._aborted)return !1;if(this._timedout)n.timeout();else {if(this._errored)throw this._errored;return !0;}},w);}w=this;t(n,function(){this._ready?p():this._readyQueue.poll(g,{result:function(g){t(n,function(){if(g === da)return !1;p();},w);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});},w);},getMessageHeader:function(){return this._header instanceof kc?this._header:null;},getErrorHeader:function(){return this._header instanceof Nb?this._header:null;},getIdentity:function(){var g,n;g=this.getMessageHeader();if(g){n=g.masterToken;return n?n.identity:g.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var g;g=this.getMessageHeader();return g?g.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(g){this._closeSource=g;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(g,n,p){var x;function w(){t(p,function(){var z,C,G,K;function w(p){t(p,function(){var z,H,P;if(C && K >= C.length)return C.subarray(0,K);z=-1;if(this._currentPayload){H=this._currentPayload.length - this._payloadOffset;if(!C){P=H;if(-1 != this._payloadIndex)for(var ba=this._payloadIndex;ba < this._payloads.length;++ba){P+=this._payloads[ba].length;}0 < P && (C=new Uint8Array(P));}H=Math.min(H,C?C.length - K:0);0 < H && (z=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + H),C.set(z,G),z=H,G+=H,this._payloadOffset+=H);}-1 != z?(K+=z,w(p)):this.nextData(n,{result:function(n){t(p,function(){if(this._aborted)return C?C.subarray(0,K):new Uint8Array(0);this._currentPayload=n;this._payloadOffset=0;if(this._currentPayload)w(p);else return 0 == K && 0 != g?null:C?C.subarray(0,K):new Uint8Array(0);},x);},timeout:function(){p.timeout(C?C.subarray(0,K):new Uint8Array(0));},error:function(g){t(p,function(){g instanceof F && (g=new $a("Error reading the payload chunk.",g));if(0 < K)return (x._readException=g,C.subarray(0,K));throw g;},x);}});},x);}if(this._aborted)return new Uint8Array(0);if(this._timedout)p.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){z=this._readException;this._readException=null;throw z;}C=-1 != g?new Uint8Array(g):da;G=0;K=0;w(p);}},x);}x=this;t(p,function(){if(-1 > g)throw new RangeError("read requested with illegal length " + g);this._ready?w():this._readyQueue.poll(n,{result:function(g){g === da?p.result(!1):w();},timeout:function(){p.timeout(new Uint8Array(0));},error:function(g){p.error(g);}});},x);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});me=function(g,n,p,t,x,H,G){new le(g,n,p,t,x,H,G);};})();(function(){ne=Cc.extend({init:function(g,n,p,C,K,x,H){var w;w=this;t(H,function(){var z,H,G;function t(){w._ready=!0;w._readyQueue.add(!0);}z=ld(g.getMessageCapabilities(),C.messageCapabilities);H=null;z && (H=Dd(z.compressionAlgorithms));z={_destination:{value:n,writable:!1,enumerable:!1,configurable:!1},_charset:{value:p,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:z,writable:!1,enumerable:!1,configurable:!1},_header:{value:C,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:H,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:K,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,z);G=Xa(JSON.stringify(C),p);n.write(G,0,G.length,x,{result:function(g){try{w._aborted?t():g < G.length?(w._timedout=!0,t()):n.flush(x,{result:function(g){w._aborted || (w._timedout=!g);t();},timeout:function(){w._timedout=!0;t();},error:function(g){w._errored=g;t();}});}catch(S){w._errored=S;t();}},timeout:function(){w._timedout=!0;t();},error:function(g){w._errored=g;t();}});return this;},w);},setCompressionAlgorithm:function(g,n,p){var z;function w(){z.flush(n,{result:function(n){t(p,function(){if(!n)throw new $a("flush() aborted");this._compressionAlgo=g;return !0;},z);},timeout:function(){p.timeout();},error:function(g){p.error(g);}});}z=this;t(p,function(){if(!this.getMessageHeader())throw new X("Cannot write payload data for an error message.");if(this._compressionAlgo == g)return !0;if(g){if(!this._capabilities)return !1;for(var n=this._capabilities.compressionAlgorithms,p=0;p < n.length;++p){if(n[p] == g){w();return;}}return !1;}w();},z);},getMessageHeader:function(){return this._header instanceof kc?this._header:null;},getErrorMessage:function(){return this._header instanceof Nb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(g,n){var p;p=this;t(n,function(){if(this._aborted)return !1;if(this._timedout)n.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(g,{result:function(g){t(n,function(){g && (this._currentPayload=null);return g;},p);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});}},p);},flush:function(g,n){var w;function p(){t(n,function(){var p,x,L;if(this._aborted)return !1;if(this._timedout)n.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;p=this.getMessageHeader();if(!p)return !0;x=0;this._currentPayload && this._currentPayload.forEach(function(g){x+=g.length;});for(var z=new Uint8Array(x),C=0,G=0;this._currentPayload && G < this._currentPayload.length;++G){L=this._currentPayload[G];z.set(L,C);C+=L.length;}ge(this._payloadSequenceNumber,p.messageId,this._closed,this._compressionAlgo,z,this._cryptoContext,{result:function(p){t(n,function(){var x;this._payloads.push(p);x=Xa(JSON.stringify(p),this._charset);this._destination.write(x,0,x.length,g,{result:function(x){t(n,function(){if(this._aborted)return !1;x < p.length?n.timeout():this._destination.flush(g,{result:function(g){t(n,function(){if(this._aborted)return !1;if(g)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);n.timeout();},w);},timeout:function(){n.timeout();},error:function(g){g instanceof F && (g=new $a("Error encoding payload chunk [sequence number " + w._payloadSequenceNumber + "].",g));n.error(g);}});},w);},timeout:function(g){n.timeout();},error:function(g){g instanceof F && (g=new $a("Error encoding payload chunk [sequence number " + w._payloadSequenceNumber + "].",g));n.error(g);}});},w);},error:function(g){g instanceof F && (g=new $a("Error encoding payload chunk [sequence number " + w._payloadSequenceNumber + "].",g));n.error(g);}});}},w);}w=this;t(n,function(){this._ready?p():this._readyQueue.poll(g,{result:function(g){g === da?n.result(!1):p();},timeout:function(){n.timeout();},error:function(g){n.error(g);}});},w);},write:function(g,n,p,C,K){t(K,function(){var w;if(this._aborted)return !1;if(this._timedout)K.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new $a("Message output stream already closed.");if(0 > n)throw new RangeError("Offset cannot be negative.");if(0 > p)throw new RangeError("Length cannot be negative.");if(n + p > g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new X("Cannot write payload data for an error message.");w=g.subarray(n,n + p);this._currentPayload.push(w);return w.length;}},this);}});Ic=function(g,n,p,t,K,x,H){new ne(g,n,p,t,K,x,H);};})();Ve=la.Class.create({sentHeader:function(g){},receivedHeader:function(g){}});Object.freeze({USERDATA_REAUTH:n.USERDATA_REAUTH,SSOTOKEN_REJECTED:n.SSOTOKEN_REJECTED});oe=la.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(g,n,p,t){},getCustomer:function(){},getKeyRequestData:function(g){},updateServiceTokens:function(g,n,p){},write:function(g,n,p){},getDebugContext:function(){}});la.Class.create({getInputStream:function(g){},getOutputStream:function(g){}});(function(){var na,ba,L,qa,P,ua,S,W,za,N,va,Aa;function G(g){return function(){g.abort();};}function w(g,n){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},ticket:{value:n,writable:!1,configurable:!1}});}function z(g,n){Object.defineProperties(this,{builder:{value:g,writable:!1,configurable:!1},msgCtx:{value:n,writable:!1,configurable:!1}});}function C(g,n,p){Object.defineProperties(this,{requestHeader:{value:g,writable:!1,configurable:!1},payloads:{value:n,writable:!1,configurable:!1},handshake:{value:p,writable:!1,configurable:!1}});}function K(g,n){Object.defineProperties(this,{requestHeader:{value:n.requestHeader,writable:!1,configurable:!1},payloads:{value:n.payloads,writable:!1,configurable:!1},handshake:{value:n.handshake,writable:!1,configurable:!1},response:{value:g,writable:!1,configurable:!1}});}function x(g){for(;g;){if(g instanceof cb)return !0;g=g instanceof F?g.cause:da;}return !1;}function H(g,n,p,w,x,z,C,H,d){je(n,w,x,z,{result:function(b){p && p.sentHeader(b);Ic(n,C,Oa,b,null,null,H,{result:function(a){g.setAbort(function(){a.abort();});a.close(H,{result:function(a){t(d,function(){if(!a)throw new cb("sendError aborted.");return a;});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){},error:function(a){d.error(a);}});},error:function(b){d.error(b);}});}na=Cc.extend({close:function(g,n){n.result(!0);},write:function(g,n,w,x,t){p(t,function(){return Math.min(g.length - n,w);});},flush:function(g,n){n.result(!0);}});ba=Ue.extend({getUserMessage:function(g,n){return null;}});L=oe.extend({init:function(g){Object.defineProperties(this,{_appCtx:{value:g,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(g,n,p,w){this._appCtx.getUserAuthData(g,n,p,w);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(g){this._appCtx.getKeyRequestData(g);},updateServiceTokens:function(g,n,p){this._appCtx.updateServiceTokens(g,n,p);},write:function(g,n,p){this._appCtx.write(g,n,p);},getDebugContext:function(){return this._appCtx.getDebugContext();}});qa=L.extend({init:function pa(g,n){pa.base.call(this,n);Object.defineProperties(this,{_payloads:{value:g,writable:!1,enumerable:!1,configurable:!1}});},write:function(g,n,p){var x;function w(z,C){var d;if(z == x._payloads.length)p.result(!0);else {d=x._payloads[z];g.setCompressionAlgorithm(d.compressionAlgo,n,{result:function(b){g.write(d.data,0,d.data.length,n,{result:function(a){t(p,function(){d.isEndOfMessage()?w(z + 1,C):g.flush(n,{result:function(a){p.result(a);},timeout:function(){p.timeout();},error:function(a){p.error(a);}});},x);},timeout:function(a){p.timeout(a);},error:function(a){p.error(a);}});},timeout:function(){},error:function(b){p.error(b);}});}}x=this;w(0);}});P=L.extend({init:function ea(g){ea.base.call(this,g);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(g,n,p){p.result(!0);}});ua={};va=la.Class.create({init:function(g){g || (g=new ba());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:g,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(g){this._filterFactory=g;},getNewestMasterToken:function(g,n,p,x){var z;z=this;t(x,function(){var C,d,b,a,c;C=n.getMslStore();d=C.getMasterToken();if(!d)return null;b=d.uniqueKey();a=this._masterTokenLocks[b];a || (a=new Uc(),this._masterTokenLocks[b]=a);c=a.readLock(p,{result:function(c){t(x,function(){var l;if(c === da)throw new cb("getNewestMasterToken aborted.");l=C.getMasterToken();if(d.equals(l))return new w(d,c);a.unlock(c);a.writeLock(p,{result:function(c){t(x,function(){if(c === da)throw new cb("getNewestMasterToken aborted.");delete this._masterTokenLocks[b];a.unlock(c);return this.getNewestMasterToken(g,n,p,x);},z);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},z);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});g.setAbort(function(){c && (a.cancel(c),c=da);});},z);},deleteMasterToken:function(g,n){var p;if(n){p=this;setTimeout(function(){var w,x;w=n.uniqueKey();x=p._masterTokenLocks[w];x || (x=new Uc(),p._masterTokenLocks[w]=x);x.writeLock(-1,{result:function(t){g.getMslStore().removeCryptoContext(n);delete p._masterTokenLocks[w];x.unlock(t);},timeout:function(){throw new X("Unexpected timeout received.");},error:function(g){throw g;}});},0);}},releaseMasterToken:function(g){var n;if(g && g.masterToken){n=g.masterToken.uniqueKey();n=this._masterTokenLocks[n];if(!n)throw new X("Master token read/write lock does not exist when it should.");n.unlock(g.ticket);}},updateOutgoingCryptoContexts:function(g,n,p){var w;w=g.getMslStore();!g.isPeerToPeer() && p && (w.setCryptoContext(p.keyResponseData.masterToken,p.cryptoContext),this.deleteMasterToken(g,n.masterToken));},updateIncomingCryptoContexts:function(g,n,p){var w,x;w=p.getMessageHeader();if(w){x=g.getMslStore();if(w=w.keyResponseData)(x.setCryptoContext(w.masterToken,p.getKeyExchangeCryptoContext()),this.deleteMasterToken(g,n.masterToken));}},storeServiceTokens:function(g,n,p,w){var d,b;g=g.getMslStore();for(var x=[],t=0;t < w.length;++t){d=w[t];if(!d.isBoundTo(n) || !n.isVerified()){b=d.data;b && 0 == b.length?g.removeServiceTokens(d.name,d.isMasterTokenBound()?n:null,d.isUserIdTokenBound()?p:null):x.push(d);}}0 < x.length && g.addServiceTokens(x);},buildRequest:function(g,n,w,x,t){var z;z=this;this.getNewestMasterToken(g,n,x,{result:function(d){p(t,function(){var b,a,c;b=d && d.masterToken;if(b){a=w.getUserId();c=n.getMslStore();a=(a=a?c.getUserIdToken(a):null) && a.isBoundTo(b)?a:null;}else a=null;Wb(n,b,a,null,{result:function(a){p(t,function(){a.setNonReplayable(w.isNonReplayable());return {builder:a,tokenTicket:d};});},error:function(a){p(t,function(){this.releaseMasterToken(d);a instanceof F && (a=new X("User ID token not bound to master token despite internal check.",a));throw a;},z);}});},z);},timeout:function(){t.timeout();},error:function(d){t.error(d);}});},buildResponse:function(g,n,p,w,x,z){var d;d=this;ie(n,w,{result:function(b){t(z,function(){b.setNonReplayable(p.isNonReplayable());if(!n.isPeerToPeer() && !w.keyResponseData)return {builder:b,tokenTicket:null};this.getNewestMasterToken(g,n,x,{result:function(a){t(z,function(){var c,l,k;c=a && a.masterToken;if(c){l=p.getUserId();k=n.getMslStore();l=(l=l?k.getUserIdToken(l):null) && l.isBoundTo(c)?l:null;}else l=null;b.setAuthTokens(c,l);return {builder:b,tokenTicket:a};},d);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});},d);},error:function(b){z.error(b);}});},buildErrorResponse:function(g,p,w,x,C,H,d){var c;function b(a,b){t(d,function(){var l,f;l=Vb(C.messageId);f=new qa(b,w);Wb(p,null,null,l,{result:function(b){t(d,function(){p.isPeerToPeer() && b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(f.isNonReplayable());return {errorResult:new z(b,f),tokenTicket:null};},c);},error:function(a){d.error(a);}});},c);}function a(a,b){c.getNewestMasterToken(g,p,H,{result:function(l){t(d,function(){var f,h,q;f=l && l.masterToken;h=Vb(C.messageId);q=new qa(b,w);Wb(p,f,null,h,{result:function(b){t(d,function(){p.isPeerToPeer() && b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(q.isNonReplayable());return {errorResult:new z(b,q),tokenTicket:l};},c);},error:function(a){d.error(a);}});},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}c=this;t(d,function(){var l,k,m,f;l=x.requestHeader;k=x.payloads;m=C.errorCode;switch(m){case n.ENTITYDATA_REAUTH:case n.ENTITY_REAUTH:p.getEntityAuthenticationData(m,{result:function(a){t(d,function(){if(!a)return null;b(l,k);},c);},error:function(a){d.error(a);}});break;case n.USERDATA_REAUTH:case n.SSOTOKEN_REJECTED:w.getUserAuthData(m,!1,!0,{result:function(b){t(d,function(){if(!b)return null;a(l,k);},c);},error:function(a){d.error(a);}});break;case n.USER_REAUTH:a(l,k);break;case n.KEYX_REQUIRED:(m=Vb(C.messageId),f=new qa(k,w));Wb(p,null,null,m,{result:function(a){t(d,function(){p.isPeerToPeer() && a.setPeerAuthTokens(l.peerMasterToken,l.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(f.isNonReplayable());return {errorResult:new z(a,f),tokenTicket:null};},c);},error:function(a){d.error(a);}});break;case n.EXPIRED:this.getNewestMasterToken(g,p,H,{result:function(a){t(d,function(){var b,f,h,m;b=a && a.masterToken;f=l.userIdToken;h=Vb(C.messageId);m=new qa(k,w);Wb(p,b,f,h,{result:function(f){t(d,function(){p.isPeerToPeer() && f.setPeerAuthTokens(l.peerMasterToken,l.peerUserIdToken);l.masterToken.equals(b) && f.setRenewable(!0);f.setNonReplayable(m.isNonReplayable());return {errorResult:new z(f,m),tokenTicket:a};},c);},error:function(a){d.error(a);}},c);},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;case n.REPLAYED:this.getNewestMasterToken(g,p,H,{result:function(a){t(d,function(){var b,f,h,m;b=a && a.masterToken;f=l.userIdToken;h=Vb(C.messageId);m=new qa(k,w);Wb(p,b,f,h,{result:function(f){t(d,function(){p.isPeerToPeer() && f.setPeerAuthTokens(l.peerMasterToken,l.peerUserIdToken);l.masterToken.equals(b)?(f.setRenewable(!0),f.setNonReplayable(!1)):f.setNonReplayable(m.isNonReplayable());return {errorResult:new z(f,m),tokenTicket:a};},c);},error:function(a){d.error(a);}});},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;default:return null;}},c);},cleanupContext:function(g,p,w){switch(w.errorCode){case n.ENTITY_REAUTH:this.deleteMasterToken(g,p.masterToken);break;case n.USER_REAUTH:(w=p.userIdToken,p.masterToken && w && g.getMslStore().removeUserIdToken(w));}},send:function(g,n,p,w,x,z,d){var m;function b(b,c,l){t(d,function(){var f;f=x.getPeerUserIdToken();!n.isPeerToPeer() && !c || n.isPeerToPeer() && !f?(f=p.getCustomer())?x.setCustomer(f,{result:function(f){t(d,function(){c=x.getUserIdToken();a(b,c,l);},m);},error:function(a){d.error(a);}}):a(b,c,l):a(b,c,l);},m);}function a(a,b,l){t(d,function(){var f,h;f=!l && (!p.isEncrypted() || x.willEncryptPayloads()) && (!p.isIntegrityProtected() || x.willIntegrityProtectPayloads()) && (!p.isNonReplayable() || x.isNonReplayable() && a);f || x.setNonReplayable(!1);h=[];x.isRenewable() && (!a || a.isRenewable() || p.isNonReplayable())?p.getKeyRequestData({result:function(l){t(d,function(){var m;for(var q=0;q < l.length;++q){m=l[q];h.push(m);x.addKeyRequestData(m);}c(a,b,f,h);},m);},error:function(a){d.error(a);}}):c(a,b,f,h);},m);}function c(a,b,c,k){t(d,function(){var f;f=new ke(n,p,x);p.updateServiceTokens(f,!c,{result:function(f){x.getHeader({result:function(f){t(d,function(){var h,q;h=p.getDebugContext();h && h.sentHeader(f);h=x.getKeyExchangeData();this.updateOutgoingCryptoContexts(n,f,h);this.storeServiceTokens(n,a,b,f.serviceTokens);h=!n.isPeerToPeer() && h?h.cryptoContext:f.cryptoContext;if(g.isAborted())throw new cb("send aborted.");q=null != this._filterFactory?this._filterFactory.getOutputStream(w):w;Ic(n,q,Oa,f,h,z,{result:function(a){g.setAbort(function(){a.abort();});l(a,f,c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},error:function(a){d.error(a);}});},m);}function l(a,b,c){var f,h;if(c)p.write(a,z,{result:function(f){t(d,function(){if(g.isAborted())throw new cb("MessageOutputStream write aborted.");k(a,b,c);},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});else {f=new na();h=new bc();Ic(n,f,Oa,b,h,z,{result:function(f){p.write(f,z,{result:function(h){t(d,function(){if(g.isAborted())throw new cb("MessageOutputStream proxy write aborted.");f.close(z,{result:function(h){t(d,function(){var l;if(!h)throw new cb("MessageOutputStream proxy close aborted.");l=f.getPayloads();k(a,b,c,l);},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}}function k(a,b,c,l){a.close(z,{result:function(f){t(d,function(){if(!f)throw new cb("MessageOutputStream close aborted.");l || (l=a.getPayloads());return new C(b,l,!c);},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}m=this;t(d,function(){var a,c,l,k;a=x.getMasterToken();c=x.getUserIdToken();l=!1;if(p.getUserId()){k=!c;p.getUserAuthData(null,x.isRenewable(),k,{result:function(f){t(d,function(){f && (x.willEncryptHeader() && x.willIntegrityProtectHeader()?x.setUserAuthenticationData(f):l=!0);b(a,c,l);},m);},error:function(a){d.error(a);}});}else b(a,c,l);},m);},receive:function(p,w,x,z,C,H,d){var b;b=this;t(d,function(){var a,c,l;if(p.isAborted())throw new cb("receive aborted.");a=[];C && (a=C.keyRequestData.filter(function(){return !0;}));c=x.getCryptoContexts();l=this._filterFactory?this._filterFactory.getInputStream(z):z;me(w,l,Oa,a,c,H,{result:function(a){p.setAbort(function(){a.abort();});a.isReady(H,{result:function(c){t(d,function(){var f,h,l,m;if(!c)throw new cb("MessageInputStream aborted.");f=a.getMessageHeader();h=a.getErrorHeader();l=x.getDebugContext();l && l.receivedHeader(f?f:h);if(C && (l=h?h.errorCode:null,f || l != n.FAIL && l != n.TRANSIENT_FAILURE && l != n.ENTITY_REAUTH && l != n.ENTITYDATA_REAUTH)){l=f?f.messageId:h.messageId;m=Vb(C.messageId);if(l != m)throw new Fa(g.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + m + "; received " + l);}w.getEntityAuthenticationData(null,{result:function(c){t(d,function(){var b,l,q,m;b=c.getIdentity();if(f){l=f.entityAuthenticationData;q=f.masterToken;l=q?f.sender:l.getIdentity();if(q && q.isDecrypted() && q.identity != l || b == l)throw new Fa(g.UNEXPECTED_MESSAGE_SENDER,l);C && this.updateIncomingCryptoContexts(w,C,a);b=f.keyResponseData;w.isPeerToPeer()?(b=b?b.masterToken:f.peerMasterToken,q=f.peerUserIdToken,l=f.peerServiceTokens):(b=b?b.masterToken:f.masterToken,q=f.userIdToken,l=f.serviceTokens);m=x.getUserId();m && q && !q.isVerified() && w.getMslStore().addUserIdToken(m,q);this.storeServiceTokens(w,b,q,l);}else if((l=h.entityAuthenticationData.getIdentity(),b == l))throw new Fa(g.UNEXPECTED_MESSAGE_SENDER,l);return a;},b);},error:d.error});},b);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},b);},sendReceive:function(g,n,p,w,x,z,d,b,a){var l;function c(c,m){t(a,function(){z.setRenewable(m);this.send(g,n,p,x,z,d,{result:function(f){t(a,function(){var h;h=f.requestHeader.keyRequestData;b || f.handshake || !h.isEmpty()?this.receive(g,n,p,w,f.requestHeader,d,{result:function(b){t(a,function(){m && this.releaseRenewalLock(n,c,b);return new K(b,f);},l);},timeout:function(){t(a,function(){m && this.releaseRenewalLock(n,c,null);a.timeout();},l);},error:function(b){t(a,function(){m && this.releaseRenewalLock(n,c,null);throw b;},l);}}):t(a,function(){m && this.releaseRenewalLock(n,c,null);return new K(null,f);},l);},l);},timeout:function(){t(a,function(){m && this.releaseRenewalLock(n,c,null);a.timeout();},l);},error:function(b){t(a,function(){m && this.releaseRenewalLock(n,c,null);throw b;},l);}});},l);}l=this;t(a,function(){var b;b=new gc();this.acquireRenewalLock(g,n,p,b,z,d,{result:function(a){c(b,a);},timeout:function(){a.timeout();},error:function(b){b instanceof cb?a.result(null):a.error(b);}});},l);},acquireRenewalLock:function(g,n,p,w,x,z,d){var c;function b(l,k,m){t(d,function(){var q,u;if(g.isAborted())throw new cb("acquireRenewalLock aborted.");for(var f=null,h=0;h < this._renewingContexts.length;++h){q=this._renewingContexts[h];if(q.ctx === n){f=q.queue;break;}}if(!f)return (this._renewingContexts.push({ctx:n,queue:w}),!0);u=f.poll(z,{result:function(h){t(d,function(){var c;if(h === da)throw new cb("acquireRenewalLock aborted.");f.add(h);if(h === ua || h.isExpired())b(h,k,m);else {if(m && !k || k && !k.isBoundTo(h)){c=n.getMslStore().getUserIdToken(m);k=c && c.isBoundTo(h)?c:null;}x.setAuthTokens(h,k);x.isRenewable() && h.equals(l)?b(h,k,m):p.isRequestingTokens() && !k?b(h,k,m):a(h,k);}},c);},timeout:function(){},error:function(a){}});g.setAbort(function(){u && (f.cancel(u),u=da);});},c);}function a(a,b){t(d,function(){var h;if(g.isAborted())throw new cb("acquireRenewalLock aborted.");if(!a || a.isRenewable() || !b && p.getUserId() || b && b.isRenewable()){for(var c=null,f=0;f < this._renewingContexts.length;++f){h=this._renewingContexts[f];if(h.ctx === n){c=h.queue;break;}}if(!c)return (this._renewingContexts.push({ctx:n,queue:w}),!0);}return !1;},c);}c=this;t(d,function(){var c,k,m;c=x.getMasterToken();k=x.getUserIdToken();m=p.getUserId();p.isEncrypted() && !x.willEncryptPayloads() || p.isIntegrityProtected() && !x.willIntegrityProtectPayloads() || x.isRenewable() || !c && p.isNonReplayable() || c && c.isExpired() || !(k || !m || x.willEncryptHeader() && x.willIntegrityProtectHeader()) || p.isRequestingTokens() && (!c || m && !k)?b(c,k,m):a(c,k);},c);},releaseRenewalLock:function(g,n,p){var d;for(var w,x,t=0;t < this._renewingContexts.length;++t){d=this._renewingContexts[t];if(d.ctx === g){w=t;x=d.queue;break;}}if(x !== n)throw new X("Attempt to release renewal lock that is not owned by this queue.");p?(p=p.messageHeader)?(x=p.keyResponseData)?n.add(x.masterToken):(g=g.isPeerToPeer()?p.peerMasterToken:p.masterToken)?n.add(g):n.add(ua):n.add(ua):n.add(ua);this._renewingContexts.splice(w,1);}});pe=la.Class.create({init:function(){var g;g={_impl:{value:new va(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setFilterFactory:function(g){this._impl.setFilterFactory(g);},shutdown:function(){this._shutdown=!0;},receive:function(g,n,p,w,x,t){var d;if(this._shutdown)throw new F("MslControl is shutdown.");d=new S(this._impl,g,n,p,w,x);setTimeout(function(){d.call(t);},0);return G(d);},respond:function(g,n,p,w,x,t,d){var b;if(this._shutdown)throw new F("MslControl is shutdown.");b=new W(this._impl,g,n,p,w,x,t);setTimeout(function(){b.call(d);},0);return G(b);},error:function(g,n,p,w,x,t,d){var b;if(this._shutdown)throw new F("MslControl is shutdown.");b=new za(this._impl,g,n,p,w,x,t);setTimeout(function(){b.call(d);},0);return G(b);},request:function(g,n){var p,w,x,t,d,b;if(this._shutdown)throw new F("MslControl is shutdown.");if(5 == arguments.length){if((p=arguments[2],x=w=null,t=arguments[3],d=arguments[4],g.isPeerToPeer())){d.error(new X("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (p=null,w=arguments[2],x=arguments[3],t=arguments[4],d=arguments[5],!g.isPeerToPeer())){d.error(new X("This method cannot be used in trusted network mode."));return;}b=new N(this._impl,g,n,p,w,x,null,0,t);setTimeout(function(){b.call(d);},0);return G(b);}});S=la.Class.create({init:function(g,n,p,w,x,t){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:p,writable:!1,enumerable:!1,configurable:!1},_input:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:x,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:t,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:da,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(n){var C;function p(p){t(n,function(){var d;d=p.messageHeader;if(!d)return p;this.setAbort(function(){p.abort();});p.mark(Number.MAX_VALUE);p.read(1,C._timeout,{result:function(b){t(n,function(){if(b && 0 == b.length)return null;if(b)return (p.reset(),p);w(p);},C);},timeout:function(){n.timeout();},error:function(b){t(n,function(){var a,c,l;if(x(b))return null;a=d?d.messageId:null;b instanceof $a?(c=g.MSL_COMMS_FAILURE,l=b):(c=g.INTERNAL_EXCEPTION,l=new X("Error peeking into the message payloads."));H(this,this._ctx,this._msgCtx.getDebugContext(),a,c,null,this._output,this._timeout,{result:function(a){n.error(l);},timeout:function(){n.timeout();},error:function(a){t(n,function(){if(x(a))return null;throw new jb("Error peeking into the message payloads.",a,b);},C);}});},C);}});},C);}function w(p){t(n,function(){p.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,p.messageHeader,this._timeout,{result:function(d){t(n,function(){var b,a,c,l,k;b=d.builder;a=d.tokenTicket;c=p.messageHeader;l=new P(this._msgCtx);if(!this._ctx.isPeerToPeer() || c.isEncrypting() || c.keyResponseData)z(c,b,l,a);else {k=new N(this._ctrl,this._ctx,l,null,this._input,this._output,d,1,this._timeout);this.setAbort(function(){k.abort();});k.call(n);}},C);},timeout:function(){n.timeout();},error:function(d){t(n,function(){var b,a,c,l;if(x(d))return null;d instanceof F?(b=d.messageId,a=d.error,c=p.messageHeader.messageCapabilities,c=this._ctrl.messageRegistry.getUserMessage(a,c?c.languages:null),l=d):(b=requestHeader?requestHeader.messageId:null,a=g.INTERNAL_EXCEPTION,c=null,l=new X("Error creating an automatic handshake response.",d));H(this,this._ctx,this._msgCtx.getDebugContext(),b,a,c,this._output,this._timeout,{result:function(a){n.error(l);},timeout:function(){n.timeout();},error:function(a){t(n,function(){if(x(a))return null;throw new jb("Error creating an automatic handshake response.",a,d);},C);}});},C);}});},C);}function z(p,d,b,a){t(n,function(){d.setRenewable(!1);this._ctrl.send(this._ctx,b,this._output,d,this._timeout,{result:function(b){t(n,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(a);return null;},C);},timeout:function(){t(n,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(a);n.timeout();},C);},error:function(b){t(n,function(){var c,k,m,f;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(a);if(x(b))return null;b instanceof F?(c=b.messageId,k=b.error,m=p?p.messageCapabilities:null,m=this._ctrl.messageRegistry.getUserMessage(k,m?m.languages:null),f=b):b instanceof $a?(c=p?p.messageId:null,k=g.MSL_COMMS_FAILURE,m=null,f=b):(c=p?p.messageId:null,k=g.INTERNAL_EXCEPTION,m=null,f=new X("Error sending an automatic handshake response.",b));H(this,this._ctx,this._msgCtx.getDebugContext(),c,k,m,this._output,this._timeout,{result:function(a){n.error(f);},timeout:function(){n.timeout();},error:function(a){t(n,function(){if(x(a))return null;throw new jb("Error sending an automatic handshake response.",a,b);},C);}});},C);}});},C);}C=this;t(n,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(g){p(g);},timeout:function(){n.timeout();},error:function(p){t(n,function(){var d,b,a,c;if(x(p))return null;p instanceof F?(d=p.messageId,b=p.error,a=this._ctrl.messageRegistry.getUserMessage(b,null),c=p):(d=null,b=g.INTERNAL_EXCEPTION,a=null,c=new X("Error receiving the message header.",p));H(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){n.error(c);},timeout:function(){n.timeout();},error:function(a){t(n,function(){if(x(a))return null;throw new jb("Error receiving the message header.",a,p);},C);}});},C);}});},C);}});W=la.Class.create({init:function(g,n,p,w,x,t,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:p,writable:!1,enumerable:!1,configurable:!1},_input:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:x,writable:!1,enumerable:!1,configurable:!1},_request:{value:t,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:da,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},trustedNetworkExecute:function(n,p,w){var z;z=this;t(w,function(){var C,G;if(12 < p + 1)return !1;if(C=this._msgCtx.isIntegrityProtected() && !n.willIntegrityProtectHeader()?g.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !n.willEncryptPayloads()?g.RESPONSE_REQUIRES_ENCRYPTION:null){G=cc(n.getMessageId());H(this,this._ctx,this._msgCtx.getDebugContext(),G,C,null,this._output,this._timeout,{result:function(d){w.result(!1);},timeout:function(){w.timeout();},error:function(d){t(w,function(){if(x(d))return !1;throw new jb("Response requires encryption or integrity protection but cannot be protected: " + C,d,null);},z);}});}else !this._msgCtx.getCustomer() || n.getMasterToken() || n.getKeyExchangeData()?(n.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,n,this._timeout,{result:function(d){w.result(!0);},timeout:function(){w.timeout();},error:function(d){w.error(d);}})):(G=cc(n.getMessageId()),H(this,this._ctx,this._msgCtx.getDebugContext(),G,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(d){w.result(!1);},timeout:function(){w.timeout();},error:function(d){t(w,function(){if(x(d))return !1;throw new jb("Response wishes to attach a user ID token but there is no master token.",d,null);},z);}}));},z);},peerToPeerExecute:function(n,p,w,z){var G;function C(d){t(z,function(){var b;b=d.response;b.close();b=b.getErrorHeader();this._ctrl.cleanupContext(this._ctx,d.requestHeader,b);this._ctrl.buildErrorResponse(this,this._ctx,n,d,b,{result:function(a){t(z,function(){var b,l;if(!a)return !1;b=a.errorResult;l=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,w,{result:function(a){t(z,function(){this._ctrl.releaseMasterToken(l);return a;},G);},timeout:function(){t(z,function(){this._ctrl.releaseMasterToken(l);z.timeout();},G);},error:function(a){t(z,function(){this._ctrl.releaseMasterToken(l);throw a;},G);}});},G);}});},G);}G=this;t(z,function(){var d;if(12 < w + 2)return !1;if(null != n.getCustomer() && null == p.getPeerMasterToken() && null == p.getKeyExchangeData()){d=cc(p.getMessageId());H(this,this._ctx,n.getDebugContext(),d,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(b){z.result(!1);},timeout:function(){z.timeout();},error:function(b){t(z,function(){if(x(b))return !1;throw new jb("Response wishes to attach a user ID token but there is no master token.",b,null);},G);}});}else this._ctrl.sendReceive(this._ctx,n,this._input,this._output,p,this._timeout,!1,{result:function(b){t(z,function(){var l,k,m;function a(){l.read(32768,G._timeout,{result:function(b){t(z,function(){b?a():c();},G);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});}function c(){t(z,function(){var a;a=new qa(b.payloads,n);this._ctrl.buildResponse(this,this._ctx,a,k,this._timeout,{result:function(b){t(z,function(){var f;f=b.tokenTicket;this.peerToPeerExecute(a,b.builder,w,{result:function(a){t(z,function(){this._ctrl.releaseMasterToken(f);return a;},G);},timeout:function(){t(z,function(){this._ctrl.releaseMasterToken(f);z.timeout();},G);},error:function(a){t(z,function(){this._ctrl.releaseMasterToken(f);throw a;},G);}});},G);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});},G);}l=b.response;w+=2;if(!l)return !0;k=l.getMessageHeader();if(k){m=b.payloads;m=0 < m.length && 0 < m[0].data.length;if(b.handshake && m)a();else return !0;}else C(b);},G);},timeout:function(){z.timeout();},error:function(b){z.error(b);}});},G);},call:function(n){var p;p=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(w){t(n,function(){var z,C;z=w.builder;C=w.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,z,3,{result:function(g){t(n,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(C);return g;},p);},timeout:function(){t(n,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(C);n.timeout();},p);},error:function(w){t(n,function(){var d,b,a,c;this._ctx.isPeerToPeer() && this.releaseMasterToken(C);if(x(w))return !1;d=cc(z.getMessageId());w instanceof F?(b=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=w):w instanceof $a?(b=g.MSL_COMMS_FAILURE,a=null,c=w):(b=g.INTERNAL_EXCEPTION,a=null,c=new X("Error sending the response.",w));H(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){n.error(c);},timeout:function(){n.timeout();},error:function(a){t(n,function(){if(x(a))return !1;throw new jb("Error sending the response.",a,null);},p);}});},p);}}):this.trustedNetworkExecute(z,3,{result:function(g){t(n,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(C);return g;},p);},timeout:function(){t(n,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(C);n.timeout();},p);},error:function(w){t(n,function(){var d,b,a,c;this._ctx.isPeerToPeer() && this.releaseMasterToken(C);if(x(w))return !1;d=cc(z.getMessageId());w instanceof F?(b=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=w):w instanceof $a?(b=g.MSL_COMMS_FAILURE,a=null,c=w):(b=g.INTERNAL_EXCEPTION,a=null,c=new X("Error sending the response.",w));H(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){n.error(c);},timeout:function(){n.timeout();},error:function(a){t(n,function(){if(x(a))return !1;throw new jb("Error sending the response.",a,null);},p);}});},p);}});},p);},timeout:function(){n.timeout();},error:function(w){t(n,function(){var z,C,G,d;if(x(w))return !1;w instanceof F?(z=w.messageId,C=w.error,G=this._request.messageCapabilities,G=this._ctrl.messageRegistry.getUserMessage(C,G?G.languages:null),d=w):(z=null,C=g.INTERNAL_EXCEPTION,G=null,d=new X("Error building the response.",w));H(this,this._ctx,this._msgCtx.getDebugContext(),z,C,G,this._output,this._timeout,{result:function(b){n.error(d);},timeout:function(){n.timeout();},error:function(b){t(n,function(){if(x(b))return null;throw new jb("Error building the response.",b,w);},p);}});},p);}});}});za=la.Class.create({init:function(g,n,p,w,x,t,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:p,writable:!1,enumerable:!1,configurable:!1},_appError:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:t,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:da,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(n){var p;p=this;t(n,function(){var w,z;if(this._appError == ENTITY_REJECTED)w=this._request.masterToken?g.MASTERTOKEN_REJECTED_BY_APP:g.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)w=this._request.userIdToken?g.USERIDTOKEN_REJECTED_BY_APP:g.USER_REJECTED_BY_APP;else throw new X("Unhandled application error " + this._appError + ".");z=this._request.messageCapabilities;z=this._ctrl.messageRegistry.getUserMessage(w,z?z.languages:null);H(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,w,z,this._output,this._timeout,{result:function(g){n.result(g);},timeout:n.timeout,error:function(g){t(n,function(){if(x(g))return !1;if(g instanceof F)throw g;throw new X("Error building the error response.",g);},p);}});},p);}});Aa={result:function(){},timeout:function(){},error:function(){}};N=la.Class.create({init:function(g,n,p,w,x,t,d,b,a){var c;d?(c=d.builder,d=d.tokenTicket):d=c=null;Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:p,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:w,writable:!1,enumerable:!1,configurable:!1},_input:{value:x,writable:!0,enumerable:!1,configurable:!1},_output:{value:t,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:c,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:d,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:b,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:da,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},execute:function(g,n,p,w,x){var b;function z(a){function c(c){t(x,function(){var b;b=a.response;return c?c:b;},b);}t(x,function(){var l,k;l=a.response;l.close();k=l.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,k);this._ctrl.buildErrorResponse(this,this._ctx,g,a,k,p,{result:function(a){t(x,function(){var f,h,q,m;if(!a)return l;f=a.errorResult;h=a.tokenTicket;q=f.builder;f=f.msgCtx;if(this._ctx.isPeerToPeer())this.execute(f,q,this._timeout,w,{result:function(a){t(x,function(){this._ctrl.releaseMasterToken(h);c(a);},b);},timeout:function(){t(x,function(){this._ctrl.releaseMasterToken(h);x.timeout();},b);},error:function(a){t(x,function(){this._ctrl.releaseMasterToken(h);x.error(a);},b);}});else {this._openedStreams && (this._input.close(),this._output.close(p,Aa));m=new N(this._ctrl,this._ctx,f,this._remoteEntity,null,null,{builder:q,tokenTicket:h},w,this._timeout);this.setAbort(function(){m.abort();});m.call({result:function(a){c(a);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}},b);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},b);}function d(a){t(x,function(){var k,m,f,h,q;function c(){k.read(32768,b._timeout,{result:function(a){a?c():l();},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}function l(){t(x,function(){var f;f=new qa(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,m,p,{result:function(a){t(x,function(){var c;c=a.tokenTicket;this.execute(f,a.builder,this._timeout,w,{result:function(a){t(x,function(){this._ctrl.releaseMasterToken(c);return a;},b);},timeout:function(){t(x,function(){this._ctrl.releaseMasterToken(c);x.timeout();},b);},error:function(a){t(x,function(){this._ctrl.releaseMasterToken(c);throw a;},b);}});},b);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},b);}k=a.response;m=k.getMessageHeader();f=a.payloads;f=0 < f.length && 0 < f[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake || !f)return k;this._openedStreams && (this._input.close(),this._output.close(p,Aa));h=new qa(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,m,p,{result:function(a){t(x,function(){var b;b=new N(this._ctrl,this._ctx,h,this._remoteEntity,null,null,a,w,this._timeout);this.setAbort(function(){b.abort();});b.call(x);},b);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}else if(a.handshake && f)c();else if(0 < m.keyRequestData.length){q=new P(g);this._ctrl.buildResponse(this,this._ctx,q,m,p,{result:function(a){t(x,function(){var f,c;f=a.builder;c=a.tokenTicket;k.mark();k.read(1,this._timeout,{result:function(a){t(x,function(){function h(){k.read(32768,b._timeout,{result:function(a){a?h():l();},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}function l(){b.execute(q,f,b._timeout,w,{result:function(a){t(x,function(){this._ctrl.releaseMasterToken(c);return a;},b);},timeout:function(){t(x,function(){this._ctrl.releaseMasterToken(c);x.timeout();},b);},error:function(a){t(x,function(){this._ctrl.releaseMasterToken(c);throw a;},b);}});}if(a){if((k.reset(),12 >= w + 1))(f.setRenewable(!1),this._ctrl.send(this,this._ctx,q,this._output,f,this._timeout,{result:function(a){t(x,function(){this.releaseMasterToken(c);return k;},b);},timeout:function(){x.timeout();},error:function(a){x.error(a);}}));else return (this.releaseMasterToken(c),k);}else h();},b);},timeout:function(){t(x,function(){this.releaseMasterToken(c);x.timeout();},b);},error:function(a){t(x,function(){this.releaseMasterToken(c);throw a;},b);}});},b);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}},b);}b=this;t(x,function(){if(12 < w + 2)return null;this._ctrl.sendReceive(this,this._ctx,g,this._input,this._output,n,p,!0,{result:function(a){t(x,function(){var b;if(!a)return null;b=a.response;w+=2;b.getMessageHeader()?d(a):z(a);},b);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},b);},call:function(g){var p;function n(n,w,z){t(g,function(){this.execute(this._msgCtx,n,z,this._msgCount,{result:function(d){t(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams && this._output.close(z,Aa);d && d.closeSource(this._openedStreams);return d;},p);},timeout:function(){t(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams && (this._output.close(z,Aa),this._input.close());g.timeout();},p);},error:function(d){t(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams && (this._output.close(z,Aa),this._input.close());if(x(d))return null;throw d;},p);}});},p);}p=this;t(g,function(){var w,z,C;w=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);z=Date.now();C=this._remoteEntity.openConnection();this._output=C.output;this._input=C.input;-1 != w && (w=this._timeout - (Date.now() - z));this._openedStreams=!0;}catch(d){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Aa);this._input && this._input.close();if(x(d))return null;throw d;}this._builder?n(this._builder,this._tokenTicket,w):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(d){t(g,function(){n(d.builder,d.tokenTicket,w);},p);},timeout:function(){t(g,function(){this._openedStreams && (this._output.close(this._timeout,Aa),this._input.close());g.timeout();},p);},error:function(d){t(g,function(){this._openedStreams && (this._output.close(this._timeout,Aa),this._input.close());if(x(d))return null;throw d;},p);}});},p);}});})();(function(){od=la.Class.create({init:function(g){Object.defineProperties(this,{id:{value:g,writable:!1,configurable:!1}});},toJSON:function(){var g;g={};g.id=this.id;return g;},equals:function(g){return this === g?!0:g instanceof od?this.id == g.id:!1;},uniqueKey:function(){return this.id;}});qe=function(n){var p;p=n.id;if(!p)throw new ga(g.JSON_PARSE_ERROR,JSON.stringify(n));return new od(p);};})();la.Class.create({isNewestMasterToken:function(g,n,p){},isMasterTokenRevoked:function(g,n){},acceptNonReplayableId:function(g,n,p,t){},createMasterToken:function(g,n,p,t,K){},isMasterTokenRenewable:function(g,n,p){},renewMasterToken:function(g,n,p,t,K){},isUserIdTokenRevoked:function(g,n,p,t){},createUserIdToken:function(g,n,p,t){},renewUserIdToken:function(g,n,p,t){}});(function(){function n(g,n,p,t){this.sessiondata=g;this.tokendata=n;this.signature=p;this.verified=t;}hb=la.Class.create({init:function(g,n,t,G,x,H,F,ba,L,qa,P){var w;w=this;p(P,function(){var z,C,K,N,va;if(t.getTime() < n.getTime())throw new X("Cannot construct a master token that expires before its renewal window opens.");if(0 > G || G > Pa)throw new X("Sequence number " + G + " is outside the valid range.");if(0 > x || x > Pa)throw new X("Serial number " + x + " is outside the valid range.");z=Math.floor(n.getTime() / 1E3);C=Math.floor(t.getTime() / 1E3);if(qa)K=qa.sessiondata;else {N={};H && (N.issuerdata=H);N.identity=F;N.encryptionkey=oa(ba.toByteArray());N.hmackey=oa(L.toByteArray());K=Xa(JSON.stringify(N),Oa);}if(qa)return (Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:G,writable:!1,configurable:!1},serialNumber:{value:x,writable:!1,configurable:!1},issuerData:{value:H,writable:!1,configurable:!1},identity:{value:F,writable:!1,configurable:!1},encryptionKey:{value:ba,writable:!1,configurable:!1},hmacKey:{value:L,writable:!1,configurable:!1},sessiondata:{value:K,writable:!1,enumerable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:qa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);va=g.getMslCryptoContext();va.encrypt(K,{result:function(n){p(P,function(){var t,S;t={};t.renewalwindow=z;t.expiration=C;t.sequencenumber=G;t.serialnumber=x;t.sessiondata=oa(n);S=Xa(JSON.stringify(t),Oa);va.sign(S,{result:function(n){p(P,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:G,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:x,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:H,writable:!1,configurable:!1},identity:{value:F,writable:!1,configurable:!1},encryptionKey:{value:ba,writable:!1,configurable:!1},hmacKey:{value:L,writable:!1,configurable:!1},sessiondata:{value:K,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:S,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){P.error(g);}});},w);},error:function(g){P.error(g);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(g){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(g){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(g){var n;if(this.sequenceNumber == g.sequenceNumber)return this.expiration > g.expiration;if(this.sequenceNumber > g.sequenceNumber){n=this.sequenceNumber - Pa + 127;return g.sequenceNumber >= n;}n=g.sequenceNumber - Pa + 127;return this.sequenceNumber < n;},toJSON:function(){var g;g={};g.tokendata=oa(this.tokendata);g.signature=oa(this.signature);return g;},equals:function(g){return this === g?!0:g instanceof hb?this.serialNumber == g.serialNumber && this.sequenceNumber == g.sequenceNumber && this.expiration.getTime() == g.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Tb=function(w,t,C){p(C,function(){var z,x,H,G,ba;z=w.getMslCryptoContext();x=t.tokendata;H=t.signature;if("string" !== typeof x || "string" !== typeof H)throw new ga(g.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(t));try{G=ya(x);}catch(Ja){throw new F(g.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(t),Ja);}if(!G || 0 == G.length)throw new ga(g.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(t));try{ba=ya(H);}catch(Ja){throw new F(g.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(t),Ja);}z.verify(G,ba,{result:function(x){p(C,function(){var t,H,K,S,W,na,N,va,Aa,Ba;na=Ya(G,Oa);try{N=JSON.parse(na);t=parseInt(N.renewalwindow);H=parseInt(N.expiration);K=parseInt(N.sequencenumber);S=parseInt(N.serialnumber);W=N.sessiondata;}catch(pa){if(pa instanceof SyntaxError)throw new ga(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + na,pa);throw pa;}if(!t || t != t || !H || H != H || "number" !== typeof K || K != K || "number" !== typeof S || S != S || "string" !== typeof W)throw new ga(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + na);if(H < t)throw new F(g.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + na);if(0 > K || K > Pa)throw new F(g.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + na);if(0 > S || S > Pa)throw new F(g.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + na);va=new Date(1E3 * t);Aa=new Date(1E3 * H);try{Ba=ya(W);}catch(pa){throw new F(g.MASTERTOKEN_SESSIONDATA_INVALID,W,pa);}if(!Ba || 0 == Ba.length)throw new F(g.MASTERTOKEN_SESSIONDATA_MISSING,W);x?z.decrypt(Ba,{result:function(t){p(C,function(){var z,H,P,F,N,W;N=Ya(t,Oa);try{W=JSON.parse(N);z=W.issuerdata;H=W.identity;P=W.encryptionkey;F=W.hmackey;}catch(d){if(d instanceof SyntaxError)throw new ga(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + N,d);throw d;}if(z && "object" !== typeof z || !H || "string" !== typeof P || "string" !== typeof F)throw new ga(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + N);yb(P,pb,Hb,{result:function(d){yb(F,qb,Sb,{result:function(b){p(C,function(){var a;a=new n(t,G,ba,x);new hb(w,va,Aa,K,S,z,H,d,b,a,C);});},error:function(b){C.error(new L(g.MASTERTOKEN_KEY_CREATION_ERROR,b));}});},error:function(d){C.error(new L(g.MASTERTOKEN_KEY_CREATION_ERROR,d));}});});},error:function(g){C.error(g);}}):(t=new n(null,G,ba,x),new hb(w,va,Aa,K,S,null,null,null,null,t,C));});},error:function(g){C.error(g);}});});};})();(function(){function n(g,n,p){this.tokendata=g;this.signature=n;this.verified=p;}$b=la.Class.create({init:function(g,n,t,G,x,H,na,ba,L){var w;w=this;p(L,function(){var z,C,K,W,za,N,va;if(t.getTime() < n.getTime())throw new X("Cannot construct a user ID token that expires before its renewal window opens.");if(!G)throw new X("Cannot construct a user ID token without a master token.");if(0 > x || x > Pa)throw new X("Serial number " + x + " is outside the valid range.");z=Math.floor(n.getTime() / 1E3);C=Math.floor(t.getTime() / 1E3);K=G.serialNumber;if(ba){W=ba.tokendata;za=ba.signature;N=ba.verified;K=G.serialNumber;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:K,writable:!1,configurable:!1},serialNumber:{value:x,writable:!1,configurable:!1},issuerData:{value:H,writable:!1,configurable:!1},customer:{value:na,writable:!1,configurable:!1},verified:{value:N,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:W,writable:!1,enumerable:!1,configurable:!1},signature:{value:za,writable:!1,enumerable:!1,configurable:!1}});return this;}W={};H && (W.issuerdata=H);W.identity=na;W=Xa(JSON.stringify(W),Oa);va=g.getMslCryptoContext();va.encrypt(W,{result:function(n){p(L,function(){var t,P;t={};t.renewalwindow=z;t.expiration=C;t.mtserialnumber=K;t.serialnumber=x;t.userdata=oa(n);P=Xa(JSON.stringify(t),Oa);va.sign(P,{result:function(n){p(L,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:G.serialNumber,writable:!1,configurable:!1},serialNumber:{value:x,writable:!1,configurable:!1},issuerData:{value:H,writable:!1,configurable:!1},customer:{value:na,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:P,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){p(L,function(){g instanceof F && g.setEntity(G);throw g;},w);}});},w);},error:function(g){p(L,function(){g instanceof F && g.setEntity(G);throw g;},w);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(g){return g && g.serialNumber == this.mtSerialNumber;},toJSON:function(){var g;g={};g.tokendata=oa(this.tokendata);g.signature=oa(this.signature);return g;},equals:function(g){return this === g?!0:g instanceof $b?this.serialNumber == g.serialNumber && this.mtSerialNumber == g.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Ub=function(w,t,C,G){p(G,function(){var x,z,K,ba,L;x=w.getMslCryptoContext();z=t.tokendata;K=t.signature;if("string" !== typeof z || "string" !== typeof K)throw new ga(g.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(t)).setEntity(C);try{ba=ya(z);}catch(qa){throw new F(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(t),qa).setEntity(C);}if(!ba || 0 == ba.length)throw new ga(g.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(t)).setEntity(C);try{L=ya(K);}catch(qa){throw new F(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(t),qa).setEntity(C);}x.verify(ba,L,{result:function(t){p(G,function(){var z,H,K,W,na,N,va,Aa,qa,pa;N=Ya(ba,Oa);try{va=JSON.parse(N);z=parseInt(va.renewalwindow);H=parseInt(va.expiration);K=parseInt(va.mtserialnumber);W=parseInt(va.serialnumber);na=va.userdata;}catch(ea){if(ea instanceof SyntaxError)throw new ga(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + N,ea).setEntity(C);throw ea;}if(!z || z != z || !H || H != H || "number" !== typeof K || K != K || "number" !== typeof W || W != W || "string" !== typeof na)throw new ga(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + N).setEntity(C);if(H < z)throw new F(g.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + N).setEntity(C);if(0 > K || K > Pa)throw new F(g.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + N).setEntity(C);if(0 > W || W > Pa)throw new F(g.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + N).setEntity(C);Aa=new Date(1E3 * z);qa=new Date(1E3 * H);if(!C || K != C.serialNumber)throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + K + "; mt " + JSON.stringify(C)).setEntity(C);try{pa=ya(na);}catch(ea){throw new F(g.USERIDTOKEN_USERDATA_INVALID,na,ea).setEntity(C);}if(!pa || 0 == pa.length)throw new F(g.USERIDTOKEN_USERDATA_MISSING,na).setEntity(C);t?x.decrypt(pa,{result:function(x){p(G,function(){var p,z,H,K,P;H=Ya(x,Oa);try{K=JSON.parse(H);p=K.issuerdata;z=K.identity;}catch(d){if(d instanceof SyntaxError)throw new ga(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + H).setEntity(C);throw d;}if(p && "object" !== typeof p || "object" !== typeof z)throw new ga(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + H).setEntity(C);try{P=qe(z);}catch(d){throw new F(g.USERIDTOKEN_IDENTITY_INVALID,"userdata " + H,d).setEntity(C);}z=new n(ba,L,t);new $b(w,Aa,qa,C,W,p,P,z,G);});},error:function(g){p(G,function(){g instanceof F && g.setEntity(C);throw g;});}}):(z=new n(ba,L,t),new $b(w,Aa,qa,C,W,null,null,z,G));});},error:function(g){p(G,function(){g instanceof F && g.setEntity(C);throw g;});}});});};})();(function(){function n(n,p){var w,x,t;w=n.tokendata;if("string" !== typeof w)throw new ga(g.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(n));try{x=ya(w);}catch(na){throw new F(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(n),na);}if(!x || 0 == x.length)throw new ga(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(n));try{t=JSON.parse(Ya(x,Oa)).name;}catch(na){if(na instanceof SyntaxError)throw new ga(g.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(n),na);throw na;}if(!t)throw new ga(g.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(n));return p[t]?p[t]:p[""];}function w(g,n,p){this.tokendata=g;this.signature=n;this.verified=p;}Kb=la.Class.create({init:function(g,n,w,x,t,G,ba,L,qa,P){var z;z=this;p(P,function(){var C,H,K,N,va;if(x && t && !t.isBoundTo(x))throw new X("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");C=x?x.serialNumber:-1;H=t?t.serialNumber:-1;if(qa)return (va=qa.tokendata,Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:n,writable:!1,configurable:!1},mtSerialNumber:{value:C,writable:!1,configurable:!1},uitSerialNumber:{value:H,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:va,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ba?(K=nd(ba,w),K.length < w.length || (ba=null,K=w)):(ba=null,K=w);N={};N.name=n;-1 != C && (N.mtserialnumber=C);-1 != H && (N.uitserialnumber=H);N.encrypted=G;ba && (N.compressionalgo=ba);if(G && 0 < K.length)L.encrypt(K,{result:function(K){p(P,function(){var S;N.servicedata=oa(K);S=Xa(JSON.stringify(N),Oa);L.sign(S,{result:function(x){p(P,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:n,writable:!1,configurable:!1},mtSerialNumber:{value:C,writable:!1,configurable:!1},uitSerialNumber:{value:H,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:S,writable:!1,enumerable:!1,configurable:!1},signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});return this;},z);},error:function(g){p(P,function(){g instanceof F && (g.setEntity(x),g.setUser(t));throw g;});}});},z);},error:function(g){p(P,function(){g instanceof F && (g.setEntity(x),g.setUser(t));throw g;});}});else {N.servicedata=oa(K);va=Xa(JSON.stringify(N),Oa);L.sign(va,{result:function(x){p(P,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:n,writable:!1,configurable:!1},mtSerialNumber:{value:C,writable:!1,configurable:!1},uitSerialNumber:{value:H,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:va,writable:!1,enumerable:!1,configurable:!1},signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});return this;},z);},error:function(g){p(P,function(){g instanceof F && (g.setEntity(x),g.setUser(t));throw g;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(g){return g?g instanceof hb?g.serialNumber == this.mtSerialNumber:g instanceof $b?g.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var g;g={};g.tokendata=oa(this.tokendata);g.signature=oa(this.signature);return g;},equals:function(g){return this === g?!0:g instanceof Kb?this.name == g.name && this.mtSerialNumber == g.mtSerialNumber && this.uitSerialNumber == g.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});Cb=function(g,n,p,w,t,G,F,L,qa){new Kb(g,n,p,w,t,G,F,L,null,qa);};Fc=function(t,C,G,x,H,na){p(na,function(){var z,K,L,P,ua,S,W,za,N,va,Aa,Ba,pa;!H || H instanceof ac || (H=n(C,H));z=C.tokendata;K=C.signature;if("string" !== typeof z || "string" !== typeof K)throw new ga(g.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(C)).setEntity(G).setEntity(x);try{L=ya(z);}catch(ea){throw new F(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(C),ea).setEntity(G).setEntity(x);}if(!L || 0 == L.length)throw new ga(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(C)).setEntity(G).setEntity(x);try{P=ya(K);}catch(ea){throw new F(g.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(C),ea).setEntity(G).setEntity(x);}Aa=Ya(L,Oa);try{Ba=JSON.parse(Aa);ua=Ba.name;S=Ba.mtserialnumber?parseInt(Ba.mtserialnumber):-1;W=Ba.uitserialnumber?parseInt(Ba.uitserialnumber):-1;za=Ba.encrypted;N=Ba.compressionalgo;va=Ba.servicedata;}catch(ea){if(ea instanceof SyntaxError)throw new ga(g.JSON_PARSE_ERROR,"servicetokendata " + Aa,ea).setEntity(G).setEntity(x);throw ea;}if(!ua || "number" !== typeof S || S != S || "number" !== typeof W || W != W || "boolean" !== typeof za || N && "string" !== typeof N || "string" !== typeof va)throw new ga(g.JSON_PARSE_ERROR,"servicetokendata " + Aa).setEntity(G).setEntity(x);if(Ba.mtserialnumber && 0 > S || S > Pa)throw new F(g.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + Aa).setEntity(G).setEntity(x);if(Ba.uitserialnumber && 0 > W || W > Pa)throw new F(g.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + Aa).setEntity(G).setEntity(x);if(-1 != S && (!G || S != G.serialNumber))throw new F(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + S + "; mt " + G).setEntity(G).setEntity(x);if(-1 != W && (!x || W != x.serialNumber))throw new F(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + W + "; uit " + x).setEntity(G).setEntity(x);za=!0 === za;if(N){if(!Pb[N])throw new F(g.UNIDENTIFIED_COMPRESSION,N);pa=N;}else pa=null;H?H.verify(L,P,{result:function(n){p(na,function(){var z,C;if(n){try{z=ya(va);}catch(gd){throw new F(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + Aa,gd).setEntity(G).setEntity(x);}if(!z || 0 != va.length && 0 == z.length)throw new F(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + Aa).setEntity(G).setEntity(x);if(za && 0 < z.length)H.decrypt(z,{result:function(g){p(na,function(){var p,z;p=pa?Gc(pa,g):g;z=new w(L,P,n);new Kb(t,ua,p,-1 != S?G:null,-1 != W?x:null,za,pa,H,z,na);});},error:function(g){p(na,function(){g instanceof F && (g.setEntity(G),g.setUser(x));throw g;});}});else {z=pa?Gc(pa,z):z;C=new w(L,P,n);new Kb(t,ua,z,-1 != S?G:null,-1 != W?x:null,za,pa,H,C,na);}}else (z="" == va?new Uint8Array(0):null,C=new w(L,P,n),new Kb(t,ua,z,-1 != S?G:null,-1 != W?x:null,za,pa,H,C,na));});},error:function(g){p(na,function(){g instanceof F && (g.setEntity(G),g.setUser(x));throw g;});}}):(z="" == va?new Uint8Array(0):null,K=new w(L,P,!1),new Kb(t,ua,z,-1 != S?G:null,-1 != W?x:null,za,pa,H,K,na));});};})();db={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(db);(function(){Gb=la.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(g){return this === g?!0:g instanceof Gb?this.scheme == g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});fe=function(n,w,t,C){p(C,function(){var p,x,z;p=t.scheme;x=t.authdata;if(!p || !x)throw new ga(g.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(t));if(!db[p])throw new Da(g.UNIDENTIFIED_USERAUTH_SCHEME,p);z=n.getUserAuthenticationFactory(p);if(!z)throw new Da(g.USERAUTH_FACTORY_NOT_FOUND,p);z.createData(n,w,x,C);});};})();lc=la.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,n,p,t){},authenticate:function(g,n,p,t){}});(function(){Xb=Gb.extend({init:function w(g,n){w.base.call(this,db.NETFLIXID);Object.defineProperties(this,{netflixId:{value:g,writable:!1,configurable:!1},secureNetflixId:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.netflixid=this.netflixId;this.secureNetflixId && (g.securenetflixid=this.secureNetflixId);return g;},equals:function z(g){return this === g?!0:g instanceof Xb?z.base.call(this,g) && this.netflixId == g.netflixId && this.secureNetflixId == g.secureNetflixId:!1;}});re=function(n){var p,t;p=n.netflixid;t=n.securenetflixid;if(!p)throw new ga(g.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(n));return new Xb(p,t);};})();We=lc.extend({init:function w(){w.base.call(this,db.NETFLIXID);},createData:function(g,n,t,K){p(K,function(){return re(t);});},authenticate:function(n,p,t,K){if(!(t instanceof Xb))throw new X("Incorrect authentication data type " + t + ".");n=t.secureNetflixId;if(!t.netflixId || !n)throw new Da(g.NETFLIXID_COOKIES_BLANK).setUser(t);throw new Da(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){mc=Gb.extend({init:function z(g,n){z.base.call(this,db.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:g,writable:!1,configurable:!1},password:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.email=this.email;g.password=this.password;return g;},equals:function C(g){return this === g?!0:g instanceof mc?C.base.call(this,this,g) && this.email == g.email && this.password == g.password:!1;}});se=function(n){var p,x;p=n.email;x=n.password;if(!p || !x)throw new ga(g.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(n));return new mc(p,x);};})();Xe=lc.extend({init:function z(){z.base.call(this,db.EMAIL_PASSWORD);},createData:function(g,n,t,x){p(x,function(){return se(t);});},authenticate:function(n,p,t,x){if(!(t instanceof mc))throw new X("Incorrect authentication data type " + t + ".");n=t.password;if(!t.email || !n)throw new Da(g.EMAILPASSWORD_BLANK).setUser(t);throw new Da(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){var x,H,na,ba,ka,qa,P,ua;function n(g,n){return "<" + g + ">" + n + "</" + g + ">";}function t(g){return g.replace(/[<>&"']/g,function(g){return ka[g];});}function K(g){return encodeURIComponent(g).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}x=Jc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};H=la.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});na=pd=H.extend({init:function(n,x,t,z,C,H,K){var N;function F(z){p(K,function(){var p,H;try{H={};H.useridtoken=n;H.action=x;H.nonce=t;H.pin=oa(z);p=Xa(JSON.stringify(H),Oa);}catch(Jb){throw new ga(g.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Jb);}C.sign(p,{result:function(g){P(p,g);},error:K.error});},N);}function P(g,C){p(K,function(){Object.defineProperties(this,{_userIdToken:{value:n,writable:!1,enumerable:!1,configurable:!1},_action:{value:x,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:t,writable:!1,enumerable:!1,configurable:!1},_pin:{value:z,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:g,writable:!1,enumerable:!1,configurable:!1},_signature:{value:C,writable:!1,enumerable:!1,configurable:!1}});return this;},N);}N=this;p(K,function(){H?P(H.encoding,H.signature):C.encrypt(Xa(z,Oa),{result:function(g){F(g);},error:K.error});},N);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this === g?!0:g instanceof na?this._action == g._action && this._nonce == g._nonce && this._pin == g._pin && this._userIdToken.equals(g._userIdToken):!1;}});pd.ACTION="userauth";ba=function(n,x,t,z,C){function H(z){p(C,function(){var H,P,N,S,ba,W;H=Ya(t,Oa);try{W=JSON.parse(H);P=W.useridtoken;N=W.action;S=W.nonce;ba=W.pin;}catch(d){if(d instanceof SyntaxError)throw new ga(g.JSON_PARSE_ERROR,"MDX authdata " + H,d);throw d;}if(!(P && "object" === typeof P && N && "string" === typeof N && S && "number" === typeof S && ba) || "string" !== typeof ba)throw new ga(g.JSON_PARSE_ERROR,"MDX authdata " + H);Ub(n,P,x,{result:function(d){p(C,function(){if(!d.isDecrypted())throw new Da(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + H);K(z,d,N,S,ba);});},error:function(d){p(C,function(){if(d instanceof F)throw new Da(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + H,d);throw d;});}});});}function K(g,n,x,H,K){p(C,function(){var F;F=ya(K);g.decrypt(F,{result:function(g){p(C,function(){var d;d=Ya(g,Oa);new na(n,x,H,d,null,{encoding:t,signature:z},C);});},error:C.error});});}p(C,function(){var K,F;try{F=n.getMslStore().getCryptoContext(x);K=F?F:new ib(n,x);}catch(vb){if(vb instanceof Rb)throw new Da(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + oa(t));throw vb;}K.verify(t,z,{result:function(n){p(C,function(){if(!n)throw new L(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + oa(t));H(K);});},error:C.error});});};ka={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};qa=nc=H.extend({init:function(g,p,x,z){var C,H;C=n("action",t(g));H=n("nonce",p.toString());x=n("pin",x);C=n("registerdata",C + H + x);C=Xa(C,"utf-8");Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:p,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:C,writable:!1,enumerable:!1,configurable:!1},_signature:{value:z,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this === g?!0:g instanceof qa?this._action == g._action && this._nonce == g._nonce && this._pin == g._pin:!1;}});nc.ACTION="regpairrequest";P=qd=H.extend({init:function(g,x,z,C,H,F){var S;function P(z){p(F,function(){var p,H,P,S,d;p=oa(z);H=n("action",t(g));P=n("nonce",x.toString());S=n("pin",p);H=n("registerdata",H + P + S);d=Xa(H,"utf-8");p="action=" + K(g) + "&nonce=" + K(x.toString()) + "&pin=" + K(p);C.sign(Xa(p,"utf-8"),{result:function(b){N(d,b);},error:F.error});},S);}function N(n,t){p(F,function(){Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:x,writable:!1,enumerable:!1,configurable:!1},_pin:{value:z,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:n,writable:!1,enumerable:!1,configurable:!1},_signature:{value:t,writable:!1,enumerable:!1,configurable:!1}});return this;},S);}S=this;p(F,function(){H?N(H.encoding,H.signature):C.encrypt(Xa(z,"utf-8"),{result:function(g){P(g);},error:F.error});},S);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this === g?!0:g instanceof P?this._action == g._action && this._nonce == g._nonce && this._pin == g._pin:!1;}});qd.ACTION=nc.ACTION;ua=function(n,x,t,z,C){p(C,function(){var H,F,N,S,ba,W,na;H=n.getMslStore().getCryptoContext(x);F=H?H:new ib(n,x);H=Ya(t,"utf-8");N=new DOMParser().parseFromString(H,"application/xml");H=N.getElementsByTagName("action");S=N.getElementsByTagName("nonce");N=N.getElementsByTagName("pin");ba=H && 1 == H.length && H[0].firstChild?H[0].firstChild.nodeValue:null;W=S && 1 == S.length && S[0].firstChild?parseInt(S[0].firstChild.nodeValue):null;na=N && 1 == N.length && N[0].firstChild?N[0].firstChild.nodeValue:null;if(!ba || !W || !na)throw new ga(g.XML_PARSE_ERROR,"MDX authdata " + oa(t));H="action=" + K(ba) + "&nonce=" + K(W.toString()) + "&pin=" + K(na);F.verify(Xa(H,"utf-8"),z,{result:function(n){p(C,function(){var x;if(!n)throw new L(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + oa(t));x=ya(na);F.decrypt(x,{result:function(d){p(C,function(){var b;b=Ya(d,"utf-8");new P(ba,W,b,null,{encoding:t,signature:z},C);});},error:C.error});});},error:C.error});});};dc=Gb.extend({init:function W(g,n,p,t,z,H){var C,K,F,P,N,ba;W.base.call(this,db.MDX);C=null;K=null;F=null;if("string" === typeof p)(g=x.MSL_LEGACY,F=p);else if(p instanceof Uint8Array)(g=x.NTBA,K=p);else if(p instanceof hb)(g=x.MSL,C=p);else throw new TypeError("Controller token " + p + " is not a master token, encrypted CTicket, or MSL token construct.");P=p=null;N=null;if(H){ba=H.controllerAuthData;p=ba.getAction();P=ba.getPin();H=H.userIdToken;ba instanceof na?N=ba.getUserIdToken().customer:H && (N=H.customer);}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},action:{value:p,writable:!1,configurable:!1},targetPin:{value:n,writable:!1,configurable:!1},controllerPin:{value:P,writable:!1,configurable:!1},customer:{value:N,writable:!1,configurable:!1},_masterToken:{value:C,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:K,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:F,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:t,writable:!1,enumerable:!1,configurable:!1},_signature:{value:z,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var g,n;g={};switch(this.mechanism){case x.MSL:n=JSON.parse(JSON.stringify(this._masterToken));g.mastertoken=n;break;case x.NTBA:n=Ya(this._encryptedCTicket,"utf-8");g.cticket=n;break;case x.MSL_LEGACY:g.cticket=this._mslTokens;break;default:throw new X("Unsupported MDX mechanism.");}g.pin=this.targetPin;g.mdxauthdata=oa(this._controllerEncoding);g.signature=oa(this._signature);return g;},equals:function za(g){return this === g?!0:g instanceof dc?za.base.call(this,g) && (this._masterToken == g._masterToken || this._masterToken && this._masterToken.equals(g._masterToken)) && (this._encryptedCTicket == g._encryptedCTicket || this._encryptedCTicket && ab(this._encryptedCTicket,g._encryptedCTicket)) && this._mslTokens == g._mslTokens && ab(this._controllerEncoding,g._controllerEncoding) && ab(this._signature,g._signature):!1;}});te=function(n,x,t){function z(z,H,C,K){Tb(n,H,{result:function(H){p(t,function(){if(!H.isDecrypted())throw new Da(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + x.toString());ba(n,H,C,K,{result:function(g){p(t,function(){var d,b;d=g.getEncoding();b=g.getSignature();return new dc(n,z,H,d,b,{controllerAuthData:g,userIdToken:null});});},error:t.error});});},error:function(n){p(t,function(){if(n instanceof F)throw new Da(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(x),n);throw n;});}});}function H(n,x,z,H){p(t,function(){throw new Da(g.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function C(z,H,C,K){function P(d,b){p(b,function(){var a,c;try{a=ya(d);}catch(l){throw new Da(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(x),l);}if(!a || 0 == a.length)throw new Da(g.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(x));try{c=JSON.parse(Ya(a,"utf-8"));Tb(n,c,{result:function(a){p(b,function(){if(!a.isDecrypted())throw new Da(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + x.toString());return a;});},error:function(a){p(b,function(){if(a instanceof F)throw new Da(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(x),a);throw a;});}});}catch(l){if(l instanceof SyntaxError)throw new ga(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(x),l);throw l;}});}function N(d,b,a){p(a,function(){var c,l;try{c=ya(d);}catch(k){throw new Da(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(x),k);}if(!c || 0 == c.length)throw new Da(g.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(x));try{l=JSON.parse(Ya(c,"utf-8"));Ub(n,l,b,{result:function(b){p(a,function(){if(!b.isDecrypted())throw new Da(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(x));return b;});},error:function(b){p(a,function(){if(b instanceof F)throw new Da(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(x),b);throw b;});}});}catch(k){if(k instanceof SyntaxError)throw new ga(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(x),k);throw k;}});}p(t,function(){var d;d=H.split(",");if(3 != d.length || "1" != d[0])throw new Da(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(x));P(d[1],{result:function(b){N(d[2],b,{result:function(a){ua(n,b,C,K,{result:function(b){p(t,function(){return new dc(n,z,H,C,K,{controllerAuthData:b,userIdToken:a});});},error:function(a){p(t,function(){if(a instanceof Rb)throw new Da(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(x),a);throw a;});}});},error:t.error});},error:t.error});});}p(t,function(){var n,p,t,K,F;n=x.pin;p=x.mdxauthdata;t=x.signature;if(!n || "string" !== typeof n || !p || "string" !== typeof p || !t || "string" !== typeof t)throw new ga(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(x));try{K=ya(p);F=ya(t);}catch(Jb){throw new Da(g.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(x),Jb);}if(x.mastertoken){p=x.mastertoken;if(!p || "object" !== typeof p)throw new ga(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(x));z(n,p,K,F);}else if(x.cticket){p=x.cticket;if(!p || "string" !== typeof p)throw new ga(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(x));-1 == p.indexOf(",")?H(n,p,K,F):C(n,p,K,F);}else throw new Da(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(x));});};})();(function(){var n,p,t;n=pd.ACTION;p=nc.ACTION;t=qd.ACTION;ue=lc.extend({init:function H(){H.base.call(this,db.MDX);},createData:function(g,n,p,t){te(g,p,t);},authenticate:function(z,C,K,F){if(!(K instanceof dc))throw new X("Incorrect authentication data type " + K.getClass().getName() + ".");z=K.action;switch(K.mechanism){case Jc.MSL:if(n != z)throw new Da(g.MDX_USERAUTH_ACTION_INVALID).setUser(K);break;case Jc.NTBA:if(p != z)throw new Da(g.MDX_USERAUTH_ACTION_INVALID).setUser(K);break;case Jc.MSL_LEGACY:if(t != z)throw new Da(g.MDX_USERAUTH_ACTION_INVALID).setUser(K);}z=K.controllerPin;C=K.targetPin;if(!z || !C)throw new Da(g.MDX_PIN_BLANK).setUser(K);if(z != C)throw new Da(g.MDX_PIN_MISMATCH).setUser(K);z=K.customer;if(!z)throw new Da(g.MDX_USER_UNKNOWN).setUser(K);if(F && (F=F.customer,!z.equals(F)))throw new Da(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + z + "; uit customer " + F).setUser(K);return z;}});})();(function(){var n,p,t;n={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};p=we=la.Class.create({init:function(g,n){Object.defineProperties(this,{email:{value:g,writable:!1,enumerable:!0,configurable:!1},password:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});t=xe=la.Class.create({init:function(g,n){Object.defineProperties(this,{netflixId:{value:g,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});oc=Gb.extend({init:function H(g,n,z,C){var K,F,S,ba;H.base.call(this,db.SSO);K=null;F=null;S=null;ba=null;z instanceof p?(K=z.email,F=z.password):z instanceof t && (S=z.netflixId,ba=z.secureNetflixId);Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},token:{value:n,writable:!1,configurable:!1},email:{value:K,writable:!1,configurable:!1},password:{value:F,writable:!1,configurable:!1},netflixId:{value:S,writable:!1,configurable:!1},secureNetflixId:{value:ba,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof C?null:C,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.mechanism=this.mechanism;g.token=oa(this.token);this.email && this.password?(g.email=this.email,g.password=this.password):this.netflixId && this.secureNetflixId && (g.netflixid=this.netflixId,g.securenetflixid=this.secureNetflixId);this.profileGuid && (g.profileguid=this.profileGuid);return g;},equals:function na(g){return this === g?!0:g instanceof oc?na.base.call(this,g) && this.mechanism == g.mechanism && ab(this.token,g.token) && this.email == g.email && this.password == g.password && this.netflixId == g.netflixId && this.secureNetflixId == g.secureNetflixId && this.profileGuid == g.profileGuid:!1;}});ve=function(z){var C,K,F,P,L,S,W,na,N;C=z.mechanism;K=z.token;if(!C || !K || "string" !== typeof K)throw new ga(g.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(z));if(!n[C])throw new Da(g.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(z));F=z.email;P=z.password;L=z.netflixid;S=z.securenetflixid;W=z.profileguid;if(F && !P || !F && P || L && !S || !L && S || F && L)throw new ga(g.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(z));try{na=ya(K);}catch(va){throw new Da(g.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(z),va);}F && P?N=new p(F,P):L && S && (N=new t(L,S));return new oc(C,na,N,W);};})();Ye=lc.extend({init:function C(){C.base.call(this,db.SSO);},createData:function(g,n,x,t){p(t,function(){return ve(x);});},authenticate:function(n,p,x,t){var C,H;if(!(x instanceof oc))throw new X("Incorrect authentication data type " + x + ".");n=x.token;p=x.email;t=x.password;C=x.netflixId;H=x.secureNetflixId;if(!n || 0 == n.length)throw new Da(g.SSOTOKEN_BLANK);if(!(null === p && null === t || p && t))throw new Da(g.EMAILPASSWORD_BLANK);if(!(null === C && null === H || C && H))throw new Da(g.NETFLIXID_COOKIES_BLANK).setUser(x);throw new Da(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(x);}});(function(){pc=Gb.extend({init:function K(g,n){K.base.call(this,db.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:g,writable:!1,configurable:!1},profileGuid:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));g.profileguid=this.profileGuid;return g;},equals:function x(g){return this == g?!0:g instanceof pc?x.base.call(this,g) && this.userIdToken.equals(g.userIdToken) && this.profileGuid == g.profileGuid:!1;}});ye=function(n,t,F,ba){p(ba,function(){var x,H;if(!t)throw new Da(g.USERAUTH_MASTERTOKEN_MISSING);x=F.useridtoken;H=F.profileguid;if("object" !== typeof x || "string" !== typeof H)throw new ga(g.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(F));Ub(n,x,t,{result:function(n){p(ba,function(){if(!n.isDecrypted())throw new Da(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(F));return new pc(n,H);});},error:function(n){ba.error(new Da(g.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(F),n));}});});};})();Ze=lc.extend({init:function K(g){K.base.call(this,db.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,n,p,t){ye(g,n,p,t);},authenticate:function(n,p,t,F){if(!(t instanceof pc))throw new X("Incorrect authentication data type " + t + ".");p=t.userIdToken;n=t.profileGuid;if(!n)throw new Da(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(t);p=p.user;if(!p)throw new Da(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(t);n=this._store.switchUsers(p,n);if(!n)throw new Da(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(t);if(F && (F=F.user,!n.equals(F)))throw new Da(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + n + "; uit user " + F).setUserAuthenticationData(t);return n;}});Object.freeze({ENTITY_REAUTH:n.ENTITY_REAUTH,ENTITYDATA_REAUTH:n.ENTITYDATA_REAUTH});$e=la.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(g,n){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(g){},getUserAuthenticationFactory:function(g){},getTokenFactory:function(){},getKeyExchangeFactory:function(g){},getKeyExchangeFactories:function(){},getMslStore:function(){}});ze=la.Class.create({setCryptoContext:function(g,n){},getMasterToken:function(){},getNonReplayableId:function(g){},getCryptoContext:function(g){},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,n){},getUserIdToken:function(g){},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(g,n){},removeServiceTokens:function(g,n,p){},clearServiceTokens:function(){}});(function(){var n;n=Pb;nd=function(p,t){var x;x={};switch(p){case n.LZW:return Bd(t,x);case n.GZIP:return gzip$compress(t);default:throw new F(g.UNSUPPORTED_COMPRESSION,p);}};Gc=function(p,t,K){switch(p){case n.LZW:return Cd(t);case n.GZIP:return gzip$uncompress(t);default:throw new F(g.UNSUPPORTED_COMPRESSION,p.name());}};})();ze.extend({setCryptoContext:function(g,n){},getMasterToken:function(){return null;},getNonReplayableId:function(g){return 1;},getCryptoContext:function(g){return null;},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,n){},getUserIdToken:function(g){return null;},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(n,p){if(p){if(!n)throw new F(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!p.isBoundTo(n))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + p.mtSerialNumber + "; mt " + n.serialNumber);}return [];},removeServiceTokens:function(n,p,t){if(t && p && !t.isBoundTo(p))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + t.masterTokenSerialNumber + "; mt " + p.serialNumber);},clearServiceTokens:function(){}});(function(){Ae=ze.extend({init:function x(){x.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(g,n){var p;if(n){p=g.uniqueKey();this.masterTokens[p]=g;this.cryptoContexts[p]=n;}else this.removeCryptoContext(g);},getMasterToken:function(){var g,n,p;g=null;for(n in this.masterTokens){p=this.masterTokens[n];if(!g || p.isNewerThan(g))g=p;}return g;},getNonReplayableId:function(g){var n;g=g.serialNumber;n=this.nonReplayableIds[g] !== da?this.nonReplayableIds[g]:0;if(0 > n || n > Pa)throw new X("Non-replayable ID " + n + " is outside the valid range.");n=n == Pa?0:n + 1;return this.nonReplayableIds[g]=n;},getCryptoContext:function(g){return this.cryptoContexts[g.uniqueKey()];},removeCryptoContext:function(g){var n,p,t,x;n=g.uniqueKey();if(this.masterTokens[n]){p=g.serialNumber;for(t in this.masterTokens){x=this.masterTokens[t];if(!x.equals(g) && x.serialNumber == p){delete this.masterTokens[n];delete this.cryptoContexts[n];return;}}Object.keys(this.userIdTokens).forEach(function(n){n=this.userIdTokens[n];n.isBoundTo(g) && this.removeUserIdToken(n);},this);try{this.removeServiceTokens(null,g,null);}catch(qa){if(qa instanceof F)throw new X("Unexpected exception while removing master token bound service tokens.",qa);throw qa;}delete this.nonReplayableIds[p];delete this.masterTokens[n];delete this.cryptoContexts[n];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(g){for(var n in g){delete g[n];}},this);},addUserIdToken:function(n,p){var t,x;t=!1;for(x in this.masterTokens){if(p.isBoundTo(this.masterTokens[x])){t=!0;break;}}if(!t)throw new F(g.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + p.mtSerialNumber);this.userIdTokens[n]=p;},getUserIdToken:function(g){return this.userIdTokens[g];},removeUserIdToken:function(g){var n,p,t;n=null;for(p in this.masterTokens){t=this.masterTokens[p];if(g.isBoundTo(t)){n=t;break;}}Object.keys(this.userIdTokens).forEach(function(p){if(this.userIdTokens[p].equals(g)){try{this.removeServiceTokens(null,n,g);}catch(qa){if(qa instanceof F)throw new X("Unexpected exception while removing user ID token bound service tokens.",qa);throw qa;}delete this.userIdTokens[p];}},this);},clearUserIdTokens:function(){for(var g in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[g]);}},addServiceTokens:function(n){n.forEach(function(n){var p,t,x;if(n.isMasterTokenBound()){p=!1;for(t in this.masterTokens){if(n.isBoundTo(this.masterTokens[t])){p=!0;break;}}if(!p)throw new F(g.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + n.mtSerialNumber);}if(n.isUserIdTokenBound()){p=!1;for(x in this.userIdTokens){if(n.isBoundTo(this.userIdTokens[x])){p=!0;break;}}if(!p)throw new F(g.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + n.uitSerialNumber);}},this);n.forEach(function(g){var n;if(g.isUnbound())this.unboundServiceTokens[g.uniqueKey()]=g;else {if(g.isMasterTokenBound()){n=this.mtServiceTokens[g.mtSerialNumber];n || (n={});n[g.uniqueKey()]=g;this.mtServiceTokens[g.mtSerialNumber]=n;}g.isUserIdTokenBound() && ((n=this.uitServiceTokens[g.uitSerialNumber]) || (n={}),n[g.uniqueKey()]=g,this.uitServiceTokens[g.uitSerialNumber]=n);}},this);},getServiceTokens:function(n,p){var t,x,H;if(p){if(!n)throw new F(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!p.isBoundTo(n))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + p.mtSerialNumber + "; mt " + n.serialNumber);}t={};for(x in this.unboundServiceTokens){H=this.unboundServiceTokens[x];t[H.uniqueKey()]=H;}if(n && (x=this.mtServiceTokens[n.serialNumber]))for(var L in x){H=x[L];H.isUserIdTokenBound() || (t[L]=H);}if(p && (L=this.uitServiceTokens[p.serialNumber]))for(var P in L){x=L[P];x.isBoundTo(n) && (t[P]=x);}P=[];for(var ua in t){P.push(t[ua]);}return P;},removeServiceTokens:function(n,p,t){var x,H,L;if(t && p && !t.isBoundTo(p))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + t.mtSerialNumber + "; mt " + p.serialNumber);!n || p || t || Object.keys(this.unboundServiceTokens).forEach(function(g){this.unboundServiceTokens[g].name == n && delete this.unboundServiceTokens[g];},this);p && !t && (x=this.mtServiceTokens[p.serialNumber]) && (L=Object.keys(x),L.forEach(function(g){var p;p=x[g];n && p.name != n || delete x[g];},this),this.mtServiceTokens[p.serialNumber]=x);t && (H=this.uitServiceTokens[t.serialNumber]) && (p=Object.keys(H),p.forEach(function(g){var p;p=H[g];n && p.name != n || delete H[g];},this),this.uitServiceTokens[t.serialNumber]=H);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(g){for(var n in g){delete g[n];}},this);}});})();Je=Te.extend({init:function x(){x.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(g,n){var p;if(n && g && g.length){p=oa(g);this._contextMap[p]=n;}},getCryptoContext:function(g){return g && g.length?(g=oa(g),this._contextMap[g] || null):null;},removeCryptoContext:function(g){g && g.length && (g=oa(g),delete this._contextMap[g]);}});Be=Me.extend({init:function H(g,n,p,t){H.base.call(this,g);Object.defineProperties(this,{_kde:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:p,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:t,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,p){if(!(p instanceof mb))throw new X("Incorrect authentication data type " + JSON.stringify(p) + ".");if(p.identity != this.localIdentity)throw new wb(g.ENTITY_NOT_FOUND,"mgk " + p.identity);return new zc(n,this.localIdentity,this._kde,this._kdh,this._kdw);}});af=Md.extend({init:function na(g,n,p,t){na.base.call(this,g);Object.defineProperties(this,{_kpe:{value:n,writable:!1,enumerable:!1,configurable:!1},_kph:{value:p,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:t,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,p){if(!(p instanceof rb))throw new X("Incorrect authentication data type " + JSON.stringify(p) + ".");if(p.identity != this.localIdentity)throw new wb(g.ENTITY_NOT_FOUND,"psk " + p.identity);return new zc(n,this.localIdentity,this._kpe,this._kph,this._kpw);}});cf=Ae.extend({init:function ba(g,n,p,t,F,L){ba.base.call(this);this._log=g;this._esn=n;this._keyRequestData=p;this._createKeyRequestData=t;this._systemKeyName=F;this._systemKeyWrapFormat=L;},setCryptoContext:function Ja(g,n,p){var t;t=this;t._log.trace("Adding MasterToken",{SequenceNumber:g.sequenceNumber,SerialNumber:g.serialNumber,Expiration:g.expiration.getTime()});Ja.base.call(this,g,n);!p && (g=t._createKeyRequestData) && (t._log.trace("Generating new keyx request data"),g().then(function(g){t._keyRequestData=g;},function(g){t._log.error("Unable to generate new keyx request data","" + g);}));},addUserIdToken:function qa(g,n){this._log.trace("Adding UserIdToken",{UserId:g,SerialNumber:n.serialNumber,MTSerialNumber:n.mtSerialNumber,Expiration:n.expiration.getTime()});qa.base.call(this,g,n);},addServiceTokens:function P(g){P.base.call(this,g.filter(function(g){return !bf[g.name];}));},getUserIdTokenKeys:function(){var g,n;g=[];for(n in this.userIdTokens){g.push(n);}return g;},rekeyUserIdToken:function(g,n){this.userIdTokens[g] && (this.userIdTokens[n]=this.userIdTokens[g],delete this.userIdTokens[g]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(g){var n;n=this;p(g,function(){var t;t=n.getMasterToken();t?n.getKeysForStore(t,{result:function(F){p(g,function(){var g,p,P;g=n.userIdTokens;p=Object.keys(g).map(function(p){var F;F=g[p];return {userId:p,userIdTokenJSON:g[p].toJSON(),serviceTokenJSONList:n.getServiceTokens(t,F).map(Ge)};});F.esn=n._esn;F.masterTokenJSON=t.toJSON();F.userList=p;P=n._keyRequestData.storeData;P && Object.keys(P).forEach(function(g){F[g]=P[g];});return F;});},timeout:g.timeout,error:g.error}):g.result(null);});},getKeysForStore:function(n,t){var P;P=this;p(t,function(){var p;p=P.getCryptoContext(n);p={encryptionKey:p.encryptionKey,hmacKey:p.hmacKey};if(p.encryptionKey && p.hmacKey){if(P._systemKeyWrapFormat)P.wrapKeysWithSystemKey(p,t);else return p;}else throw new F(g.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(n,t){var P;P=this;vd(this._systemKeyName,{result:function(S){p(t,function(){var p,N,L,W;p=n.encryptionKey;N=n.hmacKey;L=p[ec];W=N[ec];if(L && W)return {wrappedEncryptionKey:L,wrappedHmacKey:W};Promise.resolve().then(function(){return Promise.all([Ga.wrapKey(P._systemKeyWrapFormat,p,S,S.algorithm),Ga.wrapKey(P._systemKeyWrapFormat,N,S,S.algorithm)]);}).then(function(g){L=oa(g[0]);p[ec]=L;W=oa(g[1]);N[ec]=W;t.result({wrappedEncryptionKey:L,wrappedHmacKey:W});})["catch"](function(n){t.error(new F(g.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",n));});});},timeout:t.timeout,error:t.error});},unwrapKeysWithSystemKey:function(n,t){var P;P=this;vd(this._systemKeyName,{result:function(S){p(t,function(){var p,N;p=ya(n.wrappedEncryptionKey);N=ya(n.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ga.unwrapKey(P._systemKeyWrapFormat,p,S,S.algorithm,pb,!1,Hb),Ga.unwrapKey(P._systemKeyWrapFormat,N,S,S.algorithm,qb,!1,Sb)]);}).then(function(g){var p;p=g[0];g=g[1];p[ec]=n.wrappedEncryptionKey;g[ec]=n.wrappedHmacKey;t.result({encryptionKey:p,hmacKey:g});})["catch"](function(n){t.error(new F(g.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",n));});});},timeout:t.timeout,error:t.error});},loadStoreState:function(g,n,p,t){var S,L;function F(g,t){var F;try{F=p.userList.slice();}catch(vb){}F?(function Fb(){var p;p=F.shift();p?Ub(n,p.userIdTokenJSON,g,{result:function(n){try{S.addUserIdToken(p.userId,n);P(g,n,p.serviceTokenJSONList,{result:Fb,timeout:Fb,error:Fb});}catch(Jb){Fb();}},timeout:Fb,error:Fb}):t.result();})():t.result();}function P(g,p,t,F){var P,N;try{P=t.slice();}catch(ma){}if(P){N=S.getCryptoContext(g);(function Jb(){var d;d=P.shift();d?Fc(n,d,g,p,N,{result:function(b){S.addServiceTokens([b]);Jb();},timeout:function(){Jb();},error:function(){Jb();}}):F.result();})();}else F.result();}S=this;L=S._log;p.esn != S._esn?(L.error("Esn mismatch, starting fresh"),t.error()):(function(t){var N,W,va,X;function F(){var p;if(!N && W && va && X){N=!0;p=new ib(n,W,g.esn,{rawKey:va},{rawKey:X});S.setCryptoContext(W,p,!0);t.result(W);}}function P(g,d){L.error(g,d && "" + d);N || (N=!0,t.error());}p.masterTokenJSON?(Tb(n,p.masterTokenJSON,{result:function(g){W=g;F();},timeout:function(){P("Timeout parsing MasterToken");},error:function(g){P("Error parsing MasterToken",g);}}),S._systemKeyWrapFormat?S.unwrapKeysWithSystemKey(p,{result:function(g){va=g.encryptionKey;X=g.hmacKey;F();},timeout:function(){P("Timeout unwrapping keys");},error:function(g){P("Error unwrapping keys",g);}}):Promise.resolve().then(function(){return Ga.encrypt({name:pb.name,iv:new Uint8Array(16)},p.encryptionKey,new Uint8Array(1));}).then(function(g){va=p.encryptionKey;})["catch"](function(g){P("Error loading encryptionKey");}).then(function(){return Ga.sign(qb,p.hmacKey,new Uint8Array(1));}).then(function(g){X=p.hmacKey;F();})["catch"](function(g){P("Error loading hmacKey");})):P("Persisted store is corrupt");})({result:function(g){F(g,t);},timeout:t.timeout,error:t.error});}});bf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};ec="$netflix$msl$wrapsys";df=$e.extend({init:function(g,n,p,t,F,N){var P,S;P=new jc([Pb.LZW]);S=new Oe();S.addPublicKey(n,p);t[Qa.RSA]=new Ne(S);n={};n[db.EMAIL_PASSWORD]=new Xe();n[db.NETFLIXID]=new We();n[db.MDX]=new ue();n[db.SSO]=new Ye();n[db.SWITCH_PROFILE]=new Ze();g={_mslCryptoContext:{value:new Le(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:P,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:F,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:t,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:n,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:N,writable:!1,enumerable:!1,configurable:!1},_store:{value:g,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},getTime:function(){return Date.now();},getRandom:function(){return new Gd();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(g,n){n.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(g){return this._entityAuthFactories[g];},getUserAuthenticationFactory:function(g){return this._userAuthFactories[g];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(g){return this._keyExchangeFactories.filter(function(n){return n.scheme == g;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});xd=oe.extend({init:function(g,n,p,t){this._log=g;this._mslContext=n;this._mslRequest=p;this._keyRequestData=t;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(g,n,t,F){var P,N;P=this._mslRequest;N=this._mslContext;p(F,function(){var n,p;if(g || !P.shouldSendUserAuthData)return null;if(P.token){P.email?n=new we(P.email,P.password):P.netflixId && (n=new xe(P.netflixId,P.secureNetflixId));p="undefined" === typeof P.profileGuid?null:P.profileGuid;return new oc(P.mechanism,Xa(P.token),n,p);}return P.email?new mc(P.email,P.password):P.netflixId?new Xb(P.netflixId,P.secureNetflixId):P.mdxControllerToken?(n=new nc("regpairrequest",P.mdxNonce,P.mdxEncryptedPinB64,P.mdxSignature).getEncoding(),new dc(N,P.mdxPin,P.mdxControllerToken,n,P.mdxSignature)):P.useNetflixUserAuthData?new Xb():P.profileGuid?(n=P.userId,n=N.getMslStore().userIdTokens[n],new pc(n,P.profileGuid)):t && P.sendUserAuthIfRequired?new Xb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(g){g.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(g,n,p){var t,F,P,S,L,X;t=this._log;F=(this._mslRequest.serviceTokens || []).slice();P=this._mslContext;n=P.getMslStore();S=g.builder.getMasterToken();L=this.getUserId();X=n.getUserIdToken(L);(function ea(){var n;n=F.shift();if(n)try{n instanceof Kb?(g.addPrimaryServiceToken(n),ea()):Fc(P,n,S,X,null,{result:function(n){try{g.addPrimaryServiceToken(n);}catch(gd){t.warn("Exception adding service token","" + gd);}ea();},timeout:function(){t.warn("Timeout parsing service token");ea();},error:function(g){t.warn("Error parsing service token","" + g);ea();}});}catch(Fb){t.warn("Exception processing service token","" + Fb);ea();}else p.result(!0);})();},write:function(g,n,p){var t;t=Xa(this._mslRequest.body);g.write(t,0,t.length,n,{result:function(F){F != t.length?p.error(new $a("Not all data was written to output.")):g.flush(n,{result:function(){p.result(!0);},timeout:function(){p.timeout();},error:function(g){p.error(g);}});},timeout:function(){p.timeout();},error:function(g){p.error(g);}});},getDebugContext:function(){this._dc || (this._dc=new ef(this._log,this._mslRequest));return this._dc;}});ef=Ve.extend({init:function(g,n){this._log=g;this._mslRequest=n;},sentHeader:function(g){this._log.trace("Sent MSL header",wd(this._mslRequest,g),g.serviceTokens && g.serviceTokens.map(He).join("\n"));},receivedHeader:function(g){var n,p;n=wd(this._mslRequest,g);p=g.errorCode;p?this._log.warn("Received MSL error header",n,{errorCode:p,errorMessage:g.errorMessage,internalCode:g.internalCode}):this._log.trace("Received MSL header",n);}});Ce={PSK:function(g){return Qc(g,Qa.PSK,af,rb,hd,Dc);},MGK:function(g){return Qc(g,Qa.MGK,Be,mb,hd,Dc);},MGK_WITH_FALLBACK:function(n){var p,t;switch(n.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":p="PSK";break;default:p="MGK";}t=Ce[p];if(!t)throw new F(g.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + p);return t(n);},MGK_JWE:function(g){return Qc(g,Qa.MGK,Be,mb,Sd,fd);},JWK_RSA:function(g){return Rc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ec.JWK_RSA);},JWK_RSAES:function(g){return Rc(g,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ec.JWK_RSAES);},JWEJS_RSA:function(g){return Rc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ec.JWEJS_RSA);}};ka.netflix=ka.netflix || ({});ka.netflix.msl={createMslClient:function(n,p){var t,P,L,N,va;t=n.log;va=n.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Sa && Sa.generateKey && Sa.importKey && Sa.unwrapKey))throw new F(g.INTERNAL_EXCEPTION,"No WebCrypto");eb=Sa.generateKey({name:"AES-CBC",length:128},!0,Hb).then?uc.V2014_02:uc.LEGACY;va("mslisik");return Ga.importKey("spki",n.serverIdentityKeyData,Hd,!1,["verify"]);}).then(function(n){return new Promise(function(p,t){Ob(n,{result:p,error:function(){t(new F(g.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(p){P=p;if(p=Ce[n.authenticationType])return (va("mslcc"),p(n));throw new F(g.INTERNAL_EXCEPTION,"Invalid authenticationType: " + n.authenticationType);}).then(function(g){var p;L=new cf(t,n.esn,g.keyRequestData,g.createKeyRequestData,n.authenticationKeyNames.s,n.systemKeyWrapFormat);N=new df(L,n.serverIdentityId,P,g.entityAuthFactories,g.entityAuthData,g.keyExchangeFactories);p=n.storeState;if(p)return (va("mslss"),t.info("Loading store state"),new Promise(function(g,t){L.loadStoreState(n,N,p,{result:g,timeout:g,error:g});}));t.info("No store state, starting fresh");}).then(function(){var g;g=new pe();va("msldone");p.result(new Ie(t,g,N,L,n.ErrorSubCodes));})["catch"](function(g){p.error(g);});},IHttpLocation:Re,MslIoException:$a};(function(){var ya,ma,Da;function g(){g=function(){};ma.Symbol || (ma.Symbol=n);}function n(d){return "jscomp_symbol_" + (d || "") + Da++;}function p(){var d;g();d=ma.Symbol.iterator;d || (d=ma.Symbol.iterator=ma.Symbol("iterator"));"function" != typeof Array.prototype[d] && ya(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return t(this);}});p=function(){};}function t(d){var b;b=0;return F(function(){return b < d.length?{done:!1,value:d[b++]}:{done:!0};});}function F(d){p();d={next:d};d[ma.Symbol.iterator]=function(){return this;};return d;}function N(d){var b;p();g();p();b=d[Symbol.iterator];return b?b.call(d):t(d);}function L(d,b){var l;function a(){}a.prototype=b.prototype;d.prototype=new a();d.prototype.constructor=d;for(var c in b){if(Object.defineProperties){l=Object.getOwnPropertyDescriptor(b,c);l && Object.defineProperty(d,c,l);}else d[c]=b[c];}}function X(d){if(!(d instanceof Array)){d=N(d);for(var b,a=[];!(b=d.next()).done;){a.push(b.value);}d=a;}return d;}function ga(d,b){var a,l;if(b){a=ma;d=d.split(".");for(var c=0;c < d.length - 1;c++){l=d[c];(l in a) || (a[l]={});a=a[l];}d=d[d.length - 1];c=a[d];b=b(c);b != c && null != b && ya(a,d,{configurable:!0,writable:!0,value:b});}}function da(d,b){return Object.prototype.hasOwnProperty.call(d,b);}function ea(d,b){var a,c;p();d instanceof String && (d+="");a=0;c={next:function(){var l;if(a < d.length){l=a++;return {value:b(l,d[l]),done:!1};}c.next=function(){return {done:!0,value:void 0};};return c.next();}};c[Symbol.iterator]=function(){return c;};return c;}function la(d,b,a){if(null == d)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return d + "";}function oa(d,b,a){var k;d instanceof String && (d=String(d));for(var c=d.length,l=0;l < c;l++){k=d[l];if(b.call(a,k,l,d))return {Ck:l,A7:k};}return {Ck:-1,A7:void 0};}ya="function" == typeof Object.defineProperties?Object.defineProperty:function(d,b,a){if(a.get || a.set)throw new TypeError("ES3 does not support getters and setters.");d != Array.prototype && d != Object.prototype && (d[b]=a.value);};ma="undefined" != typeof ka && ka === this?this:"undefined" != typeof global && null != global?global:this;Da=0;ga("Object.setPrototypeOf",function(d){return d?d:"object" != typeof ("").__proto__?null:function(b,a){b.__proto__=a;if(b.__proto__ !== a)throw new TypeError(b + " is not extensible");return b;};});ga("Object.assign",function(d){return d?d:function(b,a){var l;for(var c=1;c < arguments.length;c++){l=arguments[c];if(l)for(var k in l){da(l,k) && (b[k]=l[k]);}}return b;};});ga("Object.getOwnPropertySymbols",function(d){return d?d:function(){return [];};});ga("Promise",function(d){var c,l;function b(a){var b;this.JU=0;this.jra=void 0;this.mT=[];b=this.vha();try{a(b.resolve,b.reject);}catch(f){b.reject(f);}}function a(){this.Iz=null;}if(d)return d;a.prototype.DJa=function(a){null == this.Iz && (this.Iz=[],this.ykb());this.Iz.push(a);};a.prototype.ykb=function(){var a;a=this;this.EJa(function(){a.Lub();});};c=ma.setTimeout;a.prototype.EJa=function(a){c(a,0);};a.prototype.Lub=function(){var a,f;for(;this.Iz && this.Iz.length;){a=this.Iz;this.Iz=[];for(var b=0;b < a.length;++b){f=a[b];delete a[b];try{f();}catch(h){this.Akb(h);}}}this.Iz=null;};a.prototype.Akb=function(a){this.EJa(function(){throw a;});};b.prototype.vha=function(){var b,f;function a(a){return function(c){f || (f=!0,a.call(b,c));};}b=this;f=!1;return {resolve:a(this.vPb),reject:a(this.Nqa)};};b.prototype.vPb=function(a){var c;if(a === this)this.Nqa(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.HRb(a);else {a:switch(typeof a){case "object":c=null != a;break a;case "function":c=!0;break a;default:c=!1;}c?this.uPb(a):this.BPa(a);}};b.prototype.uPb=function(a){var b;b=void 0;try{b=a.then;}catch(f){this.Nqa(f);return;}"function" == typeof b?this.IRb(b,a):this.BPa(a);};b.prototype.Nqa=function(a){this.k1a(2,a);};b.prototype.BPa=function(a){this.k1a(1,a);};b.prototype.k1a=function(a,b){if(0 != this.JU)throw Error("Cannot settle(" + a + ", " + b | "): Promise already settled in state" + this.JU);this.JU=a;this.jra=b;this.Mub();};b.prototype.Mub=function(){if(null != this.mT){for(var a=this.mT,b=0;b < a.length;++b){a[b].call();a[b]=null;}this.mT=null;}};l=new a();b.prototype.HRb=function(a){var b;b=this.vha();a.I_(b.resolve,b.reject);};b.prototype.IRb=function(a,b){var f;f=this.vha();try{a.call(b,f.resolve,f.reject);}catch(h){f.reject(h);}};b.prototype.then=function(a,c){var h,l,m;function f(a,b){return "function" == typeof a?function(b){try{h(a(b));}catch(y){l(y);}}:b;}m=new b(function(a,b){h=a;l=b;});this.I_(f(a,h),f(c,l));return m;};b.prototype["catch"]=function(a){return this.then(void 0,a);};b.prototype.I_=function(a,b){var c;function f(){switch(c.JU){case 1:a(c.jra);break;case 2:b(c.jra);break;default:throw Error("Unexpected state: " + c.JU);}}c=this;null == this.mT?l.DJa(f):this.mT.push(function(){l.DJa(f);});};b.resolve=function(a){return a instanceof b?a:new b(function(b){b(a);});};b.reject=function(a){return new b(function(b,f){f(a);});};b.race=function(a){return new b(function(c,f){for(var h=N(a),l=h.next();!l.done;l=h.next()){b.resolve(l.value).I_(c,f);}});};b.all=function(a){var c,f;c=N(a);f=c.next();return f.done?b.resolve([]):new b(function(a,l){var q,m;function h(b){return function(f){q[b]=f;m--;0 == m && a(q);};}q=[];m=0;do {q.push(void 0);m++;b.resolve(f.value).I_(h(q.length - 1),l);f=c.next();}while(!f.done);});};b.$jscomp$new$AsyncExecutor=function(){return new a();};return b;});ga("Array.prototype.entries",function(d){return d?d:function(){return ea(this,function(b,a){return [b,a];});};});ga("Array.prototype.keys",function(d){return d?d:function(){return ea(this,function(b){return b;});};});ga("Math.tanh",function(d){return d?d:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});ga("String.prototype.includes",function(d){return d?d:function(b,a){return -1 !== la(this,b,"includes").indexOf(b,a || 0);};});ga("Number.isNaN",function(d){return d?d:function(b){return "number" === typeof b && isNaN(b);};});ga("WeakMap",function(d){var l,k;function b(a){this.ZR=(k+=Math.random() + 1).toString();if(a){g();p();a=N(a);for(var b;!(b=a.next()).done;){b=b.value;this.set(b[0],b[1]);}}}function a(a){da(a,l) || ya(a,l,{value:{}});}function c(b){var f;f=Object[b];f && (Object[b]=function(b){a(b);return f(b);});}if((function(){var a,b,c;if(!d || !Object.seal)return !1;try{a=Object.seal({});b=Object.seal({});c=new d([[a,2],[b,3]]);if(2 != c.get(a) || 3 != c.get(b))return !1;c["delete"](a);c.set(b,4);return !c.has(a) && 4 == c.get(b);}catch(q){return !1;}})())return d;l="$jscomp_hidden_" + Math.random().toString().substring(2);c("freeze");c("preventExtensions");c("seal");k=0;b.prototype.set=function(b,f){a(b);if(!da(b,l))throw Error("WeakMap key fail: " + b);b[l][this.ZR]=f;return this;};b.prototype.get=function(a){return da(a,l)?a[l][this.ZR]:void 0;};b.prototype.has=function(a){return da(a,l) && da(a[l],this.ZR);};b.prototype["delete"]=function(a){return da(a,l) && da(a[l],this.ZR)?delete a[l][this.ZR]:!1;};return b;});ga("Map",function(d){var k,m;function b(){var a;a={};return a.jy=a.next=a.head=a;}function a(a,b){var f;f=a.sx;return F(function(){if(f){for(;f.head != a.sx;){f=f.jy;}for(;f.next != f.head;){return (f=f.next,{done:!1,value:b(f)});}f=null;}return {done:!0,value:void 0};});}function c(a,b){var f,c,h;f=b && typeof b;"object" == f || "function" == f?k.has(b)?f=k.get(b):(f="" + ++m,k.set(b,f)):f="p_" + b;c=a.Zw[f];if(c && da(a.Zw,f))for(a=0;a < c.length;a++){h=c[a];if(b !== b && h.key !== h.key || b === h.key)return {id:f,list:c,index:a,Me:h};}return {id:f,list:c,index:-1,Me:void 0};}function l(a){this.Zw={};this.sx=b();this.size=0;if(a){a=N(a);for(var f;!(f=a.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var a,b,c,l;if(!d || !d.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});b=new d(N([[a,"s"]]));if("s" != b.get(a) || 1 != b.size || b.get({x:4}) || b.set({x:4},"t") != b || 2 != b.size)return !1;c=b.entries();l=c.next();if(l.done || l.value[0] != a || "s" != l.value[1])return !1;l=c.next();return l.done || 4 != l.value[0].x || "t" != l.value[1] || !c.next().done?!1:!0;}catch(r){return !1;}})())return d;g();p();k=new WeakMap();l.prototype.set=function(a,b){var f;f=c(this,a);f.list || (f.list=this.Zw[f.id]=[]);f.Me?f.Me.value=b:(f.Me={next:this.sx,jy:this.sx.jy,head:this.sx,key:a,value:b},f.list.push(f.Me),this.sx.jy.next=f.Me,this.sx.jy=f.Me,this.size++);return this;};l.prototype["delete"]=function(a){a=c(this,a);return a.Me && a.list?(a.list.splice(a.index,1),a.list.length || delete this.Zw[a.id],a.Me.jy.next=a.Me.next,a.Me.next.jy=a.Me.jy,a.Me.head=null,this.size--,!0):!1;};l.prototype.clear=function(){this.Zw={};this.sx=this.sx.jy=b();this.size=0;};l.prototype.has=function(a){return ! !c(this,a).Me;};l.prototype.get=function(a){return (a=c(this,a).Me) && a.value;};l.prototype.entries=function(){return a(this,function(a){return [a.key,a.value];});};l.prototype.keys=function(){return a(this,function(a){return a.key;});};l.prototype.values=function(){return a(this,function(a){return a.value;});};l.prototype.forEach=function(a,b){for(var f=this.entries(),c;!(c=f.next()).done;){c=c.value;a.call(b,c[1],c[0],this);}};l.prototype[Symbol.iterator]=l.prototype.entries;m=0;return l;});ga("Set",function(d){function b(a){this.Hu=new Map();if(a){a=N(a);for(var b;!(b=a.next()).done;){this.add(b.value);}}this.size=this.Hu.size;}if((function(){var a,b,l,k;if(!d || !d.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});b=new d(N([a]));if(!b.has(a) || 1 != b.size || b.add(a) != b || 1 != b.size || b.add({x:4}) != b || 2 != b.size)return !1;l=b.entries();k=l.next();if(k.done || k.value[0] != a || k.value[1] != a)return !1;k=l.next();return k.done || k.value[0] == a || 4 != k.value[0].x || k.value[1] != k.value[0]?!1:l.next().done;}catch(m){return !1;}})())return d;g();p();b.prototype.add=function(a){this.Hu.set(a,a);this.size=this.Hu.size;return this;};b.prototype["delete"]=function(a){a=this.Hu["delete"](a);this.size=this.Hu.size;return a;};b.prototype.clear=function(){this.Hu.clear();this.size=0;};b.prototype.has=function(a){return this.Hu.has(a);};b.prototype.entries=function(){return this.Hu.entries();};b.prototype.values=function(){return this.Hu.values();};b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var c;c=this;this.Hu.forEach(function(l){return a.call(b,l,l,c);});};return b;});ga("Array.prototype.find",function(d){return d?d:function(b,a){return oa(this,b,a).A7;};});ga("String.prototype.endsWith",function(d){return d?d:function(b,a){var c;c=la(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var l=b.length;0 < l && 0 < a;){if(c[--a] != b[--l])return !1;}return 0 >= l;};});ga("String.prototype.repeat",function(d){return d?d:function(b){var a;a=la(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});ga("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ga("Array.prototype.values",function(d){return d?d:function(){return ea(this,function(b,a){return a;});};});ga("String.prototype.startsWith",function(d){return d?d:function(b,a){var c,l,k;c=la(this,b,"startsWith");b+="";l=c.length;k=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var m=0;m < k && a < l;){if(c[a++] != b[m++])return !1;}return m >= k;};});ga("Array.prototype.findIndex",function(d){return d?d:function(b,a){return oa(this,b,a).Ck;};});ga("Number.isFinite",function(d){return d?d:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});(function(d){var a;function b(c){var l;if(a[c])return a[c].exports;l=a[c]={Ck:c,pEb:!1,exports:{}};d[c].call(l.exports,l,l.exports,b);l.pEb=!0;return l.exports;}a={};b.N6b=d;b.j4b=a;b.d=function(a,l,k){b.TIb(a,l) || Object.defineProperty(a,l,{enumerable:!0,get:k});};b.r=function(a){g();g();"undefined" !== typeof Symbol && Symbol.toStringTag && (g(),Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}));Object.defineProperty(a,"__esModule",{value:!0});};b.t=function(a,l){var c;l & 1 && (a=b(a));if(l & 8 || l & 4 && "object" === typeof a && a && a.__esModule)return a;c=Object.create(null);b.r(c);Object.defineProperty(c,"default",{enumerable:!0,value:a});if(l & 2 && "string" != typeof a)for(var m in a){b.d(c,m,(function(b){return a[b];}).bind(null,m));}return c;};b.n=function(a){var c;c=a && a.__esModule?function(){return a["default"];}:function(){return a;};b.d(c,"a",c);return c;};b.TIb=function(a,b){return Object.prototype.hasOwnProperty.call(a,b);};b.p="";return b(b.NPb=534);})([function(d,b,a){function c(){c=Object.assign || (function(a){for(var b,f=1,c=arguments.length;f < c;f++){b=arguments[f];for(var l in b){Object.prototype.hasOwnProperty.call(b,l) && (a[l]=b[l]);}}return a;});return c.apply(this,arguments);}function l(a,b){l=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(a,b){a.__proto__=b;}) || (function(a,b){for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}});return l(a,b);}function k(a,b){function f(){this.constructor=a;}l(a,b);a.prototype=null === b?Object.create(b):(f.prototype=b.prototype,new f());}function m(a,b){var f,c,l;f={};for(c in a){Object.prototype.hasOwnProperty.call(a,c) && 0 > b.indexOf(c) && (f[c]=a[c]);}if(null != a && "function" === typeof Object.getOwnPropertySymbols){l=0;for(c=Object.getOwnPropertySymbols(a);l < c.length;l++){0 > b.indexOf(c[l]) && Object.prototype.propertyIsEnumerable.call(a,c[l]) && (f[c[l]]=a[c[l]]);}}return f;}function f(a,b,f,c){var l,h,q;l=arguments.length;h=3 > l?b:null === c?c=Object.getOwnPropertyDescriptor(b,f):c;if("object" === typeof Reflect && "function" === typeof Reflect.aA)h=Reflect.aA(a,b,f,c);else for(var m=a.length - 1;0 <= m;m--){if(q=a[m])h=(3 > l?q(h):3 < l?q(b,f,h):q(b,f)) || h;}return (3 < l && h && Object.defineProperty(b,f,h),h);}function h(a,b){return function(f,c){b(f,c,a);};}function q(a,b){if("object" === typeof Reflect && "function" === typeof Reflect.Td)return Reflect.Td(a,b);}function u(a,b,f,c){return new (f || (f=Promise))(function(l,h){function q(a){try{k(c.next(a));}catch(xa){h(xa);}}function m(a){try{k(c["throw"](a));}catch(xa){h(xa);}}function k(a){a.done?l(a.value):new f(function(b){b(a.value);}).then(q,m);}k((c=c.apply(a,b || [])).next());});}function r(a,b){var l,h,q,m,k;function f(a){return function(b){return c([a,b]);};}function c(f){if(h)throw new TypeError("Generator is already executing.");for(;l;){try{if((h=1,q && (m=f[0] & 2?q["return"]:f[0]?q["throw"] || ((m=q["return"]) && m.call(q),0):q.next) && !(m=m.call(q,f[1])).done))return m;if((q=0,m))f=[f[0] & 2,m.value];switch(f[0]){case 0:case 1:m=f;break;case 4:return (l.label++,{value:f[1],done:!1});case 5:l.label++;q=f[1];f=[0];continue;case 7:f=l.kF.pop();l.pG.pop();continue;default:if(!(m=l.pG,m=0 < m.length && m[m.length - 1]) && (6 === f[0] || 2 === f[0])){l=0;continue;}if(3 === f[0] && (!m || f[1] > m[0] && f[1] < m[3]))l.label=f[1];else if(6 === f[0] && l.label < m[1])(l.label=m[1],m=f);else if(m && l.label < m[2])(l.label=m[2],l.kF.push(f));else {m[2] && l.kF.pop();l.pG.pop();continue;}}f=b.call(a,l);}catch(xa){f=[6,xa];q=0;}finally{h=m=0;}}if(f[0] & 5)throw f[1];return {value:f[0]?f[1]:void 0,done:!0};}l={label:0,Bi:function(){if(m[0] & 1)throw m[1];return m[1];},pG:[],kF:[]};g();g();p();return (k={next:f(0),"throw":f(1),"return":f(2)},"function" === typeof Symbol && (k[Symbol.iterator]=function(){return this;}),k);}function v(a,b){for(var f in a){b.hasOwnProperty(f) || (b[f]=a[f]);}}function A(a){var b,f;g();g();p();b="function" === typeof Symbol && a[Symbol.iterator];f=0;return b?b.call(a):{next:function(){a && f >= a.length && (a=void 0);return {value:a && a[f++],done:!a};}};}function y(a,b){var f,c,l,h;g();g();p();f="function" === typeof Symbol && a[Symbol.iterator];if(!f)return a;a=f.call(a);l=[];try{for(;(void 0 === b || 0 < b--) && !(c=a.next()).done;){l.push(c.value);}}catch(wa){h={error:wa};}finally{try{c && !c.done && (f=a["return"]) && f.call(a);}finally{if(h)throw h.error;}}return l;}function B(){for(var a=[],b=0;b < arguments.length;b++){a=a.concat(y(arguments[b]));}return a;}function I(){for(var a=0,b=0,f=arguments.length;b < f;b++){a+=arguments[b].length;}for(var a=Array(a),c=0,b=0;b < f;b++){for(var l=arguments[b],h=0,q=l.length;h < q;(h++,c++)){a[c]=l[h];}}return a;}function J(a){return this instanceof J?(this.A7=a,this):new J(a);}function D(a,b,f){var k,r,u;function c(a){k[a] && (r[a]=function(b){return new Promise(function(f,c){1 < u.push([a,b,f,c]) || l(a,b);});});}function l(a,b){var f;try{f=k[a](b);f.value instanceof J?Promise.resolve(f.value.A7).then(h,q):m(u[0][2],f);}catch(Ca){m(u[0][3],Ca);}}function h(a){l("next",a);}function q(a){l("throw",a);}function m(a,b){(a(b),u.shift(),u.length) && l(u[0][0],u[0][1]);}g();if(!Symbol.m_)throw new TypeError("Symbol.asyncIterator is not defined.");k=f.apply(a,b || []);u=[];g();return (r={},c("next"),c("throw"),c("return"),r[Symbol.m_]=function(){return this;},r);}function T(a){var f,c;function b(b,l){f[b]=a[b]?function(f){return (c=!c)?{value:J(a[b](f)),done:"return" === b}:l?l(f):f;}:l;}g();p();return (f={},b("next"),b("throw",function(a){throw a;}),b("return"),f[Symbol.iterator]=function(){return this;},f);}function R(a){var c,l;function b(b){l[b]=a[b] && (function(c){return new Promise(function(l,h){c=a[b](c);f(l,h,c.done,c.value);});});}function f(a,b,f,c){Promise.resolve(c).then(function(b){a({value:b,done:f});},b);}g();if(!Symbol.m_)throw new TypeError("Symbol.asyncIterator is not defined.");g();c=a[Symbol.m_];g();p();g();return c?c.call(a):(a="function" === typeof A?A(a):a[Symbol.iterator](),l={},b("next"),b("throw"),b("return"),l[Symbol.m_]=function(){return this;},l);}function U(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a;}function V(a){var b;if(a && a.__esModule)return a;b={};if(null != a)for(var f in a){Object.hasOwnProperty.call(a,f) && (b[f]=a[f]);}b["default"]=a;return b;}function n(a){return a && a.__esModule?a:{"default":a};}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return f;});a.d(b,"__param",function(){return h;});a.d(b,"__metadata",function(){return q;});a.d(b,"__awaiter",function(){return u;});a.d(b,"__generator",function(){return r;});a.d(b,"__exportStar",function(){return v;});a.d(b,"__values",function(){return A;});a.d(b,"__read",function(){return y;});a.d(b,"__spread",function(){return B;});a.d(b,"__spreadArrays",function(){return I;});a.d(b,"__await",function(){return J;});a.d(b,"__asyncGenerator",function(){return D;});a.d(b,"__asyncDelegator",function(){return T;});a.d(b,"__asyncValues",function(){return R;});a.d(b,"__makeTemplateObject",function(){return U;});a.d(b,"__importStar",function(){return V;});a.d(b,"__importDefault",function(){return n;});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(39);b.S_b=d;d=a(537);b.XV=d.XV;d=a(73);b.fr=d.fr;b.Li=d.Li;b.Rv=d.Rv;d=a(553);b.Vua=d.Vua;b.Tc=d.Tc;d=a(554);b.O=d.O;d=a(555);b.w2a=d.w2a;d=a(556);b.nWa=d.nWa;d=a(288);b.l=d.l;b.k$=d.k$;d=a(557);b.optional=d.optional;d=a(558);b.Hi=d.Hi;d=a(559);b.cF=d.cF;d=a(560);b.ZU=d.ZU;d=a(561);b.KYa=d.KYa;d=a(286);b.V$=d.V$;d=a(100);b.id=d.id;d=a(86);b.aA=d.aA;d=a(291);b.s3a=d.s3a;b.x2a=d.x2a;b.oWa=d.oWa;b.y3a=d.y3a;d=a(129);b.eK=d.eK;a=a(562);b.kWa=a.kWa;},function(d,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.jr=b.r9=b.qxa=b.q9=b.G8a=b.H8a=b.pxa=b.mxa=b.F8a=b.Zza=b.kX=b.VW=b.oxa=b.K=b.L=void 0;(function(a){a[a.Ul=7001]="UNKNOWN";a[a.Ncb=7002]="UNHANDLED_EXCEPTION";a[a.I9a=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.kya=7010]="INIT_ASYNCCOMPONENT";a[a.zya=7011]="INIT_HTTP";a[a.E9a=7014]="INIT_BADMOVIEID";a[a.X9a=7016]="INIT_NETFLIXID_MISSING";a[a.W9a=7017]="INIT_NETFLIXID_INVALID";a[a.Z9a=7018]="INIT_SECURENETFLIXID_MISSING";a[a.Aya=7020]="INIT_PLAYBACK_LOCK";a[a.Bya=7022]="INIT_SESSION_LOCK";a[a.Y9a=7029]="INIT_POSTAUTHORIZE";a[a.D_b=7031]="INIT_HEADER_MEDIA";a[a.q_b=7032]="HEADER_MISSING";a[a.p_b=7033]="HEADER_FRAGMENTS_MISSING";a[a.$9a=7034]="INIT_TIMEDTEXT_TRACK";a[a.E_b=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.F_b=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.P7=7037]="ASE_SESSION_ERROR";a[a.m5a=7038]="ASE_SEEK_THREW";a[a.n5a=7039]="ASE_SKIPPED_THREW";a[a.T9a=7041]="INIT_CORE_OBJECTS1";a[a.U9a=7042]="INIT_CORE_OBJECTS2";a[a.V9a=7043]="INIT_CORE_OBJECTS3";a[a.A_b=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.u_b=7052]="INIT_COMPONENT_FILESYSTEM";a[a.tya=7053]="INIT_COMPONENT_STORAGE";a[a.uya=7054]="INIT_COMPONENT_STORAGELOCK";a[a.v_b=7055]="INIT_COMPONENT_LOGPERSIST";a[a.w_b=7056]="INIT_COMPONENT_NRDDPI";a[a.y_b=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.qya=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.V9=7059]="INIT_COMPONENT_DEVICE";a[a.x_b=7062]="INIT_COMPONENT_NTBA";a[a.rya=7063]="INIT_COMPONENT_MSL";a[a.G9a=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.pya=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.Ny=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.z_b=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.F9a=7069]="INIT_COMPONENT_ACCOUNT";a[a.K9a=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.M9a=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.N9a=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.O9a=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.P9a=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.J9a=7081]="INIT_COMPONENT_NRDP";a[a.L9a=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.yya=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.R9a=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.C_b=7085]="INIT_CONGESTION_SERVICE";a[a.oya=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.vya=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.mya=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.lya=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.B_b=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.SG=7091]="INIT_COMPONENT_DRM_CACHE";a[a.H9a=7092]="INIT_COMPONENT_DRM";a[a.Q9a=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.nya=7094]="INIT_COMPONENT_FTL";a[a.sya=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.wya=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.S9a=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.xya=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.x5a=7112]="AUTHORIZE_UNKNOWN";a[a.A$a=7117]="MANIFEST_VERIFY";a[a.hcb=7120]="START";a[a.ZW=7121]="LICENSE";a[a.Vbb=7122]="SECURESTOP";a[a.rDa=7123]="STOP";a[a.e_b=7124]="FPSAPPDATA";a[a.g$=7125]="KEEPALIVE";a[a.ZYb=7126]="DEACTIVATE";a[a.H2b=7127]="SYNC_DEACTIVATE_LINKS";a[a.WXb=7130]="ACTIVATE";a[a.Xab=7131]="PING";a[a.u0b=7133]="NETFLIXID";a[a.A8a=7134]="ENGAGE";a[a.y$a=7135]="LOGIN";a[a.ocb=7136]="SWITCH_PROFILES";a[a.x$a=7137]="LOGBLOB";a[a.Gab=7138]="PAUSE";a[a.Lbb=7139]="RESUME";a[a.pDa=7140]="SPLICE";a[a.lZb=7141]="DOWNLOAD_EVENT";a[a.T5a=7142]="BIND";a[a.Eab=7143]="PAIR";a[a.U5a=7144]="BIND_DEVICE";a[a.U8a=7145]="GENERATE_SCREENSHOTS";a[a.$ab=7202]="PLAY_INIT_EXCEPTION";a[a.R_b=7301]="MEDIA_DOWNLOAD";a[a.g1b=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.h1b=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.fBa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.gbb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.gBa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.hbb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.paa=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.i1b=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";a[a.fbb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";a[a.iBa=7351]="PLAY_MSE_NOTSUPPORTED";a[a.hBa=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.eBa=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.qaa=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.saa=7355]="PLAY_MSE_SOURCEADD";a[a.abb=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.lbb=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.n1b=7358]="PLAY_MSE_PARSECHALLENGE";a[a.f1b=7359]="PLAY_MSE_ADDKEY";a[a.q1b=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.kbb=7361]="PLAY_MSE_EVENT_ERROR";a[a.raa=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.zX=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.jbb=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.mbb=7365]="PLAY_MSE_GETCURRENTTIME";a[a.nbb=7367]="PLAY_MSE_SETCURRENTTIME";a[a.obb=7371]="PLAY_MSE_SOURCEAPPEND";a[a.o1b=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.sbb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.rbb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.qbb=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.p1b=7379]="PLAY_MSE_SOURCE_EOS";a[a.pbb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.m1b=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.bbb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.cbb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.dbb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.k1b=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.ibb=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.j1b=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.l1b=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.ebb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.jBa=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.C8a=7400]="EXTERNAL";a[a.yX=7500]="PAUSE_TIMEOUT";a[a.WW=7502]="INACTIVITY_TIMEOUT";a[a.w5a=7510]="AUTHORIZATION_EXPIRED";a[a.aZb=7520]="DECRYPT_AUDIO";a[a.nDa=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.Wbb=7601]="SECURE_STOP_KEY_ERROR";a[a.l2b=7602]="SECURE_STOP_VIDEO_ERROR";a[a.W1b=7603]="SECURE_STOP_NCCP_ERROR";a[a.X1b=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.k2b=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.a2b=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.Xbb=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.b2b=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.c2b=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.f2b=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.Y1b=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.d2b=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.h2b=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.e2b=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.$1b=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.j2b=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.g2b=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.Z1b=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.i2b=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.u8a=7700]="EME_INVALID_KEYSYSTEM";a[a.Swa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.g9=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.mW=7703]="EME_GENERATEREQUEST_FAILED";a[a.k9=7704]="EME_UPDATE_FAILED";a[a.wZb=7705]="EME_KEYSESSION_ERROR";a[a.Wwa=7706]="EME_KEYMESSAGE_EMPTY";a[a.Xwa=7707]="EME_REMOVE_FAILED";a[a.w8a=7708]="EME_LOAD_FAILED";a[a.r8a=7709]="EME_CREATE_SESSION_FAILED";a[a.i9=7710]="EME_LDL_RENEWAL_ERROR";a[a.Twa=7711]="EME_INVALID_INITDATA_DATA";a[a.Uwa=7712]="EME_INVALID_LICENSE_DATA";a[a.v8a=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.yZb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.Vwa=7715]="EME_INVALID_SECURESTOP_DATA";a[a.Rwa=7716]="EME_CLOSE_FAILED";a[a.x8a=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";a[a.Yab=7800]="PLAYDATA_STORE_FAILURE";a[a.e1b=7801]="PLAYDATA_SEND_FAILURE";a[a.dN=7900]="BRANCH_PLAY_FAILURE";a[a.AG=7901]="BRANCH_QUEUE_FAILURE";a[a.bva=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.y0b=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.z0b=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.Mab=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.naa=8200]="PLAYGRAPH_ADD_MANIFEST";a[a.Zab=8201]="PLAYGRAPH_SEGMENT_NOT_READY";})(a=b.L || (b.L={}));(function(a){a[a.Ul=1001]="UNKNOWN";a[a.ei=1003]="EXCEPTION";a[a.c$a=1004]="INVALID_DI";a[a.q5a=1011]="ASYNCLOAD_EXCEPTION";a[a.r5a=1013]="ASYNCLOAD_TIMEOUT";a[a.XXb=1015]="ASYNCLOAD_BADCONFIG";a[a.o5a=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.p5a=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.ON=1101]="HTTP_UNKNOWN";a[a.Q9=1102]="HTTP_XHR";a[a.LN=1103]="HTTP_PROTOCOL";a[a.KN=1104]="HTTP_OFFLINE";a[a.NN=1105]="HTTP_TIMEOUT";a[a.mC=1106]="HTTP_READTIMEOUT";a[a.My=1107]="HTTP_ABORT";a[a.Xxa=1108]="HTTP_PARSE";a[a.Txa=1110]="HTTP_BAD_URL";a[a.MN=1111]="HTTP_PROXY";a[a.Jza=1203]="MSE_AUDIO";a[a.Kza=1204]="MSE_VIDEO";a[a.P$a=1250]="MSE_MEDIA_ERR_BASE";a[a.W_b=1251]="MSE_MEDIA_ERR_ABORTED";a[a.Z_b=1252]="MSE_MEDIA_ERR_NETWORK";a[a.X_b=1253]="MSE_MEDIA_ERR_DECODE";a[a.$_b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.Y_b=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.KG=1260]="EME_MEDIA_KEYERR_BASE";a[a.EZb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.zZb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.DZb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.CZb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.BZb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.AZb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.FZb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.t8a=1280]="EME_ERROR_NODRMSESSSION";a[a.s8a=1281]="EME_ERROR_NODRMREQUESTS";a[a.uZb=1282]="EME_ERROR_INDIV_FAILED";a[a.vZb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.z8a=1284]="EME_TIMEOUT_MESSAGE";a[a.y8a=1285]="EME_TIMEOUT_KEYCHANGE";a[a.j9=1286]="EME_UNDEFINED_DATA";a[a.JG=1287]="EME_INVALID_STATE";a[a.xZb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.h9=1289]="EME_EMPTY_DATA";a[a.zN=1290]="EME_TIMEOUT";a[a.o0b=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.r0b=1305]="NCCP_PARSEXML";a[a.vbb=1309]="PROCESS_EXCEPTION";a[a.q0b=1311]="NCCP_NETFLIXID_MISSING";a[a.s0b=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.l0b=1313]="NCCP_HMAC_MISSING";a[a.k0b=1315]="NCCP_HMAC_MISMATCH";a[a.j0b=1317]="NCCP_HMAC_FAILED";a[a.i0b=1321]="NCCP_CLIENTTIME_MISSING";a[a.h0b=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.Hxa=1331]="GENERIC";a[a.gab=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.hab=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.t0b=1341]="NCCP_TRANSACTION";a[a.m0b=1343]="NCCP_INVALID_DRMTYPE";a[a.n0b=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.p0b=1345]="NCCP_MISSING_PAYLOAD";a[a.A1b=1346]="PROTOCOL_NOT_INITIALIZED";a[a.z1b=1347]="PROTOCOL_MISSING_FIELD";a[a.y1b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.Yy=1402]="STORAGE_NODATA";a[a.r2b=1403]="STORAGE_EXCEPTION";a[a.z2b=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.A2b=1407]="STORAGE_QUOTA_TO_SMALL";a[a.tDa=1411]="STORAGE_LOAD_ERROR";a[a.jcb=1412]="STORAGE_LOAD_TIMEOUT";a[a.uDa=1414]="STORAGE_SAVE_ERROR";a[a.mcb=1415]="STORAGE_SAVE_TIMEOUT";a[a.Eba=1417]="STORAGE_DELETE_ERROR";a[a.sDa=1418]="STORAGE_DELETE_TIMEOUT";a[a.y2b=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.v2b=1423]="STORAGE_FS_GETDIRECTORY";a[a.x2b=1425]="STORAGE_FS_READENTRIES";a[a.s2b=1427]="STORAGE_FS_FILEREAD";a[a.u2b=1429]="STORAGE_FS_FILEWRITE";a[a.t2b=1431]="STORAGE_FS_FILEREMOVE";a[a.w2b=1432]="STORAGE_FS_PARSEJSON";a[a.lcb=1451]="STORAGE_NO_LOCALSTORAGE";a[a.kcb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.F0b=1501]="NTBA_UNKNOWN";a[a.E0b=1502]="NTBA_EXCEPTION";a[a.A0b=1504]="NTBA_CRYPTO_KEY";a[a.C0b=1506]="NTBA_CRYPTO_OPERATION";a[a.B0b=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.D0b=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.iwa=1553]="DEVICE_NO_ESN";a[a.E8=1555]="DEVICE_ERROR_GETTING_ESN";a[a.K8a=1701]="FORMAT_UNKNOWN";a[a.wxa=1713]="FORMAT_XML";a[a.L8a=1715]="FORMAT_XML_CONTENT";a[a.J8a=1721]="FORMAT_BASE64";a[a.rW=1723]="FORMAT_DFXP";a[a.q9a=1801]="INDEXDB_OPEN_EXCEPTION";a[a.iya=1802]="INDEXDB_NOT_SUPPORTED";a[a.p9a=1803]="INDEXDB_OPEN_ERROR";a[a.jya=1804]="INDEXDB_OPEN_NULL";a[a.o9a=1805]="INDEXDB_OPEN_BLOCKED";a[a.r9a=1807]="INDEXDB_OPEN_TIMEOUT";a[a.n9a=1808]="INDEXDB_INVALID_STORE_STATE";a[a.XW=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.Z$a=1901]="MSL_UNKNOWN";a[a.S$a=1911]="MSL_INIT_NO_MSL";a[a.Mza=1913]="MSL_INIT_ERROR";a[a.T$a=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.Q$a=1931]="MSL_ERROR";a[a.Y$a=1933]="MSL_REQUEST_TIMEOUT";a[a.X$a=1934]="MSL_READ_TIMEOUT";a[a.R$a=1935]="MSL_ERROR_HEADER";a[a.a0b=1936]="MSL_ERROR_ENVELOPE";a[a.b0b=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.Lza=1957]="MSL_ERROR_REAUTH";a[a.mca=2103]="WEBCRYPTO_MISSING";a[a.Wcb=2105]="WEBCRYPTOKEYS_MISSING";a[a.Xcb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.IYb=2200]="CACHEDDATA_PARSEJSON";a[a.rva=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.JYb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.Jy=2203]="CACHEDDATA_INVALID_FORMAT";a[a.UXb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.VXb=3001]="ACCOUNT_INVALID";a[a.kZb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.jZb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.hZb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.iZb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.gZb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.B2b=3300]="STORAGE_VA_LOAD_ERROR";a[a.C2b=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.F2b=3302]="STORAGE_VA_SAVE_ERROR";a[a.G2b=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.D2b=3304]="STORAGE_VA_REMOVE_ERROR";a[a.E2b=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.kaa=3077]="PBO_DEVICE_EOL_WARNING";a[a.YAa=3078]="PBO_DEVICE_EOL_FINAL";a[a.aBa=3100]="PBO_DEVICE_RESET";a[a.$Aa=3101]="PBO_DEVICE_RELOAD";a[a.ZAa=3102]="PBO_DEVICE_EXIT";a[a.Vab=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.Hab=5005]="PBO_ACCOUNT_ON_HOLD";a[a.Lab=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.bBa=5007]="PBO_INCORRECT_PIN";a[a.Sab=5008]="PBO_MOBILE_ONLY";a[a.Wab=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";a[a.Oab=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.Jab=5059]="PBO_BLACKLISTED_IP";a[a.Iab=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.Kab=5080]="PBO_CHOICE_MAP_ERROR";a[a.Uab=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.Qab=5091]="PBO_MALFORMED_REQUEST";a[a.Pab=5092]="PBO_INVALID_SERVICE_VERSION";a[a.Rab=5093]="PBO_MDX_INVALID_CTICKET";a[a.Nab=5094]="PBO_FREE_PREVIEW_ENDED";a[a.i7a=5100]="DECODER_TIMEOUT_BUFFERING";a[a.k7a=5101]="DECODER_TIMEOUT_PRESENTING";a[a.j7a=5102]="DECODER_TIMEOUT_PLAYING";a[a.a8a=5200]="DOWNLOADER_IO_ERROR";a[a.ava=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.Y5a=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.lYb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.f8=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.V5a=5304]="BRANCHING_ASE_FAILURE";a[a.iYb=5305]="BRANCHING_MOMENT_FAILURE";a[a.W5a=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.kYb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.Z5a=5308]="BRANCHING_SEEK_THREW";a[a.jYb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.X5a=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.$5a=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.a6a=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.h5a=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.g5a=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";a[a.ncb=5500]="STUDIO_MUXED_MANIFEST";})(c=b.K || (b.K={}));(function(a){a[a.wYb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.mYb=5005]="BR_ACCOUNT_ON_HOLD";a[a.qYb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.tYb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.pYb=5059]="BR_BLACKLISTED_IP";a[a.nYb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.uYb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.rYb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.vYb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.sYb=2207]="BR_ENDPOINT_ERROR";a[a.oYb=2208]="BR_AUTHORIZATION_ERROR";})(b.oxa || (b.oxa={}));b.VW={h6a:"400",c3b:"401",nBa:"413"};b.kX={c_b:1,V2b:2,IZb:3,b3b:4,K_b:5,HZb:6,fca:7,KZb:8,O1b:9,o2b:10};(function(a){a[a.b1b=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.c1b=98]="PAIRING_UNKNOWN_ERROR";})(b.Zza || (b.Zza={}));b.F8a=function(a){return 7100 <= a && 7200 > a;};b.mxa=function(b){return b == a.yX || b == a.WW;};b.pxa=function(a){return 1100 <= a && 1199 >= a;};b.H8a=function(a){return 1300 <= a && 1399 >= a;};b.G8a=function(a){return 1900 <= a && 1999 >= a;};b.q9=function(a,b){return 1 <= a && 9 >= a?b + a:b;};b.qxa=function(a){return b.q9(a,c.P$a);};b.r9=function(a){return b.q9(a,c.KG);};b.jr=function(a){var b,m,f;b={};m=a.errorExternalCode || a.Ne;f=a.errorDetails || a.Ab;b.ErrorSubCode=a.errorSubCode || a.ka || c.Ul;m && (b.ErrorExternalCode=m);f && (b.ErrorDetails=f);return b;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]={bS:function(a){for(var b in a){a.hasOwnProperty(b) && (this[b]=a[b]);}},reset:function(){}};},function(d,b,a){var k;function c(a){return k.uO.apply(this,arguments) || this;}function l(a){return new k.mr(a,b.ga);}Object.defineProperty(b,"__esModule",{value:!0});b.lb=b.dya=b.W$=b.Wm=b.ga=b.xC=b.timestamp=b.NBb=b.t4=b.$g=b.Nb=b.OYa=b.bHb=b.Ecb=void 0;k=a(292);L(c,k.uO);b.Ecb=c;b.bHb=function(a){return new k.mr(a,b.xC);};b.OYa=function(a){return new k.mr(a * b.Wm.Gf,b.xC);};b.Nb=l;b.$g=function(a){return new k.mr(a,b.Wm);};b.t4=function(a){return new k.mr(a,b.W$);};b.NBb=function(a){return new k.mr(a,b.dya);};b.timestamp=function(a){return l(a);};b.xC=new c(1,"\u03bcs");b.ga=new c(1E3,"ms",b.xC);b.Wm=new c(1E3 * b.ga.Gf,"s",b.xC);b.W$=new c(60 * b.Wm.Gf,"min",b.xC);b.dya=new c(60 * b.W$.Gf,"hr",b.xC);b.lb=l(0);},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(0);l=a(140);k=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);return b;})(Error);b.assert=function(a,b){if(!a)try{throw new k(b || "Assertion failed");}catch(h){throw (l.Ql.G.error("Assertion failed",{value:a,message:b,stack:h.stack}),h);}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xN=b.zb=b.s$=b.Ni=void 0;d=b.Ni || (b.Ni={});d[d.I8a=0]="FATAL";d[d.ERROR=1]="ERROR";d[d.lca=2]="WARN";d[d.U9=3]="INFO";d[d.nEa=4]="TRACE";d[d.ma=5]="DEBUG";b.s$="LogFieldBuilderFactorySymbol";b.zb="LoggerFactorySymbol";b.xN={};},function(d,b,a){var c,l,k,m,f,h,q,u,r;Object.defineProperty(b,"__esModule",{value:!0});b.ja=b.mCa=b.uR=b.Bh=b.Ah=b.log=b.Af=b.YJ=b.iEa=b.bKa=b.Hw=b.cKa=b.oc=b.llb=b.Pfa=b.jlb=b.klb=b.ji=b.v4a=b.Pta=b.dh=b.Ea=b.ta=void 0;c=a(285);d=a(6);l=a(29);k=a(104);m=a(102);f=a(41);h=a(26);q=a(116);u=a(35);r=a(42);b.ta=c.$d.get(u.fh);b.Ea=c.$d.get(r.ph);b.dh=c.$d.get(k.cz);b.Pta=b.dh.encode.bind(b.dh);b.v4a=b.dh.decode.bind(b.dh);b.ji=c.$d.get(m.Iy);b.klb=b.ji.encode.bind(b.ji);b.jlb=b.ji.decode.bind(b.ji);b.Pfa=b.ji.pR.bind(b.ji);b.llb=b.ji.c3a.bind(b.ji);b.oc=c.$d.get(f.Ki);b.cKa=function(a){a=h.gf(a)?b.v4a(a):a;return b.oc.encode(a);};b.Hw=b.oc.decode.bind(b.oc);b.bKa=function(a){return b.Pta(b.Hw(a));};b.iEa=a(1197);b.YJ=function(){return c.$d.get(l.iC);};b.Af=c.$d.get(d.zb);b.log=b.Af.tb("General");b.Ah=function(a,f){return b.Af.tb(a,void 0,f);};b.Bh=function(a,f,c){return b.Af.tb(f,a,c);};b.uR=function(a,f,c,h){return b.Af.tb(a,void 0,h,f,c);};b.mCa=function(a,b,f){return c.$d.get(q.EC)(a,b,f).cta();};b.ja=c.$d;},function(d){var b;b={qa:function(a){return "number" === typeof a;},zf:function(a){return "object" === typeof a;},gf:function(a){return "string" === typeof a;},Y:function(a){return "undefined" === typeof a;},q6b:function(a){return "boolean" === typeof a;},uc:function(a){return "function" === typeof a;},ab:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,b){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,b);},tKb:function(a){var c,l;l=[];if(!b.zf(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && l.push([c,a[c]]);}return l;}};b.me=b.forEach=function(a,c,l){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var k=0,m=a.length;k < m;k++){c.call(l,a[k],k,a);}else for(k in a){b.has(a,k) && c.call(l,a[k],k,a);}return a;};d.exports=b;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.dO=b.Ixa=b.fFa=void 0;d=a(0);d.__exportStar(a(835),b);d.__exportStar(a(108),b);d.__exportStar(a(21),b);d.__exportStar(a(837),b);d.__exportStar(a(838),b);d.__exportStar(a(839),b);d.__exportStar(a(840),b);d.__exportStar(a(841),b);d.__exportStar(a(842),b);d.__exportStar(a(843),b);c=d.__importDefault(a(844));b.fFa=c["default"];c=d.__importDefault(a(845));b.Ixa=c["default"];a=d.__importDefault(a(388));b.dO=a["default"];},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qna=b.localStorage=b.uCb=b.indexedDB=b.pX=b.Zz=b.Wy=b.cH=b.dH=b.URL=b.sX=b.qX=b.Yza=b.eX=b.tC=b.uC=b.ho=b.Tm=b.hi=b.J$=b.Jv=b.fEa=b.FG=b.DC=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.Ew=b.jab=b.Je=b.Et=b.Ft=b.rX=b.Vm=b.Re=void 0;d=ka;b.Re=d.navigator;b.Vm=null === b.Re || void 0 === b.Re?void 0:b.Re.userAgent;b.rX=d.location;b.Ft=d.screen;b.Et=d.performance;b.Je=d.document;b.jab=b.Je.documentElement;b.Ew=Array.prototype;b.sort=b.Ew.sort;b.map=b.Ew.map;b.slice=b.Ew.slice;b.every=b.Ew.every;b.reduce=b.Ew.reduce;b.filter=b.Ew.filter;b.forEach=b.Ew.forEach;b.pop=b.Ew.pop;b.DC=Object.create;b.FG=Date.now;b.fEa=String.fromCharCode;b.Jv=Math.floor;b.J$=Math.ceil;b.hi=Math.round;b.Tm=Math.max;b.ho=Math.min;b.uC=Math.random;b.tC=Math.abs;b.eX=Math.pow;b.Yza=Math.sqrt;b.qX=d.escape;b.sX=d.unescape;b.URL=d.URL || d.webkitURL;b.dH=d.MediaSource || d.WebKitMediaSource;b.cH=d.WebKitMediaKeys || d.MSMediaKeys || d.MediaKeys;b.Wy=d.nfCrypto || d.webkitCrypto || d.msCrypto || d.crypto;b.Zz=b.Wy && (b.Wy.webkitSubtle || b.Wy.subtle);b.pX=d.nfCryptokeys || d.webkitCryptokeys || d.msCryptokeys || d.cryptokeys;try{b.indexedDB=d.indexedDB;}catch(a){b.uCb=a || "noex";}try{b.localStorage=d.localStorage;}catch(a){b.qna=a || "noex";}},function(d,b,a){var k,m,f,h,q,u,r,v,A,y,B,I,J,g,T,R,U,V;function c(a){return (a=b.config.z3a[l(a)])?a:{};}function l(a){if(a)return 0 <= a.indexOf("billboard")?"billboard":0 <= a.toLowerCase().indexOf("preplay")?"preplay":0 <= a.indexOf("embedded")?"embedded":0 <= a.indexOf("content-sampling")?"content-sampling":0 <= a.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= a.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= a.indexOf("standard")?"standard":0 <= a.indexOf("branching")?"branching":a;}Object.defineProperty(b,"__esModule",{value:!0});b.cob=b.dob=b.aha=b.U_=b.V_=b.SLa=b.bob=b.TLa=b.$ga=b.config=void 0;k=a(12);m=a(47);f=a(7);h=a(36);q=a(20);a(26);u=a(29);r=a(56);v=a(23);a(6);A=a(10);y=a(15);B=a(167);I=a(50);J=a(76);g=a(130);T=a(46);R=a(4);U=a(31);V=a(18);b.TLa=function(a,c){var Ua,La,Ka,fb,lb,F,ia,L,qc;function l(a,b){v.Rd(a,function(a,f){y.uc(f)?b[a]=f.call(void 0,b[a]):y.zf(f) && (b[a]=b[a] || ({}),l(f,b[a]));});}function d(a,b,f,c){for(var h=[],m=3;m < arguments.length;++m){h[m - 3]=arguments[m];}return function(c){y.ic(c) && (f=c);q.yb(y.uc(a));return a.apply(void 0,[].concat([b,f],X(h)));};}function D(a){a=a.toLowerCase();fb.hasOwnProperty(a) && (Ka[a]=fb[a],lb[a]=fb[a]);return a;}function n(a,b,c){var h;a=a.toLowerCase();if(Ka.hasOwnProperty(a)){h=Ka[a];try{h=c?c(h):h;}catch(Mb){h=void 0;}if(void 0 !== h)return h;q.yb(!1);f.log.error("Invalid configuration value. Name: " + a);}return b;}function p(a,b,f,c){return n(a,b,function(a){y.gf(a) && (a=v.ce(a));if(y.nTa(a,f,c))return a;});}function E(a,b,f,c){return n(a,b,function(a){y.gf(a) && (a=v.ce(a));if(y.Bx(a,f,c))return a;});}function Z(a,b,f,c){return n(a,b,function(a){y.gf(a) && (a=parseFloat(a));if(y.qa(a,f,c))return a;});}function t(a,b,f){return n(a,b,function(a){if(f?f.test(a):y.gf(a))return a;});}function O(a,b){return n(a,b,function(a){if("true" == a || !0 === a)return !0;if("false" == a || !1 === a)return !1;});}function xa(a,b){return n(a,b,function(a){if(y.gf(a))return JSON.parse(A.sX(a));if(y.zf(a))return a;});}function Na(a,b,f,c,h,q){var m;a=a.toLowerCase();Ka.hasOwnProperty(a) && (m=Ka[a]);if(!y.ic(m))return b;if(y.gf(m))if(m[0] !== f)m=c(m);else try{m=JSON.parse(A.sX(m));}catch(sb){m=void 0;}if(void 0 === m)return b;for(a=0;a < h.length;a++){if(!h[a](m))return b;}return q?q(m):m;}function Ha(a,b,f,c,h){return Na(a,b,"[",function(a){a=a.split("|");for(var b=a.length;b--;){a[b]=v.ce(a[b]);}return a;},[function(a){return y.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b--;){if(!y.Bx(a[b],f,c))return !1;}return !0;},function(a){return void 0 === h || a.length >= h;}]);}function ja(a,b){return Na(a,b,"[",function(a){a=y.isArray(a)?a:a.split("|");for(var b=a.length;b--;){try{a[b]=JSON.parse(A.sX(a[b]));}catch(Mb){a=void 0;break;}}return a;},[function(a){return y.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b--;){if(!y.ic(a[b]) || !y.zf(a[b]))return !1;}return !0;}]);}function Ca(a,b,f,c){return Na(a,b,"[",function(a){return y.isArray(a)?a:a.split("|");},[function(a){return y.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b--;){if(f?!f.test(a[b]):!y.Cx(a[b]))return !1;}return !0;},function(a){return void 0 === c || a.length >= c;}]);}function Wa(a,b,f){return Na(a,b,"{",function(a){var b,c,h;b={};a=a.split(";");for(var f=a.length;f--;){c=a[f];h=c.indexOf(":");if(0 >= h)return;b[c.substring(0,h)]=c.substring(h + 1);}return b;},[function(a){return y.zf(a) && 0 < Object.keys(a).length;},function(a){if(f)for(var b in a){if(!f.test(a[b]))return !1;}return !0;}],function(a){var f;f={};v.Hb(f,b);v.Hb(f,a);return f;});}function Ta(a){var b;b=[];v.Rd(a,function(a,f){var c;try{c="videoapp" === a.toLowerCase()?"[object object]":JSON.stringify(f);}catch(De){c="cantparse";}b.push(a + "=" + c);});return b.join("\n");}Ua=/^[0-9]+[%]?$/;La=/^[0-9]*$/;lb={};F=f.ja.get(h.Rl);ia=f.ja.get(g.kH);(function(b){function c(a){a.split(",").forEach(function(a){var b;b=a.indexOf("=");0 < b && (Ka[a.substring(0,b).toLowerCase()]=a.substring(b + 1));});}Ka={};v.Hb(Ka,b);a && a.length && A.forEach.call(a,function(a){y.gf(a)?c(a):y.zf(a) && v.Hb(Ka,a,{OK:!0});});fb=v.Hb({},m.c2(),{OK:!0});if(b=m.uZa().cadmiumconfig)(f.log.info("Config cookie loaded",b),c(b));if(f.ja.get(U.vj).Njb || Ka.istestaccount)(v.Hb(Ka,fb),lb=fb);"clearkey" != t("drmType") || Ka.keysystemid || (Ka.keysystemid=(ka.WebKitMediaKeys || HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"") + "org.w3.clearkey");})(c);b.config={};L={oub:d(O,D("enableXHEAAC"),!1),Aia:d(O,D("enableDDPlus20"),!0),zia:d(O,D("enableDDPlus"),!0),GJ:d(O,D("enableDDPlusAtmos"),!1),Ytb:d(O,D("enableLSSDH"),!0),Ttb:d(O,D("enableHEVC"),!1),FXa:d(O,D("overrideEnableHEVC"),!1),Cia:d(O,D("enableHDR"),!1),EXa:d(O,D("overrideEnableHDR"),!1),DXa:d(O,D("overrideEnableDV"),!1),P0:d(O,D("enableAVCHigh"),ia.P0),rT:d(O,D("overrideEnableAVCHigh"),ia.rT),mub:d(O,D("enableVP9"),!1),GXa:d(O,D("overrideEnableVP9"),!1),Ntb:d(O,D("enableAV1"),!1),CXa:d(O,D("overrideEnableAV1"),!1),dub:d(O,D("enablePRK"),!1),Rtb:d(O,D("enableDV"),!1),Utb:d(O,D("enableHWDRM"),!1),Wtb:d(O,D("enableImageSubs"),!0),YP:d(Ca,D("audioProfiles"),ia.YP),Z4b:d(O,D("disableHD"),!1),lub:d(O,D("enableUHD"),!0),E7:d(E,"videoCapabilityDetectorType",u.Vl.hC),Bfa:d(E,"audioCapabilityDetectorType",u.Hy.hC),wG:d(Ca,D("videoProfiles"),ia.wG),mib:d(Ca,D("timedTextProfiles"),ia.nv),nv:function(){return L.mib().filter(function(a){return a === r.Tl.F8?L.Ytb():a === r.Tl.bH?L.Wtb():!0;});},endpoint:d(O,D("endpoint"),!1),version:d(t,"version","unknown"),T0a:d(O,D("setMediaKeysEarly"),!1),H7b:d(O,D("nrdpPersistCookiesToIndexDB"),!1),atb:d(O,D("doNotPerformLdlOnPlaybackCreate"),!1),btb:d(O,D("doNotPerformLdlOnPlaybackStart"),!1),i4a:d(O,D("useHdcpLevelOnCast"),!1),Vtb:d(O,D("enableHdcp"),!1),Js:d(O,D("prepareCadmium"),!1),Mib:d(O,D("acceptManifestOnPrepareItemParams"),!0),LYa:d(xa,"ppmconfig",{maxNumberTitlesScheduled:1}),JLb:d(O,D("playerPredictionModelV2"),!0),HJ:d(O,D("enableLdlPrefetch"),!1),ZQ:d(O,D("enableGetHeadersAndMediaPrefetch"),!1),hsb:d(O,D("deleteCachedManifestOnPlayback"),!1),lsb:d(O,D("deleteOtherManifestCacheOnCreate"),!1),ksb:d(O,D("deleteOtherLdlCacheOnCreate"),!1),$7b:d(E,D("periodicPrepareLogsIntervalMilliseconds"),36E5),sMb:d(E,D("prepareManifestCacheMaxCount"),50),qMb:d(E,D("prepareLdlCacheMaxCount"),30),RYa:d(E,D("prepareManifestExpiryMilliseconds"),12E5),rMb:d(E,D("prepareLdlExpiryMilliseconds"),78E4),lMb:d(E,D("prefetcherMaxWishlistSize"),10),kMb:d(E,D("prefetcherBudgetInBytes"),Infinity),mMb:d(O,D("prefetcherOverrideItemPriority"),!0),oMb:d(O,D("prefetcherRemoveItemOnManifestExpiration"),!0),eMb:d(O,D("preferManifestFromPrefetcher"),!1),pMb:d(t,D("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),A9b:d(xa,"videoApp"),GB:d(xa,"storageRules"),Dwb:d(O,"ftlEnabled",!0),Sla:d(E,D("imageSubsResolution"),0),gCb:d(E,D("imageSubsMaxBuffer"),ia.tGb.ca(T.qt),0),qQ:d(O,D("captureBatteryStatus"),!1),jxb:d(E,D("getBatteryApiTimeoutMilliseconds"),5E3),Ce:d(t,D("keySystemId"),ia.Ce),UTa:d(Ca,D("keySystemList"),void 0,void 0),fHb:d(E,D("hdcpGlobalTimeout1"),1E4),gHb:d(E,D("hdcpGlobalTimeout2"),1E4),j7b:d(E,D("hdcpQueryTimeout1"),1E3),k7b:d(E,D("hdcpQueryTimeout2"),1E3),hHb:d(E,D("hdcpQueryTimeout2"),100),iHb:d(O,D("microsoftHwdrmRequiresHevc"),!1),cHb:d(O,D("microsoftEnableDeviceInfo"),!1),dHb:d(O,D("microsoftEnableHardwareInfo"),!1),eHb:d(O,D("microsoftEnableHardwareReset"),!1),zWb:d(O,D("useHevcCodecForDolbyVision"),!1),aub:d(O,D("enableMediaCapabilities"),!1),YLb:d(O,D("powerEfficientForVideo"),!1),xFb:d(O,"logMediaPipelineStatus",!1),ST:d(O,D("renderDomDiagnostics"),!0),xUa:function(){return -1;},NK:d(p,D("logDisplayMaxEntryCount"),ia.NK,-1),DFb:d(p,D("logToConsoleLevel"),-1),e4b:d(p,D("bladerunnerCmdHistorySize"),10),lu:function(){return F.lu;},qWb:d(O,"upgradeNetflixId",!0),vna:d(O,"logErrorIfEsnNotProvided",!0),Lia:d(O,"enforceSinglePlayback",ia.Lia),T0:d(O,"enforceSingleSession",ia.T0),Nga:d(O,"closeOtherPlaybacks",!0),zkb:d(E,"asyncLoadTimeout",15E3,1),MFb:d(E,"mainThreadMonitorPollRate",0),G7b:d(O,"nrdpAlwaysShowUIOverlay",!1),I7b:d(O,"nrdpValidateSSOTokens",!0),J8b:d(O,"showNrdpDebugBadging",!1),H7:function(){return F.H7;},DA:function(){return F.DA;},ZI:function(){return F.ZI;},rG:function(){return F.rG;},y4a:d(E,D("verbosePlaybackInfoDenominator"),0),L5:d(O,"renderTimedText",!0),ZLb:d(O,"preBufferTimedText",!0),hvb:d(O,"fatalOnTimedTextLoadError",!0),T2a:d(Wa,"timedTextStyleDefaults",{}),$sa:d(Wa,"timedTextStyleOverrides",{}),Zsa:d(Wa,"timedTextFontFamilyMapping",ia.Zsa || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),U2a:d(E,D("timedTextTimeOverride"),0),HM:d(E,"timedTextSimpleFallbackThreshold",ia.HM.ca(T.qt)),Gha:d(t,D("customDfxpUrl")),kub:d(O,D("enableSubtitleTrackerLogging"),!1),HQb:d(O,D("sendSubtitleQoeLogblobOnMidplay"),!1),tga:d(Ha,"cdnIdWhiteList",[]),sga:d(Ha,"cdnIdBlackList",[]),Aja:d(t,D("forceAudioTrack")),UHb:d(O,"muteVolumeOnPlaybackClose",!0),J7b:d(t,"nrdpVolumeControlType","VOLUME_STREAM"),Dja:d(t,D("forceTimedTextTrack")),zGb:d(E,D("maxRetriesTimedTextDownload"),0),xUb:d(E,D("timedTextRetryInterval"),8E3),fTb:d(t,"storageType","idb",/^(none|fs|idb|ls)$/),uUa:d(E,"lockExpiration",1E4),vFb:d(E,"lockRefresh",3E3),Dmb:d(O,"captureUnhandledExceptions",!0),fCb:d(O,"ignoreUnhandledExceptionDuringPlayback",!0),EVb:d(O,"unhandledExceptionsArePlaybackErrors",!1),E3a:d(t,"unhandledExceptionSource",""),EMb:d(O,"preserveLastFrame",!1),sHb:d(E,"minBufferingTimeInMilliseconds",4E3),YMb:d(E,"progressBackwardsGraceTimeMilliseconds",4E3),ZMb:d(E,"progressBackwardsMinPercent",10),xlb:d(t,D("bookmarkIgnoreBeginning"),"0",Ua),ylb:d(t,D("bookmarkIgnoreEnd"),"5%",Ua),zlb:d(t,D("bookmarkIgnoreEndForBranching"),"60000",Ua),SK:d(E,"maxParallelConnections",3),Vqa:d(O,"reportThroughputInLogblobs",!0),ZK:d(E,"minAudioMediaRequestDuration",16E3),qHb:d(E,"minAudioMediaRequestDurationBranching",0),dL:d(E,"minVideoMediaRequestDuration",4E3),wHb:d(E,"minVideoMediaRequestDurationAL1",0),xHb:d(E,"minVideoMediaRequestDurationBranching",0),l4:d(E,"minAudioMediaRequestSizeBytes",0),r4:d(E,"minVideoMediaRequestSizeBytes",0),wtb:d(O,"droppedFrameRateFilterEnabled",!1),xtb:d(E,"droppedFrameRateFilterMaxObservation",60,10,1E3),ztb:d(function(a,b,f,c,h,q){return Na(a,b,"[",function(a){a=a.split(";");for(var b=a.length;b--;){a[b]=a[b].split("|");for(var f=a[b].length;f--;){a[b][f]=v.ce(a[b][f]);}}return a;},[function(a){return y.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b-- && void 0 !== a;){if(!y.isArray(a[b]))return !1;for(var h=a[b].length;h--;){if(!y.Bx(a[b][h],f,c))return !1;}}return !0;},function(a){if(void 0 !== h)for(var b=a.length;b--;){if(h !== a[b].length)return !1;}return !0;},function(a){return void 0 === q || a.length >= q;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),h5b:d(O,"droppedFrameRateFilterWithoutRebufferEnabled",!0),ytb:d(E,"droppedFrameRateFilterMinHeight",384),Atb:d(Ha,"droppedFramesPercentilesList",[]),jHb:d(O,"microsoftScreenSizeFilterEnabled",!1),iEb:d(O,"keyStatusFilterEnabled",!1),mSa:d(E,"hdcpEngagementWaitTime",0),AVb:d(O,"uiLabelFilterEnabled",!0),zVb:d(xa,"uiLabelFilter",{}),Zrb:d(E,D("defaultVolume"),100,0,100),Yna:d(E,D("maxPlaybackRate"),2,0,16),rNa:d(O,"disableVideoRightClickMenu",!1),n4:d(E,"minDecoderBufferMilliseconds",1E3,0,k.Iv),lF:d(E,"optimalDecoderBufferMilliseconds",5E3,0,k.Iv),sXa:d(E,"optimalDecoderBufferMillisecondsBranching",3E3,0,k.Iv),Ou:d(E,"minimumTimeBeforeBranchDecision",3E3,0,k.Iv),WA:d(E,"maxDecoderBufferMilliseconds",ia.WA.ca(R.ga),0,k.Iv),UMa:d(E,"decoderTimeoutMilliseconds",1E4,1),CWa:d(E,"noRenderTimeoutMilliseconds",0),Rsb:d(O,"disgardMediaOnAppend",!1),Wjb:d(O,"appendMediaBeforeInit",!1),OKb:d(E,"pauseTimeoutLimitMilliseconds",18E5),Wla:d(E,"inactivityMonitorInterval",3E4,0),Lib:d(Ha,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),IJ:d(O,"enableTrickPlay",!1),Ajb:d(Ha,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),jVb:d(E,"trickPlayHighResolutionBitrateThreshold",1E3),kVb:d(E,"trickPlayHighResolutionThresholdMilliseconds",1E4),nVb:d(Z,"trickplayBufferFactor",.5),iVb:d(E,"trickPlayDownloadRetryCount",1),Qna:d(t,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),Ioa:d(t,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),cya:d(xa,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),nVa:d(p,"maxIQRSamples",Infinity),SVa:d(p,"minIQRSamples",5),o4a:d(O,"useResourceTimingAPI",!1),dCb:d(O,"ignoreFirstByte",!0),SGb:d(O,"mediaRequestAsyncLoadStart",!0),IWb:d(O,"useXHROnLoadStart",!1),dja:d(Ha,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),X_:d(E,"connectTimeoutMilliseconds",8E3,500),Noa:d(E,"noProgressTimeoutMilliseconds",8E3,500),DWb:d(O,"useOnLineApi",!1),S2a:d(E,"timedTextDownloadRetryCountBeforeCdnSwitch",3),y7b:d(E,"netflixRequestExpiryTimeout",0),xXb:d(O,"webkitDecodedFrameCountIncorrectlyReported",!1),oQb:d(E,"seekBackOnAudioTrackChangeMilliseconds",8E3),aYa:d(O,"pausePlaybackOnAudioSwitch",!0),Ksa:d(Ca,D("supportedAudioTrackTypes"),[],void 0,1),XSa:d(E,"initialLogFlushTimeout",5E3),BYa:d(t,"playdataPersistKey",F.lu?"unsentplaydatatest":"unsentplaydata"),Nra:d(O,"sendPersistedPlaydata",!0),GLb:d(E,"playdataPersistIntervalMilliseconds",4E3),c8b:d(E,"playdataSendDelayMilliseconds",1E4),m6:d(O,"sendPlaydataBackupOnInit",!0),AFb:d(Ca,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),lHb:d(O,"midplayEnabled",!0),MVa:d(E,"midplayIntervalMilliseconds",3E5),mHb:d(Ha,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),RQ:d(E,"downloadReportDenominator",0),itb:d(E,"downloadReportInterval",3E5),wUa:d(E,"logConfigApplyDenominator",0),lKa:d(Wa,D("bookmarkByMovieId"),{}),nR:d(O,D("forceLimitedDurationLicense"),!1),RA:d(E,D("licenseRenewalRequestDelay"),0),Epa:d(E,D("persistedReleaseDelay"),1E4),H6b:d(O,D("limitedDurationFlagOverride"),void 0),Gl:d(O,D("secureStopEnabled"),!1),B8b:d(O,D("secureStopFromPersistedKeySession"),!1),h0a:d(E,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),Cra:d(E,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),lQb:d(E,D("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),mQb:d(E,D("secureStopPersistedKeySessionRetries"),17,1),kQb:d(E,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),U_a:d(E,"safariPlayPauseWorkaroundDelay",100),IXb:d(E,"workaroundValueForSeekIssue",1200),nga:d(O,D("callEndOfStream"),ia.nga),bLb:d(O,"performRewindCheck",!0),jvb:d(O,"fatalOnUnexpectedSeeking",!0),ivb:d(O,"fatalOnUnexpectedSeeked",!0),CRb:d(O,D("setVideoElementSize")),znb:d(O,D("clearVideoSrc"),!0),fNa:d(E,D("delayPlayPause"),0),Ip:d(O,D("useTypescriptEme"),!1),UQ:d(t,D("drmPersistKey"),"unsentDrmData"),pqa:d(O,D("promiseBasedEme"),!1),Cmb:d(O,"captureKeyStatusData",!1),qK:d(O,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),LIb:d(O,D("nudgeSourceBuffer"),!1),Dra:d(p,D("seekDelta"),1),CT:d(O,D("preciseSeeking"),!1),$Lb:d(O,D("preciseSeekingOnTwoCoreDevice"),!1),eNa:d(Wa,D("delayErrorHandling")),i3a:d(O,"trackingLogEnabled",!1),j3a:d(function(a,b){var f;f=Wa(a,b,void 0);f && Object.entries(f).forEach(function(a){var b;b=N(a);a=b.next().value;b=b.next().value;"true" === b?f[a]=!0:"false" === b && (f[a]=!1);});return f;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),ita:d(t,"trackingLogPath","/customerevents/track/debug"),ZUb:d(Ha,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),mi:d(t,"esn",""),NOa:d(t,"fesn",""),fub:d(O,D("enablePerformanceLogging"),!1),Bia:d(O,D("enableEmeVerboseLogging"),!1),Ztb:d(O,"enableLastChunkLogging",!1),TP:d(t,"appId","",La),sessionId:d(t,"sessionId","",La),vga:d(t,"cdnProxyUrl"),HWb:d(O,"usePlayReadyHeaderObject",!1),oPa:d(E,"forceXhrErrorResponseCode",void 0),Wr:{u7b:d(t,"mslApiPath","/msl/"),k5b:d(t,D("edgePath"),"/cbp/cadmium-29"),k8b:d(t,"proxyPath",""),By:d(t,"uiVersion"),m7:d(t,"uiPlatform"),q4b:function(){return "0";},bqa:d(Ca,"preferredLanguages",k.fwa,/^[a-zA-Z-]{2,5}$/,1),hwb:d(t,D("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),NTb:d(O,"supportPreviewContentPin",!0),OTb:d(O,"supportWatermarking",!0),kSb:d(O,"showAllSubDubTracks",!1),y5b:d(O,D("failOnGuidMismatch"),!1)},C5:{enabled:d(O,"qcEnabled",!1),qp:d(t,"qcPackageId","")},ft:d(O,"useRangeHeader",!1),aR:d(O,"enableMilestoneEventList",!0),cQ:d(t,"authenticationType",F.lu?ia.Skb:ia.cQ),TJa:d(Wa,"authenticationKeyNames",v.Hb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),XTb:d(t,"systemKeyWrapFormat"),mCb:d(O,"includeNetflixIdUserAuthData",!0),cSb:d(O,"shouldSendUserAuthData",!0),Qra:d(O,"sendUserAuthIfRequired",ia.Qra),XRb:d(O,"shouldClearUserData",!1),PHb:d(O,"mslDeleteStore",!1),RHb:d(O,"mslPersistStore",!0),zob:d(O,"correctNetworkForShortTitles",!0),WLb:d(O,"postplayHighInitBitrate",!1),dwb:d(O,"flushHeaderCacheOnAudioTrackChange",!0),RTb:d(O,"supportsUnequalizedDownloadables",!0),QMa:d(E,D("debugAseDenominator"),100),i_:d(E,"aseAudioBufferSizeBytes",ia.i_.ca(T.qt)),k_:d(E,"aseVideoBufferSizeBytes",ia.k_.ca(T.qt)),Nu:d(E,"minInitVideoBitrate",560),uoa:d(E,"minHCInitVideoBitrate",560),Ox:d(E,"maxInitVideoBitrate",Infinity),VS:d(E,"minInitAudioBitrate",0),US:d(E,"minHCInitAudioBitrate",0),HS:d(E,"maxInitAudioBitrate",65535),k4:d(E,"minAcceptableVideoBitrate",235),WS:d(E,"minRequiredBuffer",3E4),jj:d(E,"minPrebufSize",7800),toa:d(E,"minCheckBufferingCompleteInterval",999999),Eqa:d(Z,"rebufferingFactor",1),Iq:d(E,"maxBufferingTime",2600),Lta:d(O,"useMaxPrebufSize",!0),YA:d(E,"maxPrebufSize",45E3),$na:d(E,"maxRebufSize",Infinity),R2:d(ja,"initialBitrateSelectionCurve",null),SSa:d(E,"initSelectionLowerBound",560),TSa:d(E,"initSelectionUpperBound",1050),Z6:d(E,"throughputPercentForAudio",15),Mfa:d(E,"bandwidthMargin",10),Nfa:d(O,"bandwidthMarginContinuous",!1),Ofa:d(ja,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),dha:d(E,"conservBandwidthMargin",20),Nsa:d(O,"switchConfigBasedOnInSessionTput",!1),wQ:d(E,"conservBandwidthMarginTputThreshold",0),eha:d(ja,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),u2a:d(O,"switchAlgoBasedOnHistIQR",!1),KB:d(t,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Zna:d(p,"maxPlayerStateToSwitchConfig",-1),Bna:d(t,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),W9:d(Z,"IQRThreshold",.5),Jla:d(t,"histIQRCalcToUse","simple"),As:d(E,"maxTotalBufferLevelPerSession",0),Kta:d(O,"useBufferSizeLimiter",!1),vSa:d(E,"highWatermarkLevel",3E4),b3a:d(E,"toStableThreshold",3E4),g7:d(E,"toUnstableThreshold",ia.g7.ca(R.ga)),qsa:d(O,"skipBitrateInUpswitch",!0),Wta:d(E,"watermarkLevelForSkipStart",8E3),Cla:d(E,"highStreamRetentionWindow",9E4),Cna:d(E,"lowStreamTransitionWindow",51E4),Ela:d(E,"highStreamRetentionWindowUp",3E5),Ena:d(E,"lowStreamTransitionWindowUp",3E5),Dla:d(E,"highStreamRetentionWindowDown",6E5),Dna:d(E,"lowStreamTransitionWindowDown",0),Bla:d(Z,"highStreamInfeasibleBitrateFactor",.5),Hx:d(E,"lowestBufForUpswitch",15E3),K3:d(E,"lockPeriodAfterDownswitch",15E3),Gna:d(E,"lowWatermarkLevel",25E3),Ix:d(E,"lowestWaterMarkLevel",2E4),Hna:d(O,"lowestWaterMarkLevelBufferRelaxed",!1),koa:d(Z,"mediaRate",1),Y3:d(E,"maxTrailingBufferLen",1E4),XP:d(E,"audioBufferTargetAvailableSize",262144),qV:d(E,"videoBufferTargetAvailableSize",1048576),yVa:d(E,"maxVideoTrailingBufferSize",8388608),gVa:d(E,"maxAudioTrailingBufferSize",393216),f1:d(Z,"fastUpswitchFactor",3),eja:d(Z,"fastDownswitchFactor",1),Px:d(E,"maxMediaBufferAllowed",24E4),osa:d(O,"simulatePartialBlocks",!0),t1a:d(O,"simulateBufferFull",!0),fha:d(O,"considerConnectTime",!1),cha:d(Z,"connectTimeMultiplier",1),GUa:d(E,"lowGradeModeEnterThreshold",12E4),HUa:d(E,"lowGradeModeExitThreshold",9E4),kVa:d(E,"maxDomainFailureWaitDuration",3E4),fVa:d(E,"maxAttemptsOnFailure",18),DOa:d(O,"exhaustAllLocationsForFailure",!0),qVa:d(E,"maxNetworkErrorsDuringBuffering",20),S3:d(E,"maxBufferingTimeAllowedWithNetworkError",12E4),LOa:d(E,"fastDomainSelectionBwThreshold",2E3),G2a:d(E,"throughputProbingEnterThreshold",4E4),H2a:d(E,"throughputProbingExitThreshold",34E3),tUa:d(E,"locationProbingTimeout",1E4),QOa:d(E,"finalLocationSelectionBwThreshold",1E4),E2a:d(Z,"throughputHighConfidenceLevel",.75),F2a:d(Z,"throughputLowConfidenceLevel",.4),lOa:d(O,"enablePerfBasedLocationSwitch",!1),Ls:d(O,"probeServerWhenError",!0),iqa:d(E,"probeRequestTimeoutMilliseconds",8E3),Bw:d(O,"allowSwitchback",!0),wF:d(E,"probeDetailDenominator",100),T3:d(E,"maxDelayToReportFailure",300),sna:d(E,"locationStatisticsUpdateInterval",6E4),iMa:d(O,"countGapInBuffer",!1),VIa:d(O,"allowCallToStreamSelector",!0),tKa:d(E,"bufferThresholdForAbort",1E4),Gpa:d(E,"pipelineScheduleTimeoutMs",2),Qx:d(E,"maxPartialBuffersAtBufferingStart",2),voa:d(E,"minPendingBufferLen",6E3),XA:d(E,"maxPendingBufferLen",12E3),xGb:d(E,"maxPendingBufferLenAL1",3E4),aoa:d(E,"maxStreamingSkew",4E3),Xna:d(E,"maxPendingBufferPercentage",10),TK:d(E,"maxRequestsInBuffer",60),sVa:d(E,"maxRequestsInBufferAL1",240),tVa:d(E,"maxRequestsInBufferBranching",120),B2:d(E,"headerRequestSize",4096),TS:d(E,"minBufferLenForHeaderDownloading",1E4),ZT:d(E,"reserveForSkipbackBufferMs",1E4),Yoa:d(E,"numExtraFragmentsAllowed",2),rp:d(O,"pipelineEnabled",!1),B1a:d(E,"socketReceiveBufferSize",0),r_:d(E,"audioSocketReceiveBufferSize",32768),TM:d(E,"videoSocketReceiveBufferSize",65536),zla:d(E,"headersSocketReceiveBufferSize",32768),r7:d(E,"updatePtsIntervalMs",1E3),Yfa:d(E,"bufferTraceDenominator",100),KD:d(E,"bufferLevelNotifyIntervalMs",2E3),VP:d(E,"aseReportDenominator",0),wfa:d(E,"aseReportIntervalMs",3E5),Otb:d(O,"enableAbortTesting",!1),Kib:d(E,"abortRequestFrequency",8),Gsa:d(E,"streamingStatusIntervalMs",2E3),fy:d(E,"prebufferTimeLimit",24E4),m4:d(E,"minBufferLevelForTrackSwitch",2E3),zpa:d(E,"penaltyFactorForLongConnectTime",2),Ana:d(E,"longConnectTimeThreshold",200),afa:d(E,"additionalBufferingLongConnectTime",2E3),bfa:d(E,"additionalBufferingPerFailure",8E3),OT:d(E,"rebufferCheckDuration",6E4),iOa:d(O,"enableLookaheadHints",!1),BUa:d(E,"lookaheadFragments",2),hA:d(O,"enableOCSideChannel",!0),uX:d(xa,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),P3a:d(O,"updateDrmRequestOnNetworkFailure",!1),dNa:d(O,"deferAseScheduling",!1),jVa:d(E,"maxDiffAudioVideoEndPtsMs",16E3),NM:d(O,"useHeaderCache",!0),OQ:d(E,"defaultHeaderCacheSize",4),r0:d(E,"defaultHeaderCacheDataPrefetchMs",8E3),vla:d(E,"headerCacheMaxPendingData",6),gF:d(O,"neverWipeHeaderCache",!0),wla:d(E,"headerCachePriorityLimit",5),cR:d(O,"enableUsingHeaderCount",!1),qSa:d(O,"headerCacheTruncateHeaderAfterParsing",!0),cwb:d(O,D("flushHeaderCacheBeforePlayback"),!1),Hoa:d(E,"networkFailureResetWaitMs",2E3),Goa:d(E,"networkFailureAbandonMs",6E4),X3:d(E,"maxThrottledNetworkFailures",3),Y6:d(E,"throttledNetworkFailureThresholdMs",200),Fna:d(p,"lowThroughputThreshold",400),$ia:d(O,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),fWa:d(O,"mp4ParsingInNative",!1),D1a:d(O,"sourceBufferInOrderAppend",!0),Rs:d(O,"requireAudioStreamToEncompassVideo",!0),UIa:d(O,"allowAudioToStreamPastVideo",!0),zh:d(O,"enableManagerDebugTraces",!1),VUa:d(E,"managerDebugMessageInterval",1E3),UUa:d(E,"managerDebugMessageCount",20),OWa:d(O,"notifyManifestCacheEom",!1),Xfa:d(E,"bufferThresholdToSwitchToSingleConnMs",18E4),Wfa:d(E,"bufferThresholdToSwitchToParallelConnMs",12E4),h5:d(E,"periodicHistoryPersistMs",3E5),e6:d(E,"saveVideoBitrateMs",18E4),kJa:d(O,"appendMediaRequestOnComplete",!0),I7:d(O,"waitForDrmToAppendMedia",!1),q1:d(O,D("forceAppendHeadersAfterDrm"),!1),FNb:d(O,D("reappendRequestsOnSkip"),!1),YHb:d(E,"netIntrStoreWindow",36E3),tHb:d(E,"minNetIntrDuration",8E3),dvb:d(E,"fastHistoricBandwidthExpirationTime",10368E3),blb:d(E,"bandwidthExpirationTime",5184E3),avb:d(E,"failureExpirationTime",86400),KBb:d(E,"historyTimeOfDayGranularity",4),Oub:d(O,"expandDownloadTime",!1),EHb:d(E,"minimumMeasurementTime",500),DHb:d(E,"minimumMeasurementBytes",131072),mUb:d(E,"throughputMeasurementTimeout",2E3),BCb:d(E,"initThroughputMeasureDataSize",262144),nUb:d(t,"throughputPredictor","ewma"),lUb:d(E,"throughputMeasureWindow",5E3),qUb:d(E,"throughputWarmupTime",5E3),kUb:d(E,"throughputIQRMeasureWindow",5E3),o$a:d(E,"IQRBucketizerWindow",15E3),fob:d(E,"connectTimeHalflife",10),xPb:d(E,"responseTimeHalflife",10),JBb:d(E,"historicBandwidthUpdateInterval",2E3),CHb:d(E,"minimumBufferToStopProbing",1E4),Ara:d(t,"secondThroughputEstimator","none"),e0a:d(p,"secondThroughputMeasureWindowInMs",Infinity),Stb:d(Ca,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),wvb:d(xa,"filterDefinitionOverrides",{}),Vrb:d(t,"defaultFilter","throughput-ewma"),gQb:d(t,"secondaryFilter","none"),Wrb:d(xa,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),bT:d(O,"needMinimumNetworkConfidence",!0),Sfa:d(O,"biasTowardHistoricalThroughput",!0),$Z:d(O,"addHeaderDataToNetworkMonitor",!1),zsa:d(O,"startMonitorOnLoadStart",!1),Uqa:d(O,"reportFailedRequestsToNetworkMonitor",!1),Una:d(p,"maxFastPlayBufferInMs",Infinity),Tna:d(p,"maxFastPlayBitThreshold",Infinity),mfa:d(O,"appendFirstHeaderOnComplete",!0),jkb:d(t,"ase_stream_selector","optimized"),hma:d(t,"initBitrateSelectorAlgorithm","default"),bga:d(t,"bufferingSelectorAlgorithm","default"),RMa:d(t,"ase_ls_failure_simulation",""),Jha:d(O,"ase_dump_fragments",!1),Lha:d(E,"ase_location_history",0),Mha:d(E,"ase_throughput",0),TMa:d(O,"ase_simulate_verbose",!1),RLb:d(E,"pollingPeriod",150),nFb:d(E,"loadTimeMs",18E4),eGb:d(E,"marginTimeMs",1E4),RB:d(O,"useMediaCache",!1),dA:d(E,"diskCacheSizeLimit",52428800),NS:d(E,"mediaCachePrefetchMs",8E3),foa:d(Wa,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),cka:d(O,"getDeviceIdFromBindDevice",!1),Tea:d(O,"addFailedLogBlobsToQueue",!0),z3a:{"content-sampling":{Iq:d(E,"contentSamplingMaxBufferingTime",3E3),aM:d(t,"contentSamplingSelectStartingVMAFMethod","fallback"),NP:d(O,"contentSamplingActivateSelectStartingVMAF",!0),cL:d(E,"contentSamplingMinStartingVideoVMAF",80),SS:d(E,"contentSamplingMinAcceptableVMAF",70),aF:d(E,"contentSamplingMinAllowedVmaf",60),Ml:d(O,"contentSamplingUseNewApi",!0)},billboard:{Nu:d(E,"billboardMinInitVideoBitrate",1050),Ox:d(E,"billboardMaxInitVideoBitrate",null),jj:d(E,"billboardMinPrebufSize",null),YA:d(E,"billboardMaxPrebufSize",null),Iq:d(E,"billboardMaxBufferingTime",null),Qx:d(E,"billboardMaxPartialBuffersAtBufferingStart",null),Ix:d(E,"billboardLowestWaterMarkLevel",6E3),Hx:d(E,"billboardLowestBufForUpswitch",25E3),KB:d(t,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Ml:d(O,"billboardUseNewApi",!0)},branching:{Ml:d(O,"branchingUseNewApi",!0)},preplay:{Nu:d(E,"preplayMinInitVideoBitrate",1050),Ox:d(E,"preplayMaxInitVideoBitrate",null),jj:d(E,"preplayMinPrebufSize",null),YA:d(E,"preplayMaxPrebufSize",null),Iq:d(E,"preplayMaxBufferingTime",null),Qx:d(E,"preplayMaxPartialBuffersAtBufferingStart",null),Ix:d(E,"preplayLowestWaterMarkLevel",6E3),Hx:d(E,"preplayLowestBufForUpswitch",25E3)},embedded:{Nu:d(E,"embeddedMinInitVideoBitrate",1050),Ox:d(E,"embeddedMaxInitVideoBitrate",null),jj:d(E,"embeddedMinPrebufSize",null),YA:d(E,"embeddedMaxPrebufSize",null),Iq:d(E,"embeddedMaxBufferingTime",null),Qx:d(E,"embeddedMaxPartialBuffersAtBufferingStart",null),Ix:d(E,"embeddedLowestWaterMarkLevel",6E3),Hx:d(E,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Nu:d(E,"videoMerchBobHorizontalMinInitVideoBitrate",null),Ox:d(E,"videoMerchBobHorizontalMaxInitVideoBitrate",null),jj:d(E,"videoMerchBobHorizontalMinPrebufSize",null),YA:d(E,"videoMerchBobHorizontalMaxPrebufSize",null),Iq:d(E,"videoMerchBobHorizontalMaxBufferingTime",null),Qx:d(E,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Ix:d(E,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Hx:d(E,"videoMerchBobHorizontalLowestBufForUpswitch",null),wG:d(Ca,"videoMerchVideoProfiles",void 0)},"mini-modal-horizontal":{Nu:d(E,"miniModalHorizontalMinInitVideoBitrate",null),Ox:d(E,"miniModalHorizontalMaxInitVideoBitrate",null),jj:d(E,"miniModalHorizontalMinPrebufSize",null),YA:d(E,"miniModalHorizontalMaxPrebufSize",null),Iq:d(E,"miniModalHorizontalMaxBufferingTime",500),Qx:d(E,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Ix:d(E,"miniModalHorizontalLowestWaterMarkLevel",null),Hx:d(E,"miniModalHorizontalLowestBufForUpswitch",null)},standard:{Ml:d(O,"standardUseNewApi",!0)},postplay:{Ml:d(O,"postplayUseNewApi",!0)},"postplay-background-trailer":{Ml:d(O,"postplayBackgroundTrailerUseNewApi",!0)}},nub:d(O,"enableVerbosePlaydelayLogging",!1),iub:d(O,"enableSeamless",!1),Ila:d(E,"hindsightDenominator",0),Hla:d(E,"hindsightDebugDenominator",0),F2:d(xa,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),bR:d(O,"enableSessionHistoryReport",!1),yia:d(E,"earlyStageEstimatePeriod",1E4),eUa:d(E,"lateStageEstimatePeriod",3E4),U3:d(E,"maxNumSessionHistoryStored",30),q4:d(E,"minSessionHistoryDuration",3E4),Iu:d(E,"maxActiveRequestsPerSession",3),Q3:d(E,"maxActiveRequestsSABCell100",2),V3:d(E,"maxPendingBufferLenSABCell100",500),nna:d(O,"limitAudioDiscountByMaxAudioBitrate",!0),Bj:d(xa,"browserInfo",{}),Tlb:d(E,D("busyGracePeriod"),199),IQb:d(O,D("sendTransitionLogblob"),!0),DJ:d(O,D("editVideoFragments"),!0),L0:d(O,D("earlyAppendSingleChildBranch"),!0),nCb:d(O,D("includeSegmentInfoOnLogblobs"),!0),Sub:d(O,"exposeTestData",!1),Nha:d(O,"declareBufferingCompleteAtSegmentEnd",!0),Hz:d(O,"applyProfileTimestampOffset",!1),$i:d(O,"applyProfileStreamingOffset",!1),Ojb:d(O,D("allowSmallSeekDelta"),!1),BSb:d(E,D("smallSeekDeltaThresholdMilliseconds"),B.TX),Qtb:d(O,"enableCDMAttestedDescriptors",!1),Q5:d(O,"requireDownloadDataAtBuffering",!1),R5:d(O,"requireSetupConnectionDuringBuffering",!1),Gqa:d(O,"recordFirstFragmentOnSubBranchCreate",!1),Glb:d(O,"branchingAudioTrackFrameDropSmallSeekFix",!0),lPa:d(O,"forceL3WidevineCdm",!1),BWb:d(O,"useMobileVMAF",!1),wsb:d(t,"desiredVMAFTypeMobile","phone_plus_lts"),xsb:d(t,"desiredVMAFTypeNonMobile","plus_lts"),NP:d(O,"activateSelectStartingVMAF",!1),cL:d(E,"minStartingVideoVMAF",1),SS:d(E,"minAcceptableVMAF",1),aF:d(E,"minAllowedVmaf",1),jfa:d(O,"alwaysNotifyEOSForPlaygraph",!0),iE:d(O,"enableNewAse",!0),Ml:d(O,"useNewApi",!0),CWb:d(O,"useNewAseIntegration",!0),Q0:d(O,"enableHudsonFieldTest",!1),YR:d(Ca,"hudsonTitles",["81127954","70125931","80158148"]),Wna:d(E,"maxPartialBuffersAtHudson",1),iT:d(E,"numberOfChunksPerSegment",4),X6:d(E,"targetContentLatency",1E4),Rsa:d(E,"targetLongContentLatency",3E4),s4:d(E,"minimumTimeDelay",1),S0:d(O,"enableWsslEstimate",!1),R3:d(E,"maxAllowedOutstandingRequests",4),JI:d(O,"alwaysRunUnderflowTimer",!0),woa:d(E,"minStreamableConcurrencyWindow",3E3),Esa:d(Z,"streamableConcurrencyFactor",.3),mQ:d(E,"bufferingConcurrencyWindow",7800),uSb:d(O,"singleStreamablePerBranch",!0),R0:d(O,"enableResolutionVMAFStreamFilter",!1),W5:d(xa,"resolutionVMAFCappingRuleList",{}),Bpa:d(p,"percentCapTitlesForResolutionVMAFStreamFilter",100),Psb:d(O,"disableSkipping",!1)};qc=!0;b.$ga=function(a){var c,h,m;c=f.ja.get(V.Fd).id;if(0 < b.config.wUa && 0 === c % b.config.wUa)try{h=f.ja.get(I.Sm);m=f.ja.get(J.At).Qr("config","info",{params:a});h.kd(m);}catch(Mb){f.log.error("Failed to log config$apply",Mb);}ka._cad_global.config=b.config;q.yb(a);a && (Ka=v.Hb({},a,{OK:!0}),v.Hb(Ka,lb,{OK:!0}),l(L,b.config),Ka.istestaccount && f.log.trace("Config applied for",Ta(qc?Ka:a)),qc=!1);};b.$ga(Ka);};b.bob=function(a,b){return y.gf(a) && "%" == a[a.length - 1]?A.hi(parseFloat(a) * b / 100):a | 0;};b.SLa=function(a){return a?(a=v.Hb({},b.config),v.Hb(a,{lF:b.config.sXa},{Wx:!0})):b.config;};b.V_=function(a){var f;f=v.Hb({},b.config);return v.Hb(f,c(a),{Wx:!0});};b.U_=function(b){b=c(b);return v.Hb({},a(178)(b),{Wx:!0});};b.aha=function(f,c,h){h=! !h && (0 <= h.indexOf("h264hpl") || 0 <= h.indexOf("vp9"));f={ZK:f?b.config.qHb:b.config.ZK,dL:f?b.config.xHb:h?b.config.wHb:b.config.dL,TK:f && h?Math.max(b.config.tVa,b.config.sVa):f?b.config.tVa:h?b.config.sVa:b.config.TK,XA:h?b.config.xGb:b.config.XA,L0:!c};return v.Hb({},a(178)(f),{Wx:!0});};b.dob=c;b.cob=l;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.YG=b.cX=b.r6a=b.m6a=b.o6a=b.p6a=b.kva=b.l6a=b.n6a=b.jva=b.q6a=b.x6a=b.v6a=b.w6a=b.u6a=b.n8a=b.m8a=b.Lwa=b.E$a=b.F$a=b.Bt=b.Gza=b.Hza=b.rC=b.Nwa=b.o8a=b.c9=b.lW=b.wab=b.dcb=b.Cza=b.g6a=b.fwa=b.wX=b.CC=b.vX=b.Bza=b.Iv=b.f6a=b.$ua=b.s$a=b.Scb=b.D$a=b.C$a=b.Ubb=b.Tbb=b.Yj=b.se=b.VCa=b.kh=void 0;b.vba=void 0;b.kh=function(){};b.VCa=function(){return !0;};b.se={ia:!0};b.Yj=1E3;b.Tbb=86400;b.Ubb=604800;b.C$a=1E4;b.D$a=1E7;b.Scb=1.5;b.s$a=.128;b.$ua=7.8125;b.f6a=128;b.Iv=145152E5;b.Bza=1E5;b.vX="$netflix$player$order";b.CC=-1;b.wX=1;b.fwa=["en-US"];b.g6a=8;b.Cza=65535;b.dcb=65536;b.wab=Number.MAX_VALUE;b.lW="playready";b.c9="widevine";b.o8a="fps";b.Nwa="clearkey";b.rC='audio/mp4; codecs="mp4a.40.5"';b.Hza='audio/mp4; codecs="mp4a.40.42"';b.Gza='audio/mp4; codecs="mp4a.a6"';b.Bt='video/mp4; codecs="avc1.640028"';b.F$a='video/mp4; codecs="hev1.2.6.L153.B0"';b.E$a='video/mp4; codecs="dvhe.01000000"';b.Lwa="9A04F079-9840-4286-AB92-E65BE0885F95";b.m8a="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.n8a="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.u6a=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.w6a="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.v6a="4E657466-6C69-7846-7261-6D6552617465";b.x6a="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.q6a="mp4a";b.jva="enca";b.n6a="ec-3";b.l6a="avc1";b.kva="encv";b.p6a="hvcC";b.o6a="hev1";b.m6a="dvhe";b.r6a="vp09";b.cX=0;b.YG=1;b.vba="position:relative;width:100%;height:100%;overflow:hidden";},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.xd=b.sb=b.ge=b.Db=b.V=b.b$=b.FC=b.Vb=void 0;(function(a){a.rFb="loadedtracks";a.qFb="loadedmetadata";a.loaded="loaded";a.error="error";a.closed="closed";a.lq="currenttimechanged";a.xKa="bufferedtimechanged";a.Btb="durationchanged";a.iXb="videosizechanged";a.PKb="pausedchanged";a.PLb="playingchanged";a.wub="endedchanged";a.gga="busychanged";a.LJa="audiotracklistchanged";a.$P="audiotrackchanged";a.iG="timedtexttracklistchanged";a.IM="timedtexttrackchanged";a.gV="trickplayframeschanged";a.VHb="mutedchanged";a.pXb="volumechanged";a.lSb="showsubtitle";a.JOb="removesubtitle";a.wXb="watermark";a.Dma="isReadyToTransition";a.pK="inactivated";a.sQb="segmentmaploaded";a.tQb="segmentpresenting";a.Vkb="autoplaywasallowed";a.Wkb="autoplaywasblocked";})(b.Vb || (b.Vb={}));(b.FC || (b.FC={})).kU="playgraphsegmenttransition";b.b$=a;a.B0a="serverTimeChanged";(function(a){a.NI="aseException";a.OI="aseReport";a.Tkb="authorized";a.Ifa="autoplayWasAllowed";a.kl="autoplayWasBlocked";a.glb="bandwidthMeterAggregateUpdate";a.Kw="bufferUnderrun";a.closed="closed";a.Pf="closing";a.lq="currentTimeChanged";a.fA="downloadComplete";a.pK="inactivated";a.gUa="licenseAdded";a.MK="licensed";a.xs="locationSelected";a.PK="manifestClosing";a.Gq="manifestPresenting";a.Q6b="manifestSelected";a.c4="mediaBufferChanged";a.WHb="needLicense";a.E4="nextBranchingSegmentChosen";a.Fs="playbackStart";a.up="playbackReady";a.El="repositioned";a.DF="repositioning";a.V_a="safePlayRequested";a.l0a="segmentAborted";a.LF="segmentPresenting";a.C8b="segmentComplete";a.n0a="segmentLastPts";a.o0a="segmentStarting";a.MF="serverSwitch";a.q1a="shouldUpdateVideoDiagInfo";a.AM="subtitleError";a.Vsa="throttledMediaTimeChanged";a.GM="timedTextRebuffer";a.iG="timedTextTrackListChanged";a.gV="trickPlayFramesChanged";a.iV="tryRecoverFromStall";a.Eta="updateNextBranchingSegmentWeights";a.OWb="userInitiatedPause";a.s4a="userInitiatedResume";})(b.V || (b.V={}));(function(a){a[a.eH=0]="NOTLOADED";a[a.LOADING=1]="LOADING";a[a.wd=2]="NORMAL";a[a.CLOSING=3]="CLOSING";a[a.CLOSED=4]="CLOSED";})(b.Db || (b.Db={}));(function(a){a[a.wd=1]="NORMAL";a[a.cd=2]="BUFFERING";a[a.qDa=3]="STALLED";})(b.ge || (b.ge={}));(function(a){a[a.Zf=1]="WAITING";a[a.Uc=2]="PLAYING";a[a.uj=3]="PAUSED";a[a.vt=4]="ENDED";})(b.sb || (b.sb={}));(function(a){a[a.Fv=0]="INITIAL";a[a.Nv=1]="SEEK";a[a.rH=2]="TRACK_CHANGED";a[a.IC=3]="SEGMENT_CHANGED";a[a.qW=4]="FORCE_REBUFFER";})(b.xd || (b.xd={}));},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sc=b.TW=b.Ht=b.xv=void 0;b.xv={p4b:"casttv",chrome:"chrome",v4b:"chromecast",Wr:"edge",Dtb:"edgeoss",bPa:"firefox",l6b:"ie",opera:"opera",OPb:"safari"};b.Ht={bJa:"android",jnb:"chromeos",LEb:"linux",LUa:"mac",hUb:"tesla",Xta:"windows"};b.TW={Ynb:"computer",gLb:"phone",$Tb:"tablet"};b.Sc="ConfigSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.uc=b.rma=b.Cx=b.gf=b.Mma=b.mDb=b.aDb=b.Cma=b.Bx=b.nTa=b.qa=b.Kma=b.isArray=b.FTa=b.zf=b.ic=b.is=void 0;d=a(191);b.is=d.oC;b.ic=function(a){return b.is.Qf(a);};b.zf=function(a){return b.is.BD(a);};b.FTa=function(a){return b.is.Kea(a);};b.isArray=function(a){return b.is.Cw(a);};b.Kma=function(a){return b.is.$Ia(a);};b.qa=function(a,l,k){return b.is.Sh(a,l,k);};b.nTa=function(a,l,k){return b.is.kfa(a,l,k);};b.Bx=function(a,l,k){return b.is.KI(a,l,k);};b.Cma=function(a){return b.is.JP(a);};b.aDb=function(a){return b.is.Iib(a);};b.mDb=function(a){return b.is.Jib(a);};b.Mma=function(a){return b.is.aJa(a);};b.gf=function(a){return b.is.Eo(a);};b.Cx=function(a){return b.is.gn(a);};b.rma=function(a){return b.is.IP(a);};b.uc=function(a){return b.is.WZ(a);};},function(d,b,a){b=a(139);b.Xrb=0;d.exports={EventEmitter:b,qg:a(831)};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(383),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fd=void 0;b.Fd="ApplicationSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ma=void 0;b.ma=!1;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Grb=b.Iha=b.zrb=b.Drb=b.qJ=b.LQ=b.Crb=b.Erb=b.rJ=b.PMa=b.Brb=b.Arb=b.yb=b.tf=b.Frb=b.Zua=void 0;d=a(7);a=a(87);b.Zua=function(){b.yb(!1);};b.Frb=!0;b.tf=d.ja.get(a.st);b.yb=b.tf.assert.bind(b.tf);b.Arb=b.tf.nkb.bind(b.tf);b.Brb=b.tf.okb.bind(b.tf);b.PMa=b.tf.tkb.bind(b.tf);b.rJ=b.tf.wkb.bind(b.tf);b.Erb=b.tf.ukb.bind(b.tf);b.Crb=b.tf.rkb.bind(b.tf);b.LQ=b.tf.qkb.bind(b.tf);b.qJ=b.tf.vkb.bind(b.tf);b.Drb=b.tf.skb.bind(b.tf);b.zrb=b.tf.mkb.bind(b.tf);b.Iha=b.tf.pkb.bind(b.tf);b.Grb=b.tf.SCb.bind(b.tf);},function(d,b){function a(a,b){return a && b?Math.abs(a * b / c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a % b;a=c;}return a;}Object.defineProperty(b,"__esModule",{value:!0});b.S=void 0;d=(function(){function b(a,b){"object" === typeof a?(this.Ar=a.ub,this.gl=a.R):(this.Ar=a,this.gl=b);}b.YJb=function(a){return new b(1,a);};b.compare=function(a,b){return a.qk(b);};b.abs=function(a){return new b(Math.abs(a.Ar),a.gl);};b.ec=function(a){return 0 === a?b.lb:new b(a,1E3);};b.f7=function(a,b){return Math.floor(1E3 * a / b);};b.Doa=function(a,b){return Math.floor(a * b / 1E3);};b.max=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.Mja=function(k,m){var f;if(k.R === m.R)return new b(c(k.ub,m.ub),k.R);f=a(k.R,m.R);return b.Mja(k.Fe(f),m.Fe(f));};Object.defineProperties(b.prototype,{ub:{get:function(){return this.Ar;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{R:{get:function(){return this.gl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{da:{get:function(){return b.f7(this.Ar,this.gl);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{NYa:{get:function(){return 1E3 * this.Ar / this.gl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JF:{get:function(){var a;a=this.NYa;return 0 > a?Math.ceil(a):Math.floor(a);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$g:{get:function(){return this.Ar / this.gl;},enumerable:!1,configurable:!0}});b.prototype.Fe=function(a){a/=this.R;return new b(Math.floor(this.ub * a),Math.floor(this.R * a));};b.prototype.add=function(c){var m;if(this.R === c.R)return new b(this.ub + c.ub,this.R);m=a(this.R,c.R);return this.Fe(m).add(c.Fe(m));};b.prototype.Fa=function(a){return this.add(new b(-a.ub,a.R));};b.prototype.dF=function(a){return new b(this.ub * a,this.R);};b.prototype.So=function(c){var m;if("number" === typeof c){m=a(this.ub,c);return m !== this.ub?this.Fe(m / this.ub * this.R).So(c):new b(this.ub / c,this.R);}if(this.R === c.R)return this.ub / c.ub;m=a(this.R,c.R);return this.Fe(m).So(c.Fe(m));};b.prototype.fia=function(c){var m;if(this.R === c.R)return new b(Math.abs(this.ub - c.ub),this.R);m=a(this.R,c.R);return this.Fe(m).fia(c.Fe(m));};b.prototype.IRa=function(b){return a(this.R,b);};b.prototype.MZa=function(){return new b(this.R,this.ub);};b.prototype.compare=function(b,c){var f;if(this.R === c.R)return b(this.ub,c.ub);f=a(this.R,c.R);return b(this.Fe(f).ub,c.Fe(f).ub);};b.prototype.qk=function(a){return this.equal(a)?0:this.lessThan(a)?-1:1;};b.prototype.equal=function(a){return this.compare(function(a,b){return a === b;},a);};b.prototype.I4=function(a){return this.compare(function(a,b){return a !== b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a < b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a > b;},a);};b.prototype.QE=function(a){return this.compare(function(a,b){return a <= b;},a);};b.prototype.ql=function(a){return this.compare(function(a,b){return a >= b;},a);};b.prototype.olb=function(a,b){var f;f=!1;void 0 === f && (f=!0);return f?this.ql(a) && this.QE(b):this.greaterThan(a) && this.lessThan(b);};b.prototype.isFinite=function(){return ! !this.R && isFinite(this.ub);};b.prototype.toJSON=function(){return {ticks:this.ub,timescale:this.R};};b.prototype.toString=function(){return this.ub + "/" + this.R;};b.prototype.Ad=function(){return this.ub + "/" + this.R + " (" + this.da + "ms)";};b.lb=new b(0,1E3);b.zl=new b(1,1E3);b.ux=new b(Infinity,1);return b;})();b.S=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.He=void 0;b.He="IsTypeSymbol";},function(d,b,a){var c,l,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.hMa=b.pPa=b.jx=b.zk=b.Ue=b.DS=b.trim=b.WR=b.i2a=b.vqa=b.wKb=b.ce=b.wJa=b.PKa=b.Hb=b.Rd=void 0;c=a(20);l=a(26);k=a(10);m=a(15);b.Rd=function(a,b){for(var f in a){a.hasOwnProperty(f) && b(f,a[f]);}};b.Hb=b.Hb || (function(a,c,q){var f,h,m;if(c)if(q){f=q.OK;h=q.prefix;m=q.Wx;b.Rd(c,function(b,c){if(!m || l.ic(c))a[(h || "") + (f?b.toLowerCase():b)]=c;});}else b.Rd(c,function(b,f){a[b]=f;});return a;});b.PKa=function(a,b,c,u){var f;if(a){f=a[b];m.uc(f) && (c=f.apply(a,k.slice.call(arguments,3)));}return c;};b.wJa=function(a){for(var b={},f=a.length;f--;){b[a[f]]=!0;}return b;};b.ce=b.ce || (function(a){return parseInt(a,10);});b.wKb=function(a){return (/^true$/i).test(a);};b.vqa=function(a,b){return k.hi(a + k.uC() * (b - a));};b.i2a=function(a){return JSON.stringify(a,null,"  ");};b.WR=(function(){var b,q;function a(a){c.yb(void 0 !== b[a]);return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};q=/[&'"<>]/g;return function(b){return b.replace(q,a);};})();b.trim=(function(){var a;a=/^\s+|\s+$/gm;return function(b){return b.replace(a,"");};})();b.DS=function(a){return Array.isArray(a)?a:[a];};b.Ue=b.Ue || (function(a){var b,f,c;if(a){b=a.stack;f=a.number;c=a.message;c || (c="" + a);b?(a="" + b,0 != a.indexOf(c) && (a=c + "\n" + a)):a=c;f && (a+="\nnumber:" + f);return a;}});b.zk=function(a){return m.qa(a)?a.toFixed(0):"";};b.jx=function(a){return m.qa(a)?(a / 1E3).toFixed(0):"";};b.pPa=function(a){return m.qa(a)?a.toFixed():"";};b.hMa=function(a){for(var b=[],f=0;f < a.length;f++){b[f]=a[f];}return b;};},function(d,b,a){var c,l,k,m;c=a(88);l=a(581);k=a(201);m=a(584);d=(function(){function a(a){this.ew=!1;a && (this.dn=a);}a.prototype.ws=function(b){var f;f=new a();f.source=this;f.qXa=b;return f;};a.prototype.subscribe=function(a,b,f){var c;c=this.qXa;a=l.NUb(a,b,f);c?c.call(a,this.source):a.add(this.source || !a.Zn?this.dn(a):this.zea(a));if(a.Zn && (a.Zn=!1,a.aG))throw a.bG;return a;};a.prototype.zea=function(a){try{return this.dn(a);}catch(q){a.aG=!0;a.bG=q;a.error(q);}};a.prototype.forEach=function(a,b){var f;f=this;b || (c.root.HC && c.root.HC.config && c.root.HC.config.Promise?b=c.root.HC.config.Promise:c.root.Promise && (b=c.root.Promise));if(!b)throw Error("no Promise impl found");return new b(function(b,c){var h;h=f.subscribe(function(b){if(h)try{a(b);}catch(B){c(B);h.unsubscribe();}else a(b);},c,b);});};a.prototype.dn=function(a){return this.source.subscribe(a);};a.prototype[k.observable]=function(){return this;};a.prototype.iLb=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}return 0 === a.length?this:m.jLb(a)(this);};a.prototype.$s=function(){var a,b;b=this;a || (c.root.HC && c.root.HC.config && c.root.HC.config.Promise?a=c.root.HC.config.Promise:c.root.Promise && (a=c.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,f){var c;b.subscribe(function(a){return c=a;},function(a){return f(a);},function(){return a(c);});});};a.create=function(b){return new a(b);};return a;})();b.Eb=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]={xYb:{Pv:0,q2b:1,name:["STARTUP","STEADY"]},GW:{oh:0,p2b:1,Ocb:2,name:["STARTING","STABLE","UNSTABLE"]},Ta:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Xj:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Jg:{URL:0,KC:1,Xya:2,Kv:3,name:["URL","SERVER","LOCATION","NETWORK"]},$e:{HAVE_NOTHING:0,lC:1,kC:2,CN:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},JC:{eYb:0,d_b:1,w1b:2,NEXT:3,W0b:4,T2b:5,f_b:6,Q_b:7,Pv:8,ERROR:9,taa:10,ubb:11,e8:12,w$a:13,v$a:14,Zbb:15,Ybb:16,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway").split(" ")},GZb:{Kv:0,$Yb:1,name:["NETWORK","DECODE"]},m2b:{bZb:"delayedSeamless",r_b:"hideLongTransition"}};},function(d,b,a){var m,f;function c(a){return null !== a && void 0 !== a;}function l(a){return typeof a == b.pEa;}function k(a,b,m){var h,q,u;if(b)if(m){h=m.OK;q=m.prefix;u=m.Wx;f.Rd(b,function(b,f){if(!u || c(f))a[(q || "") + (h?b.toLowerCase():b)]=f;});}else f.Rd(b,function(b,f){a[b]=f;});return a;}Object.defineProperty(b,"__esModule",{value:!0});b.K=b.Ue=b.WR=b.SJ=b.VD=b.createElement=b.Sz=b.vJa=b.P_=b.kM=b.Hb=b.io=b.ce=b.Cx=b.gf=b.zf=b.ic=b.oEa=b.Ccb=b.Dcb=b.pEa=b.VB=b.M7=b.er=b.ZM=b.YM=b.rj=b.eX=b.tC=b.uC=b.ho=b.Tm=b.hi=b.J$=b.Jv=b.FG=b.Cab=b.DC=b.Yj=b.kh=void 0;m=a(10);f=a(23);b.kh=function(){};b.Yj=1E3;b.DC=Object.create;b.Cab=Object.keys;b.FG=Date.now;b.Jv=Math.floor;b.J$=Math.ceil;b.hi=Math.round;b.Tm=Math.max;b.ho=Math.min;b.uC=Math.random;b.tC=Math.abs;b.eX=Math.pow;b.rj="$attributes";b.YM="$children";b.ZM="$name";b.er="$text";b.M7="$parent";b.VB="$sibling";b.pEa="string";b.Dcb="number";b.Ccb="function";b.oEa="object";b.ic=c;b.zf=function(a){return typeof a == b.oEa;};b.gf=l;b.Cx=function(a){return l(a) && a;};b.ce=function(a){return parseInt(a,10);};b.io=function(a,b,f){return a >= b?a <= f?a:f:b;};b.Hb=k;b.kM=function(a){return k({},a);};b.P_=function(a){var h;for(var b=0;b < arguments.length;++b){;}for(var b=0,f=arguments.length;b < f;){h=arguments[b++];if(c(h))return h;}};b.vJa=function(a,b){for(var f,c=!0,h;c;){for((c=!1,f=a.length);--f;){h=a[f];h[b] < a[f - 1][b] && (a[f]=a[f - 1],a[f - 1]=h,c=!0);}}};b.Sz=function(a,b){if(a.length == b.length){for(var f=a.length;f--;){if(a[f] != b[f])return !1;}return !0;}return !1;};b.createElement=function(a,b,c,r){var h;h=m.Je.createElement(a);b && (h.style.cssText=b);c && (h.innerHTML=c);r && f.Rd(r,function(a,b){h.setAttribute(a,b);});return h;};b.VD=function(a){var b;b="";f.Rd(a,function(a,f){b+=(b?";":"") + a + ":" + f;});return b;};b.SJ=function(a,f,c){var h;a / f > c?(h=b.hi(f * c),a=f):(h=a,a=b.hi(a / c));return {width:h,height:a};};b.WR=(function(){var b,f;function a(a){return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(b){return b.replace(f,a);};})();b.Ue=function(a){var b,f;if(a){b=a.stack;f=a.number;a="" + a;b?(b="" + b,0 != b.indexOf(a) && (b=a + "\n" + b)):b=a;f && (b+="\nnumber:" + f);return b;}};b.K={Ul:1001,ei:1003,K8a:1701,wxa:1713,L8a:1715,J8a:1721,rW:1723};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.rg=void 0;b.rg="UtilitiesSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(142);b.ma=!1;d=(function(){function a(a,b,f,c,q){this.ob=a;this.type=b;this.byteOffset=f;this.byteLength=c;this.parent=q;this.$c={};this.mF=c;}a.pE=function(a,b){var c,m;function f(a){a && a.pE && (a=a.pE(b),a.length && (c=c.concat(a)));}c=[];a.type === b && c.push(a);if(a.$c)for(var q in a.$c){m=a.$c[q];Array.isArray(m) && m.forEach(f);}return c;};a.PP=function(a,b){void 0 === a.$c[b.type] && (a.$c[b.type]=[]);a.$c[b.type].push(b);};a.nA=function(b,c){return a.pE(b,c)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.ob;},enumerable:!0,configurable:!0}});a.prototype.mg=function(){var a;a=this.ob.Ub();this.version=a >> 24;this.Xh=a & 16777215;};a.prototype.PP=function(b){a.PP(this,b);};a.prototype.pE=function(b){return a.pE(this,b);};a.prototype.nA=function(b){return a.nA(this,b);};a.prototype.parse=function(){return !0;};a.prototype.QJ=function(){return !0;};a.prototype.dt=function(a){if((a=this.$c[a]) && Array.isArray(a) && 1 === a.length)return a[0];};a.prototype.Dl=function(a,b){b=void 0 === b?this.ob.offset:b;c.assert(b >= this.startOffset + 8 && b + a <= this.startOffset + this.mF,"Removal range [0x" + b.toString(16) + "-0x" + (b + a).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.mF).toString(16) + ")");this.ob.Dl(a,b,this);};a.prototype.UT=function(a,b,f){f=void 0 === f?this.ob.offset:f;c.assert(f >= this.startOffset + 8 && f + a <= this.startOffset + this.mF,"Removal range [0x" + f.toString(16) + "-0x" + (f + a).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.mF).toString(16) + ")");this.ob.UT(a,b,f,this);};a.prototype.CZa=function(a,b,f){if(1 < f){for(var c=[];0 < f--;){c.push(this.EHa(a,b));}return c;}return this.EHa(a,b);};a.prototype.ev=function(a){var b,f;f=this;void 0 === b && (b={});a.forEach(function(a){var c,h;if("offset" === a.type){c=a.offset;if(0 < c % 8)throw Error("Requested offset " + a.offset + "is not an even byte multiple");f.ob.offset+=c / 8;}else for(c in a){h=a[c];b[c]="string" === typeof h?f.CZa(h):f.CZa(h.type,h.length,h.fkb);}});return b;};a.prototype.EHa=function(a,b){var f;f=this.byteLength - this.ob.offset + this.startOffset;"undefined" === typeof b && (b=f);switch(a){case "int8":a=this.ob.Nd();break;case "int64":a=this.ob.Sj();break;case "int32":a=this.ob.Ub();break;case "int16":a=this.ob.Hh();break;case "string":a=this.ob.vNb(Math.min(b,f));break;default:throw Error("Invalid type: " + a);}return a;};a.Ic=!1;return a;})();b.pg=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.l8a=b.iC=b.$Ea=b.Tcb=b.Mi=b.Od=b.Vl=b.Hy=b.or=void 0;(function(a){a[a.Audio=0]="Audio";a[a.VEa=1]="Video";})(b.or || (b.or={}));(function(a){a[a.hC=0]="Default";a[a.yC=1]="Microsoft";})(b.Hy || (b.Hy={}));(function(a){a[a.hC=0]="Default";a[a.t8=1]="Cast";a[a.w8=2]="Chrome";a[a.yC=3]="Microsoft";a[a.pcb=4]="Safari";})(b.Vl || (b.Vl={}));(function(a){a[a.mO=0]="SD";a[a.xW=1]="HD";a[a.tH=2]="UHD";a[a.gr=3]="DV";a[a.Ev=4]="HDR10";a[a.zG=5]="AVCHigh";a[a.dz=6]="VP9";a[a.sj=7]="AV1";})(b.Od || (b.Od={}));(function(a){a[a.pC=0]="Level_1_4";a[a.zt=1]="Level_2_2";})(b.Mi || (b.Mi={}));b.Tcb=function(){};(function(a){a[a.F1b=0]="Platform";a[a.YYb=1]="CurrentTitle";})(b.$Ea || (b.$Ea={}));b.iC="DeviceCapabilitiesSymbol";b.l8a=function(){};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ig=void 0;b.Ig="AsyncComponentLoaderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.It=b.vj=void 0;b.vj="PlatformSymbol";b.It="PlatformMutableSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.UG=b.fC=b.ck=b.WV=void 0;b.WV="ConfigurableInputsSymbol";b.ck="ValidatingConfigurableInputsSymbol";b.fC="ConfigNameSymbol";b.UG="InitParamsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lH=b.GX=b.L8=b.o$=b.oAa=b.zC=b.hca=b.Py=b.nca=void 0;b.nca="WindowTimersSymbol";b.Py="JSONSymbol";b.hca="UserAgentSymbol";b.zC="NavigatorSymbol";b.oAa="MediaSourceSymbol";b.o$="LocationSymbol";b.L8="DateSymbol";b.GX="PerformanceSymbol";b.lH="PlatformExtraInfoSymbol";},function(d,b,a){var l;function c(a){return a.filter(function(b,f){return a.indexOf(b) === f;});}Object.defineProperty(b,"__esModule",{value:!0});b.H4=b.TAb=b.Aob=b.ru=b.RVa=b.GLa=b.xJa=b.Er=b.uJa=b.sJa=b.dkb=b.Dw=b.tJa=b.Pg=void 0;l=a(0);b.Pg=function(a,b){var f;return a.some(function(a,c,m){f=a;return b(a,c,m);})?f:void 0;};b.tJa=function(a,b){for(var f=a.length - 1;0 <= f;--f){if(b(a[f],f,a))return a[f];}};b.Dw=function(a,b){var f;f=-1;return a.some(function(a,c,m){f=c;return b(a,c,m);})?f:-1;};b.dkb=function(a,b){for(var f=a.length - 1;0 <= f;f--){if(b(a[f],f,a))return f;}return -1;};b.sJa=c;b.uJa=function(a,b){b=a.indexOf(b);if(-1 === b)return !1;a.splice(b,1);return !0;};b.Er=function(a,b,f){return f?a.filter(function(a){return !b.some(function(b){return f(a,b);});}):a.filter(function(a){return -1 === b.indexOf(a);});};b.xJa=function(a,b){return c(a.concat(b));};b.GLa=function(a){return function(b,f){b=a(b);f=a(f);return b < f?-1:b > f?1:0;};};b.RVa=function(a){return function(b,f){return a(b) < a(f)?b:f;};};b.ru=function(a){var b;return (b=[]).concat.apply(b,l.__spread(a));};b.Aob=function(a,b){void 0 === b && (b=function(a){return a;});return a.reduce(function(a,c){c=b(c);return (void 0 === a[c]?a[c]=1:++a[c],a);},{});};b.TAb=function(a,b){return a.reduce(function(a,c){var f;f=b(c);return (void 0 === a[f]?a[f]=[c]:a[f].push(c),a);},{});};b.H4=function(a){return null !== a && void 0 !== a;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fh=void 0;b.fh="ClockSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rl=b.Dt=b.Dv=void 0;(function(a){a[a.sEa=0]="Test";a[a.Nya=1]="Int";a[a.tcb=2]="Staging";a[a.Cbb=3]="Prod";})(b.Dv || (b.Dv={}));(function(a){a[a.hO=0]="PreferMsl";a[a.ECa=1]="PreferNoMsl";a[a.vab=2]="NoMsl";})(b.Dt || (b.Dt={}));b.Rl="GeneralConfigSymbol";},function(d,b,a){var m,f;function c(a,b){return a && a.ss && (b || !1 !== a.pu);}function l(a,b,f){return !m.qa(a) || a < b?b:a > f?f:a;}function k(a){if(!(this instanceof k))return new k(a);this.Vd=m.qa(a)?a:void 0;}m=a(8);f=new (a(3)["default"].Console)("ASEJS_STREAM_SELECTOR","media|asejs");d.exports={console:f,debug:!1,assert:function(a,b){if(!a)throw (a=b?" : " + b:"",f.error("Assertion failed" + a),Error("ASEJS_STREAM_SELECTOR assertion failed" + a));},DK:c,nja:function(a,b,f){var h,q,u,k;function c(b){var c;c=a[b];if(!c.ss || f && !f(c,b))return !1;k=b;return !0;}h=a.length;q=0;u=h;m.isArray(b) && (q=l(b[0],0,h),u=l(b[1],0,h),b=b[2]);b=l(b,q - 1,u);for(h=b - 1;h >= q;--h){if(c(h))return k;}for(h=b + 1;h < u;++h){if(c(h))return k;}return -1;},NHb:function(a,b){return Math.floor(a / (125 * b) * 1E3);},Ulb:function(a,b){return Math.ceil(a / 1E3 * b * 125);},s6b:function(a,b){return !a.slice(b + 1).some(c);},lo:k,Pg:function(a,b){var f;return a.some(function(a,c,h){f=a;return b(a,c,h);})?f:void 0;},Dw:function(a,b){var f;return a.some(function(a,c,h){f=c;return b(a,c,h);})?f:-1;},N_:l};},function(d,b,a){var m,f,h;function c(a){var b,f,c,k;c=Object.getOwnPropertyNames(a);for(a=Object.getPrototypeOf(a);a !== Object.prototype;){try{for(var h=(b=void 0,m.__values(Object.getOwnPropertyNames(a))),q=h.next();!q.done;q=h.next()){k=q.value;-1 === c.indexOf(k) && c.push(k);}}catch(I){b={error:I};}finally{try{q && !q.done && (f=h["return"]) && f.call(h);}finally{if(b)throw b.error;}}a=Object.getPrototypeOf(a);}return c;}function l(a,b,f,c,h){var q;Object.getOwnPropertyNames(a).filter(function(a){return h(a) && (f || !Object.prototype.hasOwnProperty.call(b,a)) && (c || !((a in b)));}).forEach(function(f){q=Object.getOwnPropertyDescriptor(a,f);void 0 !== q && Object.defineProperty(b,f,q);});}function k(a,b,f,h){var q,m;q=[];f || (q=Object.getOwnPropertyNames(b));h || (q=c(b));m=Object.getPrototypeOf(a);null !== m && m !== Object.prototype && k(m,b,f,h);l(a,b,!0,!0,function(a){return "constructor" !== a && -1 === q.indexOf(a);});}Object.defineProperty(b,"__esModule",{value:!0});b.Ze=b.yob=void 0;m=a(0);f=a(5);b.yob=k;h=Object.getOwnPropertyNames(Function);b.Ze=function(a,b,c,m){void 0 === c && (c=!0);void 0 === m && (m=!0);m || f.assert(!c);a.prototype?(k(a.prototype,b.prototype,c,m),l(a,b,c,m,function(a){return -1 === h.indexOf(a);})):l(a,b.prototype,c,m,function(a){return -1 === h.indexOf(a);});return b;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vy="named";b.lX="name";b.tO="unmanaged";b.QAa="optional";b.PN="inject";b.sC="multi_inject";b.kEa="inversify:tagged";b.lEa="inversify:tagged_props";b.jaa="inversify:paramtypes";b.y7a="design:paramtypes";b.aO="post_construct";},function(d,b,a){var l;function c(a,b,f,c,q,u,r,d,A,y,B,I){this.code=void 0 === a?l.L.Ul:a;this.vd=b;this.Ug=f;this.CJ=c;this.Pu=q;this.message=u;this.bx=r;this.data=d;this.Pia=A;this.ELb=y;this.alert=B;this.gfa=I;this.ia=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Bc=void 0;l=a(2);c.Ue=function(a){var b,f,c;if(a){b=a.stack;f=a.number;c=a.message;c || (c="" + a);b?(a="" + b,0 !== a.indexOf(c) && (a=c + "\n" + a)):a=c;f && (a+="\nnumber:" + f);return a;}return "";};c.prototype.QQ=function(a){this.bx=c.Ue(a);this.data=a;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.vd,extCode:this.Ug,edgeCode:this.CJ,mslCode:this.Pu,message:this.message,details:this.bx,data:this.data,errorDisplayMessage:this.Pia,playbackServiceError:this.ELb};};c.A1=function(a,b){return new c(a,l.K.ei,void 0,void 0,void 0,void 0,b.message,b.stack);};c.FXb=function(a,b,f){return new c(a,b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f);};b.Bc=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ki=void 0;b.Ki="Base64EncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ph=void 0;b.ph="SchedulerSymbol";},function(d,b,a){var m,f,h;function c(a){return function(b,f){return b.Cqa(f,a);};}function l(a,b){return a.D5.kNb[b] || k(a,b);}function k(a,b){a=a.vx.data[b];switch(typeof a){case "undefined":break;case "string":case "number":case "boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(b,"__esModule",{value:!0});b.Io=b.Lqa=b.object=b.Fub=b.url=b.ba=b.Zh=b.uta=b.RCb=b.Q6=b.string=b.Cy=b.Mc=b.a3=b.config=void 0;m=a(46);f=a(4);h=a(133);b.config=function(a,b,f){f=void 0 === f?!1:f;return function(c,q,m){var r,u;r=void 0 !== b?b:q;u=m.get;void 0 !== u && (m.get=function(){var b;if(!this.GDb(q))return this.Qzb(q);a:{b=(this.Mjb || f?l:k)(this,r.toString());if(void 0 !== b)if((b=a(this.jT,b),b instanceof h.jo))this.tPa(r,b);else break a;b=u.bind(this)();}this.wPb(q,b);return b;});return m;};};b.a3=function(a,b){return a.yZa(b);};b.Mc=function(a,b){return a.yqa(b);};b.Cy=function(a,b){return a.zp(b);};b.string=function(a,b){return a.Cqa(b);};b.Q6=function(a,f){return a.Qk(f,b.string);};b.RCb=function(a,f){return a.Qk(f,b.a3);};b.uta=function(a,f){return a.Qk(f,b.Cy);};b.Zh=function(a,b){a=a.zp(b);return a instanceof h.jo?a:f.Nb(a);};b.ba=function(a,b){a=a.zp(b);return a instanceof h.jo?a:m.ba(a);};b.url=c(/^\S+$/);b.Fub=function(a){return function(b,f){return b.xZa(f,a);};};b.object=function(){return function(a,b){return a.zZa(b);};};b.Lqa=c;b.Io=function(a,b){return function(f,c){return f.Qk(c,a,b);};};},function(d,b,a){var k,m,f,h;function c(a,b){var f;f=h.call(this,a,b) || this;f.ULa=b;f.debug=a.debug;f.la=a.Af.tb(f.ULa);return f;}function l(a,b){this.ULa=b;this.qqa={};this.vx=a.vx;this.jT=a.jT;this.D5=a.D5;}Object.defineProperty(b,"__esModule",{value:!0});b.Se=b.eN=b.mEa=void 0;d=a(0);k=a(574);m=a(1);f=a(133);b.mEa="isTestAccount";l.prototype.tPa=function(){};l.prototype.wPb=function(a,b){this.qqa[a]=[b,this.vx.Z5];};l.prototype.GDb=function(a){return k.iaa.of(this.qqa[a]).map(function(a){return a[1];}).Yx(-1) < this.vx.Z5;};l.prototype.Qzb=function(a){return k.iaa.of(this.qqa[a]).map(function(a){return a[0];}).Yx(function(){throw Error("Invalid State Error");});};ma.Object.defineProperties(l.prototype,{Mjb:{configurable:!0,enumerable:!0,get:function(){var a,c;if(this && this.vx && this.vx.data){a=this.vx.data[b.mEa];"undefined" !== typeof a && (c=a.toString());a=this.jT.yqa(c);a=a instanceof f.jo?!1:a;}else a=!1;return a;}}});h=l;h=d.__decorate([m.O(),d.__param(0,m.Hi()),d.__param(1,m.Hi())],h);b.eN=h;L(c,h);c.prototype.tPa=function(a,b){this.la.error("Invalid configuration value.",{name:a},b);this.debug.assert(!1);};a=c;a=d.__decorate([d.__param(0,m.Hi()),d.__param(1,m.Hi())],a);b.Se=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mt=b.Kg=b.Nh=void 0;b.Nh={yUa:"logblob",pa:"manifest",pi:"license",events:"events",bind:"bind",JXa:"pair",ping:"ping",config:"config"};d=b.Kg || (b.Kg={});d[d.xt=20]="High";d[d.R$=10]="Medium";d[d.XG=0]="Low";b.Mt={Kg:"reqPriority",Obb:"reqAttempt",Pbb:"reqName",y6a:"browsername",z6a:"browserversion",Aab:"osname",Bab:"osversion",$6a:"clienttype",Lcb:"uiversion"};},function(d,b,a){var k;function c(a){return k.uO.apply(this,arguments) || this;}function l(a){return new k.mr(a,b.eC);}Object.defineProperty(b,"__esModule",{value:!0});b.lb=b.rAa=b.j$=b.qt=b.eC=b.WGb=b.oEb=b.ba=b.hQ=b.B6a=void 0;k=a(292);L(c,k.uO);b.B6a=c;b.hQ=l;b.ba=function(a){return new k.mr(a,b.qt);};b.oEb=function(a){return new k.mr(a,b.j$);};b.WGb=function(a){return new k.mr(a,b.rAa);};b.eC=new c(1,"b");b.qt=new c(8 * b.eC.Gf,"B",b.eC);b.j$=new c(1024 * b.qt.Gf,"KB",b.eC);b.rAa=new c(1024 * b.j$.Gf,"MB",b.eC);b.lb=l(0);},function(d,b,a){var q,u,r,v,A,y,B;function c(){var a,f;if(a=b.c2.CHa)return a;a=y.rX.search.substr(1);f=a.indexOf("#");0 <= f && (a=a.substr(0,f));a=l(a);return b.c2.CHa=a;}function l(a){for(var b=/[+]/g,f=(a || "").split("&"),c={},h,q=0;q < f.length;q++){a=v.trim(f[q]);h=a.indexOf("=");0 <= h?c[decodeURIComponent(a.substr(0,h).replace(b,"%20")).toLowerCase()]=decodeURIComponent(a.substr(h + 1).replace(b,"%20")):c[a.toLowerCase()]=null;}return c;}function k(a){return (a=(/function (.{1,})\(/).exec(a.toString())) && 1 < a.length?a[1]:"";}function m(a){return k(a.constructor);}function f(a){return y.sort.call(a,function(a,b){return a - b;});}function h(a){for(var b=0,f=a.length;f--;){b+=a[f];}return b;}Object.defineProperty(b,"__esModule",{value:!0});b.ULb=b.HR=b.nQa=b.r3=b.QLb=b.vTa=b.s6a=b.t6a=b.bwb=b.Kr=b.Xnb=b.SJ=b.tvb=b.pXa=b.K5a=b.S7=b.L5a=b.JV=b.vua=b.J5a=b.NCb=b.VD=b.xMb=b.apa=b.aka=b.getFunctionName=b.nL=b.tT=b.c2=b.Izb=b.uZa=b.HIa=b.$La=b.tNb=b.Sz=b.HLa=void 0;q=a(12);u=a(20);r=a(7);v=a(23);A=a(26);y=a(10);B=a(15);b.HLa=function(a,b){if(a === b)return !0;if(!a || !b)return !1;for(var f in a){if(a.hasOwnProperty(f) && (!b.hasOwnProperty(f) || a[f] !== b[f]))return !1;}return !0;};b.Sz=b.Sz || (function(a,b){if(a.length == b.length){for(var f=a.length;f--;){if(a[f] != b[f])return !1;}return !0;}return !1;});b.tNb=function(a){var b;if(a){b=a.length;if(b)return (b=v.vqa(0,b - 1),a[b]);}};b.$La=function(a,b){if(a.length != b.length)return !1;a.sort();b.sort();for(var f=a.length;f--;){if(a[f] !== b[f])return !1;}return !0;};b.HIa=function(a,b,f){function c(){a.removeEventListener(b,c);f.apply(this,arguments);}a.addEventListener(b,c);};b.uZa=function(){var a,b,f,c,h,q;a=y.Je.cookie.split("; ");b=a.length;q={};for(f=0;f < b;f++){if(c=v.trim(a[f]))(h=c.indexOf("="),0 < h && (q[c.substr(0,h)]=c.substr(h + 1)));}return q;};b.Izb=c;b.c2=Object.assign(c,{CHa:void 0});b.tT=l;b.nL=function(a){var b;b="";v.Rd(a,function(a,f){b && (b+="&");u.yb(A.gf(f) || B.qa(f) || B.rma(f));b+=encodeURIComponent(a) + "=" + encodeURIComponent(f);});return b;};b.getFunctionName=k;b.aka=m;b.apa=function(a){var b;b="";B.isArray(a) || B.Kma(a)?b=y.reduce.call(a,function(a,b){return a + (32 <= b && 128 > b?y.fEa(b):".");},""):A.gf(a)?b=a:v.Rd(a,function(a,f){b+=(b?", ":"") + "{" + a + ": " + (B.uc(f)?k(f) || "function":f) + "}";});return "[" + m(a) + " " + b + "]";};b.xMb=function(a,b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);};b.VD=b.VD || (function(a){var b;b="";v.Rd(a,function(a,f){b+=(b?";":"") + a + ":" + f;});return b;});b.NCb=function(a,b){var f;f=a[0];if(b <= f[0])return f.slice(1);for(var c=1,h;h=a[c++];){if(b <= h[0]){a=(b - f[0]) / (h[0] - f[0]);b=[];for(c=1;c < f.length;c++){b.push((f[c] || 0) + a * ((h[c] || 0) - (f[c] || 0)));}return b;}f=h;}return f.slice(1);};b.J5a=function(a,b){var h;for(var f={},c=0;c < b.length;c++){h=b[c];if("string" != typeof h && "number" != typeof h)return !1;f[b[c]]=1;}for(c=0;c < a.length;c++){if((h=a[c],!f[h]))return !1;}return !0;};b.vua=function(a,b){0 > a.indexOf(b) && a.push(b);};b.JV=f;b.L5a=h;b.S7=function(a,b){var f,c,h,q;f=-1;c=a.length;if(1 === arguments.length){for(;++f < c && !(null != (h=a[f]) && h <= h);){h=void 0;}for(;++f < c;){null != (q=a[f]) && q > h && (h=q);}}else {for(;++f < c && !(null != (h=b.call(a,a[f],f)) && h <= h);){h=void 0;}for(;++f < c;){null != (q=b.call(a,a[f],f)) && q > h && (h=q);}}return h;};b.K5a=function(a,b){var f,c,h,q;f=-1;c=a.length;if(1 === arguments.length){for(;++f < c && !(null != (h=a[f]) && h <= h);){h=void 0;}for(;++f < c;){null != (q=a[f]) && h > q && (h=q);}}else {for(;++f < c && !(null != (h=b.call(a,a[f],f)) && h <= h);){h=void 0;}for(;++f < c;){null != (q=b.call(a,a[f],f)) && h > q && (h=q);}}return h;};b.pXa=function(a){return B.uc(a.then)?a:new Promise(function(b,f){a.oncomplete=function(){b(a.result);};a.onerror=function(){f(a.error);};});};b.tvb=function(a,b){var h,q,m,r,u,k;function c(a){0 > h.indexOf(a) && B.qa(a) && h.push(a);}a=a.slice();f(a);h=[];if(!b || !b.length)return a;if(!a.length)return [];q=b.length;try{for(;q--;){u="" + b[q];k=A.ce(u);switch(u[u.length - 1]){case "-":for(m=a.length;m--;){if((r=a[m],r < k)){c(r);break;}}break;case "+":for(m=0;m < a.length;m++){if((r=a[m],r > k)){c(r);break;}}break;default:0 <= a.indexOf(k) && c(k);}}}catch(ta){}h.length || h.push(a[0]);f(h);return h;};b.SJ=b.SJ || (function(a,b,f){var c;a / b > f?(c=y.hi(b * f),a=b):(c=a,a=y.hi(a / f));return {width:c,height:a};});b.Xnb=function(a,b,f){for(var c=[],q=0;q < b;q++){c.push(y.eX(a[q] - f,2));}return y.Yza(h(c) / c.length);};b.Kr=function(a,b){var f;f=a.length;b=(f - 1) * b + 1;if(1 === b)return a[0];if(b == f)return a[f - 1];f=y.Jv(b);return a[f - 1] + (b - f) * (a[f] - a[f - 1]);};b.bwb=function(a,b){if(!B.isArray(a))throw Error("boxes is not an array");if(0 >= a.length)throw Error("There are no boxes in boxes");b=B.isArray(b)?b:[b];for(var f=a.length,c=0;c < f;c++){for(var h=0;h < b.length;h++){if(a[c].type == b[h])return a[c];}}throw Error("Box not found " + b);};b.t6a=function(a){return a.Qxb("trak/mdia/minf/stbl/stsd/" + q.jva + "|" + q.kva).children.filter(function(a){return "sinf" == a.type && "cenc" == a.z5b.schm.z8b;})[0].Qxb("schi/tenc").lp;};b.s6a=function(a){var f;function b(a,b){var c;c=f[a];f[a]=f[b];f[b]=c;}f=new Uint8Array(a);b(0,3);b(1,2);b(4,5);b(6,7);return f;};b.vTa=function(){return B.uc(y.Re.requestMediaKeySystemAccess);};b.QLb=function(a){return function(b){return b && b[a];};};B.uc(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(a,b){var f,c;void 0 === a && (a=0);void 0 === b && (b=this.byteLength);a=Math.floor(a);b=Math.floor(b);0 > a && (a+=this.byteLength);0 > b && (b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0 >= b - a)return new ArrayBuffer(0);f=new ArrayBuffer(b - a);c=new Uint8Array(f);a=new Uint8Array(this,a,b - a);c.set(a);return f;});b.r3=function(a){return a && 0 == a.toLowerCase().indexOf("https");};b.nQa=function(){var a,b;a=new ArrayBuffer(4);b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041 == a[0]?"LE":2712847316 == a[0]?"BE":"undefined";};b.HR=function(){var a,b,f;try{a=/playercore.*js/;b=y.Et.getEntries("resource").filter(function(b){return null !== a.exec(b.name);});if(b && 0 < b.length){f=y.hi(b[0].duration);return JSON.stringify(f);}}catch(T){}};b.ULb=function(a,b,f){if(a && a.length){if(f && f.lnb)try{a.forEach(function(a,c){var h;h=(c=f.lnb[c]) && c.media;h && A.gf(h)?(!1,h=r.Hw(h).buffer,a.media={arrayBuffer:h,length:h.byteLength,stream:b,Gc:c.cdn}):r.log.warn("chunk not in cache",a.Dh);});}catch(T){r.log.error("error reading cached chunks",T);}else r.log.warn("chunks not available in cached stream",f.type);}else r.log.warn("chunks not available in mediabuffer",f.type);};},function(d,b,a){var c,l,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.MHb=b.platform=b.sn=b.zc=b.Nyb=b.FR=b.aK=b.PUa=b.rO=b.mh=b.wH=void 0;c=a(0);c.__exportStar(a(383),b);c.__exportStar(a(815),b);c.__exportStar(a(816),b);c.__exportStar(a(817),b);l=a(92);Object.defineProperty(b,"VideoBitrateRangesFilter",{enumerable:!0,get:function(){return l.wH;}});c.__exportStar(a(21),b);k=a(69);Object.defineProperty(b,"PlaybackLifecycle",{enumerable:!0,get:function(){return k.mh;}});m=a(226);Object.defineProperty(b,"Transaction",{enumerable:!0,get:function(){return m.rO;}});b.PUa=function(f){b.platform.bS(f);return a(830).Oza;};b.aK=function(f){b.platform.bS(f);return Promise.resolve().then(function(){return c.__importStar(a(256));}).then(function(a){return a.aK();});};b.FR=function(f,q){b.platform.bS(f);return Promise.resolve().then(function(){return c.__importStar(a(438));}).then(function(a){return a.FR(q);});};b.Nyb=function(){return a(229);};d=c.__importDefault(a(25));b.zc=d["default"];d=a(1030);b.sn=d.sn;d=c.__importDefault(a(3));b.platform=d["default"];f=a(1031);b.MHb=function(){return {Uy:f.Uy};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zk=void 0;b.Zk="PboCommandContextSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p$=b.Sm=b.bX=void 0;b.bX="LogBatcherConfigSymbol";b.Sm="LogBatcherSymbol";b.p$="LogBatcherProviderSymbol";},function(d,b,a){var l,k,m,f,h;function c(){return l.$d.get(m.Fd).PE.ca(h.ga);}Object.defineProperty(b,"__esModule",{value:!0});b.Fnb=b.vLa=b.uLa=b.Dnb=b.Enb=b.O_=b.ki=void 0;l=a(285);k=a(35);m=a(18);f=a(89);h=a(4);b.ki=function(){return l.$d.get(m.Fd).Bb().ca(h.ga);};b.O_=function(){return l.$d.get(k.fh).Ae.ca(h.Wm);};b.Enb=function(){return l.$d.get(m.Fd).PE.ca(h.Wm);};b.Dnb=function(){return l.$d.get(f.Gv).Yz();};b.uLa=c;b.vLa=function(){return l.$d.get(k.fh).Ae.ca(h.ga);};b.Fnb=function(){return c();};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.b8a="Cannot apply @injectable decorator multiple times.";b.c8a="Metadata key was used more than once in a parameter:";b.WN="NULL argument";b.Sya="Key Not Found";b.j5a="Ambiguous match found for serviceIdentifier:";b.C6a="Could not unbind serviceIdentifier:";b.mab="No matching bindings found for serviceIdentifier:";b.M$a="Missing required @injectable annotation in:";b.N$a="Missing required @inject or @multiInject annotation in:";b.Mcb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.F6a="Circular dependency found:";b.w0b="Sorry, this feature is not fully implemented yet.";b.a$a="Invalid binding type:";b.nab="No snapshot available to restore.";b.e$a="Invalid return type in middleware. Middleware must return!";b.d$a="Value provided to function binding must be a function!";b.g$a="The toSelf function can only be applied when a constructor is used as service identifier";b.b$a="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.k5a=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.U6a="Invalid Container constructor argument. Container options must be an object.";b.S6a="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.R6a="Invalid Container option. Auto bind injectable must be a boolean";b.T6a="Invalid Container option. Skip base check must be a boolean";b.$$a="Cannot apply @postConstruct decorator multiple times in the same class";b.tbb=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.G6a=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return "It looks like there is a circular dependency " + ("in one of the '" + a[0] + "' bindings. Please investigate bindings with") + ("service identifier '" + a[1] + "'.");};b.gcb="Maximum call stack size exceeded";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.En=b.sTb=b.ZWa=void 0;b.ZWa=function(a,b){return a - b;};b.sTb=function(a,b){return a.localeCompare(b);};b.En=function(a,b){var c;c=Object.getOwnPropertyDescriptor(a,b);c && Object.defineProperty(a,b,{configurable:c.configurable,enumerable:!1,value:c.value,writable:c.writable});};},function(d,b,a){var c,l;c=a(119);l=a(164);d.exports=function(a){return function f(b,q){switch(arguments.length){case 0:return f;case 1:return l(b)?f:c(function(f){return a(b,f);});default:return l(b) && l(q)?f:l(b)?c(function(b){return a(b,q);}):l(q)?c(function(f){return a(b,f);}):a(b,q);}};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hc=void 0;b.Hc=function(a){return setTimeout(a,0);};},function(d,b){function a(){}function c(){}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.Tl=b.kf=b.T=void 0;b.T=l;l.AN="playready-h264mpl30-dash";l.OG="playready-h264mpl31-dash";l.C9="playready-h264mpl40-dash";l.W8a="playready-h264hpl22-dash";l.vW="playready-h264hpl30-dash";l.wW="playready-h264hpl31-dash";l.B9="playready-h264hpl40-dash";l.J9="hevc-main10-L30-dash-cenc";l.K9="hevc-main10-L31-dash-cenc";l.L9="hevc-main10-L40-dash-cenc";l.M9="hevc-main10-L41-dash-cenc";l.QG="hevc-main10-L50-dash-cenc";l.RG="hevc-main10-L51-dash-cenc";l.HW="hevc-main10-L30-dash-cenc-prk";l.JW="hevc-main10-L31-dash-cenc-prk";l.LW="hevc-main10-L40-dash-cenc-prk";l.NW="hevc-main10-L41-dash-cenc-prk";l.IW="hevc-main10-L30-dash-cenc-prk-do";l.KW="hevc-main10-L31-dash-cenc-prk-do";l.MW="hevc-main10-L40-dash-cenc-prk-do";l.OW="hevc-main10-L41-dash-cenc-prk-do";l.PW="hevc-main10-L50-dash-cenc-prk-do";l.QW="hevc-main10-L51-dash-cenc-prk-do";l.sN="hevc-dv5-main10-L30-dash-cenc-prk";l.tN="hevc-dv5-main10-L31-dash-cenc-prk";l.EG="hevc-dv5-main10-L40-dash-cenc-prk";l.uN="hevc-dv5-main10-L41-dash-cenc-prk";l.vN="hevc-dv5-main10-L50-dash-cenc-prk";l.eW="hevc-dv5-main10-L51-dash-cenc-prk";l.$V="hevc-dv5-main10-L30-dash-cenc-prk-do";l.aW="hevc-dv5-main10-L31-dash-cenc-prk-do";l.bW="hevc-dv5-main10-L40-dash-cenc-prk-do";l.cW="hevc-dv5-main10-L41-dash-cenc-prk-do";l.dW="hevc-dv5-main10-L50-dash-cenc-prk-do";l.fW="hevc-dv5-main10-L51-dash-cenc-prk-do";l.D9="hevc-hdr-main10-L30-dash-cenc";l.E9="hevc-hdr-main10-L31-dash-cenc";l.F9="hevc-hdr-main10-L40-dash-cenc";l.G9="hevc-hdr-main10-L41-dash-cenc";l.H9="hevc-hdr-main10-L50-dash-cenc";l.I9="hevc-hdr-main10-L51-dash-cenc";l.DN="hevc-hdr-main10-L30-dash-cenc-prk";l.EN="hevc-hdr-main10-L31-dash-cenc-prk";l.PG="hevc-hdr-main10-L40-dash-cenc-prk";l.FN="hevc-hdr-main10-L41-dash-cenc-prk";l.GN="hevc-hdr-main10-L50-dash-cenc-prk";l.HN="hevc-hdr-main10-L51-dash-cenc-prk";l.yW="hevc-hdr-main10-L30-dash-cenc-prk-do";l.zW="hevc-hdr-main10-L31-dash-cenc-prk-do";l.AW="hevc-hdr-main10-L40-dash-cenc-prk-do";l.BW="hevc-hdr-main10-L41-dash-cenc-prk-do";l.DW="hevc-hdr-main10-L50-dash-cenc-prk-do";l.EW="hevc-hdr-main10-L51-dash-cenc-prk-do";l.SEa="vp9-profile0-L21-dash-cenc";l.uH="vp9-profile0-L30-dash-cenc";l.vH="vp9-profile0-L31-dash-cenc";l.wO="vp9-profile0-L40-dash-cenc";l.eua="av1-main-L20-dash-cbcs-prk";l.fua="av1-main-L21-dash-cbcs-prk";l.gua="av1-main-L30-dash-cbcs-prk";l.hua="av1-main-L31-dash-cbcs-prk";l.iua="av1-main-L40-dash-cbcs-prk";l.jua="av1-main-L41-dash-cbcs-prk";l.kua="av1-main-L50-dash-cbcs-prk";l.lua="av1-main-L51-dash-cbcs-prk";l.Sbb=[l.AN];l.$8a=[l.OG,l.C9];l.Kcb=[l.J9,l.K9,l.L9,l.M9,l.QG,l.RG];l.Jcb=[l.HW,l.JW,l.LW,l.NW,l.QG,l.RG];l.$2b=[l.IW,l.KW,l.MW,l.OW,l.PW,l.QW];l.Z8a=[l.D9,l.E9,l.F9,l.G9,l.H9,l.I9];l.Y8a=[l.DN,l.EN,l.PG,l.FN,l.GN,l.HN];l.o_b=[l.yW,l.zW,l.AW,l.BW,l.DW,l.EW];l.d8a=[l.sN,l.EG,l.vN,l.tN,l.uN,l.eW];l.mZb=[l.$V,l.bW,l.dW,l.aW,l.cW,l.fW];l.nZb=[l.sN,l.tN,l.EG,l.uN,l.vN];l.$Xb=[l.vW,l.wW,l.B9];l.i3b=[l.uH,l.vH,l.wO];l.dz=[l.SEa,l.uH,l.vH,l.wO];l.z5a=[l.eua,l.fua,l.gua];l.y5a=[l.hua,l.iua,l.jua];l.A5a=[l.kua,l.lua];l.sj=[].concat(l.z5a,l.y5a,l.A5a);l.V8a=l.Sbb.concat(l.$8a);l.X8a=l.Kcb;l.H5a=[].concat(l.V8a,l.X8a,l.Jcb,l.Z8a,l.Y8a,l.d8a,l.dz,l.sj);b.kf=c;c.IN="heaac-2-dash";c.Nxa="heaac-5.1-dash";c.JN="heaac-2hq-dash";c.xO="xheaac-dash";c.qN="ddplus-2.0-dash";c.YV="ddplus-5.1-dash";c.rN="ddplus-atmos-dash";c.FW="playready-heaac-2-dash";c.b9a="heaac-2-dash-enc";c.c7a="ddplus-2.0-dash-enc";c.d7a="ddplus-5.1-dash-enc";c.a9a="playready-heaac-2-dash-enc";c.H5a=[c.IN,c.JN,c.qN,c.YV,c.rN,c.FW,c.b9a,c.c7a,c.d7a,c.a9a];b.Tl=a;a.ccb="simplesdh";a.F8="dfxp-ls-sdh";a.bH="nflx-cmisc";a.n2b="simplesdh-enc";a.fZb="dfxp-ls-sdh-enc";a.oX="nflx-cmisc-enc";},function(d,b,a){var l,k;function c(a,f){var h;h=b.ko[0];h == f && (h=b.ko[1]);h?h.close(function(){c(a,f);}):a && a(l.se);}Object.defineProperty(b,"__esModule",{value:!0});b.$Ba=b.ZBa=b.Taa=b.Uaa=b.mH=b.Waa=b.Vaa=b.Zaa=b.Yaa=b.ko=b.$aa=b.Xaa=void 0;l=a(12);k=a(20);b.Xaa=c;b.$aa=function(a,f){switch(a){case b.Vaa:b.Yaa.push(f);return;case b.Waa:b.Zaa.push(f);return;}k.yb(!1);};b.ko=[];b.Yaa=[];b.Zaa=[];b.Vaa=1;b.Waa=3;b.mH={index:0,JHb:void 0,tja:void 0};b.Uaa="network";b.Taa="media";b.ZBa="timedtext";b.$Ba="playback";},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.p2=b.lK=b.q2=b.BA=b.um=b.Ve=void 0;d=a(68);c=a(55);l=a(10);b.Ve=new d.tj();b.um=1;b.BA=2;b.q2=3;b.lK=4;b.p2=5;c.Hc(function(){var c,f,h;function a(a,b){if(f)f.on(a,b);else ka.addEventListener(a,b);}c=ka.jQuery;f=c && c(ka);c=(c=ka.netflix) && c.cadmium && c.cadmium.addBeforeUnloadHandler;h=l.Je.hidden;c?c(function(a){b.Ve.dc(b.um,a);}):a("beforeunload",function(a){b.Ve.dc(b.um,a);});a("keydown",function(a){b.Ve.dc(b.BA,a);});a("resize",function(){b.Ve.dc(b.q2);});l.Je.addEventListener("visibilitychange",function(){h !== l.Je.hidden && (h=l.Je.hidden,b.Ve.dc(b.lK));});});(function(){ka.addEventListener("error",function(a){b.Ve.dc(b.p2,a);return !0;});})();},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);d=(function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key === c.Vy?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return a;})();b.Metadata=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Op=void 0;b.Op="EmeConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mna=b.ih=void 0;(function(a){a[a.$j=0]="STANDARD";a[a.Hv=1]="LIMITED";})(b.ih || (b.ih={}));b.mna=function(a){return ["STANDARD","LIMITED"][a];};},function(d,b){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;("stack" in b) && (this.stack=b.stack);this.interval=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Xy=b.oo=void 0;L(a,Error);b.oo=a;b.Xy="PromiseTimerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mt=b.Qba=void 0;b.Qba="StorageValidatorSymbol";b.mt="AppStorageFactorySymbol";},function(d,b,a){var c,l,k,m,f,h;c=this && this.__extends || (function(a,b){function f(){this.constructor=a;}for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}a.prototype=null === b?Object.create(b):(f.prototype=b.prototype,new f());});l=a(300);d=a(115);k=a(199);m=a(200);f=(function(a){function b(b,c,q){var r;a.call(this);this.bG=null;this.Wg=this.Zn=this.aG=!1;switch(arguments.length){case 0:this.destination=k.empty;break;case 1:if(!b){this.destination=k.empty;break;}if("object" === typeof b){if(b instanceof f || ("syncErrorThrowable" in b) && b[m.KF]){r=b[m.KF]();this.Zn=r.Zn;this.destination=r;r.add(this);}else (this.Zn=!0,this.destination=new h(this,b));break;}default:(this.Zn=!0,this.destination=new h(this,b,c,q));}}c(b,a);b.prototype[m.KF]=function(){return this;};b.create=function(a,f,c){a=new b(a,f,c);a.Zn=!1;return a;};b.prototype.next=function(a){this.Wg || this.am(a);};b.prototype.error=function(a){this.Wg || (this.Wg=!0,this.nf(a));};b.prototype.complete=function(){this.Wg || (this.Wg=!0,this.je());};b.prototype.unsubscribe=function(){this.closed || (this.Wg=!0,a.prototype.unsubscribe.call(this));};b.prototype.am=function(a){this.destination.next(a);};b.prototype.nf=function(a){this.destination.error(a);this.unsubscribe();};b.prototype.je=function(){this.destination.complete();this.unsubscribe();};b.prototype.vib=function(){var a,b;a=this.Xp;b=this.fD;this.fD=this.Xp=null;this.unsubscribe();this.Wg=this.closed=!1;this.Xp=a;this.fD=b;};return b;})(d.$y);b.no=f;h=(function(a){function b(b,f,c,h){var q;a.call(this);this.kP=b;b=this;l.uc(f)?q=f:f && (q=f.next,c=f.error,h=f.complete,f !== k.empty && (b=Object.create(f),l.uc(b.unsubscribe) && this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this.dk=b;this.am=q;this.nf=c;this.je=h;}c(b,a);b.prototype.next=function(a){var b;if(!this.Wg && this.am){b=this.kP;b.Zn?this.uca(b,this.am,a) && this.unsubscribe():this.vca(this.am,a);}};b.prototype.error=function(a){var b;if(!this.Wg){b=this.kP;if(this.nf)(b.Zn?this.uca(b,this.nf,a):this.vca(this.nf,a),this.unsubscribe());else if(b.Zn)(b.bG=a,b.aG=!0,this.unsubscribe());else throw (this.unsubscribe(),a);}};b.prototype.complete=function(){var a,b,f;a=this;if(!this.Wg){b=this.kP;if(this.je){f=function(){return a.je.call(a.dk);};b.Zn?this.uca(b,f):this.vca(f);}this.unsubscribe();}};b.prototype.vca=function(a,b){try{a.call(this.dk,b);}catch(A){throw (this.unsubscribe(),A);}};b.prototype.uca=function(a,b,f){try{b.call(this.dk,f);}catch(y){return (a.bG=y,a.aG=!0);}return !1;};b.prototype.Bea=function(){var a;a=this.kP;this.kP=this.dk=null;a.unsubscribe();};return b;})(f);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$G=b.az=void 0;b.az="TimingApiSymbol";b.$G="MilestoneTimingApiSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pr=void 0;b.pr="PboConfigSymbol";},function(d,b,a){var u,r,v,A,y,B,I,J,g,T,R,U,V,n,p,ta;function c(a){var b,f,c,h;b=a.url.split("?");f=b[0];c="sc=" + a.bQb;h=a.GKa?"random=" + (1E17 * R.uC()).toFixed(0):"";f=b[1]?f + ("?" + b[1] + "&" + c):f + ("?" + c);f=f + (h?"&" + h:"");a.Gc && !A.r3(f) && (a=r.config && r.config.vga) && (f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function l(a){var b,f,c,h;b=a.url.split("?");f=b[0];c="bb_reason=" + a.reason;h=a.GKa?"random=" + (1E17 * R.uC()).toFixed(0):"";f=b[1]?f + ("?" + b[1] + "&" + c):f + ("?" + c);f=f + (h?"&" + h:"");a.Gc && !A.r3(f) && (a=r.config && r.config.vga) && (f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function k(a,b){var f,c,h,q;f=a.url.split("?");c=f[0];h=m(a);h && (b.Qq=h,(void 0 === a.ft?r.config.ft:a.ft)?(a.headers=a.headers || ({}),a.headers.Range="bytes=" + h):(b.Qq=h,c="/" == c[c.length - 1]?c + "range/":c + "/range/",c+=h));h=a.GKa?"random=" + (1E17 * R.uC()).toFixed(0):"";r.config.hA && a.B6 && (q="sc=" + a.B6,h=q + (h?"&" + h:""));c=f[1]?c + ("?" + f[1] + (h?"&" + h:"")):c + (h?"?" + h:"");a.Gc && !A.r3(c) && (a=r.config && r.config.vga) && (c=a.replace("{URL}",c).replace("{EURL}",encodeURIComponent(c)));b.url=c;}function m(a){var b;b=a.offset;if(void 0 !== b)return (g.LQ(b),void 0 !== a.length?(a=a.offset + a.length - 1,g.LQ(a),b + "-" + a):b + "-");}function f(){return !1 !== R.Re.onLine;}function h(a,f,c,h){var q,m;q=h.Wpa;m=h.headers;a.open(q?"POST":"GET",f,!c);switch(h.responseType){case b.XR:a.responseType="arraybuffer";break;case b.Mla:T.PKa(a,"overrideMimeType",void 0,"text/xml");}q && (f={"Content-Type":B.gf(q)?"text/plain":"application/x-octet-stream"},m=m?B.Hb(f,m):f);m && T.Rd(m,function(b,f){a.setRequestHeader(b,f);});h.withCredentials && (a.withCredentials=!0);void 0 !== a.msCaching && (a.msCaching="disabled");q?a.send(q):a.send();}function q(a,f){switch(f.type){case b.XR:return a.response || new ArrayBuffer(0);case b.Mla:return a.responseXML;default:return a.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.XR=b.Mla=b.Lla=b.Nla=b.J2=b.ySa=b.xSa=b.H2=b.$cb=b.adb=b.UBb=b.I2=b.RBb=b.SBb=b.QBb=b.TBb=b.ef=void 0;u=a(68);r=a(11);v=a(12);A=a(47);y=a(51);B=a(26);I=a(2);J=a(7);g=a(20);T=a(23);R=a(10);U=a(55);V=a(15);n=a(30);p={Tba:1,m3b:2,S5a:3};b.ef=(function(){var A,D,T,R;function a(a){var b;try{b=a.url;V.Mma(b)?0 === b.indexOf("https")?R.ssl++:0 === b.indexOf("http")?R["non-ssl"]++:R.invalid++:R.invalid++;}catch(Na){}}function m(){D.dc(b.ySa);D.dc(b.Nla);}function d(){D.dc(b.J2);D.dc(b.Nla);}A=J.Ah("Http");D=new u.tj();T=0;R={ssl:0,"non-ssl":0,invalid:0};J.ja.get(n.Ig).register(I.L.zya,function(a){r.config.DWb && (ka.addEventListener("online",m),ka.addEventListener("offline",d),b.I2=f);a(v.se);});return {addEventListener:D.addListener,removeEventListener:D.removeListener,download:function(f,c){var p,Z,ha,t,Q,sa,aa,fa,ca,wa,xa;function m(){var a;m=B.kh;xa && (clearTimeout(xa),xa=null);D.removeListener(b.J2,v);ca && (ca.onloadstart=null,ca.onreadystatechange=null,ca.onprogress=null,ca.onerror=null,ca.onload=null,ca=ca.onabort=null);fa.ia?!1:fa.ka != I.K.My?p.warn("Download failed",Z,I.jr(fa)):p.trace("Download aborted",Z);a=ha;ha=void 0;for(var f=a.length;f--;){(function(){var b;b=a[f];U.Hc(function(){b(fa);});})();}D.dc(b.xSa,fa,!0);}function u(){xa && (clearTimeout(xa),xa=null);xa=setTimeout(R,wa?aa:sa);}function d(a,b,f,c){var h,q;fa.ia=!1;fa.ka=a;h=y.ki();q=fa.wl;q.Jh=q.Jh || h;q.On=q.On || h;0 < b && (fa.cj=fa.Ne=b);f && (fa.Ab=f);c && (fa.yB=c);a !== I.K.KN && a !== I.K.mC && a !== I.K.NN || !ca || (ca.onabort=null,n());m();}function l(a){var b,f;try{f=a.getResponseHeader("X-Netflix.Retry.Server.Policy");f && (b=JSON.parse(f));}catch(sb){!1;}return b;}function v(){b.I2() || d(I.K.KN);}function R(){d(wa?I.K.mC:I.K.NN);}function n(){try{ca && ca.abort();}catch(Mb){}}function E(){d(I.K.My);}g.yb(c);p=f.j && f.j.log && J.Bh(f.j,"Http") || A;Z={Num:T++};ha=[c];t={};sa=f.X_ || r.config.X_;aa=f.Noa || r.config.Noa;a(f);!1;fa=(function(){var a,b,c;a=B.kh;b=B.kh;c=B.kh;return {request:f,type:f.responseType,wl:t,abort:n,timeout:R,Pea:function(a){m !== B.kh && (g.yb(ha,"Callback should be added before download starts."),ha && ha.unshift(a));},R4:function(a){c(a);},S4:function(b){a(b);},jF:function(a){b(a);},gRb:function(a){c=a;},oRb:function(b){a=b;},aRb:function(a){b=a;}};})();U.Hc(function(){var a,c;if(V.Mma(f.url))try{if((k(f,fa),Q=fa.url,g.rJ(Q),Z.Url=Q,b.I2())){!1;ca=new XMLHttpRequest();a=r.config.IWb && "undefined" != typeof ca.onloadstart;a && (ca.onloadstart=function(){var a;a=y.ki();t.requestTime=a;fa.R4({mediaRequest:f,timestamp:a});});ca.onreadystatechange=function(){if(2 == ca.readyState){wa=!0;t.Jh=y.ki();ca.onreadystatechange=null;u();!1;for(var a=fa,b=ca.getAllResponseHeaders().split("\n"),c=b.length,h,q,m={};c--;){if(h=b[c])(q=h.indexOf(": "),1 <= q && q < h.length - 1 && (m[h.substr(0,q)]=h.substr(q + 2)));}a.headers=m;fa.S4({timestamp:t.Jh,connect:!0,mediaRequest:f,start:t.requestTime,rt:[t.Jh - t.requestTime]});}};ca.onprogress=function(a){wa=!0;t.iha=a.loaded;u();a={mediaRequest:f,bytes:a.loaded,timestamp:y.ki(),bytesLoaded:a.loaded};fa.S4(a);};ca.onload=function(){var a;if(m !== B.kh){g.yb(void 0 === t.On);t.On=y.ki();t.Jh=t.Jh || t.On;200 <= ca.status && 299 >= ca.status?(a=q(ca,fa),fa.parsed=!1,fa.content=a,fa.ia=!0):ca.status == ta?d(I.K.MN,ca.status):d(I.K.LN,ca.status,ca.response,l(ca));m();}};ca.onabort=E;ca.onerror=function(){var a,b;a=ca.status;"undefined" !== typeof r.config.oPa && (a=r.config.oPa);if(0 < a){if(a == ta)d(I.K.MN,a);else {try{b=ca.responseText;}catch(lf){}d(I.K.LN,a,b,l(ca));}}else d(I.K.ON);};c=y.ki();h(ca,Q,!1,f);D.dc(b.H2,fa,!0);a || (t.requestTime=c,fa.R4({mediaRequest:f,timestamp:c}));u();D.addListener(b.J2,v);}else U.Hc(d.bind(void 0,I.K.KN));}catch(Ee){p.error("Exception starting download",Ee,Z);d(I.K.Q9,void 0,B.Ue(Ee));}else d(I.K.Txa);});return fa;},gc:R,F7b:function(a){var b;b=new XMLHttpRequest();a=l(a);b.open("HEAD",a);b.onreadystatechange=function(){2 == b.readyState && !1;};b.send();},nSb:function(a){var b;b=new XMLHttpRequest();a=c(a);b.open("HEAD",a);b.onreadystatechange=function(){2 == b.readyState && !1;};b.send();},MMb:function(a){var b,f,c;b=new XMLHttpRequest();f=a.url;c=a.JMb;b.open("HEAD",f);b.timeout=Math.max(2 * c.tFb,r.config.iqa);b.onreadystatechange=function(){2 == b.readyState && (!1,c && c.Ru({url:f}));};b.ontimeout=b.onerror=function(){!1;c && c.Uoa({url:f});};b.send();},Kbb:p};})();b.TBb=c;b.QBb=l;b.SBb=k;b.RBb=m;b.I2=v.VCa;b.UBb=f;b.adb=h;b.$cb=q;b.H2=1;b.xSa=2;b.ySa=3;b.J2=4;b.Nla=5;b.Lla=1;b.Mla=2;b.XR=3;ta=420;ka._cad_global.http=b.ef;},function(d,b,a){var l,k;function c(){var a,b;a=this;this.vr={};this.on=function(b,f,c){a.addListener(b,f,c);};this.addListener=function(b,f,c){a.vr && (a.vr[b]=a.vr[b] || new k.rba(!0)).add(f,c);};this.removeListener=function(b,f){a.vr && a.vr[b] && a.vr[b].removeAll(f);};this.gka=function(b){return a.vr && a.vr[b]?a.vr[b].ru():[];};b=this;this.dc=function(a,f,c){var h;if(b.vr){h=b.gka(a);for(a={Ck:0};a.Ck < h.length;(a={Ck:a.Ck},a.Ck++)){c?(function(a){return function(){var b;b=h[a.Ck];l.Hc(function(){b(f);});};})(a)():h[a.Ck].call(this,f);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.tj=void 0;l=a(55);k=a(331);c.prototype.Tg=function(){this.vr=void 0;};b.tj=c;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.fDa=b.mh=void 0;c=a(0);l=a(829);(function(a){a[a.uM=0]="startPlayback";a[a.fx=1]="endPlayback";a[a.Hp=2]="underflow";})(b.mh || (b.mh={}));d=(function(){function a(a){this.config=a;this.m_a=[];}a.prototype.em=function(a){var b,h;h=c.__read(this.config.cia.filter(function(b){return b.tk === a.tk;}),1)[0];(null !== (b=null === h || void 0 === h?void 0:h.enabled) && void 0 !== b?b:a.enabled)?this.m_a.push(a):a.Tb && a.Tb();};a.prototype.tu=function(a){var b,h,q,m,d,y;q={};m=[];try{for(var r=c.__values(this.m_a),k=r.next();!k.done;k=r.next()){d=k.value;try{y=d.tu({Lj:a});y && (d.$S?q[d.$S]=y:q=c.__assign(c.__assign({},q),y));}catch(B){m.push(B);}}}catch(B){b={error:B};}finally{try{k && !k.done && (h=r["return"]) && h.call(r);}finally{if(b)throw b.error;}}m.length && (q["rpt-error"]=new l.pua("Reporting error",m));return q;};return a;})();b.fDa=d;},function(d,b,a){var c,l,k,m,f,h,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.Kh=void 0;c=a(0);a(5);l=c.__importDefault(a(25));k=c.__importDefault(a(110));m=a(405);f=a(21);d=a(38);h=a(170);q=a(243);a=a(120);u=(function(a){function b(f,c){var h;h=a.call(this,f,c) || this;b.$a(h,f,c);return h;}c.__extends(b,a);b.$a=function(a,b,f){var c;h.pt.$a(a,b,f);a.wj=f.index;a.OH=f.Za;a.Nt=f.xb;a.Eib=f.rb?f.rb:b.rb;a.$L=f.$L;a.zHa=f.Pk || 0;a.LGa=! !f.mp;a.rhb=null !== (c=f.QNb) && void 0 !== c?c:0;a.Meb=! !f.$vb;a.Sd=void 0 === f.w1 || void 0 === f.Eja || f.w1 === f.Za && f.Eja === f.xb?a:new q.aC(a,{Za:f.w1,xb:f.Eja});a.Vfb=f.Coa;a.hdb=f.Zi;a.vo=f.xa?a.HWa(f.xa):void 0;a.aIa=f.Xs;a.ye=!1;};b.xMa=function(a){for(var b=new Uint32Array(a.length),f=new Uint32Array(a.length),c=0,h,q,r=0;r < a.length;++r){h=a[r];q=h.yc;b[r]=h.Nt - h.OH;f[r]=q;c+=q;}return new m.Jba(b,f,a.length?a[0].R:1E3,c);};Object.defineProperties(b.prototype,{NA:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{index:{get:function(){return this.wj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rb:{get:function(){return this.Eib;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Za:{get:function(){return this.OH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xb:{get:function(){return this.Nt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pk:{get:function(){return this.zHa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mp:{get:function(){return this.LGa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{QNb:{get:function(){return this.rhb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$vb:{get:function(){return this.Meb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Coa:{get:function(){return this.Vfb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zi:{get:function(){return this.hdb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xa:{get:function(){return this.vo;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xs:{get:function(){return this.aIa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{w1:{get:function(){return this.Sd.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Eja:{get:function(){return this.Sd.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qwb:{get:function(){return this.Sd.oq;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wPa:{get:function(){return this.Sd.Qpa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qA:{get:function(){return this.Sd.Rc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{x1:{get:function(){return this.Sd.de;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vPa:{get:function(){return this.Sd.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fja:{get:function(){return this.Sd.Qb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pwb:{get:function(){return this.Sd.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pA:{get:function(){return this.qwb / this.stream.wa.ub;},enumerable:!1,configurable:!0}});b.prototype.X0a=function(a){this.zHa=a.Fe(this.R).ub;};b.prototype.cVa=function(){this.LGa=!0;};b.prototype.sRb=function(a){this.$L={od:a.bQa(),Ima:a.Ys};};b.prototype.vU=function(a){this.aIa=a;};b.prototype.bi=function(a){var b,f;void 0 === a && (a={});b=this.stream.wa.ub;f=this.vo || ({start:0,end:this.pA});a=this.HWa(a);this.Sd && this.Sd !== this || (this.Sd=new q.aC(this,this));a.start > f.start && (this.OH=this.Sd.Za + a.start * b);a.end < f.end && (this.Nt=this.Sd.Za + a.end * b);this.vo=a;};b.prototype.WQ=function(a){void 0 === a && (a=1);this.vo?this.bi({start:this.vo.start + a,end:this.vo.end}):this.bi({start:a});};b.prototype.tia=function(a){this.vo?this.bi({start:this.vo.start,end:(this.vo.end || 0) - a}):this.bi({start:0,end:-a});};b.prototype.utb=function(){this.bi({start:0,end:0});};b.prototype.uRb=function(a){this.vo || this.bi();this.vo.E6=a;};b.prototype.Qvb=function(a){var c;if(!(a < this.X || a >= this.sa) && this.Zi && this.Zi.length){a=new f.S(a + 1 - this.X,1E3).So(this.stream.wa);for(var b=this.Zi.length - 1;0 <= b;--b){c=this.Zi[b];if(c.Pn <= a)return c;}return {Pn:0,jd:this.qA};}};b.prototype.Pvb=function(a){var c;if(!(a < this.X || a >= this.sa) && this.Zi && this.Zi.length){a=new f.S(a + 1 - this.X,1E3).So(this.stream.wa);for(var b=this.Zi.length - 1;0 <= b;--b){c=this.Zi[b];if(c.Pn <= a)return c;}return {Pn:0,jd:this.qA};}};b.prototype.SOa=function(a,b){var c,h,q;if(!(a < this.X || a >= this.sa)){c=this.wa.ub;h=this.wa.R;q=Math.floor(this.oq / c);a=Math.min((b?Math.ceil:Math.floor)((f.S.Doa(a,h) - this.Za + (b?-1:1) * (h / 1E3 - 1)) / c),q);c=f.S.f7(this.Za + a * c,h);return a === q?void 0:{Pn:a,jd:c};}};b.prototype.j1=function(a){return this.I === l["default"].Ta.VIDEO?this.Qvb(a):this.SOa(a,!1);};b.prototype.Nvb=function(a){return this.I === l["default"].Ta.VIDEO?this.Pvb(a):this.SOa(a,!0);};b.prototype.ffa=function(a){this.yc+=a.ba;this.Nt=a.xb;this.vo && (this.Sd=new q.aC(this,{Za:this.w1,xb:this.Nt}),this.vo.end=this.pA);};b.prototype.toString=function(){return "[" + this.Da + ", " + this.U + "kbit/s, " + ("c:" + this.Qb + "-" + this.Pb + ",") + ("p:" + this.Rc + "-" + this.de + ",d:" + this.duration + "]");};b.prototype.toJSON=function(){var a;a=h.pt.prototype.toJSON.call(this);k["default"]({index:this.index,startPts:this.X,endPts:this.sa,contentStartPts:this.Qb,contentEndPts:this.Pb,fragmentStartPts:this.qA !== this.X?this.qA:void 0,fragmentEndPts:this.x1 !== this.sa?this.x1:void 0,edit:this.xa},a);return a;};b.prototype.XOa=function(a){var b;if(this.Zi)for(var f=0;f < this.Zi.length;++f){this.Zi[f].Pn === a && (b=this.Zi[f].offset);}return b;};b.prototype.HWa=function(a){var b;b=a.start || 0;return {start:b,end:void 0 === a.end?this.pA:Math.min(this.pA,Math.max(b,0 > a.end?this.pA + a.end:a.end)),E6:a.E6,pSb:a.pSb};};return b;})(h.pt);b.Kh=u;d.Ze(a.bC,u);d.Ze(a.YB,u);},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.vh=b.P5a=void 0;b.P5a=a;b.vh=new a();},function(d,b,a){var l,k,m,f,h;function c(a,b,f,c,h,m){this.context=a;this.errorCode=b;this.CPb=f;this.Zqa=h;this.tZ=m;this.name=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Lh=void 0;d=a(0);l=a(1);k=a(488);m=a(4);f=a(40);h=a(36);c.prototype.send=function(a,b,f,c,m,k,d){var q;d=void 0 === d?h.Dt.hO:d;q=this;return this.Xxb(a,b,f,d,c,m,k).then(function(a){return q.context.Tsb.send(a.context,a.request);});};c.prototype.Xxb=function(a,b,f,c,h,m,k){var q,r;try{q=this.context.cPb.create(this.context.EE.Yz(),b,f,h,c);r=this.Qlb(a,c,m,k);return Promise.resolve({context:r,request:q});}catch(D){return Promise.reject(D);}};c.prototype.Qlb=function(a,b,f,c){return {ef:this.context.ef,log:a,pk:this.name,url:this.context.vWb(k.DKa(this.context.Of,this.context.Gh,this.name,b)),lra:this.CPb,timeout:m.$g(59),headers:k.CKa(this.context.Gh,this.context.cA),Yqa:this.Yqa,Zqa:void 0 !== f?f:this.Zqa,slb:c};};c.prototype.rm=function(a){return a instanceof f.Bc?a:k.rm(this.errorCode,a);};c.prototype.dLa=function(a){var b;b=this;a.forEach(function(a){if(b.tma(a))throw a.error;});};c.prototype.tma=function(a){return void 0 !== a.error;};ma.Object.defineProperties(c.prototype,{Yqa:{configurable:!0,enumerable:!0,get:function(){return this.tZ;}}});a=c;a=d.__decorate([l.O(),d.__param(0,l.Hi()),d.__param(1,l.Hi()),d.__param(2,l.Hi()),d.__param(3,l.Hi()),d.__param(4,l.Hi()),d.__param(5,l.Hi())],a);b.Lh=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fr={Request:"Request",Kba:"Singleton",hY:"Transient"};b.Li={Vva:"ConstantValue",Wva:"Constructor",Qwa:"DynamicValue",x9:"Factory",Function:"Function",a$:"Instance",q$a:"Invalid",SCa:"Provider"};b.Rv={Pva:"ClassProperty",Xva:"ConstructorArgument",jca:"Variable"};},function(d,b,a){var l,k;function c(a,b,c,q,u){a=void 0 === a?l.L.Ul:a;return k.Bc.call(this,a,b,c,void 0,void 0,q,k.Bc.Ue(u),u) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Qe=void 0;l=a(2);k=a(40);L(c,k.Bc);b.Qe=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.nr=void 0;b.nr="MediaKeySystemAccessServicesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.At=void 0;b.At="LogMessageFactorySymbol";},function(d,b){var l,k;function a(){}function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Cv=b.Aa=b.Qi=void 0;(function(a){a[a.$j=0]="STANDARD";a[a.Hv=1]="LIMITED";a[a.v1b=2]="PREVIEW";})(l || (l={}));c.a3b="uirequest";c.t1b="prefetch_start";c.r1b="prefetch_complete";c.s1b="prefetch_delete";c.d1b="periodic_update";(function(a){a[a.HAVE_NOTHING=0]="HAVE_NOTHING";a[a.HAVE_METADATA=1]="HAVE_METADATA";a[a.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";a[a.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";a[a.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(k || (k={}));(function(a){a.u5a="asl_start";a.s5a="asl_comp";a.YXb="asl_exc";a.t5a="asl_fail";a.icb="stf_creat";a.v9a="idb_open";a.s9a="idb_block";a.C9a="idb_upgr";a.B9a="idb_succ";a.t9a="idb_error";a.u9a="idb_invalid_state";a.x9a="idb_open_timeout";a.z9a="idb_open_wrkarnd";a.A9a="idb_storelen_exc";a.w9a="idb_open_exc";a.y9a="idb_timeout_invalid_storelen";a.U$a="msl_load_data";a.W$a="msl_load_no_data";a.V$a="msl_load_failed";})(d=b.Qi || (b.Qi={}));(function(a){a.maa="PlaybackRequestStart";a.laa="PlaybackRequestEnd";a.RX="RequestPrefetchManifestStart";a.QX="RequestPrefetchManifestEnd";a.PX="RequestManifestStart";a.OX="RequestManifestEnd";a.NX="RequestLicenseStart";a.MX="RequestLicenseEnd";a.kN="RequestTimedTextUrlStart";a.jN="RequestTimedTextUrlEnd";a.iN="RequestAudioUrlStart";a.hN="RequestAudioUrlEnd";a.mN="RequestVideoUrlStart";a.lN="RequestVideoUrlEnd";a.O7="AppendBufferStart";a.N7="AppendBufferEnd";a.Cba="SetMediaKeysStart";a.Bba="SetMediaKeysEnd";a.tW="GenerateChallengeStart";a.sW="GenerateChallengeEnd";a.IV="ApplyLicenseStart";a.HV="ApplyLicenseEnd";})(b.Aa || (b.Aa={}));b.Cv=a;a.L_b=l;a.fMa=function(a){return ["STANDARD","LIMITED","PREVIEW"][a];};a.u1b=c;a.Qi=d;a.Qxa=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.o9=b.Lba=b.h$=b.Pba=b.Nba=b.pW=b.Rm=void 0;b.Rm={start:"start",stop:"stop",nS:"keepAlive",dR:"engage",splice:"splice"};b.pW="EventPboCommandFactorySymbol";b.Nba="StartEventPboCommandSymbol";b.Pba="StopEventPboCommandSymbol";b.h$="KeepAliveEventPboCommandSymbol";b.Lba="SpliceEventPboCommandSymbol";b.o9="EngageEventPboCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jh=void 0;b.jh={audio:"audio",video:"video",d7:"timedtext",ota:"trickplay"};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(142);b.hz=function(a){c.assert("number" === typeof a);return String.fromCharCode(a >>> 24 & 255) + String.fromCharCode(a >>> 16 & 255) + String.fromCharCode(a >>> 8 & 255) + String.fromCharCode(a & 255);};b.LFa=function(a){return a.charCodeAt(3) + (a.charCodeAt(2) << 8) + (a.charCodeAt(1) << 16) + (a.charCodeAt(0) << 24);};b.v3b=function(a,b){return Math.floor(1E3 * a / b);};},function(d,b,a){var c,l,k,m,f,h,q,u,r,v,A;Object.defineProperty(b,"__esModule",{value:!0});b.ZB=b.Ji=void 0;c=a(0);d=c.__importDefault(a(16));l=c.__importStar(a(8));k=d["default"].qg;m=c.__importDefault(a(3));f=m["default"].Um;h=a(168);q=c.__importDefault(a(109));u=a(9);d=a(38);r=a(171);v=a(170);(function(a){a[a.lab=0]="NOTHING_APPENDED";a[a.Fab=1]="PARTIAL";a[a.zv=2]="COMPLETE";a[a.ERROR=3]="ERROR";})(A=b.Ji || (b.Ji={}));a=(function(a){function b(b,c,h,q,m,u,d){c=a.call(this,c,h) || this;r.$B.$a(c,b,q,m,u,d);v.pt.$a(c,b,q);c.zO=b.url || q.url;c.yO=q.responseType;c.hFa=q.B6;void 0 === c.yO && (c.yO=f.Yb && !f.Yb.UL.LC?0:1);c.dg=new k();c.dg.on(c,f.he.OAa,c.hP);c.dg.on(c,f.he.NAa,c.Vda);c.dg.on(c,f.he.PAa,c.Wda);c.dg.on(c,f.he.ZN,c.gP);c.dg.on(c,f.he.BC,c.oI);c.xH=!1;c.pd=!1;c.Ng=!1;c.Wt=!1;c.QO=!1;c.Yda=q.sKb;c.Dm=0;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{active:{get:function(){return this.pd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fqa:{get:function(){return this.Ng;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return !this.xH && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Cr:{get:function(){return this.xH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ama:{get:function(){return this.Wt && !this.QO;},enumerable:!1,configurable:!0}});b.prototype.$a=function(a){r.$B.prototype.$a.call(this,a);this.tc || !this.yd.$Z && this.vc || (this.tc=q["default"].yf(),this.active && (this.tc.EF(m["default"].time.aa(),{requestId:this.wo(),ze:this.Zb,type:this.I}),this.Ng && (this.tc.ara(m["default"].time.aa()),this.connect && 0 < this.Tq.length && this.tc.zw(this.Tq[0]))));};b.prototype.rs=function(){return this.ye || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};b.prototype.DD=function(a,b,f,c,h,q,m){this.ye=a.appendBuffer(this.response,m || u.np(this));return {status:this.ye?A.zv:A.ERROR};};b.prototype.Tu=function(){(this.Wt=f.prototype.open.call(this,this.zO,{start:this.offset,end:this.offset + this.ba - 1},this.yO,{},void 0,void 0,this.hFa)) && this.oR(this);return this.Wt;};b.prototype.abort=function(){var a;if(this.Cr)return !0;a=this.pd;this.tc && a && this.tc.GF(m["default"].time.aa(),this.Ng,{requestId:this.wo(),ze:this.Zb,type:this.I});this.xH=!0;this.Ng=this.pd=!1;f.prototype.abort.call(this);this.u1(this,a,this.Ama);return !0;};b.prototype.cc=function(){7 !== this.readyState && 5 !== this.readyState && (this.G.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.dg && this.dg.clear();a.prototype.cc.call(this);};b.prototype.hP=function(){var a;a=this.sd || this.ae;h.wv.yf().push(m["default"].time.aa() - a);this.pd || (this.pd=!0,this.ip=this.track.ip(),this.stream.H.dVa || this.tc && this.tc.EF(a,{requestId:this.wo(),ze:this.Zb,type:this.I}),this.rE(this),this.Em=this.sd);};b.prototype.Vda=function(){var a,b,f;a=this.sd || this.oja;b=this.connect;f=this.Tq;h.wv.yf().push(m["default"].time.aa() - a);this.pd || (this.pd=!0);this.Ng || (this.Ng=!0,this.stream.H.dVa && this.tc && this.tc.EF(a,{requestId:this.wo(),ze:this.Zb,type:this.I}),this.tc && this.tc.ara(a),b && 0 < f.length && this.tc && this.tc.zw(f[0]),this.oA(this),this.Em=a);};b.prototype.Wda=function(){var a,b,f;a=this;b=this.sd;f=this.bf - this.Dm;h.wv.yf().push(m["default"].time.aa() - b);this.Ng || (this.Ng=!0);this.tc && (void 0 === this.Em || this.tc.$t(f,this.Em,b,{requestId:this.wo(),ze:this.Zb,type:this.I},this.Yda),this.Tq && this.Tq.length && this.Tq.forEach(function(b){a.tc.ww(b);}));this.sE(this);this.Em=b;this.Dm=this.bf;};b.prototype.gP=function(){var a,b,f;a=this;b=this.sd;f=this.bf - this.Dm;h.wv.yf().push(m["default"].time.aa() - b);this.tc && (0 < f && this.tc.$t(f,this.Em,b,{requestId:this.wo(),ze:this.Zb,type:this.I},this.Yda),this.Tq && this.Tq.length && this.Tq.forEach(function(b){a.tc.ww(b);}),this.tc.GF(b,this.Ng,{requestId:this.wo(),ze:this.Zb,type:this.I}));this.Ng=this.pd=!1;this.QO=!0;this.ds(this);this.Em=b;this.Dm=this.bf;this.cc();};b.prototype.wo=function(){var a,b;a=(a=this.stream)?a.toString():this.url;b=this.B_;b && (a+=",range " + b.start + "-" + b.end);return a;};b.prototype.oI=function(){var a,b,f,c;this.G.warn("AseMediaRequest._onError:",this.toString());a=this.sd;b=this.status;f=this.wg;c=this.ri;h.wv.yf().push(m["default"].time.aa() - a);this.complete?this.G.warn("Error on a done request " + this.toString() + ", failurecode: " + f):this.Cr?this.G.warn("Error on an aborted request " + this.toString() + ", failurecode: " + f):l.qa(f)?(this.tc && this.yd && this.yd.Uqa && this.ae && void 0 === b && this.tc.$t(this.Dm?this.bf - this.Dm:this.bf,this.Em?this.Em:this.ae,a,{requestId:this.wo(),ze:this.Zb,type:this.I},this.Yda),this.v1(this)):this.G.warn("ignoring undefined request error (nativecode: " + c + ")");};return b;})(f);b.ZB=a;d.Ze(r.$B,a,!1);d.Ze(v.pt,a,!1);},function(d){d.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(145),b);d.__exportStar(a(921),b);d.__exportStar(a(175),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tt=void 0;b.tt="DeviceFactorySymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Mh=b.xab=b.io=void 0;c=a(15);b.io=b.io || (function(a,b,c){return a >= b?a <= c?a:c:b;});b.xab=function(a,b,c,f,h){return (a - b) * (h - f) / (c - b) + f;};b.Mh=function(a){if(c.qa(a))return (a / 1E3).toFixed(3);};},function(d,b,a){var k,m;function c(a,b,c,m,r){var f,h,u;f={};h="number" === typeof r;r=void 0 !== r && h?r.toString():c;if(h && void 0 !== c)throw Error(k.b$a);Reflect.sla(a,b) && (f=Reflect.getMetadata(a,b));c=f[r];if(Array.isArray(c))for(var h=0,q=c;h < q.length;h++){u=q[h];if(u.key === m.key)throw Error(k.c8a + " " + u.key.toString());}else c=[];c.push(m);f[r]=c;Reflect.Wha(a,f,b);}function l(a,b){return function(f,c){b(f,c,a);};}Object.defineProperty(b,"__esModule",{value:!0});k=a(52);m=a(39);b.cG=function(a,b,q,k){c(m.kEa,a,b,k,q);};b.WU=function(a,b,q){c(m.lEa,a.constructor,b,q);};b.aA=function(a,b,c){"number" === typeof c?Reflect.aA([l(c,a)],b):"string" === typeof c?Reflect.aA([a],b,c):Reflect.aA([a],b);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.st=b.N8=void 0;b.N8="DebugConfigSymbol";b.st="DebugSymbol";},function(d,b,a){d=a(190);a="undefined" !== typeof self && "undefined" !== typeof WorkerGlobalScope && self instanceof WorkerGlobalScope && self;d="undefined" !== typeof ka && ka || "undefined" !== typeof d && d || a;b.root=d;if(!d)throw Error("RxJS could not find any global context (window, self, global)");},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gv=void 0;b.Gv="IdProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.T8=b.wN=b.uW=b.s9=void 0;b.s9="EventSourceSymbol";b.uW="GlobalEventSourceSymbol";b.wN="DebugEventSourceSymbol";b.T8="DiagnosticsEventSourceSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.aN=b.O5a=b.V7=b.W7=void 0;(function(a){a[a.KNa=0]="downloading";a[a.ptb=1]="downloaded";a[a.ye=2]="appended";a[a.buffered=3]="buffered";a[a.NL=4]="removed";a[a.q9b=5]="unused";})(b.W7 || (b.W7={}));(function(a){a[a.waiting=1]="waiting";a[a.O7b=2]="ondeck";a[a.KNa=4]="downloading";a[a.ptb=8]="downloaded";a[a.gS=6]="inprogress";})(b.V7 || (b.V7={}));b.O5a="AseBufferViewSymbol";b.aN="AseBufferAccountingSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(818),b);d.__exportStar(a(819),b);d.__exportStar(a(820),b);d.__exportStar(a(821),b);d.__exportStar(a(822),b);d.__exportStar(a(823),b);d.__exportStar(a(824),b);d.__exportStar(a(825),b);d.__exportStar(a(386),b);d.__exportStar(a(826),b);d.__exportStar(a(827),b);d.__exportStar(a(828),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.vv=void 0;d=(function(){function a(a){this.te=a;}a.prototype.bsa=function(a){this.te=a;};a.prototype.pLa=function(){this.te=void 0;};a.prototype.oR=function(a){return this.te && this.te.U4 && this.te.U4(a);};a.prototype.rE=function(a){this.te && this.te.Xx && this.te.Xx(a);};a.prototype.oA=function(a){this.te && this.te.qL && this.te.qL(a);};a.prototype.sE=function(a){this.te && this.te.rL && this.te.rL(a);};a.prototype.qPa=function(a){this.te && this.te.ppa && this.te.ppa(a);};a.prototype.ds=function(a){this.te && this.te.Oj && this.te.Oj(a);};a.prototype.v1=function(a){this.te && this.te.pT && this.te.pT(a);};a.prototype.u1=function(a,b,k){this.te && this.te.oT && this.te.oT(a,b,k);};return a;})();b.vv=d;d.prototype.U4=d.prototype.oR;d.prototype.Xx=d.prototype.rE;d.prototype.qL=d.prototype.oA;d.prototype.rL=d.prototype.sE;d.prototype.Oj=d.prototype.ds;d.prototype.pT=d.prototype.v1;d.prototype.oT=d.prototype.u1;d.prototype.ppa=d.prototype.qPa;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});d=a(234);c=a(143);b.e8a=c;c=a(398);b.eca=c;c=a(402);b.X3b=c;b.ODa=d.gL.$c.sidx;d=a(883);b.Uy=d.Uy;d=a(242);b.aH=d.aH;d=a(887);b.Ty=d.Ty;b.FS=d.FS;d=a(888);b.i$=d.i$;d=a(80);b.hz=d.hz;a=a(889);b.or=a.or;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$$="6674654e-696c-5078-6966-665374726d21";b.aaa="6674654e-696c-4878-6165-6465722e7632";b.CAa="6674654e-696c-5078-6966-66496e646578";b.nX="6674654e-696c-4d78-6f6f-6653697a6573";b.mX="6674654e-696c-5378-6565-6b506f696e74";b.dBa="cedb7489-e77b-514c-84f9-7148f9882554";b.cBa="524f39a2-9b5a-144f-a244-6c427c648df4";b.Z$="6674654e-696c-4678-7261-6d6552617465";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(b){a.prototype.parse.call(this,b);this.fd=this.ev([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{h6b:"int32"},{y9b:"int32"},{offset:32,type:"offset"},{F5b:"int16"},{D4b:{type:"int8",fkb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};b.Ic=!0;return b;})(a(236)["default"]);b["default"]=d;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.af="avc1";return b;})(d);b.B5a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.af="avc2";return b;})(d);b.C5a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.af="avc3";return b;})(d);b.D5a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.af="avc4";return b;})(d);b.E5a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.af="hvc1";return b;})(d);b.j9a=a;d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.af="hev1";return b;})(d);b.e9a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.If=void 0;d=b.If || (b.If={});d.pn="created";d.kv="started";d.CM="succeeded";d.rq="failed";d.mk="cancelled";d.qga="cancelled_on_create";d.J_="cancelled_on_start";d.pga="cancelled_not_encrypted";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sv=void 0;b.Sv="VideoPreparerSymbol";},function(d,b){var c;function a(a,b){var m;m=this;this.lda=[];c.forEach(function(f){(f=f(a,b)) && m.lda.push(f);});}Object.defineProperty(b,"__esModule",{value:!0});b.wC=b.qAa=void 0;c=[];a.prototype.Vs=function(a){var f;for(var b=[],c=this.lda.length;c--;){f=this.lda[c];f.Vs(a) && b.push(f.OJ);}if(b.length)return b;};b.qAa=a;b.wC=function(a){c.push(a);};},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iO=b.Iv=b.Z9=void 0;b.Z9="Injector";b.Iv=145152E5;b.iO="ProfileSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iy=void 0;b.Iy="Base16EncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fba=b.vDa=b.SW=b.aFa=b.bFa=b.oaa=b.v9=void 0;b.v9="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.oaa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.bFa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.aFa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.SW="HW_SECURE_DECODE";b.vDa="SW_SECURE_DECODE";b.Fba="SW_SECURE_CRYPTO";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cz=void 0;b.cz="Utf8EncoderSymbol";},function(d,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Zy=void 0;d=a(0);a=a(1);c.prototype.format=function(a,b){var c;for(var f=1;f < arguments.length;++f){;}c=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return "undefined" != typeof c[b]?c[b]:a;});};c.prototype.tTb=function(a){for(var b=a.length,f=new Uint16Array(b),c=0;c < b;c++){f[c]=a.charCodeAt(c);}return f.buffer;};c.prototype.i2a=function(a){return JSON.stringify(a,null,"  ");};l=c;l=d.__decorate([a.O()],l);b.Zy=l;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.OC=void 0;b.OC="ThrottleFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qC=void 0;b.qC="LoggerSinksSymbol";},function(d,b,a){var r;function c(a,b){if(a.length == b.length && 1 < a.length){for(var c=a.length,h=0,q=f(a),m=f(b),r=0;r < c;r++){h+=a[r] * b[r];}return (h - q * m / c) / c;}return !1;}function l(a){if(!Array.isArray(a) || 2 > a.length)return !1;a=k(a);return Math.sqrt(a);}function k(a){var b;if(!Array.isArray(a) || 2 > a.length)return !1;b=m(a);return f(a.map(function(a){return (a - b) * (a - b);})) / (a.length - 1);}function m(a){return Array.isArray(a) && a.length?f(a) / a.length:!1;}function f(a){return Array.isArray(a)?a.reduce(function(a,b){return a + b;},0):!1;}function h(a,b,f){return Math.max(Math.min(a,f),b);}function q(a,b){return "number" === typeof a?a:b;}function u(a){return 1 / (1 + Math.exp(-a));}r=a(8);d.exports={Ma:function(a,b,f){try{a.emit(b,f);}catch(B){a.nf("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",B,"Event:",f);}},Vz:function(){var a,b,f;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a + b.byteLength;},0);f=new Uint8Array(b);a.reduce(function(a,b){f.set(new Uint8Array(b),a);return a + b.byteLength;},0);return f.buffer;},N_:h,rnb:function(a,b,f,c){return {min:h(q(a.min,b),f,c),max:h(q(a.max,b),f,c),Rw:h(a.Rw || 6E4,0,6E5),WKa:h(a.WKa || 0,-3E5,3E5),scale:h(a.scale || 6E4,0,3E5),a0a:h(a.a0a || 0,-3E5,3E5),gamma:h(a.gamma || 1,.1,10)};},Rd:function(a,b){void 0 !== a && r.tKb(a).forEach(function(a){b(a[0],a[1]);});},AOa:function(a,b,f){return a.min + (a.max - a.min) * (1 - Math.pow(u(6 * (b - (a.Rw + (a.WKa || 0) * (1 - f))) / (a.scale + (a.a0a || 0) * (1 - f))),a.gamma));},Hub:function(a,b){return a.min + (a.max - a.min) * Math.pow(u(6 * (b - a.Rw) / a.scale),a.gamma);},Y5b:f,cxb:m,FAb:k,W5b:l,K5b:c,J5b:function(a,b){var f;if(a.length == b.length){f=c(a,b);a=l(a);b=l(b);if(0 < a && 0 < b)return f / (a * b);}return !1;},Fu:function(a,b,f){return b.yMa?b.yMa(f):new a.Console("ASEJS","media|asejs",f);},Gra:function(a){return a.length?"{" + a + "} ":"";},XPb:function(a,b,f){return {min:a.min * f + (1 - f) * b.min,max:a.max * f + (1 - f) * b.max,Rw:a.Rw * f + (1 - f) * b.Rw,scale:a.scale * f + (1 - f) * b.scale,gamma:a.gamma * f + (1 - f) * b.gamma};},tanh:Math.tanh || (function(a){var b;b=Math.exp(+a);a=Math.exp(-a);return Infinity == b?1:Infinity == a?-1:(b - a) / (b + a);}),msa:u,np:function(a){var b;b=a.Pa.Kb.W.id;return {X:a.X,duration:a.duration,offset:a.offset,ba:a.ba,U:a.U,profile:a.profile,vc:a.vc,va:b,Da:a.Da,Zb:a.Zb,location:a.location,Bk:a.Bk,Wh:a.Wh,Wu:{Kb:{W:{id:b}}}};}};},function(d,b,a){var k,m,f,h,q,u,r,v,A;function c(a){var b;if(!a.Dea){b=a.HRa();a.$l.AD(b["default"].Ca,a.Si);a.$l.uG(b.qs?b.qs.f5:void 0,b.qs?b.qs.WL:void 0);k.ab(a.bc) || (a.Dea=!0);}}function l(a,b,c){var q;this.H=c;this.Do={};this.TH=c.TH;this.bGa=new h(this.TH);this.OO=new u(!0);this.BO=new u(!1);c.kOa && (this.pI=new r());this.reset();this.Rda=a;this.$l=b;this.GGa=m.Hn.name();this.$l.u6(this.GGa);this.sP=this.TC=0;this.CO=[];m.events.on("networkchange",(function(a){this.GGa=a;this.$l.u6(a);}).bind(this));q=c.Mha;q && (q={Pd:f.$e.CN,Ka:{Ca:parseInt(q,10),di:0},ai:{Ykb:0,di:0},ps:{Ykb:0,di:0}},this.get=function(){return q;});A=this;}k=a(8);m=a(3)["default"];f=a(25)["default"];a(9);b=a(16).EventEmitter;h=a(389).Cxa;q=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");u=a(853).jxa;r=a(855).lBa;v=a(141);A=void 0;l.prototype.constructor=l;l.prototype=Object.create(b.prototype);l.yf=function(){return A;};l.reset=function(){A && A.reset();};Object.defineProperties(l.prototype,{startTime:{get:function(){return this.ve;}},Pd:{get:function(){return this.Si;}},hn:{get:function(){return this.TC;}},rIa:{get:function(){return this.CO;}}});l.prototype.deb=function(){var a,b,f,c;a=this.H;b=a.ueb.concat(a.Eeb);f=a.kda;c=this.bGa;return b.reduce(function(a,b){a[b]=c.create(b,f);return a;},{});};l.prototype.reset=function(){var a,b,h,q;a=this.H.kda;b=this.bGa;h=this.H;this.location=null;this.Do=this.deb();if(this.H.nOa){q=this.H.I2a;this.Do.pUb=new v(q.numB * q.bSizeMs,q.bSizeMs);}this.OO.reset();this.BO.reset();this.lw=b.create("respconn-ewma",a);this.dw=b.create("respconn-ewma",a);this.pI && this.pI.reset();this.Si=f.$e.HAVE_NOTHING;this.yib=(function(){c(this);}).bind(this);this.UZ=void 0;this.oz=this.yc=this.bc=this.ve=null;this.Edb=this.OZ=this.EP=0;this.$da=!1;h.A_a && (this.sP=this.TC=0,this.CO=[]);};l.prototype.tU=function(a){var b;b=this.Do;if(a !== this.location){k.Y(this.UZ) || (clearInterval(this.UZ),this.UZ=void 0);k.ab(this.location) && (this.OZ=this.EP=0,this.ve=null);if(!k.ab(a)){this.Si=f.$e.HAVE_NOTHING;for(var c in b){b[c] && b[c].reset && b[c].reset();}this.lw.reset();this.dw.reset();}k.ab(this.ve) || (this.EP+=(k.ab(this.bc)?m.time.aa():this.bc) - this.ve,this.OZ+=this.yc);this.bc=this.ve=null;this.yc=0;this.location=a;this.$l.tU(a);}};l.prototype.u6=function(a){this.$l.u6(a);};l.prototype.cjb=function(a){this.Do.QoEEvaluator?q.warn("monitor (QoEEvaluator) already existed."):this.Do.QoEEvaluator=a;};l.prototype.COb=function(){delete this.Do.QoEEvaluator;};l.prototype.$t=function(a,b,h,m,r){var u,d;this.A3=Math.max(this.A3 || 0,h);u=this.H;d=this.Do;if(!0 === m.yG)(m=d["throughput-wssl"]) && m.add(a,b,h,!0);else if(k.Y(b))q.warn("addDataReceived called with undefined start time");else {this.pI && this.pI.$t(a,b,h,m,r);u.Deb && 10 > h - b?b=h - 10:0 === h - b && (b=h - 1);this.OO.$t(a,b,h,m);this.BO.$t(a,b,h,m);for(var l in d){d[l] && d[l].add && d[l].add(a,b,h);}this.Si=Math.max(this.Si,f.$e.lC);k.ab(this.ve) && (this.ve=b,this.bc=null,this.Dea=!1,this.yc=0);k.ab(this.bc) || (b > this.bc && (this.ve+=b - this.bc),this.bc=null,this.Dea=!1);this.yc+=a;this.Si < f.$e.kC && (h - this.ve > u.Tfb || this.yc > u.Sfb) && (this.Si=f.$e.kC);this.Si < f.$e.CN && (h - this.ve > u.fhb || this.yc > u.ehb) && (!this.$da || this.Edb > u.Rfb) && (this.Si=f.$e.CN,c(this),this.UZ=setInterval(this.yib,u.Dfb));k.ab(this.oz) || (b - this.oz > u.bHa?this.Rda.eTa(this.oz,b):h - b > u.bHa && this.Rda.eTa(b,h));this.oz=Math.max(h,this.oz);}};l.prototype.zw=function(a){this.lw.add(a);this.$l.zw(a);};l.prototype.ww=function(a){this.dw.add(a);this.$l.ww(a);};l.prototype.start=function(a){var b;k.ab(this.oz) && !k.ab(this.bc) && (this.oz=a);b=this.Do;if(this.H.zsa)for(var f in b){b[f] && b[f].start && b[f].start(a);}};l.prototype.stop=function(a){var b,f;b=this.Do;for(f in b){b[f] && b[f].stop && b[f].stop(a);}this.bc=k.ab(this.bc)?a:Math.min(this.bc,a);this.oz=null;};l.prototype.flush=function(){var a,b;a=this.Do;for(b in a){a[b] && a[b].flush && a[b].flush();}};l.prototype.fail=function(){this.ve=null;};l.prototype.oQa=function(){var a,b;a=this.Do.entropy;a && (b=a.Ylb(),a.reset());return b;};l.prototype.HRa=function(){var a,b,f,c,h,q,r;a=m.time.aa();b={};f=this.Do;c=this.H;h=c.ieb;q=c.Rhb;for(r in f){f[r] && f[r].get && (b[r]=f[r].get(a),"iqr" === f[r].type && (b.qs=b[r]),"tdigest" === f[r].type && (b.pj=b[r]),"wssl" === f[r].type && (b.yG=b[r]));}b.cdnavtp=this.OO.wn();b.activecdnavtp=this.BO.wn();b["default"]=h && b[h]?b[h]:b["throughput-ewma"];"none" !== c.Ara && "none" !== q && (b.f0a=q && b[q]?b[q]:b["throughput-sw"]);return b;};l.prototype.a2=function(){return this.pI?this.pI.a2():void 0;};l.prototype.get=function(){var a,b,f,c,h,q;a=this.HRa();b=a["default"];f=this.lw.get();c=this.dw.get();h=this.H;if(a.f0a)(q=a.f0a,b=k.qa(b.Ca) && k.qa(q.Ca) && b.Ca > q.Ca && 0 < q.Ca?q:b);a.Pd=this.Si;a.Ka=b;!h.S0 || !b || k.ab(b.Ca) || isNaN(b.Ca) || !a.yG || k.ab(a.yG.Ca) || isNaN(a.yG.Ca) || ("max" === h.Y4a?a.Ka.Ca=Math.max(a.yG.Ca,b.Ca):"sum" === h.Y4a && (a.Ka.Ca+=a.yG.Ca));a.ai=f;a.ps=c;this.H.nOa && (b=this.H.I2a,a.g9b=this.Do.pUb.get(b.fillS,b.fillHl));b=this.EP + !k.ab(this.ve)?(k.ab(this.bc)?m.time.aa():this.bc) - this.ve:0;a.time=b;return a;};l.prototype.Twb=function(){var a;a=this.EP + !k.ab(this.ve)?(k.ab(this.bc)?m.time.aa():this.bc) - this.ve:0;return {SI:Math.floor(8 * (this.OZ + this.yc) / a),g6b:this.Rda.rd()};};l.prototype.tAb=function(){var a,b,f;a={};b=this.get(!0);if(b.Pd && b.Ka){a.aseavtp=Number(b.Ka.Ca).toFixed(2);a.asevartp=Number(b.Ka.di).toFixed(2);if(b.qs){f=b.qs.f5;!f || isNaN(f.Kk) || isNaN(f.Jk) || isNaN(f.kj) || (a.aseniqr=0 < f.kj?Number((f.Kk - f.Jk) / f.kj).toFixed(2):-1,a.aseiqr=Number(f.Kk - f.Jk).toFixed(2),a.asemedtp=Number(f.kj).toFixed(2));a.iqrsamples=b.qs.WL;}b.pj && b.pj.ox && (a.tdigest=b.pj.ox());}return a;};l.prototype.EF=function(a,b){var f;f=b.requestId;1 === ++this.TC && (this.emit("active",a),this.start(a));f && this.CO.push(f);this.OO.EF(a,b);this.BO.EF(a,b);};l.prototype.ara=function(a){++this.sP;this.A3=Math.max(this.A3 || 0,a);};l.prototype.GF=function(a,b,f){var c;c=f.requestId;b && --this.sP;--this.TC;this.H.A_a && (this.TC=Math.max(this.TC,0),this.sP=Math.max(this.sP,0));0 === this.TC && (this.stop(a),this.emit("inactive",a));c && (b=this.CO.indexOf(c),0 <= b && this.CO.splice(b,1));this.OO.GF(a,f);this.BO.GF(a,f);};d.exports=l;},function(d,b){function a(b,d){var c;b.__proto__ && b.__proto__ !== Object.prototype && a(b.__proto__,d);Object.getOwnPropertyNames(b).forEach(function(a){c=Object.getOwnPropertyDescriptor(b,a);void 0 !== c && Object.defineProperty(d,a,c);});}Object.defineProperty(b,"__esModule",{value:!0});b["default"]=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qy=b.l9a=b.ResponseType=void 0;d=b.ResponseType || (b.ResponseType={});d[d.Text=0]="Text";d[d.n3b=1]="Xml";d[d.BYb=2]="Binary";b.l9a="HttpClientSymbol";b.Qy="LegacyHttpSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.yN=b.b9=void 0;b.b9="DrmServicesSymbol";b.yN="DrmServicesProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.vC=void 0;b.vC="MediaKeysStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.WB=void 0;b.WB="ApiInfoSymbol";},function(d,b,a){var l,k,m,f,h,q;function c(a){return a.reduce(function(a,b){return a.concat(b instanceof q.iY?b.mu:b);},[]);}l=a(154);k=a(301);m=a(300);f=a(582);h=a(302);q=a(583);d=(function(){function a(a){this.closed=!1;this.BI=this.fD=this.Xp=null;a && (this.Bea=a);}a.prototype.unsubscribe=function(){var a,b,u,d,B,I;a=!1;if(!this.closed){u=this.Xp;d=this.fD;B=this.Bea;I=this.BI;this.closed=!0;this.BI=this.fD=this.Xp=null;for(var J=-1,g=d?d.length:0;u;){u.remove(this);u=++J < g && d[J] || null;}m.uc(B) && (u=f.u3a(B).call(this),u === h.kA && (a=!0,b=b || (h.kA.e instanceof q.iY?c(h.kA.e.mu):[h.kA.e])));if(l.isArray(I))for((J=-1,g=I.length);++J < g;){u=I[J];k.zf(u) && (u=f.u3a(u.unsubscribe).call(u),u === h.kA && (a=!0,b=b || [],u=h.kA.e,u instanceof q.iY?b=b.concat(c(u.mu)):b.push(u)));}if(a)throw new q.iY(b);}};a.prototype.add=function(b){var f;if(!b || b === a.EMPTY)return a.EMPTY;if(b === this)return this;f=b;switch(typeof b){case "function":f=new a(b);case "object":if(f.closed || "function" !== typeof f.unsubscribe)return f;if(this.closed)return (f.unsubscribe(),f);"function" !== typeof f.oFa && (b=f,f=new a(),f.BI=[b]);break;default:throw Error("unrecognized teardown " + b + " added to Subscription.");}(this.BI || (this.BI=[])).push(f);f.oFa(this);return f;};a.prototype.remove=function(a){var b;b=this.BI;b && (a=b.indexOf(a),-1 !== a && b.splice(a,1));};a.prototype.oFa=function(a){var b,f;b=this.Xp;f=this.fD;b && b !== a?f?-1 === f.indexOf(a) && f.push(a):this.fD=[a]:this.Xp=a;};a.EMPTY=(function(a){a.closed=!0;return a;})(new a());return a;})();b.$y=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.EC=void 0;b.EC="PlayerErrorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.MC=void 0;b.MC="SourceBufferTypeProviderSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Es=b.ooa=b.IVa=void 0;d=a(738);a=a(741);b.IVa=d;b.ooa=function(a,d){return b.IVa(function(a,b){return void 0 !== b?b:a;},a,d);};b.Es=a;},function(d,b,a){var c;c=a(164);d.exports=function(a){return function m(b){return 0 === arguments.length || c(b)?m:a.apply(this,arguments);};};},function(d,b,a){var f;function c(a,b){return void 0 === a?void 0:0 === a?f.S.lb:new f.S(a,b);}function l(a,b){return a && Math.floor(f.S.f7(a,b));}function k(a,b){return void 0 === a || void 0 === b?void 0:a + b;}function m(a,b){return void 0 === a || void 0 === b?void 0:a - b;}Object.defineProperty(b,"__esModule",{value:!0});b.YB=b.bC=void 0;f=a(21);d=(function(){function a(){}Object.defineProperties(a.prototype,{oq:{get:function(){return m(this.xb,this.Za) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qpa:{get:function(){return k(this.Za,this.Pk);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{CYa:{get:function(){return k(this.xb,this.Pk);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{K0:{get:function(){return c(this.oq,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xh:{get:function(){return c(this.Za,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jm:{get:function(){return c(this.xb,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qj:{get:function(){return c(this.Qpa,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vi:{get:function(){return c(this.CYa,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{B5:{get:function(){return c(this.Pk,this.R);},enumerable:!1,configurable:!0}});return a;})();b.bC=d;d=(function(){function a(){}Object.defineProperties(a.prototype,{duration:{get:function(){return m(this.sa,this.X) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return l(k(this.Za,this.Pk),this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return l(k(this.xb,this.Pk),this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nn:{get:function(){return l(this.Pk,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wh:{get:function(){return l(this.Za,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qb:{get:function(){return l(this.Za,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pb:{get:function(){return l(this.xb,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Rc:{get:function(){return l(k(this.Za,this.Pk),this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{de:{get:function(){return l(k(this.xb,this.Pk),this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ex:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ky:{get:function(){return this.X;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{av:{get:function(){return this.sa;},enumerable:!1,configurable:!0}});return a;})();b.YB=d;},function(d,b,a){var c,l,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.fo=void 0;c=a(0);l=c.__importDefault(a(25));k=c.__importDefault(a(3));m=a(894);d=(function(){function b(a){this.AO=a;this.bh=[];this.console=new k["default"].Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(b,{yf:{get:function(){var f;if(void 0 === b.ZC){f=a(3)["default"];b.ZC=new b(f.HG);}return b.ZC;},enumerable:!1,configurable:!0}});b.reset=function(){b.ZC=void 0;};b.prototype.Rr=function(a,b,f,c,d,k){var h,q,r,u;h=!1;r=k.NRb?this.Hvb(f,b,a,k.ORb):-1;if(-1 === r){q={track:this.sqb(f,c,a,d,k),Hs:f,u:b,qZa:a,IL:[],pn:!1,xJ:!1};this.bh.push(q);u=function(){q.pn=!0;q.track.removeListener("created",u);};q.track.on("created",u);h=!1;}else (h=!0,q=this.bh[r]);a=new m.kDa(this.console,q.track,q.pn,h);q.IL.push(a);return a;};b.prototype.wJ=function(a){var b,f;a.mq();b=this.k1(function(b){return b.track === a.track;});if(-1 !== b){if((b=this.bh[b],1 === b.IL.length))(b.track.mq(),b.xJ=!0);else {f=b.IL.indexOf(a);0 <= f && b.IL.splice(f,1);}}else a.track.mq();};b.prototype.Oe=function(){this.AO.Oe();};b.prototype.sqb=function(a,b,f,m,d){var h,q,r;h=this;q=!1;a?1 === f?(a=!1,b=1,d.rp?(a=!0,b=d.SK):d.Iu && 2 < d.Iu && (a=!0,b=d.Iu),a={type:this.AO.VIDEO,openRange:!a,pipeline:a,connections:b,socketBufferSize:d.TM,minRequestSize:d.bL}):0 === f?(q=d.rp && (d.FWb || b && d.GWb),a={type:this.AO.AUDIO,openRange:!q,pipeline:q,connections:1,socketBufferSize:d.r_,minRequestSize:d.bL}):a={type:this.AO.c9a,openRange:!1,pipeline:!0,connections:1,socketBufferSize:d.zla,minRequestSize:d.bL}:a={type:0 === f?l["default"].Ta.AUDIO:l["default"].Ta.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === f?d.r_:d.TM,minRequestSize:d.bL};r=new this.AO(a,m);r.on("transportreport",function(a){var b;b=h.k1(function(a){return a.track === r;});-1 !== b && (b=h.bh[b],b.IL.length && b.IL[0].emit("transportreport",a));});r.on("destroyed",function(){var a;a=h.k1(function(a){return a.track === r;});-1 !== a && h.bh.splice(a,1);r.removeAllListeners();});if(q && d.EWb || d.n4a)r.on("pipelinedisabled",function(){d.n4a && 1 === r.config.type?r.J5(c.__assign(c.__assign({},r.config),{socketBufferSize:d.zHb,pipeline:!1,openRange:!0,connections:1})):r.J5(c.__assign(c.__assign({},r.config),{pipeline:!1,openRange:!0}));});return r;};b.prototype.Hvb=function(a,b,f,c){return this.k1(function(h){return !h.xJ && (!c && h.track.config.R7b || !a?!h.Hs && h.qZa === f:h.Hs && h.u === b && h.qZa === f);});};b.prototype.k1=function(a){for(var b=0;b < this.bh.length;++b){if(a(this.bh[b]))return b;}return -1;};return b;})();b.fo=d;},function(d,b,a){(function(a,b){function c(a,b,c,q){this.console=new a("ASEJS_PROGRESS","media|asejs");this.now=b;this.H0a=this.MSb=a=this.now();this.V0=a + c;this.cLb=c;this.OMa=a + q;this.debug=!1;this.Xz=this.Nx=0;this.iu=1E4;this.M2a=c / 100;this.O2a=a;this.N2a=1 * this.M2a / 4;this.b7=0;this.MQ="";this.eg(a,"progress tracking start");}c.prototype.constructor=c;c.prototype.eg=function(b,f){var c,q;c=((b - this.H0a) / 1E3).toFixed(3);c=("     ").slice(c.length - 4) + c;q=a.XGb();this.console.info(c + (" " + ((this.OMa - b) / 1E3).toFixed(3)) + (" " + Math.round(this.iu)) + (" M:(" + Math.floor(q.f6b / 1024 / 1024) + " MB/" + Math.floor(q.sSa / 1024 / 1024) + " MB) ") + this.MQ + f);};c.prototype.Vhb=function(a){var b;b=this.now();this.MQ=a?a + ": ":a;this.Nx=0;this.H0a=b;this.eg(b,"starting");};c.prototype.wib=function(b){var f,c;this.Xz++;if(!(this.Xz < this.iu)){this.Xz=0;f=this.now();c=f - (this.O2a + this.M2a);this.O2a=f;this.b7=.9 * this.b7 + .1 * c;this.b7 > this.N2a?(this.iu*=.875,this.iu=Math.max(1,this.iu)):this.b7 < -this.N2a && (this.iu*=1.5,this.iu=Math.min(this.iu,1E5));if(f >= this.OMa)throw (this.eg("Execution deadline exceeded after " + (f - this.MSb) + " ms" + this.MQ),Error("Execution deadline exceeded" + this.MQ));c=a.XGb();this.Nx=Math.max(this.Nx,c.sSa);if(7516192768 < c.sSa)throw Error("Heap total limit exceeded" + this.MQ);if(!(f <= this.V0)){for(;f > this.V0;){this.V0+=this.cLb;}this.eg(f,b);}}};c.$a=function(a,f,h,q){b.tB=new c(a,f,h || 5E3,q || 33E5);};c.Ura=function(a){b.tB && b.tB.Vhb(a);};c.update=function(a){b.tB && b.tB.wib(a);};c.QQa=function(){if(b.tB)return b.tB.Nx;};c.now=function(){return b.tB?b.tB.now():Date.now();};d.exports=c;}).call(this,a(428),a(190));},function(d){var b;b={bS:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};d.exports=b;},function(d,b,a){var f,h;function c(a){return a instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(a);}function l(a){return f.gf(a);}function k(a){return f.qa(a);}function m(a){return !c(a) && !l(a) && !k(a) && !Array.isArray(a) && f.zf(a);}f=a(8);h={gC:0,UX:1,oab:2,OBJECT:3,Ul:4};d.exports={ela:function(a){return c(a)?h.gC:l(a)?h.UX:k(a)?h.oab:m(a)?h.OBJECT:h.Ul;},d3:c,gf:l,qa:k,zf:m,Pp:h};},function(d,b,a){var k,m,f,h;function c(a,b,f){var c,h,q,d;b=k.__assign({},null === (q=null === a || void 0 === a?void 0:a.context) || void 0 === q?void 0:q.call(a,{$Wa:b,Dr:f}));if((null === a || void 0 === a?0:a.Dr) && f)if(!0 === a.Dr)b.args=f;else {q={};b.args=q;try{for(var m=k.__values(a.Dr),r=m.next();!r.done;r=m.next()){d=r.value;q[d]=f[d];}}catch(D){c={error:D};}finally{try{r && !r.done && (h=m["return"]) && h.call(m);}finally{if(c)throw c.error;}}}return b;}function l(a){var b;b=this.sca;b && (b.data=k.__assign(k.__assign({},b.data),a));}Object.defineProperty(b,"__esModule",{value:!0});b.SC=b.LRa=b.Rb=void 0;k=a(0);m=a(19);f=k.__importDefault(a(3));h=a(9);b.Rb=function(a){return function(f,q,m){var r;r=m.value;m.value=function(){var f,m,d,u,k,l,v;m=b.LRa(this);if(m){u=c(a,this,arguments);k=null !== (f=null === a || void 0 === a?void 0:a.Jc) && void 0 !== f?f:String(q);d=m.RP(k,u,null === a || void 0 === a?void 0:a.km);}f=this.sca;this.sca=d;try{return l=null === r || void 0 === r?void 0:r.apply(this,arguments);}catch(U){throw (v=U,U);}finally{if((this.sca=f,d))if((d.data || (d.data={}),v))d.data.error="" + v;else if(h.kS(l))l.then(function(b){d && (null === a || void 0 === a?0:a["return"]) && (d.data.resolve=b);},function(a){d && (d.data.reject="" + a);});else if(null === a || void 0 === a?0:a["return"])d.data.lRet=l;}};};};b.LRa=function(a){if(null === a || void 0 === a?0:a.tca)return a.tca;};d=(function(){function a(a){this.An=[];this.aZ=!1;this.H=k.__assign({WE:10},a);Object.defineProperties(a.Uu,{tca:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(a.prototype,{source:{get:function(){return this.H.source;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !this.aZ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cEb:{get:function(){return k.__spread(this.An);},enumerable:!1,configurable:!0}});a.prototype.vw=function(a){this.aZ || l.call(this.H.Uu,a);};a.prototype.RP=function(a,b,h){var q,m,r,d;if(!this.aZ){r=!1;d=null === (m=(q=this.H).cfa) || void 0 === m?void 0:m.call(q,this.H.Uu);q=c({},this.H.Uu);b=k.__assign(k.__assign(k.__assign({},d),q),b);d=0 < Object.keys(b).length;b={methodName:a,data:d?b:void 0,time:f["default"].time.aa()};h && this.An.length && (h=this.An[this.An.length - 1],h.methodName === a && (h.data=h.data || ({}),h.data.dedup=h.data.dedup || ({hitCount:1}),h.data.dedup.hitCount++,h.data.dedup.lJournal=b,r=!0));this.gob(b);r || this.An.push(b);this.An.length > this.H.WE && this.An.shift();return b;}};a.prototype.gob=function(a){var b;m.ma && (null === (b=this.H.console) || void 0 === b?void 0:b.trace(this.H.source + "::" + a.Jc,a.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.H,a);};a.prototype.Tb=function(){Object.defineProperties(this.H.Uu,{tca:{enumerable:!1,value:null,configurable:!0}});this.aZ=!0;this.clear();};a.prototype.clear=function(){this.An=[];};return a;})();b.SC=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.yt=void 0;d=b.yt || (b.yt={});d[d.zYb=8]="Backspace";d[d.Tab=9]="Tab";d[d.NZb=13]="Enter";d[d.N2b=16]="Shift";d[d.XYb=17]="Ctrl";d[d.bYb=18]="Alt";d[d.D1b=19]="PauseBreak";d[d.QYb=20]="CapsLock";d[d.PZb=27]="Escape";d[d.P2b=32]="Space";d[d.C1b=33]="PageUp";d[d.B1b=34]="PageDown";d[d.MZb=35]="End";d[d.s_b=36]="Home";d[d.M_b=37]="LeftArrow";d[d.d3b=38]="UpArrow";d[d.T1b=39]="RightArrow";d[d.tZb=40]="DownArrow";d[d.G_b=45]="Insert";d[d.qZb=46]="Delete";d[d.q3b=48]="Zero";d[d.Z0b=49]="One";d[d.Y2b=50]="Two";d[d.W2b=51]="Three";d[d.j_b=52]="Four";d[d.h_b=53]="Five";d[d.O2b=54]="Six";d[d.M2b=55]="Seven";d[d.LZb=56]="Eight";d[d.G0b=57]="Nine";d[d.SXb=65]="A";d[d.dYb=66]="B";d[d.HYb=67]="C";d[d.b7a=68]="D";d[d.E=69]="E";d[d.QZb=70]="F";d[d.k_b=71]="G";d[d.n_b=72]="H";d[d.m9a=73]="I";d[d.H_b=74]="J";d[d.f$=75]="K";d[d.t$a=76]="L";d[d.P_b=77]="M";d[d.fab=78]="N";d[d.T0b=79]="O";d[d.a1b=80]="P";d[d.Q=81]="Q";d[d.M1b=82]="R";d[d.Qbb=83]="S";d[d.Bcb=84]="T";d[d.Z2b=85]="U";d[d.e3b=86]="V";d[d.j3b=87]="W";d[d.pca=88]="X";d[d.o3b=89]="Y";d[d.p3b=90]="Z";d[d.N_b=91]="LeftWindowKey";d[d.U1b=92]="RightWindowKey";d[d.K2b=93]="SelectKey";d[d.J0b=96]="Numpad0";d[d.K0b=97]="Numpad1";d[d.L0b=98]="Numpad2";d[d.M0b=99]="Numpad3";d[d.N0b=100]="Numpad4";d[d.O0b=101]="Numpad5";d[d.P0b=102]="Numpad6";d[d.Q0b=103]="Numpad7";d[d.R0b=104]="Numpad8";d[d.S0b=105]="Numpad9";d[d.g0b=106]="Multiply";d[d.aYb=107]="Add";d[d.R2b=109]="Subtract";d[d.pZb=110]="DecimalPoint";d[d.sZb=111]="Divide";d[d.RZb=112]="F1";d[d.VZb=113]="F2";d[d.WZb=114]="F3";d[d.XZb=115]="F4";d[d.YZb=116]="F5";d[d.ZZb=117]="F6";d[d.$Zb=118]="F7";d[d.a_b=119]="F8";d[d.b_b=120]="F9";d[d.SZb=121]="F10";d[d.TZb=122]="F11";d[d.UZb=123]="F12";d[d.I0b=144]="NumLock";d[d.I2b=145]="ScrollLock";d[d.L2b=186]="SemiColon";d[d.OZb=187]="Equals";d[d.TYb=188]="Comma";d[d.oZb=189]="Dash";d[d.E1b=190]="Period";d[d.i_b=191]="ForwardSlash";d[d.X2b=192]="Tilde";d[d.$0b=219]="OpenBracket";d[d.yYb=220]="BackSlash";d[d.SYb=221]="CloseBracket";d[d.L1b=222]="Quote";},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.kr=b.Xja=void 0;c=a(11);l=a(71);k=a(481);b.Xja=function(a,b,h,q){var f,m;m=a.jt;m=null === (f=null === m || void 0 === m?void 0:m[0].xc) || void 0 === f?void 0:f[0].xQ;f=c.U_(h.Dd);m=c.aha(! !a.Oo,!1,m);f=l.vh.yd.kq(Object.assign(Object.assign({},f),m));b=k.gla(b,k.sNa);return {u:q,Ud:0,Syb:function(){return {pa:a,Rf:!1,FD:a.aNa[0].FD};},config:f,Cd:! !h.Cd,eWa:h.eWa,u_:b};};b.kr=function(){return "";};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.DX=b.Oi=b.Kh=void 0;b.Kh=function(){};(function(a){a.iH="PRE_FETCH";a.sba="QC";a.$j="STANDARD";a.VX="SUPPLEMENTAL";a.$7a="DOWNLOAD";})(b.Oi || (b.Oi={}));b.DX="PboManifestCommandSymbol";},function(d,b,a){var h;function c(a){return "function" === typeof a?a.name:"symbol" === typeof a?a.toString():a;}function l(a,b){return null === a.Zx?!1:a.Zx.Ff === b?!0:l(a.Zx,b);}function k(a){function b(a,f){void 0 === f && (f=[]);f.push(c(a.Ff));return null !== a.Zx?b(a.Zx,f):f;}return b(a).reverse().join(" --\x3e ");}function m(a){a.Dga.forEach(function(a){if(l(a,a.Ff))throw (a=k(a),Error(h.F6a + " " + a));m(a);});}function f(a){var b;if(a.name)return a.name;a=a.toString();b=a.match(/^function\s*([^\s(]+)/);return b?b[1]:"Anonymous function: " + a;}Object.defineProperty(b,"__esModule",{value:!0});h=a(52);b.eK=c;b.mUa=function(a,b,c){var h;h="";a=c(a,b);0 !== a.length && (h="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null !== a.tl && (b=f(a.tl));h=h + "\n " + b;a.UD.KVa && (h=h + " - " + a.UD.KVa);}));return h;};b.nnb=m;b.MEb=function(a,b){var f,c;if(b.Hma() || b.yma()){f="";c=b.fzb();b=b.Mxb();null !== c && (f+=c.toString() + "\n");null !== b && b.forEach(function(a){f+=a.toString() + "\n";});return " " + a + "\n " + a + " - " + f;}return " " + a;};b.getFunctionName=f;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kH=void 0;b.kH="PlatformConfigDefaultsSymbol";},function(d,b,a){var l,k,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.IG=b.Wb=void 0;l=a(132);k=a(40);m=a(2);c.eka=function(a){if(a){if(a.includes(b.IG.oB))return l.Qm.oB;if(a.includes("fps"))return l.Qm.oE;if(a.includes(b.IG.K7))return l.Qm.K7;}throw new k.Bc(m.L.u8a,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + a);};c.hQa=function(a){switch(a){case l.Qm.oB:return b.IG.oB;case l.Qm.oE:return b.IG.oE;default:return b.IG.K7;}};b.Wb=c;c.Jt="com.microsoft.playready";c.lf="com.microsoft.playready.hardware";c.fO="com.microsoft.playready.software";c.G1b="com.chromecast.playready";c.H1b="org.chromium.external.playready";c.g_b="com.apple.fps.2_0";c.Zcb="com.widevine.alpha";c.I1b="com.microsoft.playready.recommendation";c.J1b="com.microsoft.playready.recommendation.3000";c.K1b="com.microsoft.playready.recommendation.2000";b.IG={oE:"fairplay",K7:"widevine",oB:"playready"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Owa=b.Qm=void 0;d=b.Qm || (b.Qm={});d[d.oB=0]="playready";d[d.K7=1]="widevine";d[d.oE=2]="fairplay";d[d.A4b=3]="clearkey";b.Owa="DrmTypeSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cY=b.jo=void 0;b.jo=function(){};b.cY="StringObjectReaderSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(24),b);d.__exportStar(a(303),b);d.__exportStar(a(586),b);d.__exportStar(a(199),b);d.__exportStar(a(115),b);a(593);a(597);a(600);a(604);a(607);a(610);a(612);a(615);a(619);a(622);a(623);a(629);a(631);a(633);a(635);a(636);a(642);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jO=b.Sba=void 0;b.Sba="SystemRandomSymbol";b.jO="RandomGeneratorSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.GG=b.g8a=void 0;c=a(29);b.g8a=function(){this.YP=[];this.wG=[];this.Bfa=c.Hy.hC;this.E7=c.Vl.hC;};b.GG="DeviceCapabilitiesConfigSymbol";},function(d,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gd=void 0;l=a(29);c.DMa=function(a){var b;b={};b[l.Od.mO]=c.NG;b[l.Od.xW]=c.NG;b[l.Od.tH]=c.BN;b[l.Od.Ev]=c.Ev;b[l.Od.gr]=a || c.gr;b[l.Od.zG]=c.NG;b[l.Od.dz]=c.vO;b[l.Od.sj]=c.sj;return b;};b.Gd=c;c.NG="avc1.640028";c.BN="hev1.1.6.L93.B0";c.ZV="dvhe.05.01";c.G8="dvhe.05.04";c.H8="dvhe.05.05";c.I8="dvhe.05.06";c.J8="dvhe.05.07";c.K8="dvhe.05.09";c.gr=c.ZV;c.Ev=c.BN;c.FV="mp4a.40.2";c.xO="mp4a.40.42";c.e7a="ec-3";c.g3b="vp9";c.vO="vp09.00.11.08.02";c.h3b="vp09.02.31.10.01";c.sj="av01.0.04M.08";c.X6a=[c.K8,c.J8,c.I8,c.H8,c.G8,c.ZV];},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gY=b.po=void 0;b.po={jH:"PRIMARY",cua:"ASSISTIVE",tva:"COMMENTARY",NONE:"NONE"};b.gY={assistive:b.po.cua,closedcaptions:b.po.cua,directorscommentary:b.po.tva,commentary:b.po.tva,subtitles:b.po.jH,primary:b.po.jH,none:b.po.NONE};},function(d){var f,h,q,u;function b(){b.$a.call(this);}function a(a){if("function" !== typeof a)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof a);}function c(f,c,h,q){var m,d;a(h);m=f.bg;void 0 === m?(m=f.bg=Object.create(null),f.YC=0):(void 0 !== m.C7b && (f.emit("newListener",c,h.listener?h.listener:h),m=f.bg),d=m[c]);void 0 === d?(m[c]=h,++f.YC):("function" === typeof d?d=m[c]=q?[h,d]:[d,h]:q?d.unshift(h):d.push(h),h=void 0 === f.fP?b.Xrb:f.fP,0 < h && d.length > h && !d.uXb && (d.uXb=!0,h=Error("Possible EventEmitter memory leak detected. " + d.length + " " + String(c) + " listeners added. Use emitter.setMaxListeners() to increase limit"),h.name="MaxListenersExceededWarning",h.Xr=f,h.type=c,h.count=d.length,console && console.warn && console.warn(h)));return f;}function l(){if(!this.aPa)return (this.target.removeListener(this.type,this.V4a),this.aPa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function k(a,b,f){a={aPa:!1,V4a:void 0,target:a,type:b,listener:f};b=l.bind(a);b.listener=f;return a.V4a=b;}function m(a){var b;b=this.bg;if(void 0 !== b){a=b[a];if("function" === typeof a)return 1;if(void 0 !== a)return a.length;}return 0;}f="object" === typeof Reflect?Reflect:null;h=f && "function" === typeof f.apply?f.apply:function(a,b,f){return Function.prototype.apply.call(a,b,f);};q=Number.isNaN || (function(a){return a !== a;});d.exports=b;d.exports.once=function(a,b){return new Promise(function(f,c){var q;function h(){void 0 !== q && a.removeListener("error",q);f([].slice.call(arguments));}"error" !== b && (q=function(f){a.removeListener(b,h);c(f);},a.once("error",q));a.once(b,h);});};b.EventEmitter=b;b.prototype.bg=void 0;b.prototype.YC=0;b.prototype.fP=void 0;u=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return u;},set:function(a){if("number" !== typeof a || 0 > a || q(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + a + ".");u=a;}});b.$a=function(){if(void 0 === this.bg || this.bg === Object.getPrototypeOf(this).bg)(this.bg=Object.create(null),this.YC=0);this.fP=this.fP || void 0;};b.prototype.setMaxListeners=function(a){if("number" !== typeof a || 0 > a || q(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + a + ".");this.fP=a;return this;};b.prototype.emit=function(a){var c,f,q;for(var b=[],f=1;f < arguments.length;f++){b.push(arguments[f]);}c="error" === a;f=this.bg;if(void 0 !== f)c=c && void 0 === f.error;else if(!c)return !1;if(c){0 < b.length && (q=b[0]);if(q instanceof Error)throw q;b=Error("Unhandled error." + (q?" (" + q.message + ")":""));b.context=q;throw b;}f=f[a];if(void 0 === f)return !1;if("function" === typeof f)h(f,this,b);else {q=f.length;for(var c=Array(q),m=0;m < q;++m){c[m]=f[m];}for(f=0;f < q;++f){h(c[f],this,b);}}return !0;};b.prototype.addListener=function(a,b){return c(this,a,b,!1);};b.prototype.on=b.prototype.addListener;b.prototype.UYa=function(a,b){return c(this,a,b,!0);};b.prototype.once=function(b,f){a(f);this.on(b,k(this,b,f));return this;};b.prototype.yMb=function(b,f){a(f);this.UYa(b,k(this,b,f));return this;};b.prototype.removeListener=function(b,f){var c,h,q,m,d;a(f);h=this.bg;if(void 0 === h)return this;c=h[b];if(void 0 === c)return this;if(c === f || c.listener === f)0 === --this.YC?this.bg=Object.create(null):(delete h[b],h.removeListener && this.emit("removeListener",b,c.listener || f));else if("function" !== typeof c){q=-1;for(m=c.length - 1;0 <= m;m--){if(c[m] === f || c[m].listener === f){d=c[m].listener;q=m;break;}}if(0 > q)return this;if(0 === q)c.shift();else {for(;q + 1 < c.length;q++){c[q]=c[q + 1];}c.pop();}1 === c.length && (h[b]=c[0]);void 0 !== h.removeListener && this.emit("removeListener",b,d || f);}return this;};b.prototype.oL=b.prototype.removeListener;b.prototype.removeAllListeners=function(a){var b,f,c;f=this.bg;if(void 0 === f)return this;if(void 0 === f.removeListener)return (0 === arguments.length?(this.bg=Object.create(null),this.YC=0):void 0 !== f[a] && (0 === --this.YC?this.bg=Object.create(null):delete f[a]),this);if(0 === arguments.length){b=Object.keys(f);for(f=0;f < b.length;++f){c=b[f];"removeListener" !== c && this.removeAllListeners(c);}this.removeAllListeners("removeListener");this.bg=Object.create(null);this.YC=0;return this;}b=f[a];if("function" === typeof b)this.removeListener(a,b);else if(void 0 !== b)for(f=b.length - 1;0 <= f;f--){this.removeListener(a,b[f]);}return this;};b.prototype.listeners=function(a){var b;b=this.bg;if(void 0 === b)a=[];else if((a=b[a],void 0 === a))a=[];else if("function" === typeof a)a=[a.listener || a];else {for(var b=Array(a.length),f=0;f < b.length;++f){b[f]=a[f].listener || a[f];}a=b;}return a;};b.listenerCount=function(a,b){return "function" === typeof a.listenerCount?a.listenerCount(b):m.call(a,b);};b.prototype.listenerCount=m;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Ql=void 0;c=a(0).__importDefault(a(3));l=a(108);d=(function(){function a(a){this.G=new c["default"].Console("ASEJS","media|asejs","(" + a + ")");this.Nda=[];}a.prototype.ep=function(a){this.Nda[a] || (this.Nda[a]=l.Fu(c["default"],this.G,"[" + a + "]"));return this.Nda[a];};return a;})();b.Ql=new d(0);},function(d,b,a){function c(a,b){this.EI=a;this.Yi=Math.floor((a + b - 1) / b);this.dd=b;this.reset();}a(5);c.prototype.shift=function(){this.qd.shift();this.Yt.shift();};c.prototype.Vu=function(a){return this.LKa(this.qd[a],a);};c.prototype.update=function(a,b){this.qd[a]=(this.qd[a] || 0) + b;};c.prototype.push=function(){this.qd.push(0);this.Yt.push(0);this.eb+=this.dd;};c.prototype.add=function(a,b,c){var f,h,q;if(null === this.eb)for((f=Math.max(Math.floor((c - b + this.dd - 1) / this.dd),1),this.eb=b);this.qd.length < f;){this.push();}for(;this.eb <= c;){this.push();this.qd.length > this.Yi && this.shift();}if(null === this.Xm || b < this.Xm)this.Xm=b;if(b > this.eb - this.dd)this.update(this.qd.length - 1,a);else if(b == c)(f=this.qd.length - Math.max(Math.ceil((this.eb - c) / this.dd),1),0 <= f && this.update(f,a));else for(f=1;f <= this.qd.length;++f){h=this.eb - f * this.dd;q=h + this.dd;if(!(h > c)){if(q < b)break;this.update(this.qd.length - f,Math.round(a * (Math.min(q,c) - Math.max(h,b)) / (c - b)));}}for(;this.qd.length > this.Yi;){this.shift();}};c.prototype.start=function(a){null === this.Xm && (this.Xm=a);null === this.eb && (this.eb=a);};c.prototype.stop=function(a){var b,c;if(null !== this.eb)if(a - this.eb > 10 * this.EI)this.reset();else {for(;this.eb <= a;){this.push();this.qd.length > this.Yi && this.shift();}b=this.qd.length - Math.ceil((this.eb - this.Xm) / this.dd);c=this.qd.length - Math.ceil((this.eb - a) / this.dd);if(0 <= c)if((0 > b && (this.Xm=this.eb - this.dd * this.qd.length,b=0),b === c))this.Yt[b]+=a - this.Xm;else if(c > b)for((this.Yt[b]+=(this.eb - this.Xm) % this.dd,this.Yt[c]+=this.dd - (this.eb - a) % this.dd,a=b + 1);a < c;++a){this.Yt[a]=this.dd;}this.Xm=null;}};c.prototype.LKa=function(a,b){b=this.Oja(b);return 0 === b?null:8 * a / b;};c.prototype.Oja=function(a){var b;b=this.Yt[a];null !== this.Xm && (a=this.eb - (this.qd.length - a - 1) * this.dd,a > this.Xm && (b=a - this.Xm <= this.dd?b + (a - this.Xm):this.dd));return b;};c.prototype.get=function(a,b){var c,f;c=this.qd.map(this.LKa,this);if("last" === a)for(a=0;a < c.length;++a){null === c[a] && (c[a]=0 < a?c[a - 1]:0);}else if("average" === a){b=1 - Math.pow(.5,1 / ((b || 2E3) / this.dd));for(a=0;a < c.length;++a){null === c[a]?c[a]=Math.floor(f || 0):f=void 0 !== f?b * c[a] + (1 - b) * f:c[a];}}return c;};c.prototype.reset=function(){this.tda || (this.qd=[],this.Yt=[],this.Xm=this.eb=null);};c.prototype.setInterval=function(a){this.Yi=Math.floor((a + this.dd - 1) / this.dd);};d.exports=c;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);return b;})(Error);b.assert=function(a,b){if(!a)throw new l(b || "Assertion failed");};},function(d){var c,l;function b(){var b,m;if(DataView.prototype && DataView.prototype.gK && !l){try{b=new ArrayBuffer(4);m=new DataView(b);m.hK(0,4,1);}catch(f){return;}try{b=new ArrayBuffer(4);m=new DataView(b);m.hK(1,2,2);}catch(f){DataView.prototype.hK=a(DataView.prototype.hK,DataView.prototype.getUint8,Uint8Array);DataView.prototype.l2=a(DataView.prototype.l2,DataView.prototype.getUint16,Uint16Array);DataView.prototype.gK=a(DataView.prototype.gK,DataView.prototype.getUint32,Uint32Array);DataView.prototype.nka=a(DataView.prototype.nka,DataView.prototype.getInt8,Int8Array);DataView.prototype.lka=a(DataView.prototype.lka,DataView.prototype.getInt16,Int16Array);DataView.prototype.mka=a(DataView.prototype.mka,DataView.prototype.getInt32,Int32Array);}c.BAb=function(a,b,c,m,d){return c?a.hK(b,c,m || 1,d):new Uint8Array(0);};c.zAb=function(a,b,c,m,d){return c?a.l2(b,c,m || 2,d):new Uint16Array(0);};c.AAb=function(a,b,c,m,d){return c?a.gK(b,c,m || 4,d):new Uint32Array(0);};c.O5b=function(a,b,c,m,d){return c?a.nka(b,c,m || 1,d):new Int8Array(0);};c.M5b=function(a,b,c,m,d){return c?a.lka(b,c,m || 2,d):new Int16Array(0);};c.N5b=function(a,b,c,m,d){return c?a.mka(b,c,m || 4,d):new Int32Array(0);};l=!0;}}function a(a,b,f){return function(c,q,m,d){var h;m=m || f.BYTES_PER_ELEMENT;if(c + q * m > this.byteLength){h=new f(q);h.set(a.call(this,c,q - 1,m,d));h[q - 1]=b.call(this,c + (q - 1 * m),d);return h;}return a.call(this,c,q,m,d);};}c={hK:function(a,b,f,c,q){var h;h=new Uint8Array(f);c=c || 1;for(var m=0;m < f;(++m,b+=c)){h[m]=a.getUint8(b,q);}return h;},l2:function(a,b,f,c,q){var h;h=new Uint16Array(f);c=c || 2;for(var m=0;m < f;(++m,b+=c)){h[m]=a.getUint16(b,q);}return h;},gK:function(a,b,f,c,q){var h;h=new Uint32Array(f);c=c || 4;for(var m=0;m < f;(++m,b+=c)){h[m]=a.getUint32(b,q);}return h;},nka:function(a,b,f,c,q){var h;h=new Int8Array(f);c=c || 1;for(var m=0;m < f;(++m,b+=c)){h[m]=a.getInt8(b,q);}return h;},lka:function(a,b,f,c,q){var h;h=new Int16Array(f);c=c || 2;for(var m=0;m < f;(++m,b+=c)){h[m]=a.getInt16(b,q);}return h;},mka:function(a,b,f,c,q){var h;h=new Int32Array(f);c=c || 4;for(var m=0;m < f;(++m,b+=c)){h[m]=a.getInt32(b,q);}return h;},x5b:b};l=!1;c.Uxb=function(){return l;};b();d.exports=c;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(237);d=(function(){function a(a,b,c){this.tag=a;this.view=b;this.M=c;this.startOffset=c.offset;}a.vZa=function(b,f){var c,q;c=b.Nd();q=b.yNb();b=new (l.vJ[c] || a)(c,b.Nxb(q),b);b.parse(f);return b;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.M.offset=this.startOffset + this.length;this.M.eF=0;return !0;};a.prototype.TOa=function(a){var b;b=[];this.tag === a && b.push(this);if(this.vJ)for(var h=0;h < this.vJ.length;h++){b=c.__spreadArrays(b,this.vJ[h].TOa(a));}return b;};a.prototype.nA=function(a){for(a=this.TOa(a);0 < a.length;){return a[0];}};a.prototype.DHa=function(){for(this.vJ=[];this.M.offset < this.startOffset + this.length;){this.vJ.push(a.vZa(this.M,this));}};return a;})();b.Q8=d;d.prototype.skip=d.prototype.parse;},function(d,b,a){var c,l,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Sl=b.Gba=void 0;c=a(21);(function(a){a[a.absolute=0]="absolute";a[a.TZa=1]="relative";})(l=b.Gba || (b.Gba={}));m=(function(){function a(a,b){this.type=a;this.timestamp=b;}a.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + l[this.type];};Object.defineProperties(a,{lb:{get:function(){k || (k=new a(l.TZa,c.S.lb));return k;},enumerable:!1,configurable:!0}});return a;})();d=(function(){function a(){}a.zV=function(a){return new m(l.absolute,a);};Object.defineProperties(a,{sXb:{get:function(){return m.lb;},enumerable:!1,configurable:!0}});a.AV=function(a){return new m(l.TZa,a);};a.Uta=new m(l.absolute,c.S.ux);return a;})();b.Sl=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.TFb=b.YXa=b.CKb=b.cQa=b.KKb=b.VB=b.M7=b.er=b.ZM=b.YM=b.rj=void 0;c=a(23);l=a(20);b.rj="$attributes";b.YM="$children";b.ZM="$name";b.er="$text";b.M7="$parent";b.VB="$sibling";b.KKb=/^\s*\<\?xml.*\?\>/i;b.cQa=function(a,b,f){for(var c=2;c < arguments.length;++c){;}for(c=1;(b=arguments[c++]) && (a=a[b]);){;}return a;};b.CKb=function(a,m){var f;a?f=c.ce(a[b.er]):void 0 !== m && (f=m);l.LQ(f);return f;};b.YXa=function(a,c){var f;a?f=a[b.er]:void 0 !== c && (f=c);l.PMa(f);return f;};b.TFb=function(a,c){var f;f={};f[b.rj]=a;f[b.er]=c;return f;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oH=void 0;b.oH="PlaygraphConfigSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(1104),b);d.__exportStar(a(1105),b);},function(d,b,a){var l,k,m;function c(a,b){this.Rt=b?[b]:[];this.sda="$op$" + m++;this.o=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Cc=void 0;l=a(12);k=a(20);m=0;c.prototype.addListener=function(a,b){var f;f=this;k.Iha(a);k.yb(0 > this.Rt.indexOf(a));a[l.vX + this.sda]=b;this.Rt=this.Rt.slice();this.Rt.push(a);this.Rt.sort(function(a,b){return f.DSb(a,b);});};c.prototype.removeListener=function(a){var b;k.Iha(a);this.Rt=this.Rt.slice();0 <= (b=this.Rt.indexOf(a)) && this.Rt.splice(b,1);};c.prototype.set=function(a,b){if(this.o !== a){b={oldValue:this.o,newValue:a,Ur:b};this.o=a;a=this.Rt;for(var f=a.length,c=0;c < f;c++){a[c](b);}}};c.prototype.when=function(a){var b;b=this;return new Promise(function(f){function c(h){if(a(h.newValue))return (b.removeListener(c),f(h.newValue));}if(a(b.o))return f(b.o);b.addListener(c);});};c.prototype.DSb=function(a,b){return (a[l.vX + this.sda] || 0) - (b[l.vX + this.sda] || 0);};ma.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});b.Cc=c;},function(d,b,a){var l,k,m;function c(a,b,c,d,r){b=m.Lh.call(this,a,b,d,k.Nh.events,r,k.Nh.events + "/" + c) || this;b.context=a;b.Iub=c;return b;}Object.defineProperty(b,"__esModule",{value:!0});b.Lp=void 0;d=a(0);l=a(1);k=a(45);m=a(72);a(179);L(c,m.Lh);c.prototype.Oe=function(a,b){var f,c;f=this;c=this.A_(b);!1;!1;return this.send(a,b.href,c).then(function(){return b;})["catch"](function(a){throw f.rm(a);});};c.prototype.$o=function(a,b,c){var f,h;f=this;h=this.A_(c);!1;!1;return this.send(a,b.DR("events").href,h).then(function(a){b.Uea(a.result.links);return c;})["catch"](function(a){throw f.rm(a);});};c.prototype.A_=function(a){return {event:this.Iub,xid:a.ea,position:a.position || 0,clientTime:a.tQ,sessionStartTime:a.oU,mediaId:a.UK,trackId:a.Xa,sessionId:a.sessionId,appId:a.TP,playTimes:this.Slb(a.wT),sessionParams:a.Tn,mdxControllerEsn:a.eoa};};c.prototype.ega=function(a){return {downloadableId:a.Jd,duration:a.duration};};c.prototype.Slb=function(a){var b;b={total:a.total,audio:a.audio.map(this.ega),video:a.video.map(this.ega),text:a.text.map(this.ega)};a.total !== a.lG && (b.totalContentTime=a.lG);return b;};a=c;a=d.__decorate([l.O(),d.__param(0,l.Hi()),d.__param(1,l.Hi()),d.__param(2,l.Hi()),d.__param(3,l.Hi()),d.__param(4,l.Hi())],a);b.Lp=a;},function(d){function b(a,b){return a.some(function(a){return a.id === b;});}function a(a,b){return a.filter(c.bind(null,b)).map(l).reduce(k,0);}function c(a,b){return a.id === b.id && a.displayTime + a.duration === b.displayTime;}function l(a){return a.duration;}function k(a,b){return a + b;}d.exports={Onb:function(a,b,c){for(var f=0;f < a.length;f++){if(a[f] !== b[f])return (c.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1);}return !0;},wha:function(a,b,c){var f;f={};f.displayTime=a.om;f.duration=a.duration;f.originX=a.cKb;f.originY=a.dKb;f.sizeX=a.vSb;f.sizeY=a.wSb;f.imageData=b;f.id=a.FE;f.rootContainerExtentX=c.FPb;f.rootContainerExtentY=c.GPb;return f;},dka:function(a,b){return "o_" + a + "s_" + b;},XWb:function(a,b){b("P" === String.fromCharCode(a[1]));b("N" === String.fromCharCode(a[2]));b("G" === String.fromCharCode(a[3]));},ic:function(a){return "undefined" !== typeof a;},A8b:b,i5b:a,CR:function(a,b){var f,c;f=Object.create({});for(c in a){f[c]=a[c];}a instanceof Error && (f.message=a.message,f.stack=a.stack);f.errorString=b;return f;},assert:function(a,b){if(!a)throw (b && b.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},ESa:function(a){return a && 0 < a.entries.length && 0 === a.images.length;},ETb:function(a,b){for(var f=b.entries.length,c,m=0;m < f;m++){if((c=b.entries[m],c.om <= a && c.om + c.duration >= a))return !0;}return !1;},FTb:function(a,b,c){for(var f=c.entries.length,h,m,d=0;d < f;d++){h=c.entries[d];m=h.om;h=m + h.duration;if(b < m)break;if(m <= a && h >= a || m > a && m <= b)return !0;}return !1;},WLa:function(c){return c.map(function(b,h){b.duration+=a(c.slice(h + 1),b);return b;}).reduce(function(a,c){b(a,c.id) || a.push(c);return a;},[]);},Uka:function(a){return a.reduce(function(a,b){return a + b.entries.reduce(function(a,b){return b.Rla + a;},0);},0);},ctb:function(a,b){return a && a.cv <= b && a.xp >= b;},pyb:function(a){if(a)return a.endTime;},Lyb:function(a){try{return String.fromCharCode.apply(String,a);}catch(f){}return "";}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oN=void 0;b.oN="CannedChallengeProvider";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.A9=b.z9=b.xba=b.yba=void 0;b.yba="ReportSyncSymbol";b.xba="ReportApiErrorSyncSymbol";b.z9="FtlProbeConfigSymbol";b.A9="FtlProbeSymbol";},function(d,b){b.isArray=Array.isArray || (function(a){return a && "number" === typeof a.length;});},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(){a.apply(this,arguments);}c(b,a);b.prototype.M4=function(a,b){this.destination.next(b);};b.prototype.wIb=function(a){this.destination.error(a);};b.prototype.Ru=function(){this.destination.complete();};return b;})(a(64).no);b.xX=d;},function(d,b,a){var c,l,k,m,f,h,q,u;c=a(88);l=a(309);k=a(310);m=a(301);f=a(24);h=a(202);q=a(596);u=a(201);b.S6=function(a,b,d,y){var r;r=new q.Lya(a,d,y);if(r.closed)return null;if(b instanceof f.Eb){if(b.ew)(r.next(b.value),r.complete());else return (r.Zn=!0,b.subscribe(r));}else if(l.gTa(b)){a=0;for(d=b.length;a < d && !r.closed;a++){r.next(b[a]);}r.closed || r.complete();}else {if(k.kS(b))return (b.then(function(a){r.closed || (r.next(a),r.complete());},function(a){return r.error(a);}).then(null,function(a){c.root.setTimeout(function(){throw a;});}),r);if(b && "function" === typeof b[h.iterator]){b=b[h.iterator]();do {a=b.next();if(a.done){r.complete();break;}r.next(a.value);if(r.closed)break;}while(1);}else if(b && "function" === typeof b[u.observable]){if((b=b[u.observable](),"function" !== typeof b.subscribe))r.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return b.subscribe(new q.Lya(a,d,y));}else (b="You provided " + (m.zf(b)?"an invalid object":"'" + b + "'") + " where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",r.error(new TypeError(b)));}return null;};},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b){a.call(this);this.Ea=b;}c(b,a);b.create=function(a){return new b(a);};b.Hc=function(a){a.Uj.complete();};b.prototype.dn=function(a){var f;f=this.Ea;if(f)return f.bd(b.Hc,0,{Uj:a});a.complete();};return b;})(a(24).Eb);b.oW=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sH=void 0;b.sH="TimeoutMonitorFactorySymbol";},function(d,b,a){var l,k,m,f;function c(a,b,c,d){var h;h=m.pN.call(this,a,b,l.or.VEa,d) || this;h.config=a;h.Lu=b;h.is=c;h.b4=d;h.type=l.Vl.hC;h.uV=f.Gd.DMa();return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Mp=void 0;l=a(29);k=a(56);m=a(350);d=a(105);f=a(137);new d.Zy();L(c,m.pN);c.prototype.mv=function(){return Promise.resolve(!1);};c.prototype.nx=function(){return Promise.resolve("");};c.prototype.PU=function(){return this.config().Cia?this.b4.vma()?this.b4.PJ(k.T.PG).then(function(a){return {result:a,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.V6=function(){return this.config().Cia?this.b4.vma()?this.b4.PJ(k.T.EG).then(function(a){return {result:a,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.QU=function(){return Promise.resolve(!1);};c.prototype.NU=function(){return Promise.resolve(!1);};c.prototype.VJ=function(a){return this.uV[a];};c.prototype.Sea=function(a){return a;};c.prototype.XUa=function(a){switch(a){case l.Mi.pC:return "1.4";case l.Mi.zt:return "2.2";}};c.prototype.ZD=function(){var a;a={};a[k.T.AN]="avc1.4D401E";a[k.T.OG]="avc1.4D401F";a[k.T.C9]="avc1.4D4028";a[k.T.J9]="hev1.2.6.L90.B0";a[k.T.K9]="hev1.2.6.L93.B0";a[k.T.L9]="hev1.2.6.L120.B0";a[k.T.M9]="hev1.2.6.L123.B0";a[k.T.QG]="hev1.2.6.L150.B0";a[k.T.RG]="hev1.2.6.L153.B0";a[k.T.HW]="hev1.2.6.L90.B0";a[k.T.JW]="hev1.2.6.L93.B0";a[k.T.LW]="hev1.2.6.L120.B0";a[k.T.NW]="hev1.2.6.L123.B0";a[k.T.D9]="hev1.2.6.L90.B0";a[k.T.E9]="hev1.2.6.L93.B0";a[k.T.F9]="hev1.2.6.L120.B0";a[k.T.G9]="hev1.2.6.L123.B0";a[k.T.H9]="hev1.2.6.L150.B0";a[k.T.I9]="hev1.2.6.L153.B0";a[k.T.DN]="hev1.2.6.L90.B0";a[k.T.EN]="hev1.2.6.L93.B0";a[k.T.PG]="hev1.2.6.L120.B0";a[k.T.FN]="hev1.2.6.L123.B0";a[k.T.GN]="hev1.2.6.L150.B0";a[k.T.HN]="hev1.2.6.L153.B0";a[k.T.yW]="hev1.2.6.L90.B0";a[k.T.zW]="hev1.2.6.L93.B0";a[k.T.AW]="hev1.2.6.L120.B0";a[k.T.BW]="hev1.2.6.L123.B0";a[k.T.DW]="hev1.2.6.L150.B0";a[k.T.EW]="hev1.2.6.L153.B0";a[k.T.sN]=f.Gd.ZV;a[k.T.tN]=f.Gd.G8;a[k.T.EG]=f.Gd.H8;a[k.T.uN]=f.Gd.I8;a[k.T.vN]=f.Gd.J8;a[k.T.eW]=f.Gd.K8;a[k.T.$V]=f.Gd.ZV;a[k.T.aW]=f.Gd.G8;a[k.T.bW]=f.Gd.H8;a[k.T.cW]=f.Gd.I8;a[k.T.dW]=f.Gd.J8;a[k.T.fW]=f.Gd.K8;a[k.T.W8a]="avc1.640016";a[k.T.vW]="avc1.64001E";a[k.T.wW]="avc1.64001F";a[k.T.B9]="avc1.640028";a[k.T.SEa]=f.Gd.vO;a[k.T.uH]=f.Gd.vO;a[k.T.vH]=f.Gd.vO;a[k.T.wO]=f.Gd.vO;a[k.T.eua]=f.Gd.sj;a[k.T.fua]=f.Gd.sj;a[k.T.gua]=f.Gd.sj;a[k.T.hua]=f.Gd.sj;a[k.T.iua]=f.Gd.sj;a[k.T.jua]=f.Gd.sj;a[k.T.kua]=f.Gd.sj;a[k.T.lua]=f.Gd.sj;return a;};c.prototype.fRa=function(a){return a || this.config().wG;};c.prototype.cK=function(){return Promise.resolve(void 0);};c.prototype.b2=function(){return Promise.resolve(void 0);};c.prototype.DQ=function(a){var b;b=[];this.is.Qf(a) && b.push(this.XUa(a));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:b,isHdcpEngaged:! !b.length}];};b.Mp=c;c.qG="video/mp4;codecs={0};";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.T9=b.baa=b.EAa=void 0;b.EAa="NativeLocalStorageSymbol";b.baa="NativeLocalStorageFactorySymbol";b.T9="IDBFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.YW=b.Y9=b.S9=void 0;b.S9="IDBDatabaseFactorySymbol";b.Y9="IndexedDBFactorySymbol";b.YW="IndexedDBStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.UN=void 0;b.UN="MslProviderSymbol";},function(d,b,a){var c,l,k;c=a(119);l=a(54);k=a(164);d.exports=function(a){return function h(b,d,m){switch(arguments.length){case 0:return h;case 1:return k(b)?h:l(function(c,h){return a(b,c,h);});case 2:return k(b) && k(d)?h:k(b)?l(function(b,c){return a(b,d,c);}):k(d)?l(function(c,h){return a(b,c,h);}):c(function(c){return a(b,d,c);});default:return k(b) && k(d) && k(m)?h:k(b) && k(d)?l(function(b,c){return a(b,c,m);}):k(b) && k(m)?l(function(b,c){return a(b,d,c);}):k(d) && k(m)?l(function(c,h){return a(b,c,h);}):k(b)?c(function(b){return a(b,d,m);}):k(d)?c(function(c){return a(b,c,m);}):k(m)?c(function(c){return a(b,d,c);}):a(b,d,m);}};};},function(d){d.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qO=void 0;b.qO="TrackStreamFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZG=void 0;b.ZG="ManifestFactorySymbol";},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.WCa=b.TX=b.Q1=void 0;c=a(48);l=a(2);b.Q1=function(a){return a === c.zc.Xj.AUDIO?l.K.Jza:l.K.Kza;};b.TX=50;b.WCa=1E3;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.wv=void 0;c=a(228);l=a(5);d=(function(){function a(a){this.config=a;this.reset();}a.yf=function(){l.assert(void 0 !== a.ZC);return a.ZC;};a.eob=function(b){a.ZC=new a(b);};a.z4b=function(){a.ZC=void 0;};a.prototype.push=function(a){this.pj && this.pj.push(a);};a.prototype.ib=function(){if(this.pj)return (this.pj.Vw(),this.pj.si([.25,.5,.75,.9,.95,.99]).map(function(a){return a?parseFloat(a.toFixed(1)):0;}));};a.prototype.reset=function(){this.config.mOa && this.config.e$ && (this.pj=new c.S2b(this.config.e$.c,this.config.e$.maxc));};return a;})();b.wv=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(28);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.M.offset+=8;this.Smb=this.M.Hh();this.RPb=this.M.Hh();this.M.offset+=4;this.X_a=this.M.Hh();this.M.offset+=2;l.ma && this.M.console.trace("MP4AudioSampleEntry: channelcount: " + this.Smb + ", samplesize: " + this.RPb + ", samplerate: " + this.X_a);return b;};b.Ic=!1;return b;})(a(236)["default"]);b["default"]=d;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pt=void 0;a(5);d=(function(){function a(b,c){a.$a(this,b,c);}a.$a=function(a,b,c){a.Yc=b;a.yc=c.ba;a.ke=c.offset;};Object.defineProperties(a.prototype,{stream:{get:function(){return this.Yc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.yc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.ke;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{N:{get:function(){return this.Yc.N;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.Yc.u;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{I:{get:function(){return this.Yc.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Da:{get:function(){return this.Yc.Da;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.Yc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Yc.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Yc.R;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fL:{get:function(){return this.Yc.fL;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wa:{get:function(){return this.Yc.wa;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return {movieId:this.u,streamId:this.Da,offset:this.offset,bytes:this.ba};};return a;})();b.pt=d;},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.$B=void 0;c=a(0);l=c.__importDefault(a(25));k=c.__importDefault(a(3));d=(function(a){function b(f,c,d,m,k){var h;h=a.call(this,d) || this;h.efa=!1;b.$a(h,f,c,d,m,k);return h;}c.__extends(b,a);b.$a=function(a,b,f,c,d,m){a.te=c;a.v_a=b;a.yd=d;a.PGa=b.location || f.location;a.yP=b.Nc || f.Zb;a.Sra=b.Sra || f.Sra;a.c7=k["default"].time.aa();a.G=m;};Object.defineProperties(b.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{location:{get:function(){return this.PGa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zb:{get:function(){return this.yP;},enumerable:!1,configurable:!0}});b.prototype.$a=function(a){this.Pa=a;};b.prototype.x6=function(a,b){this.PGa=a;this.yP=b;};b.prototype.hea=function(a){var b,f,c;b={type:"logdata",target:"endplay",fields:{}};f=this.I === l["default"].Ta.AUDIO?"audioedit":"videoedit";c=[this.qA === this.X?this.Pb:this.Qb,this.qA === this.X?-this.duration:this.duration];a && a.Dp && c.push(a.Dp);b.fields[f]={type:"array",value:c};return b;};b.prototype.u7=function(){var a,b;if(this.complete)return 0;a=this.v_a;b=a.N;return a.url?this.url === a.url || (b.x6(this,a.location,a.Nc),this.SU(a.url))?0:(this.G.warn("swapUrl failed: ",this.nE),2):(this.G.warn("updateurl, missing url for streamId:",a.Da,"mediaRequest:",this,"stream:",a),1);};return b;})(a(93).vv);b.$B=d;},function(d,b,a){var l,k,m,f,h,q,u,r,v;function c(a){return a.Fa(h.S.ec(a.JF));}Object.defineProperty(b,"__esModule",{value:!0});b.q8=b.op=void 0;l=a(0);d=a(16);k=l.__importDefault(a(25));m=l.__importDefault(a(3));f=a(896);h=a(21);q=a(5);u=a(897);r=a(410);v=a(81);b.op=c;a=(function(a){function b(b,f,c,h,q,d,m){var r,k;k=a.call(this) || this;k.G=b;k.qf=f;k.Nf=c;k.Pc=h;k.H=q;k.P=d;k.yg=m;k.nf=k.G.error.bind(k.G);k.wb=k.G.warn.bind(k.G);k.ik=k.G.trace.bind(k.G);null === (r=h.events) || void 0 === r?void 0:r.addListener("ready",function(){k.Uv();});k.H.dIb && (k.loa=new u.pAa(k.H,k.qf,k.Nf.Yb,k.G));k.reset();return k;}l.__extends(b,a);Object.defineProperties(b.prototype,{endOfStream:{get:function(){return this.OY;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{z_:{get:function(){return this.Pc?this.Pc.z_:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tXb:{get:function(){return this.il.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qEb:{get:function(){return this.Ph;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{o2a:{get:function(){return ! !this.Pc.vub;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JB:{get:function(){return ! !this.Pc.reset;},enumerable:!1,configurable:!0}});b.prototype.reset=function(a){var b,c,q;this.gk=!1;a || (this.il=[]);this.Ph=this.oda=this.fI=void 0;this.$ca=!1;this.eZ=void 0;this.oP=h.S.lb;this.Vt=void 0;this.d0a=new f.ADa(this.H,this.G);this.OY=!1;this.BZ(h.S.lb);null === (c=(b=this.Pc).reset) || void 0 === c?void 0:c.call(b);null === (q=this.loa) || void 0 === q?void 0:q.reset();};b.prototype.kPa=function(){this.oda=!0;};b.prototype.pause=function(){this.gk=!0;};b.prototype.resume=function(){this.gk=!1;this.Uv();};b.prototype.Vr=function(){this.gk || this.Uv();};b.prototype.qka=function(){var a;return null === (a=this.Ph) || void 0 === a?void 0:a.de;};b.prototype.Dkb=function(a){var b;if(this.H.dOa){q.assert(a.Pa);b=a.Pa.Kb;q.assert(void 0 !== a.Qb);q.assert(void 0 !== b.Pb);if(a.Qb >= b.Pb)return;a.Nn !== b.Hd && a.X0a(new h.S(b.Hd,1E3));}this.il.push(a);this.Uv();};b.prototype.et=function(){this.Uv();};b.prototype.N5=function(a){a=this.il.indexOf(a);-1 !== a && this.il.splice(a,1);};b.prototype.LWa=function(a,b){this.H.mfa && b && void 0 === this.Ph && this.rFa(a,0);this.Uv();};b.prototype.L4=function(){this.OY || (this.OY=!0,this.Uv(),this.o2a || this.Pc.endOfStream());};b.prototype.p6=function(){return JSON.stringify(this.il);};b.prototype.BZ=function(a){var b;null !== (b=this.wea) && void 0 !== b && b.equal(a) || (this.wea=a,this.Pc.ARb(a.ub,a.R));};b.prototype.Uv=function(){var a,b,f,c,h,q,d,r,u;b=this.H;if(this.il.length || this.Ph && !this.Ph.ye)if(!this.Pc || !1 === this.Pc.ready)this.sI("@" + m["default"].time.aa() + ", append: not appending, sourceBuffer not ready");else if(!this.Ph || this.Ph.ye || this.Ph.rs())if(this.Ph && !this.Ph.ye || this.il.length)if(this.gk){f=this.Ph && !this.Ph.ye?this.Ph:this.il[0];this.sI("@" + m["default"].time.aa() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(f));}else if((!this.Ph || this.Ph.ye || (this.TFa(this.Ph),this.Ph.ye)) && this.il.length)if((f=this.il[0],!f.complete && f.Cr))(this.wb("aborted MediaRequest should not appear in the toAppend list"),this.sI("@" + m["default"].time.aa() + ", append: removing aborted request from toAppend: " + f.toString()),this.il.shift());else {c=f.stream;h=c.N;if(c.Ch)if(this.SRb(c,f.index))(this.oda=!1,this.rFa(c,f.index));else {q=this.P.xn(h);d=this.hCb(c);if(q || d || !(this.$ca && c.track.KS || b.I7))if((c=f.Rc - this.P.Zd(),!(this.qf === k["default"].Ta.AUDIO && f.mp && f.xa && !b.Rs && !this.OY && 1 === this.il.length && c > b.YVa) || null !== (a=f.$L) && void 0 !== a && a.Ima)){if(b.dOa || b.Xtb)if((a=f.Pa.Kb,q=this.Bsb())){r=a.Gj;u=f.Pb >= q;c=c > b.YVa;if(q < a.Pb && u && c && !r)return;}if(b.NKb && this.yg && (b=this.yg(h.qb)) && !b.UP)this.pause();else {this.$ca || (this.$ca=d);this.il.shift();try{this.odb(f);}catch(Z){throw (this.G.error(Z),Z);}}}}}};b.prototype.SRb=function(a,b){var f;if(this.oda || void 0 === this.fI || a.Da !== this.fI.Da)return !0;a=a.Ch;q.assert(a);f=this.fI.mTa;return f === a.length - 1?!1:b >= a[f + 1].xg;};b.prototype.hCb=function(a){if(0 === a.I || !a.Du)return !0;if(void 0 === this.fI)return !1;a=a.Ch;q.assert(a);return !1 === a[this.fI.mTa].xk;};b.prototype.Bsb=function(){throw Error("not supported");};b.prototype.jdb=function(a){this.oP=r.KX.F_(this.H,a.Bd,this.Nf.Yb,this.G);};b.prototype.rFa=function(a,b){var f;f=a.Ch.reduce(function(a,f,c){return f.xg <= b?c:a;},0);if(this.Pc.appendBuffer(a.Ch[f].data,{vc:!0,profile:a.profile,U:a.U,Da:a.id}))(this.sI("@" + m["default"].time.aa() + ", header appended, streamId: " + a.Da),this.fI={Da:a.Da,mTa:f},this.Ahb(a.N.qb || 0,a.Da,f),this.jdb(a),this.Uv());else throw (this.wb("appendHeader error: " + this.Pc.error),this.sI("@" + m["default"].time.aa() + ", appendHeader error: " + this.Pc.error),Error("appendHeaderError"));};b.prototype.odb=function(a){var b,f,c,q,d,m,r;c=a.B5 || h.S.lb;q=a.Pa.Kb.W;q.sa && Infinity !== q.sa && (c=new h.S(q.sa,1E3).add(c).$g,Infinity === this.Nf.duration || this.Nf.duration < c) && (this.Nf.duration=c);if(this.loa){c=!0;q=!1;d=h.S.lb;m=void 0 !== a.Xs?h.S.ec(a.Xs).add(a.B5):void 0;r=null === (f=this.il[0]) || void 0 === f?void 0:f.Qj;f={endOfStream:this.endOfStream || !(null === (b=a.$L) || void 0 === b || !b.Ima),h4:m,Joa:r};b=this.loa.append(a,f);this.BZ(b);}else (b=this.zfb(a),c=b.eU,q=b.sia,d=b.Gfa);this.Vt && d && (this.Vt=this.Vt.add(d));this.TFa(a,c,q);};b.prototype.TFa=function(a,b,f){var c,q,d;f=a.DD(this.Pc,this.Nf.Yb,this.Ph,this.il[0],b,f);b=f.status;(f=f.ij) && this.emit(f.type,f);b !== v.Ji.ERROR?(this.Ph=a,b === v.Ji.zv && (void 0 === this.Vt || this.qf !== k["default"].Ta.AUDIO || a.Qj.equal(this.Vt) || (this.vhb(a,this.Vt),this.Vt=void 0),this.sI("@" + m["default"].time.aa() + ", request appended, type: " + a.I + ", streamId: " + a.Da + ", pts: " + a.Rc + "-" + a.de),a.mp?(this.Vt=a.vi,this.xfb=this.Jdb(a,this.wea || h.S.lb),null === (q=(c=this.Pc).vub) || void 0 === q?void 0:q.call(c,a.$L),this.H.Ml && this.H.iE && (null === (d=a.$L) || void 0 === d?0:d.Ima) && this.L4()):this.Vt=void 0,this.Bhb(a),this.Uv())):this.ndb(a);};b.prototype.ndb=function(a){if(void 0 !== this.Pc.error){if("done" === this.Pc.error)return;this.nf("failure to append queued mediaRequest: " + (a && a.toJSON()) + " err: " + this.Pc.error);throw this.Pc.error;}a=Error("failure to append queued mediaRequest: " + (a && JSON.stringify(a)) + " err: " + this.Pc.error);this.nf(a.message);throw a;};b.prototype.zfb=function(a){var b,f,c,q,d;f=a.B5 || h.S.lb;if(void 0 === this.eZ || f && !f.equal(this.eZ)){c=this.oP.add(this.d0a.Vv).add(f);this.BZ(c);this.eZ=f;}q=this.d0a.eU(this.qf,a,this.Vt,this.oP,this.eZ,this.Ph,this.il[0],this.xfb,this.BZ.bind(this),this.Chb.bind(this));f=q.eU;c=q.sia;q=q.Gfa;if(void 0 === this.Ph && !this.H.g4 && a.stream.Bd && this.H.$i){d=null === (b=a.xh) || void 0 === b?void 0:b.Fa(a.stream.Bd).add(this.wea);d.lessThan(h.S.lb) && a.WQ(Math.ceil(d.dF(-1).So(a.stream.wa)));}return {eU:f,sia:c,Gfa:q};};b.prototype.Jdb=function(a,b){var f,h;f=a.stream.wa;h=a.jm;this.H.$i && a.stream.Bd && (h=h.Fa(a.stream.Bd));return c(h.Fa(f)).add(c(f)).add(c(b));};b.prototype.Ahb=function(a,b,f){a={type:"headerAppended",mediaType:this.qf,manifestIndex:a,streamId:b,isIndex:f};this.emit(a.type,a);};b.prototype.Bhb=function(a){a={type:"requestAppended",mediaType:this.qf,request:a};this.emit(a.type,a);};b.prototype.sI=function(a){a={type:"managerdebugevent",message:a};this.emit(a.type,a);};b.prototype.vhb=function(a,b){var f;f=a.Qb;a=a.Qj.Fa(b).da;f={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[f,a]}}};this.emit(f.type,f);};b.prototype.Chb=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.da,minavsyncerror:b.da}};this.emit(a.type,a);};return b;})(d.EventEmitter);b.q8=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zka=b.ifa=void 0;b.ifa=function(a,b){var c,d,m;c=b.profile;b=b.u;d=a.dQb;m=a.eQb;return a.cQb || Array.isArray(d) && -1 !== d.indexOf(c) || "object" === typeof m && Array.isArray(m[c]) && -1 !== m[c].indexOf("" + b);};b.zka=function(a,b){return void 0 !== a.$K?a.$K:b && void 0 !== b.$K?b.$K:100;};},function(d,b,a){var k,m,f,h,q,u,r,v;function c(a){return a && "function" === typeof a.Tg?!0:!1;}function l(a){return c(a) && (a=typeof a.hDb,"boolean" === a || "undefined" === a)?!0:!1;}Object.defineProperty(b,"__esModule",{value:!0});b.ru=b.map=b.a7a=b.Tub=b.gDb=b.M5a=b.cC=void 0;k=a(0);m=a(19);f=k.__importDefault(a(3))["default"].Promise;q=(function(){function a(a){var b;b=this;this.ifb=a;this.XO=!1;this.ihb=function(a){return b.QMb(a);};this.nMa();}a.$Db=function(a,b){function f(){var c;c=a.next();c.then(function(f){l(a) && a.hDb || b(f);});c.then(function(a){return !a.done && f();});}f();};Object.defineProperties(a.prototype,{Ax:{get:function(){return this.XO;},enumerable:!1,configurable:!0}});a.hyb=function(){return new u([]);};a.ala=function(){h || (h=f.resolve({done:!0}));return h;};a.$5b=function(){return {done:!0};};Object.defineProperties(a.prototype,{wK:{get:function(){return this.qr || !1;},enumerable:!1,configurable:!0}});a.prototype.Tg=function(){this.cancel();};a.prototype.cancel=function(){this.nHa();this.qr=!0;return this.Lca;};a.prototype.next=function(){return this.qr?this.Lca:f.race([this.Lca,this.ifb()]).then(this.ihb);};a.prototype.QMb=function(a){a.done && (this.XO=!0,this.Tg());this.wK || (this.nHa(),this.nMa());return a;};a.prototype.nMa=function(){var a;a=this;this.Lca=new f(function(b){a.nHa=function(){b({done:!0});};});};return a;})();b.cC=q;u=(function(a){function b(b){var f;f=a.call(this,function(){return f.hzb();}) || this;f.Io=b;f.index=0;return f;}k.__extends(b,a);b.prototype.Tg=function(){c(this.Io) && this.Io.Tg();a.prototype.Tg.call(this);};b.prototype.hzb=function(){return this.Io.length > this.index?f.resolve({value:this.Io[this.index++],done:!1}):f.resolve({done:!0});};return b;})(q);b.M5a=u;b.gDb=c;b.Tub=l;r=(function(a){function b(b,f,c){var h;h=a.call(this,function(){return h.Koa();}) || this;h.console=f;h.ek=c;h.mqa=!1;Array.isArray(b)?h.iP=new u(b):h.iP=b;return h;}k.__extends(b,a);b.prototype.SMb=function(a){var b;this.mqa=!1;b=this.console;m.ma && b && b.trace("CompoundIterator: processNextOuterIterator");if(a.done)return a;a=a.value;if(this.cI)return (c(a) && a.Tg(),q.ala());Array.isArray(a)?this.ek=new u(a):this.ek=a;return this.Koa();};b.prototype.RMb=function(a){var b;b=this.console;m.ma && b && b.trace("CompoundIterator: processNextInnerResult",this.cI,a.done);if(!a.done || this.cI)return a;this.ek=void 0;return this.Koa();};b.prototype.Tg=function(){var b;b=this.console;m.ma && b && b.trace("CompoundIterator: dispose");this.cI=!0;a.prototype.Tg.call(this);c(this.iP) && this.iP.Tg();c(this.ek) && this.ek.Tg();};b.prototype.toString=function(){return "CompoundIterator " + this.cI + " " + this.iP + " " + this.ek;};b.prototype.Koa=function(){var a,b;a=this;b=this.console;m.ma && b && b.trace("CompoundIterator: nextImpl");if(this.ek)return (m.ma && b && b.trace("CompoundIterator: getNextInner"),this.ek.next().then(function(b){return a.RMb(b);}));this.mqa=!0;m.ma && b && b.trace("CompoundIterator: getNextOuter");return this.iP.next().then(function(b){return a.SMb(b);});};return b;})(q);b.a7a=r;b.map=function(a,b,f){return new v(a,b,f);};v=(function(a){function b(b,f,c){var h;h=a.call(this,function(){return h.Veb();}) || this;h.source=b;h.Pna=f;h.Znb=c;return h;}k.__extends(b,a);b.prototype.Tg=function(){c(this.source) && this.source.Tg();a.prototype.Tg.call(this);};b.prototype.Veb=function(){var a,b,f;a=this.Znb;b=this.Pna;f=this.source;m.ma && a && a.trace("MappedIterator: Requesting next");return f.next().then(function(a){return a.done?a:b(a.value);});};return b;})(q);b.ru=function(a,b,f){return new r(a,b,f);};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Vba=b.$k=void 0;c=a(145);(function(a){a[a.Jn=0]="pending";a[a.b6=1]="running";a[a.complete=2]="complete";a[a.xJ=3]="destroyed";})(l=b.$k || (b.$k={}));d=(function(){function a(){this.we=l.Jn;}Object.defineProperties(a.prototype,{state:{get:function(){return this.we;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ah:{get:function(){return this.CP;},enumerable:!1,configurable:!0}});a.prototype.xkb=function(a){var b;null === (b=this.CP) || void 0 === b?void 0:b.Rqa(this);this.CP=a;};a.prototype.zB=function(){this.we=l.b6;this.Oe();this.F4() === c.Sl.Uta && (this.we=l.complete);};a.prototype.Tb=function(){var a;this.we=l.xJ;null === (a=this.CP) || void 0 === a?void 0:a.Rqa(this);};return a;})();b.Vba=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});d=a(930);c=a(418);a=a(932);b["default"]={STARTING:a.p0a,BUFFERING:d.j6,REBUFFERING:d.j6,PLAYING:c.hv,PAUSED:c.hv};},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.xE=b.gN=void 0;c=a(946);l=a(947);k=a(251);Object.defineProperty(b,"BasePredictor",{enumerable:!0,get:function(){return k.gN;}});b.xE=function(a,b){switch(a.Qna){case "manifold":return new c.Xza(a,b);default:return new l.RDa(a,b);}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d.exports=function(a){return {minInitVideoBitrate:a.Nu,minHCInitVideoBitrate:a.uoa,maxInitVideoBitrate:a.Ox,minInitAudioBitrate:a.VS,maxInitAudioBitrate:a.HS,minHCInitAudioBitrate:a.US,minAcceptableVideoBitrate:a.k4,minRequiredBuffer:a.WS,minPrebufSize:a.jj,minCheckBufferingCompleteInterval:a.toa,rebufferingFactor:a.Eqa,useMaxPrebufSize:a.Lta,maxPrebufSize:a.YA,maxRebufSize:a.$na,maxBufferingTime:a.Iq,minAudioMediaRequestSizeBytes:a.l4,minVideoMediaRequestSizeBytes:a.r4,initialBitrateSelectionCurve:a.R2,initSelectionLowerBound:a.SSa,initSelectionUpperBound:a.TSa,throughputPercentForAudio:a.Z6,bandwidthMargin:a.Mfa,bandwidthMarginContinuous:a.Nfa,bandwidthMarginCurve:a.Ofa,conservBandwidthMargin:a.dha,switchConfigBasedOnInSessionTput:a.Nsa,conservBandwidthMarginTputThreshold:a.wQ,conservBandwidthMarginCurve:a.eha,switchAlgoBasedOnHistIQR:a.u2a,switchConfigBasedOnThroughputHistory:a.KB,maxPlayerStateToSwitchConfig:a.Zna,lowEndMarkingCriteria:a.Bna,IQRThreshold:a.W9,histIQRCalcToUse:a.Jla,maxTotalBufferLevelPerSession:a.As,highWatermarkLevel:a.vSa,toStableThreshold:a.b3a,toUnstableThreshold:a.g7,skipBitrateInUpswitch:a.qsa,watermarkLevelForSkipStart:a.Wta,highStreamRetentionWindow:a.Cla,lowStreamTransitionWindow:a.Cna,highStreamRetentionWindowUp:a.Ela,lowStreamTransitionWindowUp:a.Ena,highStreamRetentionWindowDown:a.Dla,lowStreamTransitionWindowDown:a.Dna,highStreamInfeasibleBitrateFactor:a.Bla,lowestBufForUpswitch:a.Hx,lockPeriodAfterDownswitch:a.K3,lowWatermarkLevel:a.Gna,lowestWaterMarkLevel:a.Ix,lowestWaterMarkLevelBufferRelaxed:a.Hna,mediaRate:a.koa,maxTrailingBufferLen:a.Y3,audioBufferTargetAvailableSize:a.XP,videoBufferTargetAvailableSize:a.qV,maxVideoTrailingBufferSize:a.yVa,maxAudioTrailingBufferSize:a.gVa,fastUpswitchFactor:a.f1,fastDownswitchFactor:a.eja,maxMediaBufferAllowed:a.Px,simulatePartialBlocks:a.osa,simulateBufferFull:a.t1a,considerConnectTime:a.fha,connectTimeMultiplier:a.cha,lowGradeModeEnterThreshold:a.GUa,lowGradeModeExitThreshold:a.HUa,maxDomainFailureWaitDuration:a.kVa,maxAttemptsOnFailure:a.fVa,exhaustAllLocationsForFailure:a.DOa,maxNetworkErrorsDuringBuffering:a.qVa,maxBufferingTimeAllowedWithNetworkError:a.S3,fastDomainSelectionBwThreshold:a.LOa,throughputProbingEnterThreshold:a.G2a,throughputProbingExitThreshold:a.H2a,locationProbingTimeout:a.tUa,finalLocationSelectionBwThreshold:a.QOa,throughputHighConfidenceLevel:a.E2a,throughputLowConfidenceLevel:a.F2a,locationStatisticsUpdateInterval:a.sna,enablePerfBasedLocationSwitch:a.lOa,probeServerWhenError:a.Ls,probeRequestTimeoutMilliseconds:a.iqa,allowSwitchback:a.Bw,probeDetailDenominator:a.wF,maxDelayToReportFailure:a.T3,countGapInBuffer:a.iMa,bufferThresholdForAbort:a.tKa,allowCallToStreamSelector:a.VIa,pipelineScheduleTimeoutMs:a.Gpa,maxPartialBuffersAtBufferingStart:a.Qx,minPendingBufferLen:a.voa,maxPendingBufferLen:a.XA,maxPendingBufferLenSABCell100:a.V3,maxActiveRequestsSABCell100:a.Q3,maxStreamingSkew:a.aoa,maxPendingBufferPercentage:a.Xna,maxRequestsInBuffer:a.TK,headerRequestSize:a.B2,minBufferLenForHeaderDownloading:a.TS,reserveForSkipbackBufferMs:a.ZT,numExtraFragmentsAllowed:a.Yoa,pipelineEnabled:a.rp,maxParallelConnections:a.SK,socketReceiveBufferSize:a.B1a,audioSocketReceiveBufferSize:a.r_,videoSocketReceiveBufferSize:a.TM,headersSocketReceiveBufferSize:a.zla,updatePtsIntervalMs:a.r7,bufferTraceDenominator:a.Yfa,bufferLevelNotifyIntervalMs:a.KD,aseReportDenominator:a.VP,aseReportIntervalMs:a.wfa,enableAbortTesting:a.Otb,abortRequestFrequency:a.Kib,streamingStatusIntervalMs:a.Gsa,prebufferTimeLimit:a.fy,minBufferLevelForTrackSwitch:a.m4,penaltyFactorForLongConnectTime:a.zpa,longConnectTimeThreshold:a.Ana,additionalBufferingLongConnectTime:a.afa,additionalBufferingPerFailure:a.bfa,rebufferCheckDuration:a.OT,enableLookaheadHints:a.iOa,lookaheadFragments:a.BUa,enableOCSideChannel:a.hA,OCSCBufferQuantizationConfig:a.uX,updateDrmRequestOnNetworkFailure:a.P3a,deferAseScheduling:a.dNa,maxDiffAudioVideoEndPtsMs:a.jVa,useHeaderCache:a.NM,useHeaderCacheData:a.ZQ,defaultHeaderCacheSize:a.OQ,defaultHeaderCacheDataPrefetchMs:a.r0,headerCacheMaxPendingData:a.vla,neverWipeHeaderCache:a.gF,headerCachePriorityLimit:a.wla,enableUsingHeaderCount:a.cR,networkFailureResetWaitMs:a.Hoa,networkFailureAbandonMs:a.Goa,maxThrottledNetworkFailures:a.X3,throttledNetworkFailureThresholdMs:a.Y6,lowThroughputThreshold:a.Fna,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.$ia,mp4ParsingInNative:a.fWa,sourceBufferInOrderAppend:a.D1a,requireAudioStreamToEncompassVideo:a.Rs,allowAudioToStreamPastVideo:a.UIa,enableManagerDebugTraces:a.zh,managerDebugMessageInterval:a.VUa,managerDebugMessageCount:a.UUa,bufferThresholdToSwitchToSingleConnMs:a.Xfa,bufferThresholdToSwitchToParallelConnMs:a.Wfa,netIntrStoreWindow:a.YHb,minNetIntrDuration:a.tHb,fastHistoricBandwidthExpirationTime:a.dvb,bandwidthExpirationTime:a.blb,failureExpirationTime:a.avb,historyTimeOfDayGranularity:a.KBb,expandDownloadTime:a.Oub,minimumMeasurementTime:a.EHb,minimumMeasurementBytes:a.DHb,throughputMeasurementTimeout:a.mUb,initThroughputMeasureDataSize:a.BCb,throughputMeasureWindow:a.lUb,throughputIQRMeasureWindow:a.kUb,IQRBucketizerWindow:a.o$a,connectTimeHalflife:a.fob,responseTimeHalflife:a.xPb,historicBandwidthUpdateInterval:a.JBb,throughputWarmupTime:a.qUb,minimumBufferToStopProbing:a.CHb,throughputPredictor:a.nUb,ase_stream_selector:a.jkb,enableFilters:a.Stb,filterDefinitionOverrides:a.wvb,defaultFilter:a.Vrb,secondaryFilter:a.gQb,defaultFilterDefinitions:a.Wrb,initBitrateSelectorAlgorithm:a.hma,bufferingSelectorAlgorithm:a.bga,ase_ls_failure_simulation:a.RMa,ase_dump_fragments:a.Jha,ase_location_history:a.Lha,ase_throughput:a.Mha,ase_simulate_verbose:a.TMa,secondThroughputEstimator:a.Ara,secondThroughputMeasureWindowInMs:a.e0a,marginPredictor:a.Qna,networkMeasurementGranularity:a.Ioa,HistoricalTDigestConfig:a.cya,maxIQRSamples:a.nVa,minIQRSamples:a.SVa,periodicHistoryPersistMs:a.h5,saveVideoBitrateMs:a.e6,needMinimumNetworkConfidence:a.bT,biasTowardHistoricalThroughput:a.Sfa,maxFastPlayBufferInMs:a.Una,maxFastPlayBitThreshold:a.Tna,headerCacheTruncateHeaderAfterParsing:a.qSa,minAudioMediaRequestDuration:a.ZK,minVideoMediaRequestDuration:a.dL,minAudioMediaRequestDurationCache:a.ZK,minVideoMediaRequestDurationCache:a.dL,addHeaderDataToNetworkMonitor:a.$Z,useMediaCache:a.RB,mediaCachePartitionConfig:a.foa,diskCacheSizeLimit:a.dA,mediaCachePrefetchMs:a.NS,hindsightDenominator:a.Ila,hindsightDebugDenominator:a.Hla,hindsightParam:a.F2,minimumTimeBeforeBranchDecision:a.Ou,enableSessionHistoryReport:a.bR,earlyStageEstimatePeriod:a.yia,lateStageEstimatePeriod:a.eUa,maxNumSessionHistoryStored:a.U3,minSessionHistoryDuration:a.q4,appendMediaRequestOnComplete:a.kJa,waitForDrmToAppendMedia:a.I7,forceAppendHeadersAfterDrm:a.q1,startMonitorOnLoadStart:a.zsa,reportFailedRequestsToNetworkMonitor:a.Uqa,reappendRequestsOnSkip:a.FNb,maxActiveRequestsPerSession:a.Iu,limitAudioDiscountByMaxAudioBitrate:a.nna,appendFirstHeaderOnComplete:a.mfa,maxAudioFragmentOverlapMs:0,editVideoFragments:a.DJ,declareBufferingCompleteAtSegmentEnd:a.Nha,applyProfileTimestampOffset:a.Hz,applyProfileStreamingOffset:a.$i,requireDownloadDataAtBuffering:a.Q5,requireSetupConnectionDuringBuffering:a.R5,recordFirstFragmentOnSubBranchCreate:a.Gqa,earlyAppendSingleChildBranch:a.L0,selectStartingVMAFMethod:a.aM,activateSelectStartingVMAF:a.NP,minStartingVideoVMAF:a.cL,minAcceptableVMAF:a.SS,minAllowedVmaf:a.aF,alwaysNotifyEOSForPlaygraph:a.jfa,enableNewAse:a.iE,useNewApi:a.Ml,useBufferSizeLimiter:a.Kta,enableHudsonFieldTest:a.Q0,hudsonTitles:a.YR,maxPartialBuffersAtHudson:a.Wna,numberOfChunksPerSegment:a.iT,targetContentLatency:a.X6,targetLongContentLatency:a.Rsa,minimumTimeDelay:a.s4,enableWsslEstimate:a.S0,maxAllowedOutstandingRequests:a.R3,alwaysRunUnderflowTimer:a.JI,minStreamableConcurrencyWindow:a.woa,streamableConcurrencyFactor:a.Esa,bufferingConcurrencyWindow:a.mQ,singleStreamablePerBranch:a.uSb,enableResolutionVMAFStreamFilter:a.R0,resolutionVMAFCappingRuleList:a.W5,percentCapTitlesForResolutionVMAFStreamFilter:a.Bpa};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.O8=b.P8=void 0;(b.P8 || (b.P8={})).xbb="PboDebugEvent";b.O8={aab:"Manifest",Event:"Event",O_b:"Logblob"};},function(d,b,a){var l,k;function c(a){switch(a){case l.K.LN:return "http";case l.K.NN:return "connectiontimeout";case l.K.mC:return "readtimeout";case l.K.Xxa:return "corruptcontent";case l.K.My:return "abort";case l.K.ON:case l.K.Q9:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Pka=b.Eka=b.Dka=void 0;l=a(2);k=a(10);b.Dka=c;b.Eka=function(a,b){a={errorcode:a + (b.errorCode || l.L.Ul)};b.ka && (a.errorsubcode=b.ka);b.Ne && (a.errorextcode=b.Ne);b.Qia && (a.erroredgecode=b.Qia);b.Ab && (a.errordetails=b.Ab);b.cj && (a.httperr=b.cj);b.cT && (a.aseneterr=b.cT);b.W0 && (a.errordata=b.W0);b.OS && (a.mediaerrormessage=b.OS);(b=c(Number(b.ka))) && (a.nwerr=b);return a;};b.Pka=function(){return {screensize:k.Ft.width + "x" + k.Ft.height,screenavailsize:k.Ft.availWidth + "x" + k.Ft.availHeight,clientsize:ka.innerWidth + "x" + ka.innerHeight};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.VG=void 0;b.VG="LicenseProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.bO=b.Iaa=void 0;b.Iaa="PboPlaydataServicesSymbol";b.bO="PboPlaydataServicesProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gO=void 0;b.gO="PlaygraphHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y8=b.Ewa=void 0;b.Ewa=function(){this.AUDIO=0;this.VIDEO=1;this.c9a=2;this.Oe=function(){};};b.Y8="DownloadTrackConstructorFactorySymbol";},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sb=void 0;b.Sb=a;a.he={OAa:"mr1",NAa:"mr2",PAa:"mr3",ZN:"mr4",zab:"mr5",BC:"mr6"};a.mc={UNSENT:0,OPENED:1,Ov:2,Mv:3,DONE:5,MG:6,$M:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.Q1b={bua:0,LC:1,DAa:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.nW={NO_ERROR:-1,K7a:0,kwa:1,W7a:2,O7a:3,M6a:4,wva:5,uva:6,N6a:7,O6a:8,P6a:9,J6a:10,L6a:11,vva:12,K6a:13,I6a:14,g9a:15,Vxa:16,Uxa:17,N9:18,P9:19,O9:20,Yxa:21,i9a:22,RW:23,Wxa:24,h9a:25,R7a:26,L7a:27,fcb:28,B7a:29,C7a:30,D7a:31,E7a:32,F7a:33,G7a:34,H7a:35,I7a:36,J7a:37,M7a:38,N7a:39,P7a:40,Q7a:41,S7a:42,T7a:43,U7a:44,V7a:45,X7a:46,Y7a:47,ecb:48,TIMEOUT:49,Rxa:50,Sxa:51,f9a:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Yb={UL:{bua:!0,LC:!1,DAa:!0}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cO=void 0;b.cO="PboPublisherSymbol";},function(d,b,a){var c,l,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.nq=b.storage=void 0;c=a(11);l=a(12);k=a(498);d=a(2);m=a(499);f=a(501);h=a(7);a=a(30);b.storage=b.storage || void 0;b.nq=b.nq || void 0;h.ja.get(a.Ig).register(d.L.tya,function(a){var h;switch(c.config.fTb){case "idb":h=m.X1a;break;case "none":h=k.Z1a;break;case "ls":h=f.Y1a;}h(function(f){f.ia?(b.storage=f.storage,b.nq=f.nq,a(l.se)):a(f);});});},function(d,b,a){var c,l,k,m,f,h,q,u,r;Object.defineProperty(b,"__esModule",{value:!0});b.li=void 0;c=a(12);l=a(11);d=a(2);k=a(20);m=a(7);f=a(447);h=a(10);q=a(30);u=a(31);r=m.ja.get(q.Ig);r.register(d.L.V9,function(a){var q,d,v,I;q=m.ja.get(u.vj);k.yb(l.config);k.yb(h.Wy && h.Wy.getDeviceId || h.pX || q.B1);d=m.ja.get(f.S8);v=m.Ah("Device");r.ud("devs");I=m.ja.get(u.It);d.create({deviceId:l.config.deviceId,B1:q.B1,nNa:"deviceid",mi:l.config.mi,lA:I.Zwa,bia:q.bia,userAgent:h.Vm,vna:l.config.vna,cka:l.config.cka,Gsb:I.z7a || !1,Rkb:l.config.TJa.e,Fsb:I.cZb || !1,v7b:l.config.lu?"mslstoretest":"mslstore"}).then(function(f){b.li=f;ka._cad_global.device=b.li;v.info("Esn source: " + b.li.Uia);r.ud("devdone");a(c.se);})["catch"](function(b){b.ia=void 0;a(b);});});},function(d,b,a){var l,k,m,f,h,q,u,r,v,A,y,B,I,g,D,T,R,U,V;function c(a){var b,d;b=this;this.createPlayer=function(a,c){var h;c=void 0 === c?{}:c;c="number" === typeof c?{qj:c}:c;h=f.ja.get(R.ZG);h=c.manifest?h.create(c.manifest):void 0;a=f.ja.get(y.gO).Uqb(a);return b.CMa(a,c,h);};this.createPlaygraphPlayer=function(a,c,h){var q;q=f.ja.get(R.ZG);h=h?q.create(h):void 0;return b.CMa(T.Bbb.encode(a),c,h);};this.closeAllPlayers=function(a){m.Xaa(void 0 === a?function(){}:a);};this.init=function(a){a=void 0 === a?function(){}:a;b.QI.yS(function(h){h.ia?(k.config.m6?b.DQb().then(function(){l.VBa();})["catch"](function(a){f.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(b,c.l_);a(Object.assign({success:!0},c.l_));}):a({success:!1,error:f.mCa(h.errorCode || q.L.kya,h)});});};this.applyConfig=function(a){b.S3a(a);k.$ga(a);};this.prepare=function(a,c){var h;a=b.cqa.kNa(a) || [];h=new Set();a=a.filter(function(a){var b;b=h.has(a.u);h.add(a.u);return !b;});if(k.config.Js && b.kc)try{b.kc.qB(a,c);}catch(fa){f.log.warn("Prepare call failed",fa);}};this.predownload=function(a,c){if((a=b.cqa.kNa(a)) && k.config.RB && b.kc)try{b.kc.dMb(a,c);}catch(sa){f.log.warn("Predownload call failed",sa);}};this.lookupPredownloaded=function(){return k.config.RB && b.kc?b.kc.IFb():Promise.resolve([]);};this.ppmUpdate=function(a){ka._cad_global.playerPredictionModel?(a=b.cqa.usb(a)) && ka._cad_global.playerPredictionModel.update(a):f.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){f.YJ().PU().then(function(b){return a(b.result);})["catch"](function(){return a(!1);});};this.supportsUltraHd=function(a){f.YJ().QU().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){f.YJ().NU().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyVision=function(a){f.YJ().V6().then(function(b){return a(b.result);})["catch"](function(){return a(!1);});};this.close=function(){};this.deviceThroughput=function(){var a;a=f.ja.get(r.XN).qha();return a?Promise.resolve(a.wn()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=f.ja.get(r.XN).qha();return a?Promise.resolve(a.kzb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return k.config.iub;};this.S3a(a);f.ja.get(V.Q7);this.cqa=f.ja.get(h.Raa);this.QI=f.ja.get(I.Ig);d=f.ja.get(U.Paa).apply();k.TLa([a],d);this.kc=f.ja.get(B.Sv);f.YJ().QU();}Object.defineProperty(b,"__esModule",{value:!0});b.jY=void 0;l=a(275);k=a(11);m=a(57);f=a(7);h=a(480);q=a(2);u=a(32);r=a(264);v=a(182);A=a(521);y=a(183);B=a(98);I=a(30);g=a(524);D=a(18);T=a(148);R=a(166);U=a(294);V=a(456);c.prototype.S3a=function(a){f.ja.get(u.UG).YGb(a);};c.prototype.DQb=function(){return f.ja.get(v.bO)()["catch"](function(a){f.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){f.log.error("Unable to send deferred playdata",a);});};c.prototype.CMa=function(a,b,c){var h,q,d,m;b=void 0 === b?{}:b;q=f.ja.get(D.Fd);d=f.ja.get(A.gba);m=f.ja.get(g.jba);d=d.create(a);a=d.M1();q=q.Bb();b=Object.assign(Object.assign({startPts:b.playbackState && b.playbackState.currentTime || a.Ac,uiPlayStartTime:Date.now()},b),{endPts:null !== (h=a.zd) && void 0 !== h?h:void 0,isPlaygraph:!0});h=m.create(q,d);h.addEpisode({movieId:a.fa,playbackParams:b,manifest:c});return h;};b.jY=c;c.l_={};},function(d){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof ka && (b=ka);}d.exports=b;},function(d,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.oC=void 0;c=/^\S+$/;a.prototype.cE=function(a){return void 0 !== a;};a.prototype.Qf=function(a){return null !== a && void 0 !== a;};a.prototype.BD=function(b){return a.ZIa(b);};a.prototype.Kea=function(b){return !(!b || !a.ZIa(b));};a.prototype.Cw=function(a){return Array.isArray(a);};a.prototype.$Ia=function(a){return !(!a || a.constructor != Uint8Array);};a.prototype.Sh=function(b,c,d){return a.pIa(b,c,d);};a.prototype.Jea=function(b){return a.Jea(b);};a.prototype.kfa=function(b,c,d){return a.f_(b,c,d) && 0 === b % 1;};a.prototype.KI=function(b,c,d){return a.f_(b,c || 0,d);};a.prototype.JP=function(b){return a.f_(b,1);};a.prototype.Iib=function(b){return a.f_(b,0,255);};a.prototype.Jib=function(a){return a === +a && (0 === a || a !== (a | 0)) && !0 && !0;};a.prototype.aJa=function(a){return !(!a || !c.test(a));};a.prototype.Eo=function(b){return a.qIa(b);};a.prototype.gn=function(b){return !(!a.qIa(b) || !b);};a.prototype.IP=function(a){return !0 === a || !1 === a;};a.prototype.WZ=function(a){return "function" == typeof a;};a.qIa=function(a){return "string" == typeof a;};a.pIa=function(a,b,c){return "number" == typeof a && !isNaN(a) && isFinite(a) && (void 0 === b || a >= b) && (void 0 === c || a <= c);};a.Jea=function(a){return "number" == typeof a && isNaN(a);};a.f_=function(b,c,d){return a.pIa(b,c,d) && 0 === b % 1;};a.ZIa=function(a){return "object" == typeof a;};b.oC=new a();},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(193);d=(function(){function a(a){this.Xb=a;}a.prototype.Su=function(a){this.Xb.Su=a;return new c.k8(this.Xb);};return a;})();b.PV=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(192);a(291);d=(function(){function a(a){this.Xb=a;}a.prototype.when=function(a){this.Xb.UD=a;return new c.PV(this.Xb);};a.prototype.BV=function(){this.Xb.UD=function(a){return null !== a.target && !a.target.yma() && !a.target.Hma();};return new c.PV(this.Xb);};return a;})();b.k8=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eO=void 0;b.eO="PlatformEmeSymbol";},function(d,b,a){var c,l,k,m,f,h,q,u,r,v,A,y,B;Object.defineProperty(b,"__esModule",{value:!0});b.EJ=b.eme=void 0;d=a(1);c=a(112);l=a(296);k=a(196);m=a(197);f=a(565);h=a(566);q=a(75);u=a(113);r=a(567);v=a(152);A=a(568);y=a(198);B=a(570);b.eme=new d.Tc(function(a){a(l.Z8).to(k.Hwa).Z();a(m.TV).to(f.Cva).Z();a(c.yN).bV(h.hZa);a(y.kW).to(B.Jwa).Z();a(q.nr).NB(function(a){b.EJ.parent=a.mb;return b.EJ.get(q.nr);});a(u.vC).hf(function(){return function(){return new r.iAa();};});a(v.oN).to(A.Eva).Z;});b.EJ=new d.XV({VF:!0});},function(d,b,a){var k;function c(){}function l(a){a?(this.active=!1,this.Kja(a)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.Hwa=b.jW=void 0;d=a(0);a=a(1);l.prototype.Kja=function(a){this.qc=a.keySessionData?a.keySessionData.map(function(a){return {id:a.id,QA:a.licenseContextId,KK:a.licenseId};}):[];this.ea=a.xid;this.u=a.movieId;};l.prototype.ov=function(){return JSON.parse(JSON.stringify({keySessionData:this.qc?this.qc.map(function(a){return {id:a.id,licenseContextId:a.QA,licenseId:a.KK};}):[],xid:this.ea,movieId:this.u}));};b.jW=l;c.prototype.create=function(){return new l();};c.prototype.load=function(a){return new l(a);};k=c;k=d.__decorate([a.O()],k);b.Hwa=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.TV=void 0;b.TV="CachedDrmDataSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kW=void 0;b.kW="DrmServiceLogblobBuilderSymbol";},function(d,b){b.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(d,b,a){d=a(88).root.Symbol;b.KF="function" === typeof d && "function" === typeof d["for"]?d["for"]("rxSubscriber"):"@@rxSubscriber";b.RXb=b.KF;},function(d,b,a){function c(a){var b;b=a.Symbol;"function" === typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}d=a(88);b.Z5b=c;b.observable=c(d.root);b.QXb=b.observable;},function(d,b,a){function c(a){var b,f;b=a.Symbol;if("function" === typeof b)return (b.iterator || (b.iterator=b("iterator polyfill")),b.iterator);if((b=a.Set) && "function" === typeof new b()["@@iterator"])return "@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),c=0;c < b.length;++c){f=b[c];if("entries" !== f && "size" !== f && a.prototype[f] === a.prototype.entries)return f;}return "@@iterator";}d=a(88);b.W8b=c;b.iterator=c(d.root);b.PXb=b.iterator;},function(d,b){b.p3=function(a){return a && "function" === typeof a.bd;};},function(d,b,a){var c,l,k,m;c=this && this.__extends || (function(a,b){function f(){this.constructor=a;}for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}a.prototype=null === b?Object.create(b):(f.prototype=b.prototype,new f());});d=a(24);l=a(314);k=a(157);m=a(203);a=(function(a){function b(b,f){a.call(this);this.Io=b;(this.Ea=f) || 1 !== b.length || (this.ew=!0,this.value=b[0]);}c(b,a);b.create=function(a,f){return new b(a,f);};b.of=function(){var c;for(var a=[],f=0;f < arguments.length;f++){a[f - 0]=arguments[f];}f=a[a.length - 1];m.p3(f)?a.pop():f=null;c=a.length;return 1 < c?new b(a,f):1 === c?new l.xDa(a[0],f):new k.oW(f);};b.Hc=function(a){var b,f,c;b=a.Io;f=a.index;c=a.Uj;f >= a.count?c.complete():(c.next(b[f]),c.closed || (a.index=f + 1,this.bd(a)));};b.prototype.dn=function(a){var f,c,h;f=this.Io;c=f.length;h=this.Ea;if(h)return h.bd(b.Hc,0,{Io:f,index:0,count:c,Uj:a});for(h=0;h < c && !a.closed;h++){a.next(f[h]);}a.complete();};return b;})(d.Eb);b.T7=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mwa=b.rC=b.Bt=void 0;b.Bt='video/mp4; codecs="avc1.640028"';b.rC='audio/mp4; codecs="mp4a.40.5"';b.Mwa="DrmTraitsSymbol";},function(d,b,a){var l,k,m,f,h,q,u,r,v,A,y;function c(a,b,f,c,h,q){this.aT=a;this.is=b;this.oc=f;this.Ed=c;this.bj=h;this.dh=q;m.En(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Lt=void 0;d=a(0);k=a(1);m=a(53);f=a(2);h=a(33);q=a(22);u=a(74);r=a(27);v=a(41);A=a(60);a=a(104);c.prototype.lx=function(){if(this.Ya)return this.Ya.sessionId;};c.prototype.bPb=function(a,b){return this.aT.requestMediaKeySystemAccess(a,b);};c.prototype.Kqb=function(a){return a.createMediaKeys();};c.prototype.nn=function(a,b){this.Ya=a.createSession(b);};c.prototype.d0=function(){return Promise.reject(new u.Qe(f.L.mW));};c.prototype.JDb=function(){return ! !this.Ya;};c.prototype.tRb=function(a,b){return this.is.WZ(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};c.prototype.TJ=function(a,b){return this.Ya?this.Ya.generateRequest(a,b[0]):Promise.reject(new u.Qe(f.L.mW,f.K.JG,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(a){return this.Ya?this.Ya.update(a[0]):Promise.reject(new u.Qe(f.L.k9,f.K.JG,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(a){return this.Ya?this.Ya.load(a):Promise.reject(new u.Qe(f.L.w8a,f.K.JG,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var a;this.Oga=void 0;if(!this.Ya)return Promise.reject(new u.Qe(f.L.Rwa,f.K.JG,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.lx() && (a=this.Ya.close());this.Ya=void 0;return a;};c.prototype.remove=function(){return this.Ya?this.Ya.remove():Promise.reject(new u.Qe(f.L.Xwa,f.K.JG,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.TT=function(){return Promise.reject(new u.Qe(f.L.i9,void 0,"Unable to renew a key session, not supported"));};c.prototype.CIa=function(a){if(!this.Ya)throw ReferenceError("Unable to add message handler, key session is not valid");this.Ya.addEventListener(l.bxa,a);};c.prototype.yIa=function(a){if(!this.Ya)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Ya.addEventListener(l.axa,a);};c.prototype.wIa=function(a){if(!this.Ya)throw ReferenceError("Unable to add error handler, key session is not valid");this.Ya.addEventListener(l.$wa,a);};c.prototype.Yib=function(a){var b;b=this;if(!this.Ya)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Oga=a;this.Ya.closed.then(function(){var a;return null === (a=b.Oga) || void 0 === a?void 0:a.call(b);});};c.prototype.c_a=function(a){if(!this.Ya)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Ya.removeEventListener(l.bxa,a);};c.prototype.$Za=function(a){if(!this.Ya)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Ya.removeEventListener(l.axa,a);};c.prototype.XZa=function(a){if(!this.Ya)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Ya.removeEventListener(l.$wa,a);};y=l=c;y.bxa="message";y.axa="keystatuseschange";y.$wa="error";y=l=d.__decorate([k.O(),d.__param(0,k.l(h.zC)),d.__param(1,k.l(q.He)),d.__param(2,k.l(v.Ki)),d.__param(3,k.l(r.rg)),d.__param(4,k.l(A.Op)),d.__param(5,k.l(a.cz))],y);b.Lt=y;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p9=b.ez=void 0;b.ez="_ANY_";b.p9="EnricherSymbol";},function(d,b,a){var l,k,m;function c(a,b,c,d){this.za=a;this.Lw=b;this.Mm=c;this.kn=void 0 === d?"General":d;this.Qga={};}Object.defineProperty(b,"__esModule",{value:!0});b.WG=void 0;l=a(6);k=a(338);m=a(682);c.prototype.Qea=function(a,b){this.Qga[a]=b;};c.prototype.fatal=function(a,b){for(var f=[],c=1;c < arguments.length;++c){f[c - 1]=arguments[c];}this.Fz(l.Ni.I8a,a,m.ND(this.Lw,this.WJ(f)));};c.prototype.error=function(a,b){for(var f=[],c=1;c < arguments.length;++c){f[c - 1]=arguments[c];}this.Fz(l.Ni.ERROR,a,m.ND(this.Lw,this.WJ(f)));};c.prototype.warn=function(a,b){for(var f=[],c=1;c < arguments.length;++c){f[c - 1]=arguments[c];}this.Fz(l.Ni.lca,a,m.ND(this.Lw,this.WJ(f)));};c.prototype.info=function(a,b){for(var c=[],f=1;f < arguments.length;++f){c[f - 1]=arguments[f];}this.Fz(l.Ni.U9,a,m.ND(this.Lw,this.WJ(c)));};c.prototype.trace=function(a,b){for(var c=[],f=1;f < arguments.length;++f){c[f - 1]=arguments[f];}this.Fz(l.Ni.nEa,a,m.ND(this.Lw,this.WJ(c)));};c.prototype.debug=function(a,b){for(var c=1;c < arguments.length;++c){;}!1;};c.prototype.log=function(a,b){for(var c=[],f=1;f < arguments.length;++f){c[f - 1]=arguments[f];}this.debug.apply(this,[].concat([a],X(c)));};c.prototype.write=function(a,b,c){for(var f=[],h=2;h < arguments.length;++h){f[h - 2]=arguments[h];}this.Fz(a,b,m.ND(this.Lw,this.WJ(f)));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.kn};};c.prototype.tha=function(a){return new c(this.za,this.Lw,this.Mm,a);};c.prototype.Fz=function(a,b,c){a=new k.r$(a,this.kn,this.za.Bb(),b,c);b=N(this.Mm.Mm);for(c=b.next();!c.done;c=b.next()){c=c.value;c(a);}};c.prototype.WJ=function(a){return 0 < Object.keys(this.Qga).length?[].concat([this.Qga],X(a)):a;};b.WG=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iX=void 0;b.iX="MomentObserverFactory";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.XX=void 0;b.XX="SegmentManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.FX=void 0;b.FX="PboPlaydataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fY=b.Xba=void 0;b.Xba="ThroughputTrackerSymbol";b.fY="ThroughputTrackerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qaa=b.c$=void 0;b.c$="IsTypeSupportedProviderFactorySymbol";b.Qaa="PlatformIsTypeSupportedSymbol";},function(d,b,a){var l,k,m,f,h,q;function c(a,b,h,d,l){var r;r=k.Mp.call(this,a,b,h,l) || this;r.cast=d;r.type=m.Vl.t8;a=c.Icb;r.uV[m.Od.tH]=f.Gd.BN + "; " + a;r.uV[m.Od.Ev]=f.Gd.Ev + "; " + a;a=f.Gd.X6a.find(function(a){return r.Pw(q(c.qG,a));});r.uV[m.Od.gr]=a;return r;}Object.defineProperty(b,"__esModule",{value:!0});b.UV=b.u8=void 0;l=a(56);k=a(159);m=a(29);d=a(105);f=a(137);h=a(351);q=new d.Zy().format;L(c,k.Mp);c.oha=function(a,b){return (b=c.H_a(b))?{isTypeSupported:b}:a;};c.H_a=function(a){if("undefined" !== typeof a)return a.framework && a.framework.platform && a.framework.platform.canDisplayType?a.framework.platform.canDisplayType:a.receiver && a.receiver.platform && a.receiver.platform.canDisplayType || a.__platform__ && a.__platform__.canDisplayType || void 0;};c.prototype.mv=function(a){var b,h;b=this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;if(this.config().i4a){h={};if(b)return (h[m.Mi.pC]="1.4",h[m.Mi.zt]="2.2",b().then(function(b){return b === h[a];}));b=this.XUa(a);b=q(c.qG,f.Gd.BN) + " hdcp=" + b;b=this.Pw.bind(this,b);return Promise.resolve(b());}return Promise.resolve(!1);};c.prototype.VJ=function(a){return this.uV[a];};c.prototype.cK=function(){var a;a=this;return this.config().i4a?this.mv(m.Mi.zt).then(function(b){return b?Promise.resolve(m.Mi.zt):a.mv(m.Mi.pC).then(function(a){return a?Promise.resolve(m.Mi.pC):Promise.resolve(void 0);});}).then(function(b){return a.DQ(b);}):Promise.resolve(void 0);};c.prototype.ZD=function(){var a,b;a=k.Mp.prototype.ZD.call(this);b=c.oSa;a[l.T.C9]=["avc1.4D4028","width=1920; height=1080; "];a[l.T.D9]=["hev1.2.6.L90.B0",b];a[l.T.E9]=["hev1.2.6.L93.B0",b];a[l.T.F9]=["hev1.2.6.L120.B0",b];a[l.T.G9]=["hev1.2.6.L123.B0",b];a[l.T.H9]=["hev1.2.6.L150.B0","width=3840; height=2160; " + b];a[l.T.I9]=["hev1.2.6.L153.B0","width=3840; height=2160; " + b];a[l.T.DN]=["hev1.2.6.L90.B0",b];a[l.T.EN]=["hev1.2.6.L93.B0",b];a[l.T.PG]=["hev1.2.6.L120.B0",b];a[l.T.FN]=["hev1.2.6.L123.B0",b];a[l.T.GN]=["hev1.2.6.L150.B0","width=3840; height=2160; " + b];a[l.T.HN]=["hev1.2.6.L153.B0","width=3840; height=2160; " + b];a[l.T.J9]="hev1.2.6.L90.B0";a[l.T.K9]="hev1.2.6.L93.B0";a[l.T.L9]="hev1.2.6.L120.B0";a[l.T.M9]="hev1.2.6.L123.B0";a[l.T.QG]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[l.T.RG]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[l.T.IW]="hev1.2.6.L90.B0";a[l.T.KW]="hev1.2.6.L93.B0";a[l.T.MW]="hev1.2.6.L120.B0";a[l.T.OW]="hev1.2.6.L123.B0";a[l.T.PW]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[l.T.QW]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};c.prototype.aQa=function(){return [h.Hf.FV,h.Hf.Pxa,h.Hf.AN,h.Hf.OG];};c.prototype.mma=function(){k.Mp.prototype.mma.call(this);!c.H_a(this.cast) && this.Fm.push(h.Hf.Ev);};b.u8=c;c.oSa="eotf=smpte2084";c.e6b="video/mp4;codecs={0}; " + c.oSa;c.Icb="width=3840; height=2160; ";b.UV="CastSDKSymbol";},function(d,b,a){var l,k,m;function c(){this.type=l.Hy.yC;}Object.defineProperty(b,"__esModule",{value:!0});b.Sy=void 0;l=a(29);d=a(105);k=a(131);m=new d.Zy();c.oha=function(){return {isTypeSupported:function(a){var b;try{if(-1 == a.toLowerCase().indexOf("codec"))return ka.MSMediaKeys.isTypeSupported(a,"video/mp4");b=a.split("|");return 1 === b.length?ka.MSMediaKeys.isTypeSupported(k.Wb.Jt,a):"probably" === c.Lsa(b[0],b[1]);}catch(q){return !1;}}};};c.c0=function(a,b,d){b=m.format(c.qG,b);if(0 === d.length)return b;d=m.format('features="{0}"',d.join());return m.format("{0}|{1}{2}",a,b,d);};c.Lsa=function(a,b){var c;try{c=ka.MSMediaKeys.isTypeSupportedWithFeatures?ka.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(u){c="exception";}return c;};b.Sy=c;c.qG='video/mp4;codecs="{0},mp4a";';},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.t9=b.Ly=void 0;d=b.Ly || (b.Ly={});d.Rcb="unknown";d.mua="absent";d.KCa="present";d.Error="error";b.t9="ExternalDisplayLogHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.QV=void 0;b.QV="BookmarkSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sO=void 0;b.sO="TransportConfigSymbol";},function(d){d.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(d,b,a){var k,m,f,h;function c(a,b,c){for(var f=c.next();!f.done;){if((b=a["@@transducer/step"](b,f.value)) && b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}f=c.next();}return a["@@transducer/result"](b);}function l(a,b,c,h){return a["@@transducer/result"](c[h](f(a["@@transducer/step"],a),b));}k=a(744);m=a(746);f=a(747);g();g();p();h="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";d.exports=function(a,b,f){"function" === typeof a && (a=m(a));if(k(f)){for(var d=0,q=f.length;d < q;){if((b=a["@@transducer/step"](b,f[d])) && b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}d+=1;}return a["@@transducer/result"](b);}if("function" === typeof f["fantasy-land/reduce"])return l(a,b,f,"fantasy-land/reduce");if(null != f[h])return c(a,b,f[h]());if("function" === typeof f.next)return c(a,b,f);if("function" === typeof f.reduce)return l(a,b,f,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(d){d.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,d){return a.apply(this,arguments);};case 3:return function(b,d,k){return a.apply(this,arguments);};case 4:return function(b,d,k,m){return a.apply(this,arguments);};case 5:return function(b,d,k,m,f){return a.apply(this,arguments);};case 6:return function(b,d,k,m,f,h){return a.apply(this,arguments);};case 7:return function(b,d,k,m,f,h,q){return a.apply(this,arguments);};case 8:return function(b,d,k,m,f,h,q,u){return a.apply(this,arguments);};case 9:return function(b,d,k,m,f,h,q,u,r){return a.apply(this,arguments);};case 10:return function(b,d,k,m,f,h,q,u,r,v){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(d,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.dY=void 0;l=a(10);c.Jka=function(){var a;a=l.Ft && l.Ft.height;return a?1080 <= a?1080:720:720;};b.dY=c;},function(d,b,a){var l,k,m,f;function c(a,b){return k.TN.call(this,a,b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.kY=void 0;l=a(118);k=a(376);m=a(79);f=a(138);L(c,k.TN);c.prototype.tpa=function(a){var b,c;b=this;a=N(l.Es(function(a){return a.xc && 0 < a.xc.length;},a));c=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.Cs});});a=c.map(function(a){var c;c=a.co;c={type:m.jh.video,Xa:a.Cs,xx:a.hta,co:f.gY[c.toLowerCase()] || f.po.jH,NT:c,xc:[],Dh:{},Ks:a.Ks};c.xc=b.l3a(a.xc,c);b.log.trace("Transformed video track",{StreamCount:c.xc.length});return c;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};c.prototype.GKb=function(a){var b;b=a.map(function(a){return a.Ks;}).filter(Boolean);b=[].concat.apply([],[].concat(X(b))).map(function(a){return a.ba;});a=a.map(function(a){return a.qia;}).filter(Boolean).map(function(a){return a.ba;});return 0 < b.length?b:a;};b.kY=c;},function(d,b,a){var l,k,m,f,h,q,u,r,v,A,y,B,g;function c(a,b,c,d,m,r,k,u,l,v,A,B,y,I,n,p){this.j=a;this.Xa=b;this.xx=c;this.Jd=d;this.dx=m;this.jia=r;this.gm=k;this.displayName=u;this.co=l;this.NT=v;this.profile=A;this.Bs=B;this.jL=y;this.mwb=I;this.m3=n;this.ms=p;this.type=f.jh.d7;this.ft=void 0;this.hp=!(!A || A != q.Tl.bH && A != q.Tl.oX);this.Dh={bcp47:k,trackId:b,downloadableId:d,isImageBased:this.hp};this.log=h.Bh(a,"TimedTextTrack");this.state=g.tX;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.PC=void 0;l=a(0);k=a(67);m=a(11);f=a(79);h=a(7);q=a(56);u=a(20);r=a(440);v=a(15);A=a(1032);y=a(13);B=a(2);(function(a){a[a.tX=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.SN=3]="LOAD_FAILED";})(g || (g={}));c.prototype.getEntries=function(){var a;a=this;if(this.j.state.value === y.Db.CLOSED || this.j.state.value === y.Db.CLOSING)return Promise.reject({ia:!1});if(this.hp)return this.GCb();this.INa || (this.INa=this.HNa());return this.INa.then(function(b){return a.yKb(b);});};c.prototype.rd=function(){return this.state;};c.prototype.zK=function(){return this.jL;};c.prototype.i3=function(){return this.mwb;};c.prototype.xA=function(a,b){var c;c=[];try{this.hp?c=this.xf && this.xf.xA(a,b) || []:this.entries && (c=this.entries.filter(function(c){var f;f=N([c.startTime,c.endTime]);c=f.next().value;f=f.next().value;return c >= a && c <= b || c <= a && a <= f;}));}catch(R){this.log.error("error in getSubtitles",R,{start:a,end:b,isImageBased:this.hp});}return c;};c.prototype.gAb=function(){var a;if(!v.ic(this.X))try{this.X=this.hp?(a=this.xA(0,c.B$a)[0]) && a.displayTime:(a=this.entries && this.entries[0]) && a.startTime;}catch(D){this.log.error("exception in getStartPts",D);}return this.X;};c.prototype.y6=function(a){return this.j.state.value === y.Db.CLOSING || this.j.state.value === y.Db.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.Oc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};c.prototype.GCb=function(){var a,b,c,f,d,q,r,k,u;a=this;if(!this.$Sa){this.state=g.LOADING;b={Xkb:!1,profile:this.profile,roa:this.Bs.offset,NVa:this.Bs.length,jd:this.j.nb.value || 0,bufferSize:m.config.gCb,h6:{Ja:this.j.wR()}};c=h.Bh(this.j,"TimedTextTrack");c.warn=c.trace.bind(c);c.info=c.debug.bind(c);f=A.zMa(this.j,c,this.request,this);d=(this.jia || []).filter(function(b){return (b.id in a.dx);}).sort(function(a,b){return a.jg - b.jg;}).map(function(a){return a.id;});q=0;r={};k=!0;u=function(c,l){var A;if(v.ic(c)){if(k || a.y6(a.gs(a.Tr,"","image"))){k=!1;a.Bs.url=a.dx[a.Tr];b.url=a.Bs.url;r[c]=(r[c] || 0) + 1;A=new h.iEa(f,b);A.on("ready",function(){a.xf=A;l({ia:!0,track:a});});A.on("error",function(b){var f;b=Object.assign({ia:!1},b);f=a.gs(a.Tr,a.Bs.url,"image");f.details={midxoffset:a.Bs.offset,midxsize:a.Bs.length};f.errorstring=b.errorString;r[c] <= m.config.S2a?(a.l1(f,!0,"retry with current cdn"),a.Kfa(r[c]).then(function(b){a.log.trace("retry timed text download after " + b,a.gs(a.Tr,"","image"));u(a.Tr,l);})):(a.Tr=d[q++],a.Tr?(a.l1(f,!0,"retry with next cdn"),a.Kfa(r[c]).then(function(b){a.log.trace("retry timed text download after " + b,a.gs(a.Tr,"","image"));u(a.Tr,l);})):(a.l1(f,!1,"all cdns tried"),l({ia:!1,OHb:"all cdns failed for image subs",track:a})));});A.start();}else l({ia:!1,Cr:!0});}else (l({ia:!1,OHb:"cdnId is not defined for image subs downloadUrl"}),a.l1(a.gs(0,"","image"),!1,"cdnId is undefined"));};this.Tr=d[q++];this.$Sa=new Promise(function(b,c){u(a.Tr,function(f){f.ia?(a.log.info("Loaded image subtitle manager"),a.state=g.LOADED,b(f)):(a.log.error("Unable to load image subtitles manager",f),a.state=g.SN,c(f));});});}return this.$Sa;};c.prototype.l1=function(a,b,c){a=Object.assign({},a,{F9b:b,status:c});this.j.fireEvent(y.V.AM,a);this.log.warn("subtitleerror event",a);};c.prototype.request=function(a,b){var c;c=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,ft:this.ft,responseType:k.XR,headers:{},Gc:this.Yja(this.Tr)};this.j.K2.download(a,function(a){c.log.trace("imgsub: request status " + a.ia);a.ia?b(null,new Uint8Array(a.content)):b({ka:a.ka,Ne:a.Ne});});};c.prototype.gs=function(a,b,c){return {currentCdnId:a,url:b,profile:this.profile,dlid:this.Jd,subtitletype:c,bcp47:this.gm,trackId:this.Xa,cdnCount:Object.keys(this.dx).length,isImageBased:this.hp};};c.prototype.Yja=function(a){return (this.jia || []).find(function(b){return b.id === a;});};c.prototype.HNa=function(){var f,h;function a(a){return l.__awaiter(f,void 0,void 0,function(){var d,q,m,r,k;function f(){for(;;){switch(d){case 0:m=c();q=r.gs(a.Gc.id,a.url,"text");q.errorstring=a.reason;if(!m || !r.y6(q)){d=1;break;}d=-1;return {value:r.Kfa(h[m.id]).then(b),done:!0};case 1:return (d=-1,{value:Promise.reject({ia:!1,Cr:!0}),done:!0});default:return {value:void 0,done:!0};}}}d=0;r=this;k={next:function(){return f();},"throw":function(){return f();},"return":function(){throw Error("Not yet implemented");}};p();k[Symbol.iterator]=function(){return this;};return k;});}function b(){return l.__awaiter(f,void 0,void 0,function(){var f,d,q,m,r;function b(){for(;;){switch(f){case 0:d=(q=c()) && m.dx[q.id];if(!q || !d){f=1;break;}h[q.id]=(h[q.id] || 0) + 1;f=-1;return {value:m.ftb(d,q)["catch"](a),done:!0};case 1:return (f=-1,{value:Promise.reject({}),done:!0});default:return {value:void 0,done:!0};}}}f=0;m=this;r={next:function(){return b();},"throw":function(){return b();},"return":function(){throw Error("Not yet implemented");}};p();r[Symbol.iterator]=function(){return this;};return r;});}function c(){return (f.jia || []).find(function(a){return ! !((h[a.id] || 0) < m.config.S2a && f.dx[a.id]);});}f=this;this.state=g.LOADING;h={};return b();};c.prototype.Kfa=function(a){return new Promise(function(b){var c;c=1E3 * Math.min(Math.pow(2,a - 1),8);setTimeout(function(){return b(c);},c);});};c.prototype.yKb=function(a){var b,c;b=this;c=this.j.SM;u.yb(c);return r.WXa(a,c.width / c.height,m.config.T2a,m.config.$sa).then(function(a){var c;if(m.config.U2a){c=0;b.entries=a.map(function(a){return Object.assign({},a,{startTime:c,endTime:c+=m.config.U2a});});}else b.entries=a;b.log.trace("Entries parsed",{Length:a.length},b.Dh);b.state=g.LOADED;return {ia:!0,entries:b.entries,track:b};})["catch"](function(a){b.log.error("Unable to parse timed text track",B.jr(a),b.Dh,{url:a.url});b.state=g.SN;a.reason="parseerror";a.track=b;throw a;});};c.prototype.ftb=function(a,b){var c;c=this;this.log.trace("Downloading",b && ({Gc:b.id}),this.gs(b.id,a,"text"));return new Promise(function(f,h){var d;d={responseType:k.Lla,url:a,track:c,Gc:b,dE:"tt-" + c.gm};c.j.K2.download(d,function(a){a.ia?f(a.content):(a.reason="downloadfailed",a.url=d.url,a.track=c,a.Gc=b,h(a));});});};b.PC=c;c.B$a=72E7;c.Dba=g;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.VGb=b.i4=b.ie=void 0;b.ie=[0,1];b.i4=function(a,b){return a || b?b?[1]:[0]:[0,1];};b.VGb=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.rO=void 0;d=(function(){function a(a){this.MHa=a;}Object.defineProperties(a.prototype,{wK:{get:function(){return this.pfb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.MHa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{K_a:{get:function(){var a;a=this;return this.MHa.then(function(){return a;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.pfb=!0;};a.prototype.gpa=function(a,b){var c;c=this;this.result.then(function(d){c.wK?b && b(d):a(d);});return this;};return a;})();b.rO=d;},function(d,b,a){var c,l,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.DG=void 0;d=a(0);c=a(168);l=d.__importDefault(a(229));k=d.__importDefault(a(852));m=d.__importDefault(a(109));f=a(5);a=(function(){function a(a,b){var f;f=this;this.Tf=new l["default"](a,b);this.In=new k["default"](a);this.kb=new m["default"](this.In,this.Tf,a);c.wv.eob(a);a.h5 && setInterval(function(){f.Tf.save();f.In.save();},a.h5);}a.ZQa=function(b,c){void 0 === h?(a.config=b,a.vy=c,h=new a(b,c)):(f.assert(a.config === b),f.assert(a.vy === c));return h;};a.reset=function(){a.config=void 0;h=a.vy=void 0;};return a;})();b.DG=a;},function(d,b,a){var f;function c(a,b,c){this.yJ=!1 === a;this.tJ=a || .01;this.f$=void 0 === b?25:b;this.Bva=void 0 === c?1.1:c;this.Uh=new f(l);this.reset();}function l(a,b){return a.Bf > b.Bf?1:a.Bf < b.Bf?-1:0;}function k(a,b){return a.Ju - b.Ju;}function m(a){this.config=a || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?a.tJ:!1);this.Isb=this.config.ratio || .9;this.Jsb=this.config.$8b || 1E3;this.y4=0;}f=a(832).Hbb;c.prototype.reset=function(){this.Uh.clear();this.gna=this.n=0;};c.prototype.size=function(){return this.Uh.size;};c.prototype.bo=function(a){var b;b=[];a?(this.GY(!0),this.Uh.me(function(a){b.push(a);})):this.Uh.me(function(a){b.push({Bf:a.Bf,n:a.n});});return b;};c.prototype.summary=function(){return [(this.yJ?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.si(0),"Q1  = " + this.si(.25),"Q2  = " + this.si(.5),"Q3  = " + this.si(.75),"max = " + this.si(1)].join("\n");};c.prototype.push=function(a,b){b=b || 1;a=Array.isArray(a)?a:[a];for(var c=0;c < a.length;c++){this.SFa(a[c],b);}};c.prototype.sqa=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b < a.length;b++){this.SFa(a[b].Bf,a[b].n);}};c.prototype.GY=function(a){var b;if(!(this.n === this.gna || !a && this.Bva && this.Bva > this.n / this.gna)){b=0;this.Uh.me(function(a){a.Ju=b + a.n / 2;b=a.jJ=b + a.n;});this.n=this.gna=b;}};c.prototype.Rvb=function(a){var b,c;if(0 === this.size())return null;b=this.Uh.lowerBound({Bf:a});c=null === b.data()?b.vF():b.data();return c.Bf === a || this.yJ?c:(b=b.vF()) && Math.abs(b.Bf - a) < Math.abs(c.Bf - a)?b:c;};c.prototype.mI=function(a,b,c){a={Bf:a,n:b,jJ:c};this.Uh.fp(a);this.n+=b;return a;};c.prototype.nY=function(a,b,c){b !== a.Bf && (a.Bf+=c * (b - a.Bf) / (a.n + c));a.jJ+=c;a.Ju+=c / 2;a.n+=c;this.n+=c;};c.prototype.SFa=function(a,b){var c,f,h;c=this.Uh.min();f=this.Uh.max();h=this.Rvb(a);h && h.Bf === a?this.nY(h,a,b):h === c?this.mI(a,b,0):h === f?this.mI(a,b,this.n):this.yJ?this.mI(a,b,h.jJ):(c=h.Ju / this.n,Math.floor(4 * this.n * this.tJ * c * (1 - c)) - h.n >= b?this.nY(h,a,b):this.mI(a,b,h.jJ));this.GY(!1);!this.yJ && this.f$ && this.size() > this.f$ / this.tJ && this.Vw();};c.prototype.Blb=function(a){var b,c;this.Uh.Yl=k;b=this.Uh.upperBound({Ju:a});this.Uh.Yl=l;c=b.vF();a=c && c.Ju === a?c:b.next();return [c,a];};c.prototype.si=function(a){var b;b=(Array.isArray(a)?a:[a]).map(this.Zgb,this);return Array.isArray(a)?b:b[0];};c.prototype.Zgb=function(a){var b,c;if(0 !== this.size()){this.GY(!0);this.Uh.min();this.Uh.max();a*=this.n;b=this.Blb(a);c=b[0];b=b[1];return b === c || null === c || null === b?(c || b).Bf:this.yJ?a <= c.jJ?c.Bf:b.Bf:c.Bf + (a - c.Ju) * (b.Bf - c.Bf) / (b.Ju - c.Ju);}};c.prototype.Vw=function(){var a;if(!this.PLa){a=this.bo();this.reset();for(this.PLa=!0;0 < a.length;){this.sqa(a.splice(Math.floor(Math.random() * a.length),1)[0]);}this.GY(!0);this.PLa=!1;}};m.prototype=Object.create(c.prototype);m.prototype.constructor=m;m.prototype.push=function(a){c.prototype.push.call(this,a);this.gnb();};m.prototype.mI=function(a,b,f){this.y4+=1;c.prototype.mI.call(this,a,b,f);};m.prototype.nY=function(a,b,f){1 === a.n && --this.y4;c.prototype.nY.call(this,a,b,f);};m.prototype.gnb=function(){!("auto" !== this.mode || this.size() < this.Jsb) && this.y4 / this.size() > this.Isb && (this.mode="cont",this.yJ=!1,this.tJ=this.config.tJ || .01,this.Vw());};d.exports={TDigest:c,Digest:m};},function(d,b,a){var f,h,q,u,r,v;function c(a){var b;b=a.kda;this.H=a;this.Si=h.$e.HAVE_NOTHING;this.TH=a.TH;a=new r(this.TH);this.DP=a.create("throughput-location-history",b);this.lw=a.create("respconn-location-history",b);this.dw=a.create("respconn-location-history",b);this.MZ=a.create("throughput-tdigest-history",b);this.ZY=a.create("throughput-iqr-history",b);this.eb=null;}function l(a,b,f,h,d){this.cw=new c(d);this.$p=[];this.Pfb=q.time.aa() - Date.now() % 864E5;this.aw=null;this.H=d;for(a=0;a < h;++a){this.$p.push(new c(d));}}function k(a,b,c){return f.has(a,b)?a[b]:a[b]=c;}function m(a,b){var f;this.H=a;this.bIa=b;this.xOa();this.RO=new c(this.H);this.aP();f=a.Lha;f && (f={Pd:h.$e.CN,Ka:{Ca:parseInt(f,10),di:0},ai:{Ca:0,di:0},ps:{Ca:0,di:0}},this.get=function(){return f;});}f=a(8);h=a(25)["default"];b=a(9);q=a(3)["default"];u=b.Ixa;r=a(389).Cxa;new q.Console("ASEJS_LOCATION_HISTORY","media|asejs");v={Pd:h.$e.HAVE_NOTHING};c.prototype.AD=function(a,b){this.Si=b;this.DP.add(a);this.MZ.add(a);this.eb=q.time.aa();};c.prototype.uG=function(a,b){this.ZY.set(a,b);};c.prototype.zw=function(a){this.lw.add(a);};c.prototype.ww=function(a){this.dw.add(a);};c.prototype.rd=function(){var a,b,c,h,d,m;a=this.DP.rd();b=this.lw.rd();c=this.dw.rd();h=this.ZY.rd();d=this.MZ.rd();if(f.ab(a) && f.ab(b) && f.ab(c))return null;m={c:this.Si,t:q.time.Boa(this.eb)};f.ab(a) || (m.tp=a);f.ab(b) || (m.rt=b);f.ab(c) || (m.hrt=c);f.ab(h) || (m.iqr=h);f.ab(d) || (m.td=d);return m;};c.prototype.re=function(a){var b;b=q.time.now();if(!(a && f.has(a,"c") && f.has(a,"t") && f.has(a,"tp") && f.isFinite(a.c) && f.isFinite(a.t)) || 0 > a.c || a.c > h.$e.CN || a.t > b || !this.DP.re(a.tp))return (this.Si=h.$e.HAVE_NOTHING,this.aw=this.eb=null,this.DP.re(null),this.lw.re(null),this.dw.re(null),!1);this.Si=a.c;this.eb=q.time.Voa(a.t);this.lw.re(f.has(a,"rt")?a.rt:null);this.dw.re(f.has(a,"hrt")?a.hrt:null);f.has(a,"iqr") && this.ZY.re(a.iqr);f.has(a,"td") && this.MZ.re(a.td);return !0;};c.prototype.get=function(){var a,b,c,d,m,r;a=this.H;if(f.ab(this.eb))return v;b=(q.time.aa() - this.eb) / 1E3;b > a.jfb?this.Si=h.$e.HAVE_NOTHING:b > a.Heb && (this.Si=Math.min(this.Si,h.$e.lC));a=this.DP.get();c=this.lw.get();d=this.dw.get();m=this.ZY.get();r=this.MZ.get();b={kk:b,Pd:this.Si,Ka:a,ai:c,ps:d,qs:m,pj:r};a && (b.b9b=u.prototype.Xpa.bind(a));c && (b.t8b=u.prototype.Xpa.bind(c));d && (b.j6b=u.prototype.Xpa.bind(d));return b;};c.prototype.time=function(){return this.eb;};c.prototype.SH=function(){this.get();q.time.aa();};l.prototype.wj=function(){return ((q.time.aa() - this.Pfb) / 1E3 / 3600 / (24 / this.$p.length) | 0) % this.$p.length;};l.prototype.rd=function(){var a;a={g:this.cw.rd(),h:this.$p.map(function(a){return a.rd();})};f.ab(this.aw) || (a.f=q.time.Boa(this.aw));return a;};l.prototype.re=function(a){var b,c;if(!this.cw.re(a.g))return !1;b=this.$p.length;c=!1;this.$p.forEach(function(f,h){c=!f.re(a.h[h * a.h.length / b | 0]) || c;});this.aw=f.has(a,"f")?q.time.Voa(a.f):null;return c;};l.prototype.AD=function(a,b){this.cw.AD(a,b);this.$p[this.wj()].AD(a,b);this.aw=null;};l.prototype.uG=function(a,b){this.cw.uG(a,b);this.$p[this.wj()].uG(a,b);};l.prototype.zw=function(a){this.cw.zw(a);this.$p[this.wj()].zw(a);};l.prototype.ww=function(a){this.cw.ww(a);this.$p[this.wj()].ww(a);};l.prototype.fail=function(a){this.aw=a;};l.prototype.get=function(){var a,b;if(!f.ab(this.aw)){if((q.time.aa() - this.aw) / 1E3 < this.H.Geb)return {Pd:h.$e.HAVE_NOTHING,rq:!0};this.aw=null;}a=this.$p[this.wj()].get();b=this.cw.get();a=a.Pd >= b.Pd?a:b;a.rq=!1;return a;};l.prototype.time=function(){return this.cw.time();};l.prototype.SH=function(a){this.cw.SH(a + ": global");this.$p.forEach(function(b,c,h){f.ab(b.time()) || (c=24 * c / h.length,b.SH(a + ":  " + ((10 > c?"0":"") + c + "00") + "h"));});};m.prototype.nGa=function(a,b){var c;c=this.H;a=k(this.mz,a,{});return k(a,b,new l(0,0,0,c.oHa || 4,c));};m.prototype.aP=function(){var a,b;a=q.storage.get("lh");b=q.storage.get("gh");a && this.qea(a);b && this.Whb(b);};m.prototype.qda=function(){var a;a={};f.me(this.mz,function(b,c){f.me(b,function(b,f){k(a,c,{})[f]=b.rd();},this);},this);return a;};m.prototype.Whb=function(a){this.RO.re(a);};m.prototype.qea=function(a){var b,c;b=null;c=this.H;f.me(a,function(a,h){f.me(a,function(a,d){var q;q=new l(0,0,0,c.oHa || 4,c);q.re(a)?(k(this.mz,h,{})[d]=q,b=!0):f.ab(b) && (b=!1);},this);},this);return f.ab(b)?!0:b;};m.prototype.save=function(){var a;a=this.qda();q.storage.set("lh",a);q.storage.set("gh",this.RO.rd());this.bIa && this.bIa.Wra(this.RO.rd());};m.prototype.xOa=function(a){a?(f.has(this.mz,a) && delete this.mz[a],this.IY == a && (this.VC=this.IY="",this.$l=null)):(this.mz={},this.VC=this.IY="",this.$l=null);};m.prototype.tU=function(a){this.IY=a;this.$l=null;};m.prototype.u6=function(a){this.VC=a;this.$l=null;};m.prototype.VY=function(){f.ab(this.$l) && (this.$l=this.nGa(this.IY,this.VC));return this.$l;};m.prototype.AD=function(a,b){this.VY().AD(a,b);this.RO.AD(a,b);};m.prototype.uG=function(a,b){a && a.Jk && a.kj && a.Kk && (this.VY().uG(a,b),this.RO.uG(a,b));};m.prototype.zw=function(a){this.VY().zw(a);};m.prototype.ww=function(a){this.VY().ww(a);};m.prototype.fail=function(a,b){this.nGa(a,this.VC).fail(b);};m.prototype.get=function(a,b){var c,d,q,m;a=(a=this.mz[a])?a[this.VC]:null;c=null;if(a && (c=a.get(),c.Pd > h.$e.HAVE_NOTHING))return c;if(!1 === b)return v;d=c=null;q=!1;m=null;f.me(this.mz,function(a){f.me(a,function(a,b){var f;if(!q || b == this.VC){f=a.get();f && (!d || d <= f.Pd) && (!m || d < f.Pd || m < a.time()) && (d=f.Pd,q=b == this.VC,m=a.time(),c=f);}},this);},this);return c?c:v;};m.prototype.SH=function(){f.me(this.mz,function(a,b){f.me(a,function(a,c){a.SH(b + ":" + c);});});};d.exports=m;},function(d,b,a){var m;function c(a){this.DI=a;this.reset();}function l(a){this.Yi=new c(a);this.ke=0;this.bc=null;}function k(a,b){this.DI=a;this.WGa=b;this.reset();}m=a(8);c.prototype.AHa=function(a,b){this.eb+=a;this.Ti+=a;this.yc+=b;this.zj.push({d:a,s_:b});};c.prototype.pP=function(){var a;for(;this.Ti > this.DI;){a=this.zj.shift();this.yc-=a.s_;this.Ti-=a.d;}};c.prototype.reset=function(){this.zj=[];this.eb=null;this.Ti=this.yc=0;};c.prototype.setInterval=function(a){this.DI=a;this.pP();};c.prototype.start=function(a){m.ab(this.eb) && (this.eb=a);};c.prototype.add=function(a,b,c){m.ab(this.eb) && (this.eb=b);b > this.eb && this.AHa(b - this.eb,0);this.AHa(c > this.eb?c - this.eb:0,a);this.pP();};c.prototype.get=function(){return {Ca:Math.floor(8 * this.yc / this.Ti),di:0};};l.prototype.reset=function(){this.Yi.reset();this.ke=0;this.bc=null;};l.prototype.add=function(a,b,c){!m.ab(this.bc) && c > this.bc && (b > this.bc && (this.ke+=b - this.bc),this.bc=null);this.Yi.add(a,b - this.ke,c - this.ke);};l.prototype.start=function(a){!m.ab(this.bc) && a > this.bc && (this.ke+=a - this.bc,this.bc=null);this.Yi.start(a - this.ke);};l.prototype.stop=function(a){this.bc=m.ab(this.bc)?a:Math.min(a,this.bc);};l.prototype.get=function(){return this.Yi.get();};l.prototype.setInterval=function(a){this.Yi.setInterval(a);};k.prototype.reset=function(){this.zj=[];this.yc=this.Ti=0;};k.prototype.add=function(a,b,c,d){void 0 !== d && !0 === d && (b=c - b,this.Ti+=b,this.yc+=a,this.zj.push({d:b,s_:a}),this.pP());};k.prototype.pP=function(){var a;for(;this.Ti > this.DI || this.zj.length > this.WGa;){a=this.zj.shift();this.yc-=a.s_;this.Ti-=a.d;}};k.prototype.start=function(){};k.prototype.stop=function(){};k.prototype.get=function(){return {Ca:Math.floor(8 * this.yc / this.Ti),di:0};};k.prototype.setInterval=function(a,b){this.DI=a;this.WGa=b;this.pP();};d.exports={VYb:c,i8a:l,Ycb:k};},function(d,b){function a(a){var b;b={profile:a.spoofedProfile || a.profile,Ija:a.max_framerate_value,Hja:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,oLb:a.pixelAspectX,pLb:a.pixelAspectY,Lr:a.channels,sampleRate:a.channels?48E3:void 0};a.spoofedProfile && (b.S7b=a.profile);return b;}Object.defineProperty(b,"__esModule",{value:!0});b.SQa=b.RQa=void 0;b.RQa=function(b,d,k){var c;c=[{},{}];(0 === k?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(f,h){b[f].some(function(b,f){return f === d[h]?(c[h]=a(b),!0):!1;});});return c;};b.SQa=a;},function(d,b,a){var c,l,k,m,f,h,q,u,r,v,A;Object.defineProperty(b,"__esModule",{value:!0});b.NV=void 0;c=a(0);l=a(16);k=a(863);d=a(93);m=a(864);f=a(890);h=a(893);q=a(245);u=a(17);r=c.__importDefault(a(3));v=a(5);a(9);a(231);A=(function(){return function(a){var b;b=a.Ema;a=a.h3;this.LS=this.replace=b;this.Rf=a;};})();a=(function(a){function b(b,d){var k,u,v,y,g,B,I,J,n,p,t,fa,wa,Q,ca,O,xa,Na,Ha,ja,Ca;k=d.qb;u=d.pa;v=d.Bl;y=d.De;g=d.doa;B=d.Vh;I=d.config;J=d.yla;n=d.HF;p=d.tR;t=d.kb;fa=d.Tf;wa=d.lL;Q=d.Sia;d=d.EB;ca=a.call(this) || this;ca.fa=b;ca.C2=!1;ca.EGa=[];ca.UGa=[];ca.qh=[];ca.bA=[];ca.Zl=!1;ca.qb=k;ca.dP=u;ca.Bl=v;ca.Mb=function(a){return 0 <= y.indexOf(a);};ca.config=I;ca.console=new r["default"].Console("ASEJS","media|asejs","<" + String(ca.fa) + ">");J && (b=J.vA,ca.df=new h.$xa(ca,ca.console,ca.config,J.Cm,J.KR,b,J.e3,J.We,J.bd,J.yg,J.JA),ca.vA=b);ca.IA=new l.EventEmitter();ca.tR=p;ca.kb=t;ca.lL=wa;ca.vl=new q.aX(ca.pa,t,fa,ca.config,null === Q || void 0 === Q?void 0:Q.Cm);Q && (J=Q.wq,p=Q.zn,t=Q.BK,ca.zo=Q.Fg,ca.BK=t,ca.zn=p,ca.wq=J,ca.gda=new f.nxa(ca.vl,ca.config,ca.YAb.bind(ca),ca.XAb.bind(ca)));ca.HF=n;ca.EB=d;ca.Pe=new A(g);ca.Vh=B;O=[[],[]];xa=[{},{}];Na=[0,0];Ha=!1;ja=ca.Mb(0);Ca=ca.Mb(1);["audio_tracks","video_tracks"].forEach(function(a,b){var f;f=0 === b;f && !ja || 1 === b && !Ca || ca.pa[a].forEach(function(a,h){a=new m.Qua({N:ca,Mx:a,I:b,Rf:g.h3,KM:h,zD:h + (f?ca.pa.video_tracks.length:0)},ca.config,ca.console);O[b].push(a);xa[b]=c.__assign(c.__assign({},xa[b]),a.yE());a.ym > Na[a.I] && (Na[a.I]=a.ym);Ha=Ha || a.QR;});});ca.BH=O;ca.kTb=xa;ca.zs=Na;ca.QR=Ha;ca.DGa=ca.config && ca.config.YR && ! !ca.config.YR.length && -1 !== ca.config.YR.indexOf(String(ca.u)) && ca.config.Qla && ! !ca.config.Qla.length && void 0 !== ca.hs(1,ca.config.Qla[0]);ca.veb=ca.DGa && ca.config.Q0;return ca;}c.__extends(b,a);Object.defineProperties(b.prototype,{pa:{get:function(){return this.dP;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{KS:{get:function(){var a;return !(null === (a=this.BH[1][0]) || void 0 === a || !a.KS);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ag:{get:function(){return this.EGa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sGb:{get:function(){return this.UGa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{u:{get:function(){return this.pa.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Oo:{get:function(){return this.pa.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{duration:{get:function(){return this.pa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fj:{get:function(){return this.Zl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xo:{get:function(){v.assert(this.gda,"ErrorDirector is not available on old architecture prefetch viewables.");return this.gda;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Oia:{get:function(){return this.Xo.events;},enumerable:!1,configurable:!0}});b.prototype.Tb=function(){this.close();this.cc();};b.prototype.close=function(){var a;this.bA=[];null === (a=this.gda) || void 0 === a?void 0:a.Tb();this.vl.Tb();this.Zl=!0;};b.prototype.cc=function(){this.df && this.df.cc();};b.prototype.mWb=function(a){var b,c,f,h,d,q;b=this;c=a.pa;f=a.De;h=void 0 === f?u.ie:f;v.assert(a.Vh === this.Vh,"Updating Viewable clearplay not supported");u.ie.forEach(function(a){v.assert(b.Mb(a) === 0 <= h.indexOf(a),"Updating Viewable media types not supported");});v.assert(c.movieId === this.pa.movieId,"Changing Viewable manifest movieId unsupported");d=this.Mb(0);q=this.Mb(1);["audio_tracks","video_tracks"].forEach(function(a,c){var f;if((0 !== c || d) && (1 !== c || q)){a=b.pa[a];f=b.BH[c];v.assert(a.length === f.length,"Changing Viewable tracks unsupported");a.forEach(function(a,b){var c;b=f[b];v.assert(a.track_id === b.Xa);a=a.streams;c=Object.keys(b.yE());v.assert(a.length === c.length);a.forEach(function(a){v.assert(-1 !== c.indexOf(a.downloadable_id),"Changing Viewable track streams unsupported");});});}});this.dP=c;this.vl.xw(this.pa);};b.prototype.RF=function(a){var b,c,f;b=a.nF;c=a.ea;f=a.cx;a=a.Bm;b && c?(this.A6=new k.NDa(b,{ea:String(c),cx:! !f,EGb:this.config.uX.mx,Llb:this.config.uX.lv},a),this.Xo.RF(this.A6)):a("SideChannel: pbcid/xid is missing.");};b.prototype.yx=function(){return void 0 !== this.Oo;};b.prototype.getTracks=function(a){return this.BH[a];};b.prototype.getTrackById=function(a){var b;this.BH.some(function(c){return c.some(function(c){if(c.Xa === a)return (b=c,!0);});});b || this.console.warn("getTrackById not found:",a,"length:",this.BH.length);return b;};b.prototype.MRa=function(a,b){var c;c=this.BH[a];if(0 > b || b >= c.length)this.console.warn("getTrackByIndex out of range:",b,"length:",c.length,"mediaType:",a);else return c[b];};b.prototype.hs=function(a,b){return (a=this.yE(a)) && a[b];};b.prototype.yE=function(a){return this.kTb[a];};b.prototype.PVb=function(a,b){this.EGa[a]=b;b.stream.$ && this.U3a(a,b.stream.$);};b.prototype.fOa=function(a){return void 0 === a || 1 === a?this.veb:!1;};b.prototype.lTa=function(a){return void 0 === a || 1 === a?this.DGa:!1;};b.prototype.SDb=function(a){var b,c;if(void 0 === a.v5 || void 0 === a.gqa){b=this.vl.tka().filter(function(b){return void 0 !== b.xc[a.Da];})[0];c=b.children.filter(function(b){return b.Ge.some(function(b){return b.stream.id === a.Da;});})[0];a.v5=b.id;a.gqa=c.id;}return {Nma:a.location === a.v5,TDb:a.Nc === a.gqa};};b.prototype.x6=function(a,b,c){void 0 !== b && void 0 !== c && (this.l_a(a.I,b),a.x6(b,c));};b.prototype.l_a=function(a,b){var c,f;f=this.config.Ioa;("location" === f || "video_location" === f && 1 === a) && this.kb.tU(b);null === (c=this.tR) || void 0 === c?void 0:c.call(this).zJb(a,b);};b.prototype.Fg=function(a,b,c,f,h){v.assert(this.zo,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.zo(a,b,c,f,h);};b.prototype.$q=function(){var a,b,c;a=this;b=[];if(this.fj)return (this.console.error("updateRequestUrls, closed Viewable:",this.fa),!1);u.ie.forEach(function(c){a.Mb(c) && a.fWb(c) && (c=a.UVb(c),0 < c.length && b.push.apply(b,c));});c=this.QVb();0 < c.length && b.push.apply(b,c);return this.lPb(b);};b.prototype.tn=function(a,b){var c;c=this.getTracks(1)[0];v.assert(c);if(c.eS)return c.tn(a,b);};b.prototype.fWb=function(a){var b,f,h,m,r;if(this.fj)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1);if(!this.Mb(a))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),!1);h=!0;try{for(var d=c.__values(this.qh),q=d.next();!q.done;q=d.next()){m=q.value.Ua(a);v.assert(m);r=this.vl.MM(this.fa,m.track.md);r || m.wb("location selector failed to update streamList");h=h && r;}}catch(Z){b={error:Z};}finally{try{q && !q.done && (f=d["return"]) && f.call(d);}finally{if(b)throw b.error;}}return h;};b.prototype.QVb=function(){v.assert(this.df,"Headers not available on old architecture prefetch viewables.");return this.df.$q();};b.prototype.UVb=function(a){var b,f,h,m;h=[];if(this.fj)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),h);if(!this.Mb(a))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),h);try{for(var d=c.__values(this.qh),q=d.next();!q.done;q=d.next()){m=q.value.$q(a);m.length && h.push.apply(h,m);}}catch(E){b={error:E};}finally{try{q && !q.done && (f=d["return"]) && f.call(d);}finally{if(b)throw b.error;}}return h;};b.prototype.lPb=function(a){var b,c,f;b=this;if(0 === a.length)return !0;c=0;f=[];a.forEach(function(a){var h;if(a.vc){h=a.N;h.qb > b.qb && (f.push({N:h,track:a.stream.track}),++c);}});f.forEach(function(a){var b;b=a.track;a.N.QL([0 === b.I?b:void 0,1 === b.I?b:void 0],void 0,b.I);});return c === a.length;};b.prototype.Ik=function(){var a;a=this;this.vl.Ik();this.Xo.Ik();this.A6 && (v.assert(this.vA),u.ie.forEach(function(b){b=a.vA(b);a.A6.Kra("rebuffer",b.fna);}));};b.prototype.fpa=function(){this.Xo.fpa();};b.prototype.Hta=function(a,b){v.assert(this.df,"Headers not available on old architecture prefetch viewables.");this.df.Hta(a,b);};b.prototype.w2=function(){v.assert(this.df,"Headers not available on old architecture prefetch viewables..");return this.df.w2();};b.prototype.Jga=function(){v.assert(this.df,"Headers not available on old architecture prefetch viewables.");this.df.Jga();};b.prototype.jM=function(a){v.assert(this.df,"Headers not available on old architecture prefetch viewables.");this.df.jM(a);};b.prototype.rta=function(){v.assert(this.df,"Headers not available on old architecture prefetch viewables.");return this.df.rta();};b.prototype.Jj=function(a,b){v.assert(this.df,"Headers not available on old architecture prefetch viewables.");return this.df.Jj(a,b);};b.prototype.qMa=function(a,b,c){v.assert(this.df,"Headers not available on old architecture prefetch viewables.");this.df.k7(a,b,c,!0);};b.prototype.a_=function(a,b,c){v.assert(this.df,"Headers not available on old architecture prefetch viewables.");return this.df.a_(a,b,! !c);};b.prototype.ZQb=function(a,b){this.bA.push({stream:a,kAb:b});};b.prototype.wOb=function(){this.bA=[];};b.prototype.BOb=function(a){this.bA=this.bA.filter(function(b){return b.stream !== a;});};b.prototype.AOb=function(a){this.bA=this.bA.filter(function(b){return b !== a;});};b.prototype.fK=function(){var a;a=this;v.assert(this.zn,"Streamables not available on old architecture prefetch viewables.");return this.zn()?[]:this.bA.map(function(b){var c,f;c=b.stream;f=b.kAb;f=f();return {W:"" + c.fa,I:c.I,Mn:f.Mn,ug:f.ug,ay:f.ay,Yn:f.Yn,le:f.le,groupId:"" + a.fa,Eu:!0,gp:!1,GTa:function(){return {result:!0};},LTa:function(){if(c.oG())return (a.BOb(c),{kp:!0,reason:"success"});a.AOb(b);return {kp:!1,reason:"viewableTryIssueHeaderRequest"};}};});};b.prototype.oG=function(a,b){v.assert(this.df,"Headers not available on old architecture prefetch viewables.");return this.df.oG(a,b);};b.prototype.KP=function(a,b){v.assert(this.df,"Headers not available on old architecture prefetch viewables.");return this.df.KP(a,b);};b.prototype.X5=function(a){v.assert(this.df,"Headers not available on old architecture prefetch viewables.");return this.df.X5(a);};b.prototype.QL=function(a,b,c){v.assert(this.df,"Headers not available on old architecture prefetch viewables.");return this.df.QL(a,b,c);};b.prototype.$Ab=function(a){var b,c,f;b=a.Da;c=a.I;this.U3a(c,a.stream.$);b=this.hs(c,b);f=this.yx()?this.config.mVa:0;c=r["default"].pl()[c];b.N3a(c,f);this.IA.emit("onHeaderFragments",a);};b.prototype.SZa=function(a){this.qh.push(a);};b.prototype.H3a=function(a){a=this.qh.indexOf(a);v.assert(-1 !== a,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.qh.splice(a,1);};b.prototype.U4=function(a){var b;null === (b=this.HF) || void 0 === b?void 0:b.yw(a);};b.prototype.Xx=function(a){this.fj?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",a):void 0 !== a.location && this.l_a(a.I,a.location);};b.prototype.rL=function(a){this.fj?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",a):this.Xo.o7({timestamp:a.sd,url:a.url});};b.prototype.Oj=function(a){var b;null === (b=this.HF) || void 0 === b?void 0:b.BF(a);v.assert(this.zn && this.lL,"Requests cannot be handled on old architecture prefetch viewables.");this.fj?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",a):this.zn() || (this.Xo.o7({timestamp:a.sd,mediaRequest:a}),this.lL(a));};b.prototype.oT=function(a,b,c){var f;c && (null === (f=this.HF) || void 0 === f?void 0:f.BF(a));};b.prototype.pT=function(a){this.fj?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",a):(this.Xo.Rq({url:a.url},a.status,a.wg,a.ri),this.$q() || this.Fg(a.nE || "unknown","NFErr_MC_StreamingFailure",a.wg,a.status,a.ri));};b.prototype.U3a=function(a,b){this.UGa[a]=b.Vna;};b.prototype.YAb=function(a){var b,c,f;v.assert(this.BK,"Error handling not available on old architecture prefetch viewables.");if(!this.Zl){b=a.BDb;c=a.gKb;f=a.hKb;a=a.iKb;this.console.warn("Streaming failure, isBuffering " + this.BK() + " is permanent: " + b + ", last error code: " + c + ", last http code: " + f + ", last native code: " + a);b?(this.console.warn(" > Permanent failure, done"),this.Fg("Permanent failure","NFErr_MC_StreamingFailure",c,f,a)):this.BK()?(this.console.warn(" > We are buffering, calling it!"),this.Fg("Temporary failure while buffering","NFErr_MC_StreamingFailure",a,f,a)):(this.console.warn(" > Resetting failures"),this.Xo.S5());}};b.prototype.XAb=function(){v.assert(this.wq,"Error handling not available on old architecture prefetch viewables.");this.Zl || (this.$q(),this.wq());};return b;})(d.vv);b.NV=a;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.qOa=b.qE=b.tn=b.sQa=b.g2=void 0;c=a(5);l=a(140);b.g2=function(a,b){return !(1 !== a || !b.DJ) || 0 === a;};b.sQa=function(a,b,c,h){a=a.qm(b,void 0,!0);c && (a=Math.floor(a / h) * h);return a;};b.tn=function(a,d,f,h,q,u){var m,k,A,y;l.Ql.ep(a);c.assert(f.$,"findFirstFragment called without stream fragments");m=f.$;k=b.g2(a,d);0 === a && !u && d.$i && !d.Hz && f.Bd && (h=Math.max(f.$.oj(0),h + f.Bd.da));A=b.sQa(m,h,f.N.lTa(a),4);y=f.ej(A);if(y.sa < h)return y;k && ((k=y.j1(h))?(0 < k.Pn && y.bi({start:k.Pn}),0 !== a || d.g4 || (0 > k.jd && y.bi({start:k.Pn}),k.jd < (d.$i && !d.Hz && f.Bd?Math.floor(f.Bd.da):0) && y.WQ())):h >= y.sa && A < m.length - 1 && (y=f.ej(A + 1)));1 === a && q && y.sa === q && A < m.length - 1 && (y=f.ej(A + 1));0 === a && !y.xa && (d.X2 || d.Ftb) && u && y.bi({});y.vU(h);return y;};b.qE=function(a,c,f,h,d,u,r){var q;l.Ql.ep(a);q=f.$;void 0 === h && (h=q.sa);if(d && (d=d.Evb(f,h,a,c,u)))return d;d=q.wa;r=h?h + b.qOa(a,d,c.Rs,r):q.Jia(q.length - 1);q=q.qm(r,void 0,!0);d=f.ej(q);0 === q || d.X !== h || 1 !== a && c.Rs || (--q,d=f.ej(q));b.g2(a,c)?(r=1 === a?r:h,r < d.sa && ((u=d.Nvb(r)) && 0 !== u.Pn?d.bi({end:u.Pn}):0 === a && (u || r < d.X) && 0 !== q?d=f.ej(q - 1):1 === a && u && 0 !== q && (d=f.ej(q - 1))),0 === a && !d.xa && c.X2 && d.bi()):0 === a && !c.Rs && h - d.X < d.duration / 2 && 0 !== q && (d=f.ej(q - 1));d.vU(h);return d;};b.qOa=function(a,b,c,h){var f;return 1 === a || h?0:c?null !== (f=null === b || void 0 === b?void 0:b.da) && void 0 !== f?f:0:b?-b.da:0;};},function(d,b,a){var t,aa,sa,fa,wa,Q,ca,O,xa,Na,Ha,ja,Ca,Wa,Ta,Ua,La,Ka,fb,lb,F,ia,L,qc,ff,N,P,S,W,X,ea;function c(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function l(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function k(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function m(a,b,c,f,h){fa.call(this,a,b,c,f,h);this.lsa=a.config.lsa;this.Yd=this.sizes=void 0;}function f(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function h(){for(var a=new DataView(this),b="",c,f=0;f < this.byteLength;f++){c=a.getUint8(f);b+=("00" + c.toString(16)).slice(-2);}return b;}function q(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function u(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function r(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function v(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function A(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function y(a){function b(b,c,f,h,d){fa.call(this,b,c,f,h,d);this.tWa=a;}b.Ic=!1;b.prototype=new fa();b.prototype.constructor=b;Object.defineProperties(b.prototype,{lwa:{get:function(){return this.tWa;}}});b.prototype.parse=function(){this.M.console.trace("renaming '" + this.type + "' to draft type '" + this.tWa + "'");this.M.offset=this.startOffset + 4;this.ob.X4a(this.lwa);this.type=this.lwa;return !0;};return b;}function g(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function I(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function J(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function D(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function T(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function R(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function U(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function n(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function E(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function p(a,b,c,f,h){fa.call(this,a,b,c,f,h);}function ta(a,b){a.forEach(function(a){b[a.af]=a;});}t=a(142).assert;b=a(95);aa=a(235).S;sa=a(398);a(143);a(80);a(80);a(80);fa=a(28).pg;wa=a(866)["default"];Q=a(867)["default"];ca=a(868)["default"];O=a(869)["default"];xa=a(870)["default"];Na=a(871)["default"];Ha=a(872)["default"];ja=a(873)["default"];Ca=a(874)["default"];a(236);a(169);Wa=a(399).f5a;Ta=a(399).q8a;Ua=a(875)["default"];La=a(876)["default"];Ka=a(96)["default"];fb=a(96).B5a;lb=a(96).C5a;F=a(96).D5a;ia=a(96).E5a;L=a(877)["default"];qc=a(878)["default"];ff=a(96).j9a;N=a(96).e9a;P=a(879)["default"];S=a(880)["default"];W=a(881)["default"];X=a(400)["default"];ea=a(401)["default"];a(144);a(239);a(240);a(238);a=a(882)["default"];c.Ic=!0;c.prototype=new fa();c.prototype.constructor=c;l.Ic=!0;l.prototype=new fa();l.prototype.constructor=l;k.Ic=!1;k.prototype=new fa();k.prototype.constructor=k;k.prototype.parse=function(){var a;this.mg();1 === this.version?(this.M.Sj(),this.M.Sj(),this.R=this.M.Ub(),this.duration=this.M.Sj()):(this.M.Ub(),this.M.Ub(),this.R=this.M.Ub(),this.duration=this.M.Ub());a=this.M.Hh() & 32767;this.language=String.fromCharCode(96 + (a >>> 10),96 + (a >>> 5 & 31),96 + (a & 31));return !0;};m.Ic=!1;m.prototype=new fa();m.prototype.constructor=m;m.prototype.Vgb=function(){this.mg();this.M.Ub();this.R=this.M.Ub();0 === this.version?(this.QNa=this.M.Ub(),this.dPa=this.M.Ub()):(this.QNa=this.M.Sj(),this.dPa=this.M.Sj());this.oPb=this.M.Hh();this.QZa=this.M.Hh();};m.prototype.Ydb=function(a,b){var c,f,h;c=this.R;a=a && a.R || c;f=a / c;c=this.M.E5(b,12,!1);h=1 === f?this.M.E5(b,12,!1):sa.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.M.Ub() * f);this.M.offset+=8;return a;},this);this.xib(b,h,c,a);};m.prototype.xib=function(a,b,c,f){if(this.lsa){f=this.lsa * f / 1E3;for(var h=0,d=1;d < a;d++){Math.abs(b[h] - f) > Math.abs(b[h] + b[d] - f)?(b[h]+=b[d],c[h]+=c[d]):(++h,h !== d && (b[h]=b[d],c[h]=c[d]));}++h;b=new Uint32Array(b.buffer.slice(0,4 * h));c=new Uint32Array(c.buffer.slice(0,4 * h));}this.sizes=c;this.Yd=b;};m.prototype.parse=function(a){var b,c,f,h;this.Vgb();this.wa=a.wa;b=this.R;c=this.wa && this.wa.R || b;f=this.QZa;h=this.startOffset + this.length + this.dPa;b=new aa(this.QNa,b).Fe(c).ub;this.$={R:c,Sk:b,offset:h};this.Ydb(this.wa,f);this.$.Yd=this.Yd;this.$.sizes=this.sizes;a.Ws=this;return !0;};f.Ic=!1;f.prototype=new fa();f.prototype.constructor=f;f.prototype.parse=function(){var a;this.UB=[];this.hLb=[];a=(this.length - 11) / 2;this.M.Nd();this.M.Nd();this.M.Nd();for(var b=0;b < a;b++){this.UB.push(this.M.Nd());this.hLb.push(this.M.Nd());}return !0;};q.Ic=!1;q.prototype=new fa();q.prototype.constructor=q;q.prototype.parse=function(){this.mg();this.M.offset+=4;this.Rma=this.M.offset;this.lp=this.M.wNb();this.lp.toString=h;return !0;};u.Ic=!1;u.prototype=new fa();u.prototype.constructor=u;u.prototype.parse=function(){this.mg();this.Wo=this.M.Hh();this.GGb=this.M.E5(this.Wo,void 0,!0);return !0;};r.Ic=!1;r.prototype=new fa();r.prototype.constructor=r;r.prototype.parse=function(a){var b,c,f,h,d,q;h=a.Ws;t(h);a=a.wa;b=h.R;h=h.QZa;t(a);t(b);t(h);this.mg();t(2 > this.version);this.Wo=this.M.Hh();this.DL=new Uint16Array(h + 1);c=a.IRa(b);d=c / b;q=a.Fe(c).ub;if(0 === this.version)for((this.VL=new Uint16Array(),this.Eh=new Uint32Array(),a=b=0);a <= h;++a){if((this.DL[a]=b,a < this.Wo && (f=this.M.Nd(),0 !== f)))for(c=0;c < f;(++c,++b)){this.VL[b]=Math.floor((this.M.Ub() + 1) * d) / q;this.Eh[b]=this.M.Ub();}}else if(1 === this.version)for((c=this.M.uNb(this.Wo),this.M.offset+=4,this.Eh=this.M.E5(this.Wo,10,!1),this.M.offset-=8,this.VL=sa.from(Uint16Array,{length:this.Wo},function(){var a;a=Math.floor((this.M.Ub() + 1) * d) / q;this.M.offset+=6;return a;},this),b=a=0);a <= h;++a){for(;b < c.length && c[b] < a;){++b;}this.DL[a]=b;}this.Zi={DL:this.DL,VL:this.VL,Eh:this.Eh};return !0;};v.Ic=!0;v.prototype=Object.create(c.prototype);v.prototype.constructor=v;A.Ic=!0;A.prototype=Object.create(c.prototype);A.prototype.constructor=A;A.prototype.QJ=function(){var a;a=this.dt("tfhd");a && (this.Iw=a.dKa?a.Iw:this.parent.startOffset);return !0;};g.Ic=!1;g.prototype=new fa();g.prototype.constructor=g;g.prototype.parse=function(){var a,r,k,c,h;a=this.M.offset;this.mg();if(1 === this.version){this.M.console.trace("translating vpcC box to draft equivalent");this.M.offset+=2;for(var b=this.M.offset,c=this.M.Nd(),f=this.M.Nd(),h=this.M.Nd(),d=this.M.Nd(),q=this.M.Hh(),m=[],r=0;r < q;++r){m=this.M.Nd();}r=(c & 240) >>> 4;k=(c & 14) >>> 1;c=c & 1;h=16 === h?1:0;f != d && this.M.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + f + " and matrixCoefficients " + d + " should be the same value!");d=2;switch(f){case 1:d=2;break;case 6:d=1;break;case 9:d=5;break;default:this.M.console.warn("VP9: Unknown colourPrimaries " + f + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.ob.L7(this.version,a);this.ob.L7(r << 4 | d,b++);this.ob.L7(k << 4 | h << 1 | c,b++);q+=2;m.push(0,0);this.ob.JXb(q);b+=2;m.forEach(function(a){this.ob.L7(a,b++);});}return !0;};I.Ic=!1;I.prototype=new fa();I.prototype.constructor=I;I.af="tfhd";Object.defineProperties(I.prototype,{dKa:{get:function(){return this.Xh & 1;}},QPb:{get:function(){return this.Xh & 2;}},$rb:{get:function(){return this.Xh & 8;}},dsb:{get:function(){return this.Xh & 16;}},bsb:{get:function(){return this.Xh & 32;}}});I.prototype.parse=function(){this.mg();this.gta=this.M.Ub();this.Iw=this.dKa?this.M.Sj():void 0;this.QPb && this.M.Ub();this.t0=this.$rb?this.M.Ub():void 0;this.v0=this.dsb?this.M.Ub():void 0;this.u0=this.bsb?this.M.Ub():void 0;return !0;};J.Ic=!1;J.prototype=new fa();J.prototype.constructor=J;J.prototype.parse=function(){this.mg();this.t_=1 === this.version?this.M.Sj():this.M.Ub();return !0;};J.prototype.xa=function(a){var b;b=this.startOffset + 12;this.t_+=a;1 === this.version?this.ob.KXb(this.t_,b):this.ob.cr(this.t_,b);};D.Ic=!1;D.prototype=new fa();D.prototype.constructor=D;Object.defineProperties(D.prototype,{MMa:{get:function(){return this.Xh & 1;}},wja:{get:function(){return this.Xh & 4;}},c6:{get:function(){return this.Xh & 256;}},d6:{get:function(){return this.Xh & 512;}},W_a:{get:function(){return this.Xh & 1024;}},sra:{get:function(){return this.Xh & 2048;}}});D.prototype.parse=function(){this.mg();this.oKa=this.M.offset;this.Ee=this.M.Ub();this.$w=this.MMa?this.M.Bqa():0;this.wja && this.M.Ub();this.bU=(this.c6?4:0) + (this.d6?4:0) + (this.W_a?4:0) + (this.sra?4:0);this.o1=this.M.offset;t(this.MMa,"Expected data offset to be present in Track Run");t(this.length - (this.M.offset - this.startOffset) === this.Ee * this.bU,"Expected remaining data in box to be sample information");return !0;};D.prototype.rP=function(a,b,c){var f,h,d;f=this.c6?this.M.Ub():a.t0;h=this.d6?this.M.Ub():a.v0;a=this.W_a?this.M.Ub():a.u0;d=0 === this.version?this.sra?this.M.Ub():0:this.sra?this.M.Bqa():0;return {PPb:d,y8b:a,g8b:c + d - (void 0 !== b?b:d),py:h,cU:f};};D.prototype.xa=function(a,b,c,f,h,d,q){var m,r,k,u;m=0;r=0;this.ob.offset=this.o1;for(f=0;f < h;++f){u=this.rP(b,k,r);0 == f && (k=u.PPb);m+=u.py;r+=u.cU;}f=h;h=this.M.offset;u=this.rP(b,k,r);this.nM=f;this.zSb=r;if(q){if((this.OL=this.$w + m,this.Qs=0,f === this.Ee))return !0;}else if((this.OL=this.$w,this.Qs=m,0 === f))return !0;if(0 === f || f === this.Ee)return !1;this.M0=!0;if(q){this.Qs+=u.py;for(q=f + 1;q < this.Ee;++q){u=this.rP(b,k,r);this.Qs+=u.py;}this.ob.offset=this.oKa;this.Ee=f;this.ob.cr(this.Ee);this.ob.Zta(d);this.wja && (this.M.offset+=4);this.Dl(this.length - (h - this.startOffset),h);}else (b=h - this.o1,this.ob.offset=this.oKa,this.Ee-=f,this.ob.cr(this.Ee),this.$w+=m,this.ob.Zta(d,this.$w),this.wja && (this.M.offset+=4),this.Dl(b,this.ob.offset));c.Dl(this.Qs,a.Iw + this.OL);return !0;};D.prototype.SOb=function(a,b,c,f,h,d){var m;if(f){f=this.OL;for(var q=this.Ee - 1;0 <= q && this.Ee - q <= h;--q){this.ob.offset=this.o1 + q * this.bU;m=this.rP(b);if(m.cU != d.duration){this.M.console.warn("Could not replace sample of duration " + m.cU + " with silence of duration " + d.duration);break;}if(this.d6)(this.ob.offset-=this.bU - (this.c6?4:0),this.ob.cr(d.qy.byteLength));else if(d.qy.byteLength !== m.py){this.M.console.warn("Cannot replace sample with default size with silence of different size");break;}f-=m.py;c.UT(m.py,d.qy,a.Iw + f);}}else for((f=this.OL + this.Qs,q=0);q < this.Ee && q < h;++q){this.ob.offset=this.o1 + (q + this.nM) * this.bU;m=this.rP(b);if(m.cU != d.duration){this.M.console.warn("Could not replace sample of duration " + m.cU + " with silence of duration " + d.duration);break;}if(this.d6)(this.ob.offset-=this.bU - (this.c6?4:0),this.ob.cr(d.qy.byteLength));else if(d.qy.byteLength !== m.py){this.M.console.warn("Cannot replace sample with default size with silence of different size");break;}c.UT(m.py,d.qy,a.Iw + f);f+=m.py;}};T.Ic=!1;T.prototype=Object.create(fa.prototype);T.prototype.constructor=T;Object.defineProperties(T.prototype,{GD:{get:function(){return this.Xh & 1;}}});T.prototype.parse=function(){this.mg();this.GD && this.M.uB();this.GD && this.M.Ub();this.csb=this.M.Nd();this.Ee=this.M.Ub();this.M.F5(this.Ee);return !0;};T.prototype.xa=function(a,b){if(a && 0 === this.csb){a=b?this.Ee - a:a;this.ob.offset=this.startOffset + 13 + (this.GD?8:0);this.Ee-=a;this.ob.cr(this.Ee);this.qra=0;if(b)this.ob.offset+=this.Ee;else {for(b=0;b < a;++b){this.qra+=this.ob.Nd();}this.ob.offset-=a;}this.Dl(a,this.M.offset);}return !0;};R.Ic=!1;R.prototype=Object.create(fa.prototype);R.prototype.constructor=R;Object.defineProperties(R.prototype,{GD:{get:function(){return this.Xh & 1;}}});R.prototype.parse=function(){this.mg();this.GD && this.M.uB();this.GD && this.M.Ub();this.Wo=this.M.Ub();t(1 === this.Wo,"Expected a single entry in Sample Auxiliary Information Offsets box");this.$w=0 === this.version?this.M.Bqa():this.M.CNb();return !0;};R.prototype.xa=function(a,b){this.$w+=a;this.ob.offset=this.startOffset + 16 + (this.GD?8:0) + (0 === this.version?0:4);this.ob.Zta(b,this.$w);return !0;};U.Ic=!1;U.prototype=Object.create(fa.prototype);U.prototype.constructor=U;Object.defineProperties(U.prototype,{HXa:{get:function(){return this.Xh & 1;}},JWb:{get:function(){return this.Xh & 2;}}});U.prototype.parse=function(){this.mg();this.HXa && (this.M.Ub(),this.M.F5(16));this.Ee=this.M.Ub();return !0;};U.prototype.xa=function(a,b){var c,f;c=b?this.Ee - a:a;this.ob.offset=this.startOffset + 28 + (this.HXa?20:0);this.Ee-=c;this.ob.cr(this.Ee);a=this.ob.offset;if(this.JWb)for(c=b?this.Ee:c;0 < c;--c){this.ob.offset+=8;f=this.ob.Hh();this.ob.offset+=6 * f;}else this.ob.offset+=8 * (b?this.Ee:c);b?this.Dl(this.length - (this.M.offset - this.startOffset),this.M.offset):this.Dl(this.M.offset - a,a);};n.Ic=!1;n.prototype=Object.create(fa.prototype);n.prototype.constructor=n;n.prototype.parse=function(){this.mg();return !0;};n.prototype.xa=function(a,b,c){c?this.Dl(b - a,this.startOffset + 12 + a):this.Dl(a,this.startOffset + 12);return !0;};E.Ic=!1;E.prototype=Object.create(fa.prototype);E.prototype.constructor=E;E.prototype.parse=function(){this.mg();this.M.uB();1 === this.version && this.M.Ub();this.Wo=this.M.Ub();this.dU=[];for(var a=0;a < this.Wo;++a){for(var b=this.M.Ub(),c=this.M.Ub(),f=0;f < b;++f){this.dU.push(c);}}return !0;};E.prototype.xa=function(a,b){this.dU=b?this.dU.slice(0,a):this.dU.slice(a);a=this.dU.reduce(function(a,b){0 !== a.length && a[a.length - 1].group === b || a.push({group:b,count:0});++a[a.length - 1].count;return a;},[]);this.ob.offset=this.startOffset + 16 + (1 === this.version?4:0);this.ob.cr(a.length);a.forEach((function(a){this.ob.cr(a.count);this.ob.cr(a.group);}).bind(this));this.Wo > a.length && this.Dl(8 * (this.Wo - a.length));this.Wo=a.length;return !0;};p.Ic=!1;p.prototype=Object.create(fa.prototype);p.prototype.constructor=p;Ka={$c:{moov:l,trak:c,mdia:c,mdhd:k,minf:c,encv:Ka,schi:c,sidx:m,sinf:c,stbl:c,tenc:q,mvex:c,moof:v,traf:A,tfhd:I,trun:D,sbgp:E,sdtp:n,saiz:T,saio:R,tfdt:J,mdat:p,vmaf:f},fVb:{vpcC:g,SmDm:y("smdm"),CoLL:y("coll")},p3a:{schm:L},rra:{}};ta([qc,Na,Ha,ja,ff,N,wa,O,X,ea,xa,Ca,Q,ca,a],Ka.$c);ta([Wa,Ua,fb,lb,F,ia,Ta,La,S,P],Ka.rra);ta([qc,L],Ka.p3a);Ka.$c[b.dBa]=q;Ka.$c[b.nX]=u;Ka.$c[b.mX]=r;Ka.$c[b.cBa]=U;Ka.rra[b.Z$]=W;Ka.pg=fa;d.exports={gL:Ka};},function(d,b){function a(a,b){return "number" !== typeof a || "number" !== typeof b?!1:a && b?Math.abs(a * b / c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a % b;a=c;}return a;}Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function b(a,b){"object" === typeof a?(this.Ar=a.ub,this.gl=a.R):(this.Ar=a,this.gl=b);}b.YJb=function(a){return new b(1,a);};b.ec=function(a){return new b(a,1E3);};b.f7=function(a,b){return Math.floor(1E3 * a / b);};b.Doa=function(a,b){return Math.floor(a * b / 1E3);};b.max=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.Mja=function(d,m){var f;if(d.R === m.R)return new b(c(d.ub,m.ub),d.R);f=a(d.R,m.R);return b.Mja(d.Fe(f),m.Fe(f));};Object.defineProperties(b.prototype,{ub:{get:function(){return this.Ar;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{R:{get:function(){return this.gl;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{da:{get:function(){return 1E3 * this.Ar / this.gl;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{$g:{get:function(){return this.Ar / this.gl;},enumerable:!0,configurable:!0}});b.prototype.Fe=function(a){a/=this.R;return new b(Math.floor(this.ub * a),Math.floor(this.R * a));};b.prototype.add=function(c){var d;if(this.R === c.R)return new b(this.ub + c.ub,this.R);d=a(this.R,c.R);return this.Fe(d).add(c.Fe(d));};b.prototype.Fa=function(a){return this.add(new b(-a.ub,a.R));};b.prototype.dF=function(a){return new b(this.ub * a,this.R);};b.prototype.So=function(b){var c;if(this.R === b.R)return this.ub / b.ub;c=a(this.R,b.R);return this.Fe(c).So(b.Fe(c));};b.prototype.IRa=function(b){return a(this.R,b);};b.prototype.MZa=function(){return new b(this.R,this.ub);};b.prototype.compare=function(b,c){var f;if(this.R === c.R)return b(this.ub,c.ub);f=a(this.R,c.R);return b(this.Fe(f).ub,c.Fe(f).ub);};b.prototype.equal=function(a){return this.compare(function(a,b){return a === b;},a);};b.prototype.I4=function(a){return this.compare(function(a,b){return a !== b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a < b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a > b;},a);};b.prototype.QE=function(a){return this.compare(function(a,b){return a <= b;},a);};b.prototype.ql=function(a){return this.compare(function(a,b){return a >= b;},a);};b.prototype.toJSON=function(){return {ticks:this.ub,timescale:this.R};};b.prototype.toString=function(){return this.ub + "/" + this.R;};b.lb=new b(0,1);b.zl=new b(1,1E3);return b;})();b.S=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.M.offset+=6;this.M.Hh();return !0;};return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(144),b);d.__exportStar(a(238),b);d.__exportStar(a(239),b);d.__exportStar(a(240),b);d=a(239);c=a(240);a=a(238);b.vJ={3:a.Ywa,4:d.qwa,5:c.f8a};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.M.Hh();a=this.M.Nd();this.iTb=! !(a & 128);this.Qcb=! !(a & 64);this.yab=! !(a & 32);this.iTb && this.M.Hh();this.Qcb && this.M.F5(this.M.Nd());this.yab && this.M.Hh();this.DHa();return !0;};b.tag=3;return b;})(a(144).Q8);b.Ywa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.UIb=this.M.Nd();this.M.Nd();this.M.Hh();this.M.Nd();this.ym=this.M.Ub();this.Zkb=this.M.Ub();this.DHa();return !0;};b.tag=4;return b;})(a(144).Q8);b.qwa=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(144);l=a(237);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.BZa=function(){15 !== this.M.kg(4) || this.M.kg(24);};b.prototype.parse=function(a){if(this.fDb(a) && 64 === a.UIb)switch((this.ED=this.tZa(),this.BZa(),this.M.kg(4),this.Vub=5 === this.ED || 29 === this.ED?5:-1,0 < this.Vub && (this.BZa(),this.ED=this.tZa(),22 === this.ED && this.M.kg(4)),this.ED)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.zPa=this.M.kg(1),(this.msb=this.M.kg(1)) && this.M.kg(14),this.M.kg(1),this.y1=3 === this.ED?256:23 === this.ED?this.zPa?480:512:this.zPa?960:1024);}this.skip();return !0;};b.prototype.tZa=function(){var a;a=this.M.kg(5);31 === a && (a=32 + this.M.kg(6));return a;};b.prototype.fDb=function(a){return a.tag === l.qwa.tag;};b.tag=5;return b;})(d.Q8);b.f8a=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var a,b,d;for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}a=Array.prototype.concat.apply([],a);b=a.reduce(function(a,b){return a + b.byteLength;},0);d=new Uint8Array(b);a.reduce(function(a,b){d.set(new Uint8Array(b),a);return a + b.byteLength;},0);return d.buffer;};},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(403);l=a(234);k=a(404);d=(function(){function a(a,b,c){this.console=a;this.stream=b;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);}a.prototype.parse=function(a){var b;b=new k.uwa(this.view.byteLength);this.Yg=new c.n8(l.gL.$c,b,this.view,this.console,{spa:!0});a=this.Yg.parse(a);this.$c=this.Yg.$c;return a;};return a;})();b.aH=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.aC=void 0;d=a(38);a=a(120);c=(function(){function a(a,b){this.Xp=a;this.OH=b.Za;this.Nt=b.xb;}Object.defineProperties(a.prototype,{Za:{get:function(){return void 0 !== this.OH?this.OH:this.Xp.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xb:{get:function(){return void 0 !== this.Nt?this.Nt:this.Xp.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Xp.R;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pk:{get:function(){return this.Xp.Pk;},enumerable:!1,configurable:!0}});a.prototype.qU=function(a){this.Nt=a;};a.prototype.Iga=function(){this.Nt=void 0;};return a;})();b.aC=c;d.Ze(a.bC,c);d.Ze(a.YB,c);},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.bN=void 0;c=a(0);d=c.__importDefault(a(110));l=a(81);k=a(170);a=(function(a){function b(b,c,f,d,m,l,y){c=a.call(this,b,c,f,d,m,l,y) || this;k.pt.$a(c,b,d);return c;}c.__extends(b,a);return b;})(l.ZB);b.bN=a;d["default"](k.pt.prototype,a.prototype);},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(895),b);},function(d,b,a){var c,l,k,m,f,h,q,u,r;Object.defineProperty(b,"__esModule",{value:!0});b.LV=void 0;c=a(0);a(5);d=a(38);l=c.__importDefault(a(25));k=c.__importDefault(a(110));m=c.__importDefault(a(3));f=a(247);h=a(70);q=a(81);u=m["default"].Um;r=a(913);a=c.__importDefault(a(914));m=(function(a){function b(b,c,f,d,q,m,r){var b00,k;b00=2;for(;b00 !== 6;){switch(b00){case 9:k=a.call(this,b,c,k,f,d,m,r) || this;h.Kh.$a(k,b,f);b00=7;break;case 2:var S9b="e";S9b+="d";S9b+="i";S9b+="t";var K9b="c";K9b+="a";K9b+="ch";K9b+="e";var Y9b="1S";Y9b+="IYbZ";Y9b+="rN";Y9b+="J";Y9b+="Cp9";k=this;Y9b;k=[K9b,S9b].filter(function(a,b){var c00;c00=2;for(;c00 !== 1;){switch(c00){case 2:return [q,f.xa][b];break;case 4:return [q,f.xa][b];break;c00=1;break;}}});k=k.length?"(" + k.join(",") + ")":"";void 0 === f.responseType && (f.responseType=f.xa || u.Yb && !u.Yb.UL.LC?0:1);b00=9;break;case 7:return k;break;}}}var a00;a00=2;for(;a00 !== 3;){switch(a00){case 2:c.__extends(b,a);b.create=function(a,c,h,d,m,k,v){var d00,A,y,g;d00=2;for(;d00 !== 19;){switch(d00){case 5:d00=d.VE && d.ba > d.VE?4:20;break;case 2:var R9b="de";R9b+="f";R9b+="ault";d00=!c.Gg && d.xa && a.I === l[R9b].Ta.VIDEO && u.Yb && u.Yb.UL.LC?1:5;break;case 4:A=Math.ceil(d.ba / d.VE);k=d.offset;y=d.ba;m=new f.XB(a,d,m,c,v);d00=7;break;case 11:var Q9b="s";Q9b+="ubreq";Q9b+="u";Q9b+="e";Q9b+="st";m.push(new q.ZB(a,h,Q9b,g,m,c,v));d00=6;break;case 12:y-=g.ba;d00=11;break;case 20:return new b(a,h,d,m,k,c,v);break;case 1:return new r.xua(a,h,d,m,k,c,v);break;case 10:return m;break;case 7:A=Math.ceil(d.ba / A);d00=6;break;case 14:g={offset:k,ba:Math.min(y,A),responseType:d.responseType};k+=g.ba;d00=12;break;case 6:d00=0 < y?14:10;break;}}};b.prototype.toString=function(){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 2:return q.ZB.prototype.toString.call(this) + ":" + h.Kh.prototype.toString.call(this);break;}}};return b;break;}}})(q.ZB);b.LV=m;k["default"](a["default"],m.prototype);d.Ze(h.Kh,m,!1);},function(d,b,a){var c,l,k,m,f,h,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.XB=void 0;c=a(0);l=c.__importDefault(a(110));k=a(5);d=a(38);m=a(9);f=a(34);h=a(408);q=a(70);u=a(81);a=(function(a){function b(b,c,f,h,d){f=a.call(this,b,c,f,h,d) || this;q.Kh.$a(f,b,c);f.yc=0;f.xa || f.bi();f.ye=!1;return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{vc:{get:function(){return !1;},enumerable:!1,configurable:!0}});b.prototype.push=function(b){this.yc+=b.ba;a.prototype.push.call(this,b);};b.prototype.rs=function(){var a;return !this.ye && ! !this.ya.length && !(null === (a=f.Pg(this.ya,function(a){return !a.ye;})) || void 0 === a || !a.rs());};b.prototype.DD=function(a,b){var c,f;k.assert(!this.ye);c=u.Ji.lab;f=m.np(this);this.ye=this.ya.every(function(h){if(h.ye)return !0;if(!h.rs())return !1;c=h.DD(a,b,void 0,void 0,void 0,void 0,f).status;return c === u.Ji.zv;});c !== u.Ji.zv || this.ye || (c=u.Ji.Fab);return {status:c};};b.prototype.rOb=function(){this.ya.forEach(function(a){a.QT();});};b.prototype.Bk=function(){return this.ya?this.ya[0].Bk() + "-" + this.ya[this.ya.length - 1].Bk():"empty";};b.prototype.toString=function(){return q.Kh.prototype.toString.call(this) + "(aggregate)";};b.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);l["default"](q.Kh.prototype.toJSON.call(this),b);return b;};return b;})(h.U7);b.XB=a;d.Ze(q.Kh,a);},function(d,b,a){var c,l,k,m,f,h,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.Fbb=b.OV=void 0;c=a(0);d=a(16);l=a(174);k=a(19);m=c.__importDefault(a(3));f=a(9);a=a(38);h=m["default"].Promise;q=(function(){function a(a,b){this.console=a;this.ng=b;this.Zfb=this.LO=0;this.$f=[];this.console=f.Fu(m["default"],this.console,"QueueIterator:");}Object.defineProperties(a.prototype,{nsb:{get:function(){return this.LO;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{MLa:{get:function(){var a,b,c;for(b=0;b < this.$f.length;b++){c=this.$f[b];if(!c.jS || (null === (a=c.item) || void 0 === a?0:a.done))break;}return b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{count:{get:function(){return this.ng;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ax:{get:function(){return 0 === this.ng;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cra:{get:function(){var a;for(a=0;a < this.$f.length && this.$f[a].Fma;a++){;}return a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{head:{get:function(){var a;a=c.__read(this.$f,1)[0];return (a=a && a.item) && !a.done && a.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Loa:{get:function(){var a;for(a=0;a < this.$f.length && this.$f[a].jS;a++){;}return a;},enumerable:!1,configurable:!0}});a.prototype.U0=function(){var a;if(void 0 === this.ng){a=this.console;k.ma && a && a.trace("QueueIterator: enqueueEnd");this.Cta(this.Loa - (this.ng || 0));}};a.prototype.bo=function(){return this.$f.map(function(a){return a.item;});};a.prototype.dta=function(){return this.$f.filter(function(a){return (null === a || void 0 === a?void 0:a.item) && !a.item.done;}).map(function(a){return a.item.value;});};a.prototype.Cta=function(a){var b;k.ma && this.console.trace("updateCount",{M7b:this.ng,tJ:a});if(void 0 !== this.ng){b=this.$f[this.ng];b && this.nma(b);}this.ng=void 0 === this.ng?a:void 0 === a?a:this.ng + a;void 0 !== this.ng && (this.ng=Math.max(0,this.ng),(b=this.$f[this.ng]) && b.EK.resolve({done:!0}));};a.prototype.enqueue=function(a){k.ma && this.console.trace("Enqueue called");return this.aNb(this.Loa,{value:a,done:!1}).iNa.Pq;};a.prototype.C_a=function(){k.ma && this.console.trace("resetEnd");this.Cta(void 0);};a.prototype.clear=function(a){var b,c,f;k.ma && this.console.trace("clear");this.jZa();b=this.cra;c=this.$f.length - b;if(0 < c){f={index:b,Zoa:c};k.ma && this.console.trace("Removing items",f);this.$f.splice(b,c);this.emit("onRemoved",f);}for(c=1;c < b;c++){this.nma(this.$f[c]);}this.ng=void 0;this.Cta(a?a + b:a);this.LO && (this.LO=0);};a.prototype.CQa=function(){var a,b;a=this;b=f.Fu(m["default"],this.console,"QueueIteratorInstance::");return new u(this,function(b){return a.VQa(b);},b);};a.prototype.uJ=function(){var a;if(0 < this.cra){a=c.__read(this.$f,1)[0];if(a.jS)return (k.ma && this.console.trace("dequeue",a.id),this.jZa(1),this.emit("onDequeue",a.EK.Pq));}};a.prototype.remove=function(a){var b,c,f;for(b=0;b < this.$f.length;b++){c=this.$f[b];f=c.item;if(f && !f.done && f.value === a){this.$f.splice(b,1);k.ma && this.console.trace("removed",{id:c.id});this.emit("onRemoved",{index:b,Zoa:1});break;}}};a.prototype.jZa=function(a){var b;a=a || Math.min(this.cra,this.Loa);if(0 < a){b=this.$f.splice(0,a);this.ng && (this.ng-=a);k.ma && this.console.trace("pruned",a);h.resolve().then(function(){b.forEach(function(a){a.iNa.resolve();});});this.emit("onRemoved",{index:0,Zoa:a});this.LO+=a;}};a.prototype.VQa=function(a){var b;k.ma && this.console.trace("getNextItemCalled",{offset:a});if(void 0 === this.count || 0 < this.count){this.QSa(a);b=this.$f[a];b.hPb.resolve();a=b.EK.Pq;k.ma && this.console.trace("getNextItem:return",{id:b.id});}else (k.ma && this.console.trace("getNextItem:returnDone"),a=h.resolve({done:!0}));return a;};a.prototype.aNb=function(a,b){var c;c=!b.done && b.value;c=c && c.toJSON?c.toJSON():c;k.ma && this.console.trace("Providing result",{ekb:a,item:c});this.QSa(a);a=this.$f[a];c=a.EK.resolve;c(b);return a;};a.prototype.QSa=function(a){var b;if(void 0 === this.$f[a]){b={};this.nma(b);this.$f[a]=b;a === this.ng && b.EK.resolve({done:!0});k.ma && this.console.trace("Item initialized",{ekb:a});}};a.prototype.uha=function(a){var b;b={};b.Pq=new h(function(c,f){b.resolve=function(b){c(b);a && a(b);};b.reject=f;});return b;};a.prototype.nma=function(a){var b;b=this;a.EK=this.uha(function(c){a.item=c;a.jS=!0;k.ma && b.console.trace("Item resolved",{id:a.id});});a.id && a.Fma && !a.jS && (a.EK.resolve({done:!0}),k.ma && this.console.warn("Overwriting requested queue item",a.id));a.iNa=this.uha();a.hPb=this.uha(function(){a.Fma=!0;k.ma && b.console.trace("Item requested",{id:a.id});});a.id=this.Zfb++;a.Fma=!1;a.jS=!1;a.item=void 0;};a.prototype.bxb=function(){var a,b;a=this;b=new l.cC(function(){var c,f;if(0 === a.count)return l.cC.ala();c=a.VQa(0);f=a.$f[0];c.then(function(){b.wK || f === a.$f[0] && a.uJ();});return c;});return b;};return a;})();b.OV=q;a.Ze(d.EventEmitter,q);u=(function(a){function b(b,c,f){var h;h=a.call(this,function(){k.ma && h.console.trace("Next item requested",{index:h.index});return h.HPb(h.index++);}) || this;h.parent=b;h.HPb=c;h.console=f;h.cI=!1;h.index=0;h.uda=!1;h.iXa=function(a){var b;b=a.index;a=a.Zoa;h.index >= b && (h.index=Math.max(b,h.index - a));b=h.console;k.ma && b && b.trace("QueueIteratorInstance: onRemoved modified",h.index);};return h;}c.__extends(b,a);b.prototype.Tg=function(){this.console.trace("disposed");this.cI=!0;this.cc();a.prototype.Tg.call(this);};b.prototype.next=function(){this.wK || this.tK();return a.prototype.next.call(this);};b.prototype.cancel=function(){this.cc();return a.prototype.cancel.call(this);};b.prototype.cc=function(){this.parent.oL("onRemoved",this.iXa);this.uda=!1;};b.prototype.tK=function(){this.uda || (this.uda=!0,this.parent.on("onRemoved",this.iXa));};return b;})(l.cC);b.Fbb=u;},function(d,b,a){var l;function c(a,b){return a < b?-1:a > b?1:0;}Object.defineProperty(b,"__esModule",{value:!0});b.hX=void 0;l=a(0);d=(function(){function a(a,b){this.data=null !== a && void 0 !== a?a:[];this.compare=null !== b && void 0 !== b?b:c;if(!this.empty)for(a=(this.length >> 1) - 1;0 <= a;a--){this.cda(a);}}Object.defineProperties(a.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});a.prototype.push=function(a){this.data.push(a);this.Cea(this.length - 1);};a.prototype.pop=function(){var a,b;if(!this.empty){a=this.data[0];b=this.data.pop();this.empty || (this.data[0]=b,this.cda(0));return a;}};a.prototype.Vu=function(){return this.data[0];};a.prototype.GMb=function(a){a=this.data.indexOf(a);-1 !== a && this.Cea(a);};a.prototype.map=function(a){return this.data.map(a);};a.prototype.find=function(a){return l.__read(this.data.filter(a),1)[0];};a.prototype.clear=function(){this.data=[];};a.prototype.remove=function(a){var b,c,d;b=this.data;a=b.indexOf(a);if(-1 !== a){c=b.pop();if(a < b.length){b[a]=c;d=a - 1 >> 1;b=b[d];0 <= d && 0 > this.compare(c,b)?this.Cea(a):this.cda(a);}}};a.prototype.contains=function(a){return 0 <= this.data.indexOf(a);};a.prototype.Cea=function(a){for(var b=this.data,c=this.compare,d=b[a],m,r;0 < a;){m=a - 1 >> 1;r=b[m];if(0 <= c(d,r))break;b[a]=r;a=m;}b[a]=d;};a.prototype.cda=function(a){for(var b=this.data,c=this.compare,d=this.length >> 1,m=b[a],r,k,l;a < d;){r=(a << 1) + 1;l=b[r];k=r + 1;k < this.length && 0 > c(b[k],l) && (r=k,l=b[k]);if(0 <= c(l,m))break;b[a]=l;a=r;}b[a]=m;};return a;})();b.hX=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.o5=void 0;c=a(17);b.o5=function(a){switch(a){case c.oa.cd:a=c.ac.cd;break;case c.oa.mf:a=c.ac.mf;break;case c.oa.oh:case c.oa.ak:case c.oa.Qv:a=c.ac.ak;break;default:a=c.ac.bk;}return a;};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.gN=void 0;c=a(252);d=(function(){var f00;f00=2;function a(a,b){var g00;g00=2;for(;g00 !== 3;){switch(g00){case 2:this.config=a;this.QK=b;this.Dfa=null;g00=4;break;case 4:var I9b="1SI";I9b+="YbZrNJ";I9b+="Cp";I9b+="9";I9b;g00=3;break;}}}for(;f00 !== 3;){switch(f00){case 2:a.prototype.tNa=function(a,b){var h00,f;h00=2;for(;h00 !== 3;){switch(h00){case 2:f=null === this.Dfa?a * (100 - this.config.Z6) / 100:c.ofa(a,this.Dfa);b=null !== b && void 0 !== b?b:this.QK;this.config.nna && b?(a=c.ofa(a,b),a=Math.max(a,f)):a=f;return a;break;}}};a.prototype.iM=function(a){var i00;i00=2;for(;i00 !== 1;){switch(i00){case 2:this.Dfa=a;i00=1;break;}}};a.prototype.Bta=function(a){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 4:this.config=a;j00=5;break;j00=1;break;case 2:this.config=a;j00=1;break;}}};return a;break;}}})();b.gN=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ofa=b.gy=b.zOa=void 0;c=a(0).__importDefault(a(108))["default"].AOa;b.zOa=function(a,b,c){var f,h,d;f=0;if(c){a.some(function(a){var c;c=a.b;a=a.m;if(b <= c)return (f=d && c !== h?d + (a - d) / (c - h) * (b - h):a,!0);h=c;f=d=a;return !1;});}else a.some(function(a){f=a.m;return b <= a.b;});return f;};b.gy=function(a,b,d){var f;b=(null === (f=b.Ka) || void 0 === f?void 0:f.Ca) || 0;return a.elb?(a=c(a.dlb,d.sk - d.ad,1),b * (1 - a)):b * a.Z6 / 100;};b.ofa=function(a,b){return a < 2 * b?a / 2:a - b;};},function(d,b,a){var m;function c(){}function l(a,b){this.jq=a;void 0 !== b?(m(b <= a.Fl,"require remain_sec <= chunk.sec but has " + b + " and " + a.Fl),this.Tj=b):this.Tj=a.Fl;}function k(a){void 0 === a && (a=[]);this.Cl=[];this.Hg=this.Wk=0;for(var b in a){this.add(a[b],void 0);}}m=a(5).assert;c.prototype=Error();l.prototype.constructor=l;l.prototype.kq=function(){return new l(this.jq,this.Tj);};k.prototype.constructor=k;k.prototype.add=function(a,b){a=new l(a,b);this.Cl.push(a);this.Hg+=a.Tj;this.Wk+=a.jq.qx() * a.Tj;};k.prototype.kq=function(){var a,b;a=new k(void 0);for(b in this.Cl){a.add(this.Cl[b].jq,this.Cl[b].Tj);}return a;};k.prototype.ks=function(){try{return this.Cl[0];}catch(f){}};k.prototype.vYa=function(a){var b;for(m(0 <= a,"unexpected play_for_x_sec: x=" + a);0 < a;){if(void 0 === this.ks())throw new c();if(a < this.ks().Tj){b=this.ks().jq.qx() * a;this.ks().Tj-=a;this.Hg-=a;this.Wk-=b;a=0;}else (b=this.Cl.shift(),this.Hg-=b.Tj,this.Wk-=b.jq.qx() * b.Tj,a-=b.Tj);}};k.prototype.zLb=function(a){var f;m(0 <= a,"unexpected play_y_kb: y=" + a);for(var b=0;0 < a;){if(void 0 === this.ks())throw new c();if(a < this.ks().Tj * this.ks().jq.qx()){f=a / this.ks().jq.qx();this.ks().Tj-=f;this.Hg-=f;this.Wk-=a;b+=f;a=0;}else (f=this.Cl.shift(),this.Hg-=f.Tj,this.Wk-=f.jq.qx() * f.Tj,b+=f.Tj,a-=f.jq.qx() * f.Tj);}return b;};d.exports={pva:k,A6a:c};},function(d){d.exports={Fza:{code:-1,description:"MediaCache is not supported."},P1b:{code:100,description:"Resource was not found"},H$a:{code:101,description:"Resource Metadata was not found"},qH:{code:102,description:"Read failed",Kp:function(b,a){return {code:this.code,description:b,cause:a};}},mY:{code:200,description:"Daily write limit exceeded"},BG:{code:201,description:"Capacity has been exceeded"},lY:{code:202,description:"Write failed, cause unknown",Kp:function(b,a){return {code:this.code,description:b,cause:a};}},l3b:{code:203,description:"Write failed, cause unknown"},x7a:{code:300,description:"Failed to delete resource",Kp:function(b,a){return {code:this.code,description:b,cause:a};}},Oy:{code:900,description:"Invalid partition name"},f$a:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},jwa:{code:701,description:"Failed to initialize underlying disk cache."},G$a:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(d){d.exports={URa:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(b){var c;void 0 === b.error.code && (b.error.code=0);void 0 === b.error.description && (b.error.description="Unknown");a.forEach(function(a){b.error && b.error.code == a.error.code && b.error.description === a.error.description && (c=a);});c?c.aU.push(b.Bp):a.push({error:b.error,aU:[b.Bp]});});return a;}},VPa:function(b){var a;a={freeSize:b.Ak,dailyBytesRemaining:b.oJ,bytesWritten:b.Dj,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(a){return {key:a.key,operation:a.Fh,itemBytes:a.t3,error:a.error};}));return a;},Zu:function(b){return b["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.aK=void 0;c=a(0).__importDefault(a(3));l=a(981);b.aK=function(){var a;if(!k){a=new c["default"].Console("ASEJS","media|asejs");k=new l.nua(a);}return k;};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.YX=void 0;d=a(16);c=a(38);l=a(21);a=(function(){function a(a){void 0 === a && (a={ul:!1,currentTime:l.S.lb,speed:1});this.we={ul:function(){return "function" === typeof a.ul?a.ul():a.ul;},currentTime:function(){return "function" === typeof a.currentTime?a.currentTime():a.currentTime;},speed:function(){return "function" === typeof a.speed?a.speed():a.speed;}};}Object.defineProperties(a.prototype,{ul:{get:function(){return this.we.ul();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{currentTime:{get:function(){return this.we.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{speed:{get:function(){return this.we.speed();},enumerable:!1,configurable:!0}});return a;})();b.YX=a;c.Ze(d.EventEmitter,a);},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.RC=void 0;c=a(19);l=a(9);k=a(69);d=(function(){function a(a){this.Wj=a;}Object.defineProperties(a.prototype,{$S:{get:function(){return "trace-" + this.Wj.source;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tk:{get:function(){return this.$S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return c.ma;},enumerable:!1,configurable:!0}});a.prototype.tu=function(a){var b;if(a.Lj === k.mh.fx || a.Lj === k.mh.Hp){b=l.WMa(this.Wj.cEb);a.Lj === k.mh.fx && this.Wj.clear();return b;}};a.prototype.Tb=function(){this.Wj.Tb();};return a;})();b.RC=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.e2=b.js=b.isEqual=b.lS=void 0;c=a(9);b.lS=function(a){return ! !a.fa;};b.isEqual=function(a,c){var d,f;d=b.lS(a);f=b.lS(c);return d === f?d?a.fa === c.fa:a.cb === c.cb:!1;};b.js=function(a){if(b.lS(a))return a.fa;a=a.cb;return a.Ja[a.ff].fa;};b.e2=function(a,b){return a.v_?a.v_ instanceof c.S?{offset:a.v_,va:b.ff}:a.v_:{offset:c.S.lb,va:b.ff};};},function(d,b,a){var c,l,k,m,f,h,q;Object.defineProperty(b,"__esModule",{value:!0});b.PXa=b.OXa=b.Y4=b.qpa=b.QXa=b.SXa=b.RXa=b.TXa=b.Z4=b.UXa=b.VXa=b.NXa=void 0;c=a(20);l=a(26);k=a(12);m=a(146);f=a(10);h=a(15);q=a(23);b.NXa=(function(){var t,aa,sa,fa,wa,Q,ca,O,xa,Na,Ha,ja;function a(a){if(l.Cx(a)){a=a.toLowerCase();if("#" == a[0]){if(7 == a.length)return a;if(4 == a.length)return "#" + a[1] + a[1] + a[2] + a[2] + a[3] + a[3];}return b.TXa[a];}}function d(a,b,c){b=b[a];0 <= b || (b=parseFloat(a));if(0 <= b)return f.ho(b,c);}function v(a,b){var c,f;c=a.length;f=a[c - 1];if("t" === f)return parseFloat(a) * b | 0;if("s" === f)return "m" === a[c - 2]?parseFloat(a) | 0:parseFloat(a) * k.Yj | 0;if((a=a.match(xa)) && 4 <= a.length)return (3600 * parseInt(a[1],10) + 60 * parseInt(a[2],10) + parseFloat(a[3])) * k.Yj | 0;throw Error("dfxp-badtime");}function A(a,b,c,f,h){var d,q,m,r,k,u,l,v;d=void 0;if(a){q=a.style;c=q?c[q]:void 0;f=(q=a.region)?f[q]:void 0;q=h.length;for(m=0;m < q;m++){if((r=h[m],k=a[r],void 0 === k && c && (k=c[r]),void 0 === k && f && (k=f[r]),void 0 !== k && k !== b[r])){if(!d)for((d={},u=0);u < q;u++){l=h[u];v=b[l];void 0 !== v && (d[l]=v);}d[r]=k;}}}return d || b;}function g(a,b,c,f,h,d,q,r,k){var v,g;function u(a,y,B){var I,J,R,T,n,U;I=a[m.rj];J=I.style || y.style || "";R=I.region || y.region || "";J || R?(T=J + "/" + R,n=c[T]):n=b;if(!n){n=b;U=l.kM(f);l.Hb(U,h[J]);n=D(n,U,q,r,k);c[J + "/"]=n;R && (l.Hb(U,d[R]),l.Hb(U,h[J]),n=D(n,U,q,r,k),c[T]=n);}if(!B)a:{for(B=Q.length;B--;){if(void 0 !== I[Q[B]]){B=!0;break a;}}B=void 0;}B && (I=A(I,y,h,d,ca),n=D(n,I,q,r,k));y=(a=a[m.YM]) && a.length;for(J=0;J < y;J++){R=a[J];l.zf(R)?Na.test(R[m.ZM])?g++:u(R,I,B):(v.push({text:R,lineBreaks:g,style:n}),g=0);}}v=[];g=0;u(a,f,!1);0 < g && v.push({text:"",lineBreaks:g,style:b});return v;}function B(a,b,c,f,h,d,q,m){var r,k;c && (c=aa[c] || "top",a.verticalAlignment !== c && (a.verticalAlignment=c));f && (c=sa[f] || "left",a.horizontalAlignment !== c && (a.horizontalAlignment=c));h?((k=m[h])?(f=k.marginLeft,c=k.marginTop):(r=h.split(" "),f=U(r[0],q.x) || 0,c=U(r[1],q.y) || 0,k={Vo:0,marginLeft:f,marginTop:c,Djb:f * b.mla + b.NR,Fjb:c * b.Qta + b.C7},30 > m.Vo && (m.Vo++,m[h]=k)),a.marginLeft=k.Djb,a.marginTop=k.Fjb):(c=f=0,(k=m["default"]) || (m["default"]=k={Vo:0}));d && (h=k[d],h || (r=d.split(" "),h={Ejb:(1 - (f + (U(r[0],q.x) || 0))) * b.mla + b.NR,Cjb:(1 - (c + (U(r[1],q.y) || 0))) * b.Qta + b.C7},30 > k.Vo && (k.Vo++,k[d]=h)),a.marginRight=h.Ejb,a.marginBottom=h.Cjb);}function I(a,b,c,f,h){var d,q,m;d=a.displayAlign;q=a.textAlign;m=a.origin;a=a.extent;c=l.kM(c);B(c,b,d,q,m,a,f,h);c.id=t++;return c;}function J(c,f,h,q){var m,r,k,u,v,A;m=d(h.characterSize || f.characterSize,b.UXa,2) || 1;r=(r=c.fontSize) && Ha.test(r)?l.io(l.ce(r),25,200):void 0;m*=r / 100 || 1;r=c.textOutline;if(r && "none" != r){u=r.split(" ");ja.test(u)?(A=0,v=c.color):(A=1,v=a(u[0]));k=R(u[A]);u=R(u[A + 1]);}return {characterStyle:h.characterStyle || b.VXa[c.fontFamily] || f.characterStyle,characterSize:m * q,characterColor:a(h.characterColor || c.color || f.characterColor),characterOpacity:d(l.P_(h.characterOpacity,c.opacity,f.characterOpacity),b.Z4,1),characterEdgeAttributes:h.characterEdgeAttributes || r && ("none" === r?b.RXa:u?b.Y4:b.qpa) || f.characterEdgeAttributes,characterEdgeColor:a(h.characterEdgeColor || v || f.characterEdgeColor),characterEdgeWidth:k,characterEdgeBlur:u,characterItalic:"italic" === c.fontStyle,characterUnderline:"underline" === c.textDecoration,backgroundColor:a(h.backgroundColor || c.backgroundColor || f.backgroundColor),backgroundOpacity:d(l.P_(h.backgroundOpacity,c.opacity,f.backgroundOpacity),b.Z4,1)};}function D(a,b,c,h,d){var m;b=J(b,c,h,d);q.Rd(b,function(b,c){c !== a[b] && (m || (m=f.DC(a)),m[b]=c);});return m || a;}function T(a,b,c,h,d,q,r,k){var u;u=a[m.rj];c=A(a[m.rj],b,c,d,O);b=c.region;a=u.displayAlign;c=c.textAlign;d=u.origin;u=u.extent;b || a || c || d || u?((h=h[b])?h=f.DC(h):a || d || u?(h=f.DC(wa),h.id=t++):h=f.DC(fa),B(h,q,a,c,d,u,r,k)):h=fa;return h;}function R(a){a=l.ce(a);return h.Bx(a,0,100)?a:0;}function U(a,b){var c;c=a[a.length - 1];if("%" === c)return l.io(.01 * parseFloat(a),0,1);if("c" === c)return l.io(l.ce(a) / b,0,1);}function n(a){for(var b=a.length,c=a[--b].endTime;b--;){c=f.ho(a[b].endTime,c);}return c;}function E(b){q.Rd(b,function(c,f){0 <= c.toLowerCase().indexOf("color") && (b[c]=a(f));});}function p(a,b){var h,d,q,m;h=a.pixelAspectRatio;m={NR:0,mla:1,C7:0,Qta:1};a=(a.extent || "640px 480px").split(" ");2 <= a.length && (h=(h || "").split(" "),d=parseFloat(a[0]) * (parseFloat(h[0]) || 1),q=parseFloat(a[1]) * (parseFloat(h[1]) || 1));d=0 < d && 0 < q?d / q:1280 / 720;b=b || 1280 / 720;h=d / b;.01 < f.tC(b - d) && (b >= d?(m.NR=(1 - h) / 2,m.mla=h):c.yb(!1,"not implemented"));return m;}function ta(a){var c,f,h,d,q;if(c=a.cellResolution)if((c=c.split(" "),2 <= c.length)){f=l.ce(c[0]);c=l.ce(c[1]);if(0 < f && 0 < c)return {x:f,y:c};}c=a.extent;if(c && (c=c.split(" "),2 <= c.length)){f=l.ce(c[0]);q=l.ce(c[1]);if(a=a.pixelAspectRatio)(c=a.split(" "),h=l.ce(c[0]),d=l.ce(c[1]));if(f && q && 1.5 < f * (h || 1) / (q * (d || 1)))return b.PXa;}return b.OXa;}t=1;aa={before:"top",center:"center",after:"bottom"};sa={left:"left",start:"left",center:"center",right:"right",end:"right"};fa={id:t++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};wa={id:t++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};Q=("fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline").split(" ");ca=Q.concat(["style","region"]);O=["region","textAlign","displayAlign","extent","origin"];xa=/^([0-9]+):([0-9]+):([0-9.]+)$/;Na=/^br$/i;Ha=/^[0-9]{1,3}%$/;ja=/^[0-9]/;return function(c,h,q,r,u){var R,U,V,Z,Q,ha,sa,fa,aa,Ha,ja,xa,Na,Ca,Ta,Ua,Wa,La,F,L,P,S,W,X,ea,ga,ka,da,ma,la;function y(){try{for(var a;W;){if((aa=W[m.rj],X.push({id:t++,startTime:v(aa.begin,V),endTime:v(aa.end,V),region:T(W,ga,ha,fa,sa,Z,Ca,La),textNodes:g(W,ka,da,ea,ha,sa,Ua,Wa,Ta)}),W=W[m.VB],a=f.FG(),100 < a - ma)){ma=Date.now();la=setTimeout(y,1);return;}}}catch(jf){D({ka:l.K.rW,Ab:l.Ue(jf)});return;}la=setTimeout(B,1);}function B(){var b,c,f,h,d,q,m;function a(a,f){for(var h,d=[],q={},m,r=c.length;r--;){h=c[r];m=h.region.id;q[m] || (q[m]=1,d.unshift(h));}(h=b[b.length - 1]) && h.endTime == a && l.Sz(h.blocks,d)?h.endTime=f:b.push({id:t++,startTime:a,endTime:f,blocks:d});}try{if(!X.length){D({ia:!0,entries:[]});return;}l.vJa(X,"startTime");b=[];c=[];f=X[0];d=X[0].startTime;for(q=1;c.length || f;){for(;!c.length || f && f.startTime == d;){c.push(f);d=f.startTime;f=X[q++];}h=n(c);if(!f || h <= f.startTime)for((a(d,h),d=h,m=c.length);m--;){c[m].endTime <= d && c.splice(m,1);}else (a(d,f.startTime),d=f.startTime,c.push(f),f=X[q++]);}for(q=b.length;q--;){b[q].index=q;b[q].previous=b[q - 1];b[q].next=b[q + 1];}}catch(kf){D({ka:l.K.rW,Ab:l.Ue(kf)});return;}D({ia:!0,entries:b});}function D(a){setTimeout(function(){R.abort=l.kh;u(a);},1);}R={abort:function(){la && clearTimeout(la);}};try{U=c[m.rj];V=k.Yj / (l.ce(U.tickRate) || 1);Z=p(U,h);Q=l.Hb(wa,{marginLeft:Z.NR,marginTop:Z.C7,marginRight:Z.NR,marginBottom:Z.C7});ha={};sa={};fa={};xa=c.head;Na=c.body;Ca=ta(U);Ta=1 / Ca.y * Z.Qta;Ua=l.Hb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.Y4,characterEdgeColor:"#000000",characterSize:1},q,{Wx:!0});Wa=r || ({});La={Vo:0};if(xa){F=xa.styling;if(F)for(ja=F.style;ja;){aa=ja[m.rj];E(aa);ha[aa.id]=aa;ja=ja[m.VB];}L=xa.layout;if(L)for(var N=L.region;N;){aa=N[m.rj];P=aa.id;Ha=l.kM(ha[aa.style]);Ha=l.Hb(Ha,aa);for(ja=N.style;ja;){l.Hb(Ha,ja[m.rj]);ja=ja[m.VB];}E(Ha);sa[P]=Ha;fa[P]=I(Ha,Z,Q,Ca,La);N=N[m.VB];}}S=Na.div;W=S.p;X=[];ea={};ea=A(Na[m.rj],ea,ha,sa,ca);ea=A(S[m.rj],ea,ha,sa,ca);ga={};ga=A(Na[m.rj],ga,ha,sa,O);ga=A(S[m.rj],ga,ha,sa,O);ka=J(ea,Ua,Wa,Ta);l.Hb(ka,{windowColor:a(Wa.windowColor || Ua.windowColor),windowOpacity:d(l.P_(Wa.windowOpacity,Ua.windowOpacity),b.Z4,1),cellResolution:Ca},{Wx:!0});da={};S.p=void 0;S[m.YM]=[];}catch(hf){D({ka:l.K.rW,Ab:l.Ue(hf)});return;}ma=f.FG();la=setTimeout(y,1);return R;};})();b.VXa={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.UXa={SMALL:.5,MEDIUM:1,LARGE:2};b.Z4={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.TXa={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.RXa="NONE";b.SXa="RAISED";b.QXa="DEPRESED";b.qpa="UNIFORM";b.Y4="DROP_SHADOW";b.OXa={x:40,y:19};b.PXa={x:52,y:19};},function(d,b,a){var c,l,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.aua=void 0;c=a(7);l=a(2);k=a(441);m=a(442);f=a(55);b.aua=function(a,b){var h,d;try{h=k.Z4a(a);}catch(v){c.log.error("xml2xmlDoc exception",v);}f.Hc(function(){if(h && h.documentElement)try{d=m.$4a(h);}catch(v){c.log.error("xmlDoc2js exception",v);}f.Hc(function(){d?b({ia:!0,object:d}):b({ia:!1,ka:l.K.wxa});});});};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.u$=b.t$=void 0;b.t$="LogMessageRulerConfigSymbol";b.u$="LogMessageRulerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gX=void 0;b.gX="MilestonesEventBuilderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.XN=void 0;b.XN="NetworkMonitorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.CX=void 0;b.CX="PboLicenseResponseTransformerSymbol";},function(d,b,a){var f,h,q,u,r,v;function c(a,b,c,f){this.ta=a;this.o2=b;this.za=c;this.profile=f;}function l(){}function k(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.JBa=b.EX=void 0;d=a(0);f=a(1);h=a(35);q=a(4);u=a(14);r=a(18);a=a(101);m.prototype.encode=function(a){return {downloadableId:a.Jd,duration:a.duration};};m.prototype.decode=function(a){return {Jd:a.downloadableId,duration:a.duration};};k.prototype.encode=function(a){return {total:a.total,totalContentTime:a.lG,audio:a.audio.map(new m().encode),video:a.video.map(new m().encode),text:a.text.map(new m().encode)};};k.prototype.decode=function(a){var b;return {total:a.total,lG:null !== (b=a.totalContentTime) && void 0 !== b?b:a.total,audio:a.audio.map(new m().decode),video:a.video.map(new m().decode),text:a.text.map(new m().decode)};};l.prototype.encode=function(a){return {type:a.type,href:a.href,xid:a.ea,movieId:a.u,position:a.position,clientTime:a.tQ,sessionStartTime:a.oU,mediaId:a.UK,playTimes:new k().encode(a.wT),trackId:a.Xa,sessionId:a.sessionId,appId:a.TP,sessionParams:a.Tn,mdxControllerEsn:a.eoa,profileId:a.profileId};};l.prototype.decode=function(a){return {type:a.type,href:a.href,ea:a.xid,u:a.movieId,position:a.position,tQ:a.clientTime,oU:a.sessionStartTime,UK:a.mediaId,wT:new k().decode(a.playTimes),Xa:a.trackId,sessionId:a.sessionId,TP:a.appId,Tn:a.sessionParams,eoa:a.mdxControllerEsn,profileId:a.profileId};};b.EX=l;c.prototype.create=function(a){return {href:a.pa && a.pa.hj?a.pa.hj.DR("events").href:"",type:"online",ea:a.ea.toString(),u:a.u,position:Math.floor(a.Dha || 0),tQ:this.ta.q6.ca(q.ga),oU:a.sK?a.sK.ca(q.ga):-1,UK:this.Kxb(a),wT:this.yzb(a),Xa:void 0 !== a.qj?a.qj.toString():"",sessionId:this.o2().sessionId || this.za.id,TP:this.o2().TP || this.za.id,Tn:a.Va.Tn || ({}),profileId:this.profile};};c.prototype.xqb=function(a,b){return Object.assign({},this.create(a),{eoa:b && b.Z_});};c.prototype.load=function(a){return new l().decode(a);};c.prototype.Kxb=function(a){var b,c,f;b=a.Zc.value;c=a.og.value;f=a.Oc.value;return b && c && f?(a=a.pa.Fc.media.find(function(a){return a.bh.AUDIO === b.Xa && a.bh.VIDEO === c.Xa && a.bh.Tba === f.Xa;}))?a.id:"":"";};c.prototype.Hka=function(a){return a.map(function(a){return {Jd:a.downloadableId,duration:a.duration};});};c.prototype.yzb=function(a){return (a=a.Ln)?(a=a.xzb(),{total:a.total,lG:a.totalContentTime,audio:this.Hka(a.audio),video:this.Hka(a.video),text:this.Hka(a.timedtext)}):{total:0,lG:0,video:[],audio:[],text:[]};};v=c;v=d.__decorate([f.O(),d.__param(0,f.l(h.fh)),d.__param(1,f.l(u.Sc)),d.__param(2,f.l(r.Fd)),d.__param(3,f.l(a.iO))],v);b.JBa=v;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Haa=b.Gaa=b.Jaa=void 0;b.Jaa="PboPlaydataValidatorSymbol";b.Gaa="PboPlaydataArrayValidatorSymbol";b.Haa="PboPlaydataCollectionValidatorSymbol";},function(d,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.VV=void 0;l=a(10);c.lha=function(a){var b;if(l.Je.queryCommandSupported && l.Je.queryCommandSupported("copy")){b=l.Je.createElement("textarea");b.textContent=a;b.style.position="fixed";l.Je.body.appendChild(b);b.select();try{l.Je.execCommand("copy");}catch(f){console.warn("Copy to clipboard failed.",f);}finally{l.Je.body.removeChild(b);}}};b.VV=c;},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.x$=void 0;b.x$=a;a.A7a="display";a.Q6a="console";a.N1b="remote";a.k3b="writer";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sS=void 0;b.sS=function(a,b,d){var c;if(d.set)throw Error("Property " + b + " has a setter and cannot be made into a lazy property.");c=d.get;d.get=function(){var m,f;m=c.apply(this,arguments);f={enumerable:d.enumerable,value:m};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,b,f):Object.defineProperty(this,b,f);return m;};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oba=b.pH=void 0;d=b.pH || (b.pH={});d.eUb="taskstart";d.cUb="taskabort";d.dUb="taskfail";d.fUb="tasksuccess";b.oba="PreparerTaskSchedulerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.nba=b.kba=b.lba=b.mba=b.IX=void 0;b.IX="PreparerManifestFetcherSymbol";b.mba="PreparerLicenseFetcherSymbol";b.lba="PreparerLegacyLicenseFetcherSymbol";b.kba="PreparerHeadersFetcherSymbol";b.nba="PreparerMediaFetcherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.b8=b.a8=void 0;b.a8="AsePrefetcherAdapterSymbol";b.b8="AsePrefetcherProviderSymbol";},function(d,b,a){var c,l,k,m,f,h,q,u,r,v,A;Object.defineProperty(b,"__esModule",{value:!0});b.YF=void 0;c=a(12);l=a(11);k=a(58);m=a(51);f=a(2);h=a(20);q=a(7);u=a(23);r=a(10);v=a(187);A=a(15);d=a(30);q.ja.get(d.Ig).register(f.L.uya,function(a){var y,D,T;function d(){var a;d=c.kh;a=setInterval(g,l.config.vFb);k.Ve.addListener(k.um,function(b){b && b.isPopStateEvent?y.trace("popstate event, Lock timers can stay"):(u.Rd(D,function(a,b){localStorage.removeItem(b.Cq);}),clearInterval(a));},c.CC);}function g(){var a;a=m.O_();u.Rd(D,function(b,c){!1;b=localStorage.getItem(c.Cq);(b=JSON.parse(b))?b.updated=a:b={updated:a,sessionId:T,count:1};localStorage.setItem(c.Cq,JSON.stringify(b));});}h.yb(v.storage);y=q.Ah("StorageLock");D={};T=Date.now() + "-" + Math.floor(1E6 * Math.random());b.YF={uw:function(a,b,h){var k,v,g,B,I,J,R,n,U,V;function q(a){localStorage.setItem(g,JSON.stringify(a));a={Cq:g};D[g]=a;y.trace("Lock acquired",{Name:a.Cq});d();b({ia:!0,L3:a});}h=void 0 === h?!1:h;k=this;if(localStorage){v=m.O_();g="lock-" + a;B={updated:v,sessionId:T,count:1};try{if((g in localStorage)){I=localStorage.getItem(g);J=0;R=JSON.parse(I);A.Bx(R.updated) && (J=R.updated);n=r.tC(v - J) * c.Yj;U=T === R.sessionId;if(n < l.config.uUa){if(U)(R.count+=1,y.debug("Incremented lock count for existing playbackSession",{id:T,count:R.count}),R.updated=v,q(R));else if(h){V=l.config.uUa - n + c.Yj;y.error("Waiting until current expiration to confirm whether lock is still active",{id:T,count:R.count,Epoch:v,LockEpoch:J,waitTimeoutMs:V});ka.setTimeout(function(){return k.uw(a,b,!1);},V);}else b({ia:!1});}else (y.error("Lock was expired or invalid, ignoring",{Epoch:v,LockEpoch:J}),q(B));}else q(B);}catch(xa){y.error("Error acquiring Lock",{errorSubCode:f.K.ei,errorDetails:u.Ue(xa)});b({ia:!0});}}else (r.qna?y.error("Local storage access exception",{errorSubCode:f.K.kcb,errorDetails:u.Ue(r.qna)}):y.error("No localstorage",{errorSubCode:f.K.lcb}),b({ia:!0}));},release:function(a,b){var f,d;h.yb(D[a.Cq] == a);if(localStorage){try{f=localStorage.getItem(a.Cq);d=JSON.parse(f);1 < d.count?(--d.count,localStorage.setItem(a.Cq,JSON.stringify(d)),y.trace("Lock count decremented",{Name:a.Cq,count:d.count})):(localStorage.removeItem(a.Cq),delete D[a.Cq],y.trace("Lock released",{Name:a.Cq}));}catch(Z){y.error("Unable to release Lock",{Name:a.Cq},Z);}b && b(c.se);}}};l.config.T0?b.YF.uw("session",function(f){b.YF.G0a=f;a(c.se);}):a(c.se);});},function(d,b,a){var m,f,h,q,u,r,v,A,g,B,I,J,D,T;function c(a,b){var g;function c(b){return m.UZa(a,b);}function d(){var a,b,f,d;b=r.Ah("Eme");f=r.ja.get(u.It);f.Bv && f.Av || (a=r.ja.get(D.eO)(),f.Bv=a.Fb,f.Av=a.request);a=new f.Av(b,void 0,c,{xm:!1,iS:!1});d=r.ja.get(A.MC);return f.Bv(b,"cenc",void 0,{xm:!1,iS:!1,xTa:h.config.Gl,j0a:{JVa:h.config.lQb,ZKa:h.config.Cra,p9b:h.config.kQb},xB:a,eZa:h.config.pqa,vG:h.config.Bia,a8b:h.config.mQb,JJa:d.BQ([]),B4a:d.GQ([]),qK:h.config.qK});}function q(){function a(a,b){var f,q;f=r.ja.get(T.kW);if(!b.qc || 0 === b.qc.length || !b.qc[0].QA)return (g.error("releaseDrmSession exception: missing valid keySessionData"),l(a,b));if(0 < b.qc.length){g.info("Sending the deferred playdata and secure stop data");q=d();return q.create(h.config.Ce).then(function(){return q.V4b(b);}).then(function(c){g.info("Sent the deferred playdata and secure stop data");f.n6(c,b);return l(a,b);})["catch"](function(c){c && c.code === v.L.Xbb && l(a,b);c && c.code === v.L.Wbb && l(a,b);g.error("Unable to send last stop",c);f.n6(c,b);throw c;});}g.info("No key session so just send the playdata");return c(b).then(function(){g.trace("Successfully sent stop command for previous session");return l(a,b);})["catch"](function(a){g.error("Unable to send stop command for previous session",a);throw a;});}k(g).then(function(c){var h;h=c.J0.filter(function(a){return !1 === a.active;}).map(function(b){return a(c,b);});Promise.all(h).then(function(){g.info("release drm session completed for " + h.length + " entries");b(f.se);})["catch"](function(a){a=a || ({});a.DrmCacheSize=h.length;g.error("Unable to release one or more DRM session data",a);b(f.se);});})["catch"](function(a){g.error("Unable to load DRM session data",a);b(f.se);});}g=r.Ah("PlayDataManager");b=b || f.kh;h.config.Ip?b(f.se):q();}function l(a,b){return a?a.Qqa(b):Promise.resolve();}function k(a){var c;if(!b.pia){c=r.ja.get(g.TV);b.pia=new Promise(function(b,f){c.wZa().then(function(){b(c);})["catch"](function(b){a.error("Unable to load DRM data for persistent secure stop",b);f(b);});});}return b.pia;}Object.defineProperty(b,"__esModule",{value:!0});b.VBa=b.UBa=b.pia=void 0;m=a(276);f=a(12);h=a(11);q=a(58);u=a(31);r=a(7);v=a(2);A=a(117);g=a(197);B=a(182);I=a(13);J=a(50);d=a(30);D=a(194);T=a(198);b.UBa=function(a){var m,v,A,g,y,T;function b(){v || (a.ud("pdsb"),v=r.ja.get(B.bO)().then(function(b){g=b;a.ud("pdsc");return b;})["catch"](function(b){m.error("Unable to initialize the playdata services",b);a.ud("pdse");throw b;}));return v;}function d(){A=!0;g && g.close();q.Ve.removeListener(q.um,d);}m=r.Bh(a,"PlayDataManager");A=!1;y=r.ja.get(u.It);if(!y.Bv || !y.Av){T=r.ja.get(D.eO)();y.Bv=T.Fb;y.Av=T.request;}a.ud("pdctor");a.addEventListener(I.V.Pf,function(){q.Ve.removeListener(q.um,d);});a.addEventListener(I.V.MK,function(){var b;if(!h.config.Ip && a.ne){b=a.yQ.oMa();k(m).then(function(a){return a.vIa(b);})["catch"](function(){m.error("Unable to load/add cached DRM data");});}});a.addEventListener(I.V.Pf,function(){var c;if(!A){a.rXb();c=[(function(){return h.config.Ip || !a.ne?Promise.resolve():new Promise(function(b){var c;m.info("Sending the expedited playdata and secure stop data");c=a.yQ.oMa();a.ne.v5b(c).then(function(b){m.info("Sent the expedited playdata and secure stop data");h.config.Gl && a.Eq.f6({success:b.ia,persisted:!1,ss_km:b.aHb,ss_sr:b.r6,ss_ka:b.Tnb});return k(m);}).then(function(a){return l(a,c);}).then(function(){b(void 0);})["catch"](function(c){m.error("Unable to send the expedited playdata and secure stop data",c);h.config.Gl && a.Eq.f6({success:c.ia,state:c.state,ErrorCode:c.code,ErrorSubCode:c.vd,ErrorExternalCode:c.Ug,ErrorEdgeCode:c.CJ,ErrorDetails:c.cause && c.cause.Ab});b(void 0);});});})(),(function(){return b().then(function(b){return b.V1a(a.ha);}).then(function(){m.info("Sent the playdata");})["catch"](function(a){m.error("Unable to send the playdata",a);});})(),(function(){return new Promise(function(a){r.ja.get(J.Sm).flush(!1)["catch"](function(){m.error("Unable to send logblob");a(void 0);}).then(function(){a(void 0);});});})()];Promise.all(c).then(function(){a.K4();})["catch"](function(){a.K4();});}});q.Ve.addListener(q.um,d);return {CQb:function(d){a.ud("pdpb");h.config.m6 || b().then(function(b){return b.send(a.u);}).then(function(){h.config.Ip?(a.ud("pdpc"),d(f.se)):c(a,function(){a.ud("pdpc");d(f.se);});})["catch"](function(){a.ud("pdpe");d(f.se);});}};};b.VBa=function(){return new Promise(function(a){c({},function(b){a(b);});});};r.ja.get(d.Ig).register(v.L.Ny,function(a){a(f.se);});},function(d,b,a){var k,m,f,h,q,u,r,v,A,g,B,I,J,D,T,R;function c(a){var b;b=this;this.j=a;this.UJa=this.lUa=!1;this.log=h.Bh(this.j,"Playback");this.LK=h.ja.get(g.VG);this.Gh=h.ja.get(J.pr);this.kc=h.ja.get(D.Sv);this.QKb=h.ja.get(T.AX);this.j.addEventListener(I.V.MK,function(){return b.rWb();});q.yb(m.config);m.config.Ip || (this.stb=h.ja.get(u.Z8));}function l(a,b){var f;function c(a){return a && 0 < a.length && a[0].QA;}f=h.ja.get(g.VG);return a.ea && c(a.qc)?f.release(Object.assign(Object.assign({},b),{ea:a.ea,qc:a.qc})):b.ea && c(b.qc)?f.release(b):Promise.resolve(k.se);}Object.defineProperty(b,"__esModule",{value:!0});b.UZa=b.Zva=void 0;k=a(12);m=a(11);f=a(51);h=a(7);q=a(20);u=a(296);r=a(2);v=a(77);A=a(15);g=a(181);B=a(182);I=a(13);J=a(66);D=a(98);T=a(277);R=a(31);c.prototype.dQ=function(a){var b;b=this;q.qJ(this.j.u);q.qJ(this.j.qj);Promise.all([this.j.pa,m.config.Js && this.kc.PR(this.j.u,"manifest")?this.kc.vq(this.j.u,"manifest")["catch"](function(){}):void 0]).then(function(a){var c,h;c=N(a);a=c.next().value;c=c.next().value;a && c?h=m.config.eMb || c.Fc.gR > a.Fc.gR?c:a:a?h=a:c && (h=c);h && 18E5 > h.Fc.gR - f.vLa() && (h=void 0);return h?(b.j.Oz=h === a?"ui":"videopreparer",h):b.j.v0a();}).then(function(c){try{b.j.bZa(c);a(k.se);b.Svb();}catch(Z){b.log.error("Exception processing authorization response",Z);a({ia:!1,ka:r.K.vbb});}})["catch"](a);};c.prototype.rka=function(a){var b;b=this;return new Promise(function(c,f){var d,q,m;d=v.Cv.fMa(a.gj);q=a.aj.map(function(a){return {sessionId:a.sessionId,dataBase64:h.cKa(a.data)};});m=b.j.Azb(a.aj[0].sessionId);d={ti:m.ti,gj:A.is.gn(a.gj)?a.gj:d,I0:[m.nl],aj:q,ea:m.ea,ju:a.ju,hj:m.pa.hj};b.j.zQ && b.j.zQ.Z_ && (d.MS=b.j.zQ.Z_);b.LK.uw(d).then(function(a){b.j.qc=a.qc;c(a);b.Tvb(m);})["catch"](f);});};c.prototype.release=function(a){return l(this.j,a);};c.prototype.oMa=function(){var a;a=this.stb.create();this.j.ne && (a.Ce=this.j.ne.nx());a.qc=this.j.qc;a.ea=this.j.ea;a.u=this.j.u;return a;};c.prototype.Tvb=function(a){this.lUa || (this.lUa=!0,this.j.fireEvent(I.V.MK,{u:a.u}));};c.prototype.Svb=function(){var a;a=this;this.UJa || (this.UJa=!0,this.j.fireEvent(I.V.Tkb),h.ja.get(B.bO)().then(function(b){b.uM(a.j);}));};c.prototype.rWb=function(){var a,b;a=this;b=h.ja.get(R.vj);this.Gh.n3 || c.d4a || (c.d4a=!0,b.PWb && m.config.qWb && this.QKb.Oe(this.log,{}).then(function(){return a.log.trace("Updated NetflixId");})["catch"](function(b){return a.log.error("NetflixId upgrade failed",r.jr(b));}));};b.Zva=c;c.d4a=!1;b.UZa=l;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.AX=void 0;b.AX="PboBindCommandSymbol";},function(d,b,a){var l,k,m,f,h,q,u,r,v,A,g,B;function c(a,b,c,d,q){var r,v;r=this;this.j=a;this.type=b;this.tFa=d;this.log=q;this.$Y=new f.Cc(!1);this.WC={data:[],state:"",operation:""};this.YK=this.HOa((this.type === l.zc.Ta.VIDEO?this.j.og.value:this.j.Zc.value).xc);this.wr=new h.tj();this.Jda={Type:this.type};m.config.RA && (v=!0,this.rja=new f.Cc(!1));this.log.trace("Adding source buffer",this.Jda,{TypeId:this.YK});this.Pc=c.addSourceBuffer(this.YK);this.Pc.addEventListener("updatestart",function(){!1;r.WC.state="updatestart";});this.Pc.addEventListener("update",function(){!1;r.WC.state="update";});this.Pc.addEventListener("updateend",function(){var a;!1;r.$Y.set(!1);r.DFa && r.DFa();r.WC.state="updateend";a=0;try{a=r.Pc.buffered.length;}catch(Z){}v && a && (v=!1,r.rja.set(!0),!1);});this.Pc.addEventListener("error",function(b){var c;!1;try{c=b.target.error && b.target.error.message;(b.message || c) && q.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(ta){}a.ed(u.L.pbb,k.Q1(r.type));});this.Pc.addEventListener("abort",function(){!1;});a.addEventListener(A.V.closed,function(){r.Pc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.N$=void 0;l=a(48);k=a(167);m=a(11);f=a(149);h=a(68);q=a(7);a(91);u=a(2);a(4);r=a(20);v=a(15);A=a(13);g=a(117);B=a(185);c.prototype.Yh=function(){return this.$Y.value;};c.prototype.updating=function(){return this.Pc?this.Pc.updating:!1;};c.prototype.t6=function(a){this.DFa=a;};c.prototype.M1=function(){return this.WC;};c.prototype.buffered=function(){return this.Pc.buffered;};c.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};c.prototype.toJSON=function(){return {type:this.type};};c.prototype.K1=function(){var a,b,c,f,h,d,q;try{a=this.Pc.buffered;h=0;if(a)for((b=[],c=0,f=a.length,c=0);c < f;c++){d=a.start(c);q=a.end(c);h=h + (q - d);r.yb(q > d);b.push(d + "-" + q);}if(b)return {Buffered:h.toFixed(3),Ranges:b.join("|")};}catch(E){}};c.prototype.jJa=function(a,b){!1;try{r.yb(this.Pc.buffered && 1 >= this.Pc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.K1()));}catch(D){}r.yb(!this.Yh());this.l1a("append",a);b=b && b.Nn / 1E3;v.qa(b) && this.Pc.timestampOffset !== b && (!1,this.Pc.timestampOffset=b);this.Pc.appendBuffer(a);!1;this.$Y.set(!0);};c.prototype.remove=function(a,b){r.yb(!this.Yh());try{this.l1a("remove");!1;this.Pc.remove(a,b);this.$Y.set(!0);}catch(D){this.log.error("SourceBuffer remove exception",D,this.Jda);}};c.prototype.l1a=function(a,b){this.WC.data=b || [];this.WC.state="init";this.WC.operation=a;};c.prototype.ARb=function(a,b){this.CEb=Math.floor(1E3 * a / b);};c.prototype.Pmb=function(a){var b;if(this.Pc){if((a=this.HOa([{type:this.nob,vg:a}]),a !== this.YK)){b=this.YK;this.log.info("Changing SourceBuffer mime-type from: " + this.YK + " to: " + a);try{if(this.Pc.changeType)(this.Pc.changeType(a),this.YK=a);else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(D){throw (this.log.error("Error changing SourceBuffer type",D,this.Jda,{From:b,To:a}),D);}}}else this.log.info("No SourceBuffer");};c.prototype.appendBuffer=function(a,b){!b || b.vc?this.nfa(a,b):this.g_(a,b);return !0;};c.prototype.nfa=function(a,b){this.j.Vf.nfa(this,a,b || ({}));};c.prototype.g_=function(a,b){a=this.hob(a,b);!1;this.j.Vf.g_(a);};c.prototype.hob=function(a,b){var c;c=this.CEb || 0;return {lLa:function(){this.response=void 0;},Bk:function(){return this.requestId;},constructor:{name:"MediaRequest"},I:this.I,readyState:B.Sb.mc.DONE,ky:b.X,av:b.X + b.duration,ex:b.duration,Nn:c,Wh:b.Wh,va:b.va,Da:b.Da,Zb:+b.Zb,location:b.location,WI:b.offset,VI:b.offset + b.ba - 1,U:b.U,response:a,eSa:a && 0 < a.byteLength,NA:!0,get vc() {return !this.NA;},m0a:this.Ti - c || Infinity,toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.va,isHeader:this.vc,ptsStart:this.ky,ptsOffset:this.Nn,responseType:this.H3b,duration:this.ex,readystate:this.Mg};this.stream && (a.bitrate=this.stream.U);return JSON.stringify(a);}};};c.prototype.endOfStream=function(){var a;this.j.bq("EndOfStream");null === (a=this.j.Vf) || void 0 === a?void 0:a.L4(this.I);};c.prototype.addEventListener=function(a,b,c){this.wr.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.wr.removeListener(a,b);};c.prototype.HOa=function(a){var b;b=q.ja.get(g.MC);return this.type === l.zc.Ta.VIDEO?b.GQ(a):b.BQ(a);};ma.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.type;}},z_:{configurable:!0,enumerable:!0,get:function(){return this.tFa.z_;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.tFa.sourceId;}},nob:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.N$=c;},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.GMa=b.Ina=void 0;c=a(20);l=a(23);k=a(15);(function(){var f,h,d;function a(a){c.yb(void 0 !== f[a]);return f[a];}f={'"':'""',"\r":"","\n":" "};h=/["\r\n]/g;d=/[", ]/;b.GMa=function(b){return k.ic(b)?k.qa(b)?b:k.gf(b)?b.replace(h,a):k.rma(b)?b:isNaN(b)?"NaN":"":"";};b.Ina=function(a){var c,f;c=b.GMa;f="";l.Rd(a,function(a,b){a=c(a) + "=" + c(b);d.test(a) && (a='"' + a + '"');f=f?f + ("," + a):a;});return f;};})();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pi=void 0;d=b.Pi || (b.Pi={});d[d.F1a=1]="sourceopen";d[d.lq=2]="currentTimeChanged";d[d.iU=3]="seeked";d[d.w7b=4]="needlicense";d[d.kUa=5]="licenseadded";d[d.E1a=6]="sourceBuffersAdded";d[d.jpa=7]="onNeedKey";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rp=void 0;d=b.Rp || (b.Rp={});d[d.JAa=0]="None";d[d.Bxa=1]="Fetching";d[d.W8=2]="Done";d[d.Error=3]="Error";},function(d){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},iRa:function(){return this.buffer.length - this.position;},JL:function(){return this.buffer[this.position++];},Qk:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},yp:function(a){for(var b=0;a--;){b=256 * b + this.buffer[this.position++];}return b;},zqa:function(a){for(var b="";a--;){b+=String.fromCharCode(this.buffer[this.position++]);}return b;},Eg:function(){return this.yp(2);},zp:function(){return this.yp(4);},LL:function(){return this.yp(8);},dv:function(a){for(var b,d="";a--;){b=this.JL();d+=("0123456789ABCDEF")[b >>> 4] + ("0123456789ABCDEF")[b & 15];}return d;},Aqa:function(a){for(var b=0,d=0;d < a;d++){b+=this.JL() << (d << 3);}return b;},KL:function(){return this.Aqa(4);}};d.exports=b;},function(d,b,a){b=a(428);d.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.aa:Date.now;},function(d){d.exports={yv:{Uba:0,oDa:1,Zj:2,name:["transient","semiTransient","permanent"]},uv:{vxa:0,mDa:1,SX:2,$N:3,Lv:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},f3b:{U2b:0,V_b:1,PYb:2,Lv:100,name:["trailer","montage","content"]},Ct:{Wya:0,XCa:1,Pcb:2,Z7a:3,Lv:100,name:["left","right","up","down"]},RN:{V6a:0,SX:1,m_b:2,JZb:3,hYb:4,l_b:5,R5a:6,Lv:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},TG:{$N:0,hwa:1,Lv:100,name:["playFocused","detailsOpened"]}};},function(d,b,a){var c,l,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.$d=void 0;d=a(1);c=a(101);l=a(563);k=a(195);m=a(571);f=a(579);h=a(653);a=a(1195);b.$d=new d.XV({VF:!0});h.oUa(b.$d);b.$d.load(l.platform);b.$d.load(m.config);k.EJ.load(f.UNa);b.$d.load(a.gJa);b.$d.load(a.profile);b.$d.bind(c.Z9).ci(b.$d);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);d=(function(){function a(){}a.prototype.WPa=function(a){var b;b=Reflect.getMetadata(c.jaa,a);a=Reflect.getMetadata(c.kEa,a);return {ILa:b,MWb:a || ({})};};a.prototype.Hzb=function(a){return Reflect.getMetadata(c.lEa,a) || [];};return a;})();b.V$=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);b.zTa=function(a){return a instanceof RangeError || a.message === c.gcb;};},function(d,b,a){var c,l,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);l=a(39);k=a(59);m=a(86);d=(function(){function a(a){this.Ndb=a;}a.prototype.JVb=function(){return this.Ndb();};return a;})();b.k$=d;b.l=function(a){return function(b,f,d){var h;if(void 0 === a)throw Error(c.Mcb(b.name));h=new k.Metadata(l.PN,a);"number" === typeof d?m.cG(b,f,d,h):m.WU(b,f,h);};};},function(d,b,a){var c,l,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);l=a(100);k=a(59);m=a(544);d=(function(){function a(a,b,f,d){this.id=l.id();this.type=a;this.Ff=f;this.name=new m.Dbb(b || "");this.Td=[];a=null;"string" === typeof d?a=new k.Metadata(c.Vy,d):d instanceof k.Metadata && (a=d);null !== a && this.Td.push(a);}a.prototype.iSa=function(a){for(var b=0,c=this.Td;b < c.length;b++){if(c[b].key === a)return !0;}return !1;};a.prototype.isArray=function(){return this.iSa(c.sC);};a.prototype.lGb=function(a){return this.Sna(c.sC)(a);};a.prototype.yma=function(){return this.iSa(c.Vy);};a.prototype.Hma=function(){return this.Td.some(function(a){return a.key !== c.PN && a.key !== c.sC && a.key !== c.lX && a.key !== c.tO && a.key !== c.Vy;});};a.prototype.sTa=function(){return this.Sna(c.QAa)(!0);};a.prototype.fzb=function(){return this.yma()?this.Td.filter(function(a){return a.key === c.Vy;})[0]:null;};a.prototype.Mxb=function(){return this.Hma()?this.Td.filter(function(a){return a.key !== c.PN && a.key !== c.sC && a.key !== c.lX && a.key !== c.tO && a.key !== c.Vy;}):null;};a.prototype.Sna=function(a){var b;b=this;return function(c){var d;for(var f=0,h=b.Td;f < h.length;f++){d=h[f];if(d.key === a && d.value === c)return !0;}return !1;};};return a;})();b.eY=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(192);l=a(193);d=(function(){function a(a){this.Xb=a;this.EO=new l.k8(this.Xb);this.Eca=new c.PV(this.Xb);}a.prototype.when=function(a){return this.EO.when(a);};a.prototype.BV=function(){return this.EO.BV();};a.prototype.Su=function(a){return this.Eca.Su(a);};return a;})();b.dC=d;},function(d,b,a){var k;function c(a){return function(b){function c(c){return null !== c && null !== c.target && c.target.Sna(a)(b);}c.KVa=new k.Metadata(a,b);return c;};}function l(a,b){a=a.Zx;return null !== a?b(a)?!0:l(a,b):!1;}Object.defineProperty(b,"__esModule",{value:!0});d=a(39);k=a(59);b.s3a=l;b.x2a=c;b.oWa=c(d.Vy);b.y3a=function(a){return function(b){var c;return null !== b?(c=b.gQ[0],"string" === typeof a?c.Ff === a:a === b.gQ[0].tl):!1;};};},function(d,b,a){var k;function c(a,b){this.Gf=b;this.Jx=Math.floor(a);this.display=this.Jx + " " + this.Gf.name;}function l(a,b,c){this.Gf=a;this.name=b;this.Jo=c?c:this;k.En(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.mr=b.uO=void 0;k=a(53);l.prototype.eR=function(a){return this.Gf == a.Gf;};l.prototype.toJSON=function(){return this.name;};b.uO=l;c.prototype.ca=function(a){return this.Gf.eR(a)?this.Jx:Math.floor(this.Jx * this.Gf.Gf / a.Gf);};c.prototype.MYa=function(a){return this.Gf.eR(a)?this.Jx:this.Jx * this.Gf.Gf / a.Gf;};c.prototype.to=function(a){return new c(this.ca(a),a);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.Jx,units:this.Gf.name};};c.prototype.add=function(a){return this.DLa(a);};c.prototype.Fa=function(a){return this.DLa(a,function(a){return -a;});};c.prototype.scale=function(a){return new c(this.ca(this.Gf.Jo) * a,this.Gf.Jo);};c.prototype.qk=function(a){return this.ca(this.Gf.Jo) - a.ca(this.Gf.Jo);};c.prototype.eR=function(a){return 0 == this.qk(a);};c.prototype.HTa=function(){return 0 == this.Jx;};c.prototype.zma=function(){return 0 > this.Jx;};c.prototype.EDb=function(){return 0 < this.Jx;};c.prototype.DLa=function(a,b){b=void 0 === b?function(a){return a;}:b;return new c(this.ca(this.Gf.Jo) + b(a.ca(this.Gf.Jo)),this.Gf.Jo);};b.mr=c;},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.cN=void 0;b.cN=a;a.wbb="PSK";a.I$a="MGK";a.U_b="MGK_WITH_FALLBACK";a.T_b="MGK_JWE";a.I_b="JWEJS_RSA";a.Rya="JWK_RSA";a.J_b="JWK_RSAES";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Paa=void 0;b.Paa="PlatformConfigOverridesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.RV=void 0;b.RV="BrowserInfoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z8=void 0;b.Z8="DrmDataFactorySymbol";},function(d,b,a){var l,k;function c(a,b,c,d,k){this.version=a;this.xL=b;this.a2a=c;this.Uk=d;this.ov=k;this.fu=[];}Object.defineProperty(b,"__esModule",{value:!0});b.X9=void 0;l=a(2);k=a(40);c.prototype.load=function(a){return this.eFb(a);};c.prototype.add=function(a){this.fu.push(a);return this.Cpa();};c.prototype.remove=function(a,b){a=this.QPa(this.vq(a,b));return 0 <= a?(this.fu.splice(a,1),this.Cpa()):Promise.resolve();};c.prototype.update=function(a,b){b=this.QPa(this.vq(a,b));return 0 <= b?(this.fu[b]=a,this.Cpa()):Promise.resolve();};c.prototype.eFb=function(a){var b;b=this;this.pUa || (this.pUa=new Promise(function(c,f){function h(a){b.gsb().then(function(){f(a);})["catch"](function(){f(a);});}b.Wka().then(function(a){b.storage=a;return b.storage.load(b.xL);}).then(function(f){var d;f=f.value;try{d=a(f);b.version=d.version;b.fu=d.data;c();}catch(A){h(A);}})["catch"](function(a){a.ka !== l.K.Yy?f(a):c();});}));return this.pUa;};c.prototype.Cpa=function(){var a,b,c,d,k;a=this;if(!this.a2a)return Promise.resolve();if(this.M6){d=new Promise(function(a,f){b=a;c=f;});k=function(){a.M6=d;a.$1a().then(function(){b();})["catch"](function(a){c(a);});};this.M6.then(k)["catch"](k);return d;}return this.M6=this.$1a();};c.prototype.$1a=function(){var a,b;a=this;b=this.ov();return new Promise(function(f,d){a.Wka().then(function(c){return c.save(a.xL,b,!1);}).then(function(){f();})["catch"](function(a){d(c.JUb(l.L.Yab,a));});});};c.prototype.gsb=function(){var a;a=this;return this.a2a?new Promise(function(b,c){a.Wka().then(function(b){return b.remove(a.xL);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};c.prototype.Wka=function(){return this.storage?Promise.resolve(this.storage):this.Uk.create();};c.prototype.vq=function(a,b){for(var c=0;c < this.fu.length;++c){if(b(this.fu[c],a))return this.fu[c];}};c.prototype.QPa=function(a){return a?this.fu.indexOf(a):-1;};c.JUb=function(a,b){var c;if(b.ka && b.cause)return new k.Bc(a,b.ka,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0 !== b.vd){c=(b.message?b.message + " ":"") + "";b.code=a;b.message="" === c?void 0:c;return b;}return b instanceof Error?new k.Bc(a,l.K.ei,void 0,void 0,void 0,void 0,b.stack,b):new k.Bc(a,l.K.Ul,void 0,void 0,void 0,void 0,void 0,b);};b.X9=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.LX=void 0;b.LX="QueryStringDataProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.caa=void 0;b.caa="NetworkMonitorConfigSymbol";},function(d,b){b.uc=function(a){return "function" === typeof a;};},function(d,b){b.zf=function(a){return null != a && "object" === typeof a;};},function(d,b){b.kA={e:{}};},function(d,b,a){var c,l,k,m,f,h,q,u;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});l=a(24);d=a(64);k=a(115);m=a(304);f=a(305);h=a(200);q=(function(a){function b(b){a.call(this,b);this.destination=b;}c(b,a);return b;})(d.no);b.Q2b=q;a=(function(a){function b(){a.call(this);this.Ux=[];this.RR=this.Wg=this.closed=!1;this.Xsa=null;}c(b,a);b.prototype[h.KF]=function(){return new q(this);};b.prototype.ws=function(a){var b;b=new u(this,this);b.qXa=a;return b;};b.prototype.next=function(a){if(this.closed)throw new m.gH();if(!this.Wg)for(var b=this.Ux,c=b.length,b=b.slice(),f=0;f < c;f++){b[f].next(a);}};b.prototype.error=function(a){if(this.closed)throw new m.gH();this.RR=!0;this.Xsa=a;this.Wg=!0;for(var b=this.Ux,c=b.length,b=b.slice(),f=0;f < c;f++){b[f].error(a);}this.Ux.length=0;};b.prototype.complete=function(){if(this.closed)throw new m.gH();this.Wg=!0;for(var a=this.Ux,b=a.length,a=a.slice(),c=0;c < b;c++){a[c].complete();}this.Ux.length=0;};b.prototype.unsubscribe=function(){this.closed=this.Wg=!0;this.Ux=null;};b.prototype.zea=function(b){if(this.closed)throw new m.gH();return a.prototype.zea.call(this,b);};b.prototype.dn=function(a){if(this.closed)throw new m.gH();if(this.RR)return (a.error(this.Xsa),k.$y.EMPTY);if(this.Wg)return (a.complete(),k.$y.EMPTY);this.Ux.push(a);return new f.hEa(this,a);};b.prototype.ufa=function(){var a;a=new l.Eb();a.source=this;return a;};b.create=function(a,b){return new u(a,b);};return b;})(l.Eb);b.mo=a;u=(function(a){function b(b,c){a.call(this);this.destination=b;this.source=c;}c(b,a);b.prototype.next=function(a){var b;b=this.destination;b && b.next && b.next(a);};b.prototype.error=function(a){var b;b=this.destination;b && b.error && this.destination.error(a);};b.prototype.complete=function(){var a;a=this.destination;a && a.complete && this.destination.complete();};b.prototype.dn=function(a){return this.source?this.source.subscribe(a):k.$y.EMPTY;};return b;})(a);b.cYb=u;},function(d,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(b){function c(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.gH=d;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b,c){a.call(this);this.LU=b;this.Uj=c;this.closed=!1;}c(b,a);b.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.LU;b=a.Ux;this.LU=null;!b || 0 === b.length || a.Wg || a.closed || (a=b.indexOf(this.Uj),-1 !== a && b.splice(a,1));}};return b;})(a(115).$y);b.hEa=d;},function(d,b,a){var c,l;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var h in b){b.hasOwnProperty(h) && (a[h]=b[h]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});l=a(88);d=(function(a){function b(b,c){a.call(this,b,c);this.Ea=b;this.Jn=!1;this.Yta=c;}c(b,a);b.prototype.bd=function(a,b){var c;void 0 === b && (b=0);if(this.closed)return this;this.state=a;this.Jn=!0;a=this.id;c=this.Ea;null != a && (this.id=this.Jqa(a,b));this.lm=b;this.id=this.id || this.Xqa(c,this.id,b);return this;};b.prototype.Xqa=function(a,b,c){void 0 === c && (c=0);return l.root.setInterval(a.flush.bind(a,this),c);};b.prototype.Jqa=function(a,b){void 0 === b && (b=0);return null !== b && this.lm === b && !1 === this.Jn?a:(l.root.clearInterval(a),void 0);};b.prototype.Oe=function(a){if(this.closed)return Error("executing a cancelled action");this.Jn=!1;if(a=this.$Fa(a))return a;!1 === this.Jn && null != this.id && (this.id=this.Jqa(this.id,null));};b.prototype.$Fa=function(a){var b,c;b=!1;c=void 0;try{this.Yta(a);}catch(u){b=!0;c=! !u && u || Error(u);}if(b)return (this.unsubscribe(),c);};b.prototype.Bea=function(){var a,b,c;a=this.id;b=this.Ea.Fo;c=b.indexOf(this);this.state=this.Yta=null;this.Jn=!1;this.Ea=null;-1 !== c && b.splice(c,1);null != a && (this.id=this.Jqa(a,null));this.lm=null;};return b;})(a(589).G5a);b.Tua=d;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(){a.apply(this,arguments);this.Fo=[];this.active=!1;}c(b,a);b.prototype.flush=function(a){var b,c;b=this.Fo;if(this.active)b.push(a);else {this.active=!0;do {if(c=a.Oe(a.state,a.lm))break;}while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();){a.unsubscribe();}throw c;}}};return b;})(a(591).qcb);b.Wua=d;},function(d,b,a){var c,l,k,m,f;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(64);l=a(592);b.K7b=function(a,b){void 0 === b && (b=0);return function(c){return c.ws(new k(a,b));};};k=(function(){function a(a,b){void 0 === b && (b=0);this.Ea=a;this.lm=b;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.Ea,this.lm));};return a;})();b.Y0b=k;m=(function(a){function b(b,c,f){void 0 === f && (f=0);a.call(this,b);this.Ea=c;this.lm=f;}c(b,a);b.Hc=function(a){a.notification.observe(a.destination);this.unsubscribe();};b.prototype.wra=function(a){this.add(this.Ea.bd(b.Hc,this.lm,new f(a,this.destination)));};b.prototype.am=function(a){this.wra(l.Notification.Oqb(a));};b.prototype.nf=function(a){this.wra(l.Notification.uqb(a));};b.prototype.je=function(){this.wra(l.Notification.jqb());};return b;})(d.no);b.UAa=m;f=(function(){return function(a,b){this.notification=a;this.destination=b;};})();b.X0b=f;},function(d,b){b.gTa=function(a){return a && "number" === typeof a.length;};},function(d,b){b.kS=function(a){return a && "function" !== typeof a.subscribe && "function" === typeof a.then;};},function(d,b,a){var c,l;c=a(312);l=a(609);b.YE=function(a){void 0 === a && (a=Number.POSITIVE_INFINITY);return c.XK(l.YBb,null,a);};},function(d,b,a){var c,l,k,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});l=a(156);d=a(155);b.XK=function(a,b,c){void 0 === c && (c=Number.POSITIVE_INFINITY);return function(f){"number" === typeof b && (c=b,b=null);return f.ws(new k(a,b,c));};};k=(function(){function a(a,b,c){void 0 === c && (c=Number.POSITIVE_INFINITY);this.xF=a;this.gv=b;this.Zga=c;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.xF,this.gv,this.Zga));};return a;})();b.d0b=k;m=(function(a){function b(b,c,f,h){void 0 === h && (h=Number.POSITIVE_INFINITY);a.call(this,b);this.xF=c;this.gv=f;this.Zga=h;this.bSa=!1;this.buffer=[];this.index=this.active=0;}c(b,a);b.prototype.am=function(a){this.active < this.Zga?this.rib(a):this.buffer.push(a);};b.prototype.rib=function(a){var b,c;c=this.index++;try{b=this.xF(a,c);}catch(v){this.destination.error(v);return;}this.active++;this.nfb(b,a,c);};b.prototype.nfb=function(a,b,c){this.add(l.S6(this,a,b,c));};b.prototype.je=function(){this.bSa=!0;0 === this.active && 0 === this.buffer.length && this.destination.complete();};b.prototype.M4=function(a,b,c,f){this.gv?this.tgb(a,b,c,f):this.destination.next(b);};b.prototype.tgb=function(a,b,c,f){var h;try{h=this.gv(a,b,c,f);}catch(y){this.destination.error(y);return;}this.destination.next(h);};b.prototype.Ru=function(a){var b;b=this.buffer;this.remove(a);this.active--;0 < b.length?this.am(b.shift()):0 === this.active && this.bSa && this.destination.complete();};return b;})(d.xX);b.e0b=m;},function(d,b,a){d=a(204);b.of=d.T7.of;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b,c){a.call(this);this.value=b;this.Ea=c;this.ew=!0;c && (this.ew=!1);}c(b,a);b.create=function(a,c){return new b(a,c);};b.Hc=function(a){var b,c;b=a.value;c=a.Uj;a.done?c.complete():(c.next(b),c.closed || (a.done=!0,this.bd(a)));};b.prototype.dn=function(a){var c,h;c=this.value;h=this.Ea;if(h)return h.bd(b.Hc,0,{done:!1,value:c,Uj:a});a.next(c);a.closed || a.complete();};return b;})(a(24).Eb);b.xDa=d;},function(d,b,a){d=a(625);b.from=d.T8a.create;},function(d,b,a){var k,m;function c(a){var b;b=a.value;a=a.Uj;a.closed || (a.next(b),a.complete());}function l(a){var b;b=a.kE;a=a.Uj;a.closed || a.error(b);}k=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});m=a(88);d=(function(a){function b(b,c){a.call(this);this.Pq=b;this.Ea=c;}k(b,a);b.create=function(a,c){return new b(a,c);};b.prototype.dn=function(a){var b,f,h;b=this;f=this.Pq;h=this.Ea;if(null == h)this.ew?a.closed || (a.next(this.value),a.complete()):f.then(function(c){b.value=c;b.ew=!0;a.closed || (a.next(c),a.complete());},function(b){a.closed || a.error(b);}).then(null,function(a){m.root.setTimeout(function(){throw a;});});else if(this.ew){if(!a.closed)return h.bd(c,0,{value:this.value,Uj:a});}else f.then(function(f){b.value=f;b.ew=!0;a.closed || a.add(h.bd(c,0,{value:f,Uj:a}));},function(b){a.closed || a.add(h.bd(l,0,{kE:b,Uj:a}));}).then(null,function(a){m.root.setTimeout(function(){throw a;});});};return b;})(a(24).Eb);b.QCa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.a9=void 0;b.a9="DrmProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.n9=void 0;b.n9="EmeSessionFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dxa=b.bz=void 0;d=b.bz || (b.bz={});d[d.Request=0]="Request";d[d.bDa=1]="Renewal";d[d.scb=2]="SecureStop";b.dxa="EmeApiSymbol";},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.WX=void 0;a.tCb=function(a){return "ID" + (a + 1);};a.g2a=function(a){return Number(a.substr(2)) - 1;};b.WX=a;},function(d,b,a){var l,k,m,f,h,q,u,r,v,A,g,B,I,J,D,T,R,n,V,E,p;function c(a,c,h,d,q,m,r,u,l){var v;v=this;this.za=c;this.Hr=h;this.config=d;this.Of=q;this.Gi=m;this.ju=r;this.Ea=u;this.Gm=l;this.onMessage=function(a){var c,h,d,q;try{c=v.Gi.kha(a);h=c.ZE;d=c.qoa;q=c.sessionId;v.ME=v.ME || c.ME;v.pU(q);v.log.trace("Received " + a.type + " event",{sessionId:q,messageType:d,keyIds:v.ME});d === b.A$ && (v.log.trace("Received a renewal request"),v.gj=A.ih.$j,v.Fh=E.CF);v.Fh === E.pi && (v.lna={ju:v.ju,data:h},v.Go(g.hr.IZa));v.Fh === E.CF && v.Go(g.hr.JZa);if(v.wS){if(v.qla(h)){v.us(new V.Bc(f.L.Wwa));return;}v.wS.next({aj:h,XKa:d,gj:v.gj});v.gj === A.ih.$j && (v.wS.complete(),v.wS=void 0);}v.Fh === E.stop && (v.Di.Gmb(),v.config.Gl && v.fU && (v.fU.next({aj:h}),v.fU.complete(),v.fU=void 0));}catch(Ta){v.us(Ta);}};this.ipa=function(a){var b,c,h,d,q,k,u,l,g,B,y,I,R,n,U,V,E;c=a.target;h=c.keyStatuses;v.pU(c.sessionId);v.log.trace("Received event: " + a.type);try{q=null === (b=v.context.Ks) || void 0 === b?void 0:b.reduce(function(a,b){a[b.lp]=b.U5.height;return a;},{});a=[];for(var m=N(h),r=m.next();!r.done;r=m.next()){k=N(r.value);u=k.next().value;l=k.next().value;g=v.Hr.encode(new Uint8Array(u));a.push({lp:g,status:l,height:null === q || void 0 === q?void 0:q[g]});}a.sort(function(a,b){return (a.height || 0) - (b.height || 0);});B=a.map(function(a){return a.lp;});y=a.map(function(a){return a.height;});I=a.map(function(a){return a.status;});v.log.trace("KeyStatus: " + B + ", " + y + ", " + I);for(var J=N(h),D=J.next();!D.done;D=J.next()){R=N(D.value);n=R.next().value;U=R.next().value;V=v.Hr.encode(new Uint8Array(n));E=p[U];v.Sma.next({lp:V,value:E.status});v.LA(V,E.error) && (d=new T.Qe(E.error),v.mS(d));}}catch(sb){d=new T.Qe(f.L.hbb);d.QQ(sb);}d?v.Oma(d):(v.Gi.S_() || v.KTa(),v.gj !== A.ih.Hv || v.Gi.Hfa() || v.POb());};this.jF=function(a){var b;b=v.Gi.Or(a);v.log.error("Received event: " + a.type,b);v.us(b);v.Oma(b);v.Ij || v.Bn || v.mS(b);};this.rJb=function(){v.log.error("MediaKeySession closed unexpectedly.");v.mS(new V.Bc(f.L.x8a));};this.us=function(a){v.Ij && v.close().subscribe(void 0,function(b){v.log.error("EmeSession closed with an error.",v.Gi.Or(b));v.Ij && (v.Ij.error(a),v.Ij=void 0);},function(){v.log.trace("Issuing a generate challenge error");v.Ij && (v.Ij.error(a),v.Ij=void 0);});};this.JTa=function(){v.Ij && (v.Ij.complete(),v.Ij=void 0);};this.Oma=function(a){v.Bn && (v.log.error("Failed to add license",a),v.close().subscribe(void 0,function(b){v.log.error("EmeSession closed with an error.",v.Gi.Or(b));v.Fh === E.CF && v.Go(g.hr.FIa);v.Ij=void 0;v.Bn && (v.Bn.error(a),v.Bn=void 0);},function(){v.log.trace("Issuing a license error");v.Ij=void 0;v.Bn && (v.Bn.error(a),v.Bn=void 0);}));};this.KTa=function(){v.Bn && (v.log.info("Successfully added license"),v.Fh === E.pi?v.Go(g.hr.AIa):v.Fh === E.CF && v.Go(g.hr.EIa),v.Bn.complete(),v.Bn=void 0);};this.mS=function(a){v.$r && v.close().subscribe(void 0,function(b){v.log.error("EmeSession closed with an error.",v.Gi.Or(b));v.Ij=void 0;v.Bn=void 0;v.$r && (v.$r.next(a),v.$r.complete(),v.$r=void 0);},function(){v.log.trace("Issuing a CDM error");v.Ij=void 0;v.Bn=void 0;v.$r && (v.$r.next(a),v.$r.complete(),v.$r=void 0);});};this.Go=function(a){v.Md.push({time:v.za.Bb(),oHb:a});};this.i_a=!1;this.log=a.tb("EmeSession");this.wS=new k.mo();this.config.Gl && (this.fU=new k.mo());this.Sma=new k.Nbb();this.$r=new k.mo();this.Fh=E.FVb;this.Md=[];}Object.defineProperty(b,"__esModule",{value:!0});b.hxa=b.A$=b.B$=void 0;d=a(0);l=a(1);k=a(134);m=a(4);f=a(2);h=a(18);q=a(6);u=a(41);r=a(42);v=a(60);A=a(61);g=a(322);B=a(650);I=a(132);J=a(205);D=a(319);T=a(74);R=a(651);n=a(62);V=a(40);(function(a){a[a.FVb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.pi=3]="license";a[a.CF=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";})(E || (E={}));b.B$="license-request";b.A$="license-renewal";p={usable:{status:B.ut.e4a},expired:{status:B.ut.EOa,error:f.L.fBa},released:{status:B.ut.tOb},"output-not-allowed":{status:B.ut.zXa,error:f.L.gBa},"output-restricted":{status:B.ut.zXa,error:f.L.paa},"output-downscaled":{status:B.ut.nKb},"status-pending":{status:B.ut.XSb},"internal-error":{status:B.ut.MCb,error:f.L.gbb}};c.prototype.nx=function(){var a;return (null === (a=this.GVa) || void 0 === a?void 0:a.keySystem) || "";};c.prototype.lx=function(){return this.sessionId;};c.prototype.close=function(){var a;a=this;this.Sma.complete();this.Fh=E.closed;this.Md=[];return this.Of.JDb()?(this.log.trace("Closing the session"),this.Of.c_a(this.onMessage),this.Of.$Za(this.ipa),this.Of.XZa(this.jF),this.Am=void 0,k.Eb.create(function(b){a.Gm.Ap(a.config.dJa,a.Of.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.Gi.Or(c);c.code=f.L.jbb;b.error(c);});})):k.Eb.empty();};c.prototype.TTa=function(){return this.Sma.ufa();};c.prototype.mu=function(){return this.$r?this.$r.ufa():void 0;};c.prototype.fs=function(){return this.ju;};c.prototype.nK=function(){return void 0 !== this.Cn;};c.prototype.nn=function(a,b,c,h){var d;d=this;this.context=a;this.GVa=b;this.PS=c;this.gj=h;this.Fh=E.create;this.Go(g.hr.jUa);return k.Eb.create(function(a){(c.fSa()?Promise.resolve():d.Gm.Ap(d.config.eJa,d.Of.Kqb(b)).then(function(a){d.log.trace("Created media keys");c.QF(a);return d.Zjb(a);})).then(function(){d.Am=c.Am;try{d.Of.nn(d.Am,d.Gi.f2(h));d.Of.CIa(d.onMessage);d.Of.yIa(d.ipa);d.Of.wIa(d.jF);d.Of.Yib(d.rJb);d.pU(d.Of.lx());a.next(d);a.complete();}catch(Q){a.error(new T.Qe(f.L.r8a,f.K.ei,void 0,"Unable to create a persisted key session",Q));}})["catch"](function(b){b.code && b.vd?a.error(b):a.error(new T.Qe(f.L.g9,b instanceof n.oo?f.K.zN:f.K.ei,void 0,"Unable to create MediaKeys. " + b.message,b));});});};c.prototype.mRb=function(a){this.Cg=a;this.log.Qea("xid",a.ea);};c.prototype.rUa=function(a){var b;b=this;this.log.trace("Loading the session");this.Fh=E.load;this.qc=a.qc;this.qOb={ea:a.ea};return k.Eb.su(this.Of.load(a.qc[0].id).then(function(){b.log.trace("Loaded the session.");return b;})["catch"](function(a){b.log.error("Loading the session failed.",a);throw a;}));};c.prototype.uMb=function(a){return this.config.i0a && !a?this.uOb():Promise.resolve();};c.prototype.uOb=function(){var a,b;a=this;this.log.trace("Reloading the session.");b={qc:this.qc,Ce:this.nx(),u:this.Cg.u,ea:this.Cg.ea};return this.close().$s().then(function(){return a.log.trace("Creating the session.");}).then(function(){return a.nn(a.context,a.GVa,a.PS,A.ih.$j).$s();}).then(function(){return a.log.trace("Created the session.");}).then(function(){return a.rUa(b).$s();}).then(function(){return a.log.trace("Reloaded the session.");});};c.prototype.C1=function(a){var b;b=this;this.Fh=E.pi;this.log.trace("Generating a license challenge");this.Ij=new k.mo();if(!a)return this.Mga(new T.Qe(f.L.Twa,f.K.j9));if(this.qla(a))return this.Mga(new T.Qe(f.L.Twa,f.K.h9));this.Gm.Ap(this.config.fJa,this.Of.TJ("cenc",a)).then(function(){b.pU(b.Of.lx());})["catch"](function(a){var c,h;c=new T.Qe(f.L.mW,a instanceof n.oo?f.K.zN:f.K.ei);h=b.Gi.Or(a);c.Ug=h.Ug;c.message="Unable to generate request.";c.QQ(a);b.log.error("Unable to generate a license request",c);b.us(c);});this.log.trace("Returning the challenge subject");return this.Ij;};c.prototype.zIa=function(a){this.qc=a.qc;a=a.Cn.map(function(a){return a.data;});this.qla(a)?(this.log.error("The license buffer is empty"),this.us(new T.Qe(f.L.Uwa,f.K.h9))):(this.Fh === E.pi && (this.Go(g.hr.HZa),this.Cn=a,this.LNa=this.Gi.ZJ(this.ME,a),this.JTa()),this.Fh === E.CF && (this.Go(g.hr.KZa),this.Cn=a,this.LNa=this.Gi.ZJ(this.ME,a),this.rfa()));};c.prototype.jjb=function(a){this.Fh === E.CF?(this.Go(g.hr.LZa),this.mS(a)):this.us(a);};c.prototype.rfa=function(){var a,b;a=this;if(!this.Cn)return this.Mga(new T.Qe(f.L.Uwa,f.K.j9));this.Bn=new k.mo();b=this.Cn;this.Cn=void 0;this.Gm.Ap(this.config.iJa,this.Of.update(b,this.Fh === E.pi?D.bz.Request:D.bz.bDa,this.ME)).then(function(){a.Gi.S_() && a.KTa();})["catch"](function(b){b=a.Gi.Or(b);b.code=f.L.jBa;b.message="Unable to update the EME";a.log.error(b.message,b);a.Oma(b);});return this.Bn;};c.prototype.xS=function(){return this.wS;};c.prototype.DPa=function(a){var b;b=this;if(this.Fh === E.pi && this.gj === A.ih.Hv)return k.Eb.empty();this.Ij=new k.mo();this.Di=new R.fxa(this.za,this.config,this.Ea,function(a){b.us(a);},"non-persisted");this.Di.Hmb();this.uMb(a).then(function(){b.Fh=E.stop;b.log.trace("Generating a secure stop challenge");return b.Of.remove();}).then(function(){return b.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(a){var c;c=b.Gi.Or(a);c.code=f.L.Xwa;c.vd=f.K.ei;c.message="Call to 'remove' on key session failed";b.log.error("Call to 'remove' on key session failed",{error:a});b.us(c);});return this.Ij;};c.prototype.GIa=function(a){a && a.constructor !== Uint8Array?this.us(a):a?0 === a.length?(this.log.error("The secure stop buffer is empty"),this.us(new T.Qe(f.L.Vwa,f.K.h9))):(this.log.trace("Secure stop is ready to apply"),this.g0a=a,this.Di.JQb(),this.JTa()):(this.log.error("The secure stop buffer is undefined"),this.us(new T.Qe(f.L.Vwa,f.K.j9)));};c.prototype.oJa=function(){var a;a=this;if(!this.g0a)return k.Eb.from([this]);this.log.trace("Setting the secure stop data");return k.Eb.create(function(b){a.Di.Imb();a.Of.update([a.g0a],D.bz.scb).then(function(){a.Di.SKa();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var h;a.Di.SKa();h=a.Gi.Or(c);h.code=f.L.k9;h.vd=f.K.ei;h.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:c});b.error(h);});});};c.prototype.ZJ=function(){return this.LNa;};c.prototype.Zjb=function(a){var b,c;b=this;c=this.Gi.Zja();return c?(c=this.Hr.decode(c),this.Gm.Ap(this.config.hJa,this.Of.tRb(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};c.prototype.pU=function(a){a && a !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + a),this.sessionId=a,this.log.Qea("sessionId",a));};c.prototype.POb=function(){var a;a=this;this.i_a || (this.i_a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.RA}),setTimeout(function(){a.TT();},this.config.RA.ca(m.ga)));};c.prototype.QDb=function(a){var b;return !(null === (b=this.context.Ks) || void 0 === b || !b.some(function(b){return b.lp === a && 1080 < b.U5.height;}));};c.prototype.LA=function(a,b){return b === f.L.paa?this.QDb(a)?this.config.BXa:this.config.AXa:! !b;};c.prototype.TT=function(){this.log.trace("Initiating a renewal request");this.gj=A.ih.$j;this.Fh=E.CF;this.Gi.oga()?this.Gi.oma(this.Of):this.d0();};c.prototype.d0=function(){var a,b;a=this;b=this.Gi.f2(A.ih.$j);this.Of.d0(this.Am,b,this.onMessage,this.ipa,this.jF).then(function(){a.log.debug("createSession(" + b + ")");a.pU(a.Of.lx());})["catch"](function(){a.mS(new T.Qe(f.L.mW));});};c.prototype.Mga=function(a){var b;b=this;return k.Eb.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};c.prototype.qla=function(a){return 0 === a.length || a.reduce(function(a,b){return a || 0 === b.length;},!1);};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(q.zb)),d.__param(1,l.l(h.Fd)),d.__param(2,l.l(u.Ki)),d.__param(3,l.l(v.Op)),d.__param(4,l.l(D.dxa)),d.__param(5,l.l(J.Mwa)),d.__param(6,l.l(I.Owa)),d.__param(7,l.l(r.ph)),d.__param(8,l.l(n.Xy))],a);b.hxa=a;},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.MNa=b.hr=void 0;(function(a){a[a.jUa=0]="licenseStarted";a[a.IZa=1]="receivedLicenseChallenge";a[a.HZa=2]="receivedLicense";a[a.JZa=3]="receivedRenewalChallengeComplete";a[a.KZa=4]="receivedRenewalLicenseComplete";a[a.LZa=5]="receivedRenewalLicenseFailed";a[a.JNb=6]="receivedIndivChallengeComplete";a[a.KNb=7]="receivedIndivLicenseComplete";a[a.AIa=8]="addLicenseComplete";a[a.EIa=9]="addRenewalLicenseComplete";a[a.FIa=10]="addRenewalLicenseFailed";})(a=b.hr || (b.hr={}));b.MNa=function(b){switch(b){case a.jUa:return "lg";case a.IZa:return "lc";case a.HZa:return "lr";case a.JZa:return "renew_lc";case a.KZa:return "renew_lr";case a.LZa:return "renew_lr_failed";case a.JNb:return "ilc";case a.KNb:return "ilr";case a.AIa:return "ld";case a.EIa:return "renew_ld";case a.FIa:return "renew_ld_failed";default:return "unknown";}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.x8=void 0;b.x8="ClockConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gaa=void 0;b.gaa="OneWayCounterFactorySymbol";},function(d,b,a){var l,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.h8=void 0;d=a(0);a=a(1);l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(a){for(var b=new Uint8Array(a.length / 2),c=0;c < b.length;c++){b[c]=this.c3a(a.substr(2 * c,2));}return b;};c.prototype.encode=function(a){var m,b;for(var b="",c=a.length,d=0;d < c;d++){m=a[d];b=b + (("0123456789ABCDEF")[m >>> 4] + ("0123456789ABCDEF")[m & 15]);}return b;};c.prototype.pR=function(a,b){var c;c="";for(b<<=1;b--;){c=(("0123456789ABCDEF")[a & 15] || "0") + c;a>>>=4;}return c;};c.prototype.c3a=function(a){var b;b=a.length;if(7 < b)throw Error("hex to long");for(var c=0,d=0;d < b;d++){c=16 * c + l[a[d]];}return c;};k=c;k=d.__decorate([a.O()],k);b.h8=k;},function(d,b,a){var l,k;function c(){this.Zo={};this.id="$es$" + l.Xz++;}Object.defineProperty(b,"__esModule",{value:!0});b.tj=void 0;d=a(0);a=a(1);c.prototype.addListener=function(a,b,c){var f,d;f="$netflix$player$order" + this.id + "$" + a;if(this.Zo){d=this.Zo[a]?this.Zo[a].slice():[];c && (b[f]=c);0 > d.indexOf(b) && (d.push(b),d.sort(function(a,b){return (a[f] || 0) - (b[f] || 0);}));this.Zo[a]=d;}};c.prototype.removeListener=function(a,b){if(this.Zo && this.Zo[a]){for(var c=this.Zo[a].slice(),f;0 <= (f=c.indexOf(b));){c.splice(f,1);}this.Zo[a]=c;}};c.prototype.dc=function(a,b,c){var f;if(this.Zo){f=this.gka(a);for(a={Ck:0};a.Ck < f.length;(a={Ck:a.Ck},a.Ck++)){c?(function(a){return function(){var c;c=f[a.Ck];setTimeout(function(){c(b);},0);};})(a)():f[a.Ck].call(this,b);}}};c.prototype.Tg=function(){this.Zo=void 0;};c.prototype.on=function(a,b,c){this.addListener(a,b,c);};c.prototype.gka=function(a){var b;return null !== (b=this.Zo && (this.Zo[a] || (this.Zo[a]=[]))) && void 0 !== b?b:[];};k=l=c;k.Xz=0;k=l=d.__decorate([a.O()],k);b.tj=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rba=void 0;b.Rba="StringUtilsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.C8=void 0;b.C8="CsvEncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gW=void 0;b.gW="DecoderTimeoutPathologistSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.X$=b.eab=void 0;b.eab=function(){};b.X$="MseConfigSymbol";},function(d,b,a){var l;function c(a){this.tfb=void 0 === a?!1:a;this.ue={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.rba=void 0;d=a(0);a=a(1);c.prototype.add=function(a,b){var c;b=void 0 === b?0:b;c=this.ue[b];c?this.tfb && -1 !== c.indexOf(a) || c.push(a):this.ue[b]=[a];};c.prototype.remove=function(a,b){this.jw(a,void 0 === b?0:b);};c.prototype.removeAll=function(a){this.jw(a);};c.prototype.ru=function(){var a;a=this;return Object.keys(this.ue).sort().reduce(function(b,c){return b.concat(a.ue[c]);},[]);};c.prototype.jw=function(a,b){Object.entries(this.ue).forEach(function(c){var f,d;f=N(c);c=f.next().value;f=f.next().value;if(void 0 === b || b === parseInt(c)){-1 < (d=f.indexOf(a)) && f.splice(d,1);}});};l=c;l=d.__decorate([a.O()],l);b.rba=l;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gca=void 0;b.gca="UrlFactorySymbol";},function(d,b,a){var l,k,m,f;function c(a,b,c,f,d,l,g){this.debug=a;this.config=b;this.platform=c;this.e4=f;this.debug.assert(d && d != k.L.Ul,"There should always be a specific error code");this.errorCode=d || k.L.Ul;l && m.zf(l)?(this.ka=l.ka || l.vd,this.Ne=l.Ne || l.Ug,this.Qia=l.Qia || l.CJ,this.Ab=l.Ab || l.bx,this.eE=l.Pia,this.LJ=l.LJ || l.jWa || l.Pu,this.W0=l.W0 || l.data,l.OS && (this.OS=l.OS),this.cj=l.cj,this.method=l.method,this.cT=l.cT,this.alert=l.alert,this.gfa=l.gfa,this.debug.assert(!this.cj || this.cj == this.Ne)):(this.ka=l,this.Ne=g);this.stack=[this.errorCode];this.ka?this.stack.push(this.ka):this.Ne && this.stack.push(k.K.Ul);this.Ne && this.stack.push(this.Ne);this.B0=this.platform.lE + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.nCa=void 0;l=a(12);k=a(2);m=a(26);f=a(15);a(23);c.prototype.toString=function(){var a;a="[PlayerError #" + this.B0 + "]";this.Ab && (a+=" " + this.Ab);this.eE && (a+=" (CustomMessage: " + this.eE + ")");return a;};c.prototype.cta=function(){var a,b;this.eE && (a=["streaming_error"]);a || this.e4.fs() !== l.lW || ("80080017" == this.Ne && (a=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Ne && (a=["pause_timeout"]));a || this.e4.fs() !== l.c9 || this.errorCode !== k.L.Swa && this.errorCode !== k.L.g9 || (a=["no_cdm","platform_error","plugin_error"]);this.LDb() && (a=["received_soad"]);b=this.xxb();b && (a=[b],this.eE=void 0);if(!a)switch(this.errorCode){case k.L.yX:case k.L.WW:case k.L.w5a:case k.L.fBa:a=["pause_timeout"];break;case k.L.Aya:case k.L.Bya:a=this.ka?["platform_error"]:["multiple_tabs"];break;case k.L.y$a:case k.L.ocb:case k.L.X9a:case k.L.W9a:case k.L.Z9a:a=["should_signout_and_signin"];break;case k.L.V9:case k.L.iBa:case k.L.hBa:case k.L.saa:case k.L.abb:a=["platform_error","plugin_error"];break;case k.L.lbb:a=["no_cdm","platform_error","plugin_error"];break;case k.L.qaa:a=this.ka?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case k.L.k9:case k.L.zX:case k.L.jBa:switch(this.Ne){case "FFFFD000":a=["device_needs_service","platform_error"];break;case "48444350":a=["unsupported_output","platform_error"];break;case "00000024":a=["private_mode"];}break;case k.L.gBa:case k.L.paa:a=["unsupported_output"];}!a && k.pxa(this.ka) && (a=this.ka == k.K.MN?["geo"]:["internet_connection_problem"]);a || this.errorCode !== k.L.g9 || this.ka !== k.K.ei || "S" !== this.platform.lE || (a=["private_mode"]);if(!a)switch(this.j2a(this.ka)){case k.K.mca:a=["should_upgrade"];break;case k.K.aBa:a=["should_reset_device"];break;case k.K.$Aa:a=["should_reload_device"];break;case k.K.ZAa:a=["should_exit_device"];break;case k.K.gab:case k.K.Lza:a=["should_signout_and_signin"];break;case k.K.hab:a=["internet_connection_problem"];break;case k.K.iwa:a=["platform_error","plugin_error"];break;case k.K.E8:case k.K.iya:case k.K.jya:a=["private_mode"];}a=a || [];a.push(this.platform.lE + this.errorCode);if(this.ka)switch(this.j2a(this.ka)){case k.K.bBa:a.push("incorrect_pin");break;default:a.push("" + this.ka);}a={display:{code:this.B0,text:this.eE},messageIdList:a,alert:this.alert,alertTag:this.gfa};if(this.LJ || this.jWa)a.mslErrorCode=this.LJ || this.jWa || this.Pu;return a;};c.prototype.j2a=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};c.prototype.LDb=function(){var a;a=f.qa(this.Ne)?this.Ne.toString():f.gf(this.Ne)?this.Ne:"";return this.LJ === k.kX.fca && (a.endsWith("2018") || a.endsWith("2020"));};c.prototype.xxb=function(){if(this.errorCode === k.L.ZW && (this.ka === k.K.kaa || this.ka === k.K.YAa))return this.yxb(this.ka === k.K.kaa);};c.prototype.yxb=function(a){var b,c,f,d;f=this.config().browserInfo || ({});d=null === (b=f.os) || void 0 === b?void 0:b.name;b=((null === (c=f.os) || void 0 === c?void 0:c.version) || "").split(".");c=parseInt(b && b[0]);b=parseInt(b && b[1]);switch(d){case "windows":return 6 > c || 6 === c && 1 > b?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > c || 10 === c && 10 > b?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.nCa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fX=void 0;b.fX="MediaElementHelpersSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.LG=void 0;b.LG="EventSourceFactorySymbol";},function(d,b,a){var l,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LG=b.sxa=void 0;d=a(0);l=a(326);a=a(1);c.prototype.create=function(){return new l.tj();};k=c;k=d.__decorate([a.O()],k);b.sxa=k;b.LG="EventSourceFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.M8=void 0;b.M8="DebouncerFactorySymbol";},function(d,b,a){var l;function c(a,b,c,d,q,u){this.level=a;this.kn=b;this.timestamp=c;this.message=d;this.fd=q;this.index=void 0 === u?0:u;this.u$a={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.r$=void 0;l=a(4);c.prototype.e7=function(a,b){var c;c="" + this.message;this.fd.forEach(function(f){c+=f.kG(a,b);});return (this.timestamp.ca(l.ga) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.u$a[this.level] || this.level) + "|" + this.kn + "| " + c;};b.r$=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iba=void 0;b.Iba="SegmentConfigFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.aba=void 0;b.aba="PlaybackFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kca=void 0;b.kca="VideoPlayerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ba=void 0;b.$ba="TransitionLoggerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.U8=void 0;b.U8="DiagnosticsFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aaa=void 0;b.Aaa="PboGenerateScreenshotsCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wba=void 0;b.Wba="ThroughputTrackerConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.v8=void 0;b.v8="CdnThroughputTracker";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.u9=void 0;b.u9="ExtraPlatformInfoProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.s8=void 0;b.s8="CapabilityDetectorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.c8=void 0;b.c8={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(d,b,a){var l,k,m;function c(a,b,c,d){this.config=a;this.Lu=b;this.I=c;this.Ku=d;this.moa={};this.moa[l.or.Audio]="audio";this.moa[l.or.VEa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.pN=void 0;l=a(29);d=a(105);k=a(351);m=new d.Zy().format;c.prototype.CRa=function(a){return this.Csb(this.fRa(a));};c.prototype.Pw=function(a){return this.Lu.isTypeSupported(a);};c.prototype.aQa=function(){return [k.Hf.FV,k.Hf.Pxa,k.Hf.NG];};c.prototype.mma=function(){this.Fm=[];this.Yu=[];this.config().FXa && this.Yu.push(k.Hf.Oxa);this.config().EXa && this.Yu.push(k.Hf.Mxa);this.config().DXa && this.Yu.push(k.Hf.gr);this.config().rT && this.Yu.push(k.Hf.zG);this.config().GXa && this.Yu.push(k.Hf.dz);this.config().CXa && this.Yu.push(k.Hf.sj);this.Yu=this.Yu.concat(this.aQa());!this.config().oub && this.Fm.push(k.Hf.xO);!this.config().Aia && this.Fm.push(k.Hf.f7a);!this.config().zia && this.Fm.push(k.Hf.g7a);!this.config().GJ && this.Fm.push(k.Hf.h7a);!this.config().dub && this.Fm.push(/prk$/);this.config().DXa || this.config().Rtb || this.Fm.push(k.Hf.gr);this.config().FXa || this.config().Ttb || this.Fm.push(k.Hf.Oxa);this.config().EXa || this.config().Cia || this.Fm.push(k.Hf.Mxa);this.config().rT || this.config().P0 || this.Fm.push(k.Hf.zG);this.config().GXa || this.config().mub || this.Fm.push(k.Hf.dz);this.config().CXa || this.config().Ntb || this.Fm.push(k.Hf.sj);!this.config().lub && this.Fm.push(k.Hf.tH);};c.prototype.POa=function(a){var b,c;b=this;c=a.map(function(a){for(var c=N(b.Yu),f=c.next();!f.done;f=c.next()){if(f.value.test(a))return Promise.resolve(!0);}c=N(b.Fm);for(f=c.next();!f.done;f=c.next()){if(f.value.test(a))return Promise.resolve(!1);}return b.PJ(a);});return Promise.all(c).then(function(b){return a.filter(function(a,c){return b[c];});});};c.prototype.PJ=function(a){return this.config().aub?this.Ku.PJ(a):this.xvb(a);};c.prototype.xvb=function(a){var b;a=this.oqa[a];b="";return a?(Array.isArray(a) && (b=1 < a.length?" " + a[1]:"",a=a[0]),a=m("{0}/mp4;codecs={1};{2}",this.moa[this.I],a,b),a=this.Pw(a),Promise.resolve(a)):Promise.resolve(!1);};c.prototype.Csb=function(a){var b;b={};this.mma();return this.POa(a).then(function(a){return a.map(function(a){return b[a]=1;});}).then(function(){return Object.keys(b);});};ma.Object.defineProperties(c.prototype,{oqa:{configurable:!0,enumerable:!0,get:function(){this.wHa || (this.wHa=this.ZD());return this.wHa;}}});b.pN=c;},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Hf=void 0;b.Hf=a;a.Oxa=/^hevc-main/;a.Mxa=/^hevc-hdr-|hevc-dv/;a.Ev=/^hevc-hdr-/;a.gr=/^hevc-dv/;a.NG=/-h264mpl/;a.AN=/-h264mpl30/;a.OG=/-h264mpl31/;a.zG=/-h264hpl/;a.dz=/^vp9-/;a.sj=/^av1-/;a.tH=/-L5[0-1]-/;a.FV=/^heaac-2-/;a.Pxa=/^heaac-2hq-dash/;a.xO=/^xheaac-dash/;a.f7a=/ddplus-2/;a.g7a=/ddplus-5/;a.h7a=/ddplus-atmos/;},function(d,b,a){var l,k,m,f,h;function c(a,b,c){c=k.pN.call(this,a,b,l.or.Audio,c) || this;c.config=a;c.Lu=b;c.type=l.Hy.hC;return c;}Object.defineProperty(b,"__esModule",{value:!0});b.hW=void 0;l=a(29);k=a(350);m=a(56);f=a(137);h=new (a(105).Zy)().format;L(c,k.pN);c.prototype.NU=function(){var a;a=h(c.qG,f.Gd.e7a);return Promise.resolve(this.config().GJ && this.Lu.isTypeSupported(a));};c.prototype.ZD=function(){var a;a={};a[m.kf.IN]="mp4a.40.2";a[m.kf.Nxa]="mp4a.40.2";a[m.kf.FW]="mp4a.40.5";a[m.kf.JN]="mp4a.40.2";a[m.kf.xO]="mp4a.40.42";this.config().Aia && (a[m.kf.qN]="ec-3");this.config().zia && (a[m.kf.YV]="ec-3");this.config().GJ && (a[m.kf.rN]="ec-3");return a;};c.prototype.fRa=function(a){return a || this.config().YP;};b.hW=c;c.qG="audio/mp4;codecs={0};";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.K$=void 0;b.K$="MediaCapabilitiesDetectorSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.M$=void 0;b.M$="MediaCapabilitiesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L$=void 0;b.L$="MediaCapabilitiesLogHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pba=void 0;b.pba="PresentationAPISymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.QN=void 0;b.QN="IndexedDBConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$X=void 0;b.$X="Storage";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.z8=void 0;b.z8="CorruptedStorageValidatorConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.n$=void 0;b.n$="LocalStorageSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.S$=void 0;b.S$="MemoryStorageSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.V8=void 0;b.V8="DiskStorageRegistrySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.m8=void 0;b.m8="BookmarkConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.l8=void 0;b.l8="BookmarkConfigParserSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.r8=void 0;b.r8="CDMAttestedDescriptorProvider";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.G$=void 0;b.G$="ManifestParserFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F$=void 0;b.F$="ManifestProviderConfigSymbol";},function(d){d.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(d,b,a){var c,l,k,m,f,h;b=a(54);c=a(370);l=a(743);k=a(368);m=a(220);f=a(748);h=a(373);a=b(c(["filter"],f,function(a,b){return k(b)?m(function(c,f){a(b[f]) && (c[f]=b[f]);return c;},{},h(b)):l(a,b);}));d.exports=a;},function(d,b,a){var c,l;c=a(371);l=a(742);d.exports=function(a,b,f){return function(){var d,q;if(0 === arguments.length)return f();d=Array.prototype.slice.call(arguments,0);q=d.pop();if(!c(q)){for(var m=0;m < a.length;){if("function" === typeof q[a[m]])return q[a[m]].apply(q,d);m+=1;}if(l(q))return b.apply(null,d)(q);}return f.apply(this,arguments);};};},function(d){d.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(d){d.exports={$a:function(){return this.EV["@@transducer/init"]();},result:function(b){return this.EV["@@transducer/result"](b);}};},function(d,b,a){var c,l,k,m,f;b=a(119);c=a(219);l=a(749);k=!({toString:null}).propertyIsEnumerable("toString");m=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");f=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || f?function(a){var b,d,h,v;if(Object(a) !== a)return [];h=[];d=f && l(a);for(b in a){!c(b,a) || d && "length" === b || (h[h.length]=b);}if(k)for(d=m.length - 1;0 <= d;){b=m[d];if(v=c(b,a)){a:{for(v=0;v < h.length;){if(h[v] === b){v=!0;break a;}v+=1;}v=!1;}v=!v;}v && (h[h.length]=b);--d;}return h;}:function(a){return Object(a) !== a?[]:Object.keys(a);});d.exports=a;},function(d){d.exports=function(b,a){for(var c=0,d=a.length,k=Array(d);c < d;){k[c]=b(a[c]);c+=1;}return k;};},function(d,b,a){var c,l,k;c=a(221);l=a(119);b=a(54);k=a(752);a=b(function(a,b){return 1 === a?l(b):c(a,k(a,[],b));});d.exports=a;},function(d,b){function a(a,b){this.log=a;this.OB=b;}Object.defineProperty(b,"__esModule",{value:!0});b.TN=void 0;a.prototype.l3a=function(a,b){var c,d;c=this;if(!a)return (this.log.warn("There are no media streams for " + b.type + " track - " + b.Xa),[]);d=a.map(function(a){var f;f=c.OB(b,b.type,a.mia,a.U,a.rb,a.size,c.Zxb(a.Ge),a.xQ,a.swb / a.rwb,a.Du);f.FRb(a.nPb,a.mPb,a.qYa,a.pYa);f.WQb(a.orb,a.prb,a.nrb,a.mrb,a.qYa,a.pYa);b.nl && (f.nl=b.nl);a.xQ && (f.vg=a.xQ);return f;});d.sort(function(a,b){return a.U - b.U;});d.forEach(function(a,b){a.lower=d[b - 1];a.GBb=d[b + 1];});return d;};a.prototype.Zxb=function(a){return a.reduce(function(a,b){a[b.UKa]=b.url;return a;},{});};b.TN=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fba=void 0;b.fba="PlayerTextTrackFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.bca=void 0;b.bca="TrickPlayFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.I$=void 0;b.I$="ManifestVerifyErrorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.H$=void 0;b.H$="ManifestTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Caa=b.Daa=void 0;b.Daa="PboLinksManagerSymbol";b.Caa="PboLinksManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.D$=void 0;b.D$="ManifestEnricherSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(771),b);d.__exportStar(a(772),b);d.__exportStar(a(773),b);d.__exportStar(a(774),b);d.__exportStar(a(775),b);d.__exportStar(a(776),b);d.__exportStar(a(777),b);d.__exportStar(a(778),b);d.__exportStar(a(779),b);d.__exportStar(a(780),b);d.__exportStar(a(781),b);d.__exportStar(a(782),b);d.__exportStar(a(786),b);d.__exportStar(a(384),b);d.__exportStar(a(787),b);d.__exportStar(a(225),b);d.__exportStar(a(788),b);d.__exportStar(a(789),b);d.__exportStar(a(790),b);d.__exportStar(a(791),b);d.__exportStar(a(792),b);d.__exportStar(a(793),b);d.__exportStar(a(794),b);d.__exportStar(a(795),b);d.__exportStar(a(796),b);d.__exportStar(a(797),b);d.__exportStar(a(798),b);d.__exportStar(a(799),b);d.__exportStar(a(800),b);d.__exportStar(a(801),b);d.__exportStar(a(802),b);d.__exportStar(a(803),b);d.__exportStar(a(804),b);d.__exportStar(a(812),b);d.__exportStar(a(814),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.nTb=void 0;b.nTb=function(a){var b,d,k;return "IStreamable: " + a.W + " [" + a.I + "] " + ("p:" + JSON.stringify(a.Mn) + " ") + ("b:" + a.ug + " pc:" + (null === (b=a.ay) || void 0 === b?void 0:b.da) + " ") + ("s:" + (null === (d=a.Yn) || void 0 === d?void 0:d.da) + " c:" + (null === (k=a.le) || void 0 === k?void 0:k.da));};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pfa=void 0;b.pfa=function(a,b,d){var c,m;c=!0;d.forEach(function(f){var d;if(c && a === f.profile){d=f.ranges;c=void 0 === d?b >= f.min && b <= f.max:d.some(function(a){return b >= a.min && b <= a.max;});!c && f.disallowed && f.disallowed.some(function(a){if(a.stream.bitrate === b)return (m=a.disallowedBy,!0);});}});return {inRange:c,A0:m};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.AC=void 0;b.AC={ol:function(a){return a;}};},function(d){function b(){}function a(a){this.eIa=a;this.ro=[];this.Mf=null;}b.prototype.clear=function(){this.ue=null;this.size=0;};b.prototype.find=function(a){var c;for(var b=this.ue;null !== b;){c=this.Yl(a,b.data);if(0 === c)return b.data;b=b.zg(0 < c);}return null;};b.prototype.lowerBound=function(a){var f;for(var b=this.ue,c=this.iterator(),d=this.Yl;null !== b;){f=d(a,b.data);if(0 === f)return (c.Mf=b,c);c.ro.push(b);b=b.zg(0 < f);}for(f=c.ro.length - 1;0 <= f;--f){if((b=c.ro[f],0 > d(a,b.data)))return (c.Mf=b,c.ro.length=f,c);}c.ro.length=0;return c;};b.prototype.upperBound=function(a){for(var b=this.lowerBound(a),c=this.Yl;null !== b.data() && 0 === c(b.data(),a);){b.next();}return b;};b.prototype.min=function(){var a;a=this.ue;if(null === a)return null;for(;null !== a.left;){a=a.left;}return a.data;};b.prototype.max=function(){var a;a=this.ue;if(null === a)return null;for(;null !== a.right;){a=a.right;}return a.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.me=function(a){for(var b=this.iterator(),c;null !== (c=b.next());){a(c);}};a.prototype.data=function(){return null !== this.Mf?this.Mf.data:null;};a.prototype.next=function(){var a;if(null === this.Mf){a=this.eIa.ue;null !== a && this.ZGa(a);}else if(null === this.Mf.right){do {if((a=this.Mf,this.ro.length))this.Mf=this.ro.pop();else {this.Mf=null;break;}}while(this.Mf.right === a);}else (this.ro.push(this.Mf),this.ZGa(this.Mf.right));return null !== this.Mf?this.Mf.data:null;};a.prototype.vF=function(){var a;if(null === this.Mf){a=this.eIa.ue;null !== a && this.XGa(a);}else if(null === this.Mf.left){do {if((a=this.Mf,this.ro.length))this.Mf=this.ro.pop();else {this.Mf=null;break;}}while(this.Mf.left === a);}else (this.ro.push(this.Mf),this.XGa(this.Mf.left));return null !== this.Mf?this.Mf.data:null;};a.prototype.ZGa=function(a){for(;null !== a.left;){this.ro.push(a);a=a.left;}this.Mf=a;};a.prototype.XGa=function(a){for(;null !== a.right;){this.ro.push(a);a=a.right;}this.Mf=a;};d.exports=b;},function(d){function b(a){this.Mda=a;this.rf=[];this.aq=!1;this.sD=void 0;this.Wi={};}b.prototype.b_=function(a){this.rf.length === this.Mda && this.rf.shift();Array.isArray(a)?this.rf=this.rf.concat(a):this.rf.push(a);this.aq=!0;};b.prototype.dK=function(){return this.rf.length;};b.prototype.kga=function(){var a;a=this.rf;return 0 < a.length?a.reduce(function(a,b){return a + b;},0) / this.rf.length:void 0;};b.prototype.H_=function(){var a,b;a=this.rf;if(0 < a.length){b=this.kga();a=a.reduce(function(a,b){return a + b * b;},0) / a.length;return Math.sqrt(a - b * b);}};b.prototype.Kr=function(a){var b,d,k;if(this.aq || void 0 === this.sD)(this.sD=this.rf.slice(0).sort(function(a,b){return a - b;}),this.Wi={},this.aq=!1);if(void 0 === this.Wi[a]){b=this.sD;d=Math.floor(a / 100 * (b.length - 1) + 1) - 1;k=(a / 100 * (b.length - 1) + 1) % 1;this.Wi[a]=d === b.length - 1?b[d]:b[d] + k * (b[d + 1] - b[d]);}return this.Wi[a];};d.exports=b;},function(d,b,a){d.exports={u5b:a(390),N8b:a(230),EYb:a(846),DYb:a(391),FYb:a(392),Cxa:a(849)};},function(d,b,a){var m;function c(a){this.reset();this.lRb(a);}function l(a){this.setInterval(a);this.reset();}function k(a){this.jz=new l(a);this.ke=0;this.bc=null;}m=a(8);c.prototype.lRb=function(a){this.AH=Math.pow(.5,1 / a);this.SO=a;};c.prototype.reset=function(a){a && a.Ca && m.qa(a.Ca)?a.di && m.qa(a.di)?(this.Ot=this.kfb,this.so=a.Ca,this.fz=a.di + a.Ca * a.Ca):(this.Ot=this.kfb,this.so=a.Ca,this.fz=a.Ca * a.Ca):this.fz=this.so=this.Ot=0;};c.prototype.add=function(a){var b;if(m.qa(a)){this.Ot++;b=this.AH;this.so=b * this.so + (1 - b) * a;this.fz=b * this.fz + (1 - b) * a * a;}};c.prototype.get=function(){var a,b,c;if(0 === this.Ot)return {Ca:0,di:0};a=this.so;b=this.fz;c=1 - Math.pow(this.AH,this.Ot);a=a / c;b=b / c;c=a * a;return {Ca:Math.floor(a),di:Math.floor(b > c?b - c:0)};};c.prototype.rd=function(){return 0 === this.Ot?null:{a:Number(this.so.toPrecision(6)),s:Number(this.fz.toPrecision(6)),n:this.Ot};};c.prototype.re=function(a){if(m.ab(a) || !m.has(a,"a") || !m.has(a,"s") || !m.isFinite(a.a) || !m.isFinite(a.s))return (this.fz=this.so=this.Ot=0,!1);this.so=a.a;this.fz=a.s;m.has(a,"n") && m.qa(a.n)?this.Ot=a.n:this.Ot=16 * this.SO;return !0;};l.prototype.setInterval=function(a){this.SO=a;this.AH=-Math.log(.5) / a;};l.prototype.reset=function(a){this.eb=this.ve=null;a && m.isFinite(a.Ca)?this.so=a.Ca:this.so=0;};l.prototype.start=function(a){m.ab(this.ve) && (this.eb=this.ve=a);};l.prototype.add=function(a,b,c){var f,d;m.ab(this.ve) && (this.eb=this.ve=b);this.ve=Math.min(this.ve,b);b=Math.max(c - b,1);f=this.AH;d=c > this.eb?c:this.eb;this.so=this.so * (d > this.eb?Math.exp(-f * (d - this.eb)):1) + 8 * a / b * (1 - Math.exp(-f * b)) * (c > d?Math.exp(-f * (d - c)):1);this.eb=d;};l.prototype.get=function(a){var b;a=Math.max(a,this.eb);b=this.so * Math.exp(-this.AH * (a - this.eb));a=1 - Math.exp(-this.AH * (a - this.ve));0 < a && (b/=a);return {Ca:Math.floor(b)};};l.prototype.toString=function(){return "ewmav(" + this.SO + ")";};k.prototype.setInterval=function(a){this.jz.setInterval(a);};k.prototype.reset=function(a){this.jz.reset(a);this.ke=0;this.bc=null;};k.prototype.start=function(a){!m.ab(this.bc) && a > this.bc && (this.ke+=a - this.bc,this.bc=null);this.jz.start(a - this.ke);};k.prototype.add=function(a,b,c){!m.ab(this.bc) && c > this.bc && (this.ke+=b > this.bc?b - this.bc:0,this.bc=null);this.jz.add(a,b - this.ke,c - this.ke);};k.prototype.stop=function(a){this.bc=Math.max(m.ab(this.jz.eb)?0:this.jz.eb + this.ke,m.ab(this.bc)?a:Math.min(this.bc,a));};k.prototype.get=function(a){return this.jz.get((m.ab(this.bc)?a:this.bc) - this.ke);};k.prototype.toString=function(){return this.jz.toString();};d.exports={j8a:c,WYb:l,h8a:k};},function(d,b,a){var l,k;function c(a,b,c,d){l.call(this,c,d);this.Tt=new k(a);this.Qfb=b;}l=a(141);k=a(388);c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var a;a=this.Vu(0);l.prototype.shift.call(this);null !== a && this.Tt.b_(a);return a;};c.prototype.flush=function(){var a;a=this.get();this.Tt.b_(a);l.prototype.reset.call(this);return a;};c.prototype.get=function(){var a;a=this.GR();return {WL:this.dK(),f5:a,gT:a.kj?(a.Kk - a.Jk) / a.kj:void 0};};c.prototype.dK=function(){return this.Tt.dK();};c.prototype.GR=function(){return this.Tt.dK() < this.Qfb?{Jk:void 0,kj:void 0,Kk:void 0,WL:void 0,si:void 0}:{Jk:this.Tt.Kr(25),kj:this.Tt.Kr(50),Kk:this.Tt.Kr(75),WL:this.Tt.dK(),si:this.Tt.Kr.bind(this.Tt)};};c.prototype.toString=function(){return "biqr(" + this.EI + "," + this.dd + "," + this.Yi + ")";};d.exports=c;},function(d,b,a){var l,k;function c(a){this.H={JS:a.maxc || 25,Yga:a.c || .5,AXb:a.w || 15E3,Jw:a.b || 5E3};l.call(this,this.H.AXb,this.H.Jw);this.vP();}l=a(141);k=a(228).TDigest;c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var a;a=this.Vu(0);l.prototype.shift.call(this);null !== a && (this.xe.push(a,1),this.aq=!0);return a;};c.prototype.flush=function(){var a;a=this.get();this.xe.push(a,1);this.aq=!0;l.prototype.reset.call(this);return a;};c.prototype.get=function(){return this.ERa();};c.prototype.ox=function(){var a;a=this.ERa();return {min:a.min,p10:a.V4,p25:a.Jk,p50:a.kj,p75:a.Kk,p90:a.W4,max:a.max,centroidSize:a.Mmb,sampleSize:a.WL,centroids:a.Uh};};c.prototype.ERa=function(){var a;if(0 === this.xe.size())return null;a=this.xe.si([0,.1,.25,.5,.75,.9,1]);if(a[2] === a[4])return null;if(this.aq || !this.Ke)(this.aq=!1,this.Ke={min:a[0],V4:a[1],Jk:a[2],kj:a[3],Kk:a[4],W4:a[5],max:a[6],si:this.xe.si.bind(this.xe),Mmb:this.xe.size(),WL:this.xe.n,Uh:this.Axb(),ox:this.ox.bind(this)});return this.Ke;};c.prototype.Axb=function(){var a;if(0 === this.xe.size())return null;if(!this.aq && this.Ke)return this.Ke.centroids;a=this.xe.si([.25,.75]);if(a[0] === a[1])return null;this.xe.size() > this.H.JS && this.xe.Vw();a=this.xe.bo(!1).map(function(a){return {mean:a.Bf,n:a.n};});return JSON.stringify(a);};c.prototype.ARa=function(){return this.xe.summary();};c.prototype.size=function(){return this.xe.size();};c.prototype.toString=function(){return "btdtput(" + this.EI + "," + this.dd + "," + this.Yi + "): " + this.xe.summary();};c.prototype.vP=function(){this.xe=new k(this.H.Yga,this.H.JS);};d.exports=c;},function(d,b,a){var l,k;function c(a){this.H={JS:a.maxc || 25,Yga:a.c || .5,LNb:a.rc || "none",VAb:a.hl || 7200};this.vP();this.qhb=this.H.LNb;this.SO=this.H.VAb;this.Dca=Math.exp(Math.log(2) / this.SO);this.Dca=Math.max(this.Dca,1);this.FY=1;}l=a(8);k=a(228).TDigest;new (a(3)["default"].Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.rd=function(){var a;if(0 === this.xe.size())return null;a=this.xe.si([.25,.75]);if(a[0] === a[1])return null;this.xe.size() > this.H.JS && this.xe.Vw();a=this.xe.bo(!1).reduce((function(a,b){l.qa(b.Bf) && l.qa(b.n) && a.push({mean:b.Bf,n:b.n / this.FY});return a;}).bind(this),[]);return {tdigest:JSON.stringify(a)};};c.prototype.re=function(a){var b;if(l.ab(a) || !l.has(a,"tdigest") || !l.gf(a.tdigest))return !1;try{b=JSON.parse(a.tdigest);}catch(h){return !1;}b.forEach(function(a){l.isFinite(a.n) || (a.n=1);});a=b.map(function(a){return {Bf:a.mean,n:a.n};});this.FY=1;this.xe.sqa(a);void 0 === this.xe.si(0) && this.vP();};c.prototype.get=function(){var a,b;a=this.xe;b=a.si([0,.1,.25,.5,.75,.9,1]);return {min:b[0],V4:b[1],Jk:b[2],kj:b[3],Kk:b[4],W4:b[5],max:b[6],Uh:a.bo(!1)};};c.uzb=function(a){var b;b=new c({});l.ab(a) || l.Y(a) || !l.isArray(a.Uh) || (b.xe.sqa(a.Uh),void 0 === b.xe.si(0) && b.vP());a=b.xe.si([.25,.75]);return a[0] === a[1]?null:function(a){return b.xe.si(a);};};c.prototype.add=function(a){var b;b=1;"ewma" === this.qhb && (this.FY=b=this.FY * this.Dca);this.xe.push(a,b);};c.prototype.toString=function(){return "TDigestHist(" + this.xe.summary() + ")";};c.prototype.vP=function(){this.xe=new k(this.H.Yga,this.H.JS);};d.exports={rEa:c};},function(d){(function(){var k00;k00=2;function b(){var l00;l00=2;for(;l00 !== 5;){switch(l00){case 2:this.wz=this.yc=0;this.eb=this.ve=void 0;l00=5;break;}}}for(;k00 !== 8;){switch(k00){case 2:var L9b="1SIY";L9b+="bZ";L9b+="rNJC";L9b+="p9";b.prototype.start=function(a){var m00;m00=2;for(;m00 !== 1;){switch(m00){case 2:this.ve?a < this.ve?(this.wz+=this.ve - a,this.ve=a):a > this.eb && (this.eb=this.ve=a):this.eb=this.ve=a;m00=1;break;}}};b.prototype.stop=function(a){var n00;n00=2;for(;n00 !== 1;){switch(n00){case 2:this.eb && a > this.eb && (this.wz+=a - this.eb,this.eb=a);n00=1;break;}}};b.prototype.add=function(a,b,d){var o00;o00=2;for(;o00 !== 4;){switch(o00){case 2:this.start(b);this.stop(d);this.yc+=a;o00=4;break;}}};b.prototype.get=function(){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:return {Ca:this.wz?Math.floor(8 * this.yc / this.wz):null,E0:this.wz?this.wz:0};break;}}};d.exports=b;L9b;k00=8;break;}}})();},function(d,b,a){var c,l,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.bya=b.UW=void 0;c=a(0);l=c.__importStar(a(8));k=c.__importDefault(a(3));m=a(859);f=a(860);h=(function(){return function(){this.SI=new f.dO(100);this.B4=new f.dO(100);};})();d=(function(){function a(a,b,c){var f,d,h;this.H=b;this.G=c;this.AZ=a;f=this.qD=this.EH=this.DH=0;d=0;h=0;this.AZ.length >= this.H.o4 && (this.AZ.forEach(function(a){!(a=a.get().fwb) || l.Y(a.avtp) || l.Y(a.neuhd) || (f+=a.avtp,d+=1 * a.neuhd,h++);}),this.qD=h,this.DH=f / h,this.EH=d / h);}Object.defineProperties(a.prototype,{XJa:{get:function(){return this.DH;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{YJa:{get:function(){return this.EH;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{NQb:{get:function(){return this.qD;},enumerable:!1,configurable:!0}});a.prototype.k3=function(){return this.qD >= this.H.o4 && this.DH >= this.H.baselineHighAndStableThreshold.bwThreshold && this.EH < this.H.baselineHighAndStableThreshold.nethreshold;};return a;})();b.UW=d;d=(function(a){function b(b,c,f){b=a.call(this,b,c,f) || this;b.pca=[];b.kvb={};b.D2a=[];b.Yw=new h();b.AZ.length >= b.H.o4 && (b.kIa("avtp",b.Yw.SI),b.kIa("neuhd",b.Yw.B4));return b;}c.__extends(b,a);b.prototype.k3=function(){var a;this.tzb();a=new m.zza(this.G,this.D2a,this.plb);a.$pa(this.pca);a=a.tnb(this.H.D2.h8b);return this.AWb && 1 === a && this.qD >= this.H.o4;};b.prototype.zR=function(){var a,b,c,f;a={};b=k["default"].time.now();c=new Date(b);f=c.getHours();a.currentMonoTime=b;a.currentTime=c.getTime();a.currentHour=f;return a;};b.prototype.eQa=function(a,b,c){a="avtp" === a?this.DH:this.EH;for(var f=b.H_(),d=0,h="skew" === c?3:4,q=0;q < b.rf.length;q++){l.Y(a) || l.Y(f) || (d+=Math.pow(b.rf[q] - a,h));}d/=b.rf.length;return !l.Y(f) && 0 < f?d / Math.pow(f,h) - 3 * ("skew" === c?0:1):NaN;};b.prototype.qQa=function(a,b,c){var f;f=0;"lte" === c?f=a.reduce(function(a,c){return c <= b?a + 1:a;},0) / (1 * a.length):"gte" === c && (f=a.reduce(function(a,c){return c >= b?a + 1:a;},0) / (1 * a.length));return f;};b.prototype.ezb=function(a){var b,c;b=a.Kr(25);c=a.Kr(50);a=a.Kr(75);return l.Y(b) || l.Y(c) || l.Y(a)?NaN:0 < c?(a - b) / c:NaN;};b.prototype.rxb=function(a,b){a="avtp" === a?this.DH:this.EH;b=b.H_();return !l.Y(b) && !l.Y(a) && (0 < b || 0 < a) && 0 < a?(a - b) / (a + b):NaN;};b.prototype.GR=function(a,b){a=a.Kr(b);return l.Y(a)?NaN:a;};b.prototype.normalize=function(a,b,c){return !isNaN(a) && 0 < c?(a - b) / c:NaN;};b.prototype.tzb=function(){var a,b,c,f,d,h,q,m,k,u,g,n;a=this;b=this.H.D2.KUa.M6b;c=this.H.D2.KUa.K6b;f=this.H.D2.KUa.L6b;m=[];n=0;this.AWb=!Object.keys(b).some(function(r){var v;g=NaN;if(!(b.hasOwnProperty(r) && c.hasOwnProperty(r) && f.hasOwnProperty(r) && !l.Y(a.Yw) && a.Yw.SI && a.Yw.B4) || 1 > a.qD || "number" !== typeof b[r] || "number" !== typeof c[r] || "number" !== typeof f[r])return !0;d=b[r];h=c[r];q=f[r];m=r.split("_",2);k=m[0];u=m[1];switch(k){case "avtp":v=a.Yw.SI;break;case "neuhd":v=a.Yw.B4;break;default:v=void 0;}if("avtp" === k || "neuhd" === k){if(v)switch(u){case "last":g=v.rf[a.qD - 1];break;case "mean":g="avtp" === k?a.DH:a.EH;break;case "niqr":g=a.ezb(v);break;case "skew":g=a.eQa(k,v,"skew");break;case "kurtosis":g=a.eQa(k,v,"kurtosis");break;case "std":g=v.H_();break;case "b":g=a.rxb(k,v);break;default:-1 !== r.search("[p][1-9]?[1-9]") && (g=a.GR(v,Number(r.split("_p",2)[1])));}}else switch(r){case "fracAbove20Mbps":v=a.Yw.SI;g=l.Y(v)?NaN:a.qQa(v.rf,2E4,"gte");break;case "fracBelow20p":v=a.Yw.B4;g=l.Y(v)?NaN:a.qQa(v.rf,.15,"lte");break;case "hour_current":g=a.zR().currentHour;break;case "session_ct":g=a.qD;break;case "intercept":(g=d,a.plb=g);}g=a.normalize(g,h,q);if(isNaN(g))return !0;"intercept" !== r && (a.pca.push(g),a.D2a.push(d),a.kvb[r]=n,n+=1);});};b.prototype.kIa=function(a,b){this.AZ.forEach(function(c){c=c.get().fwb;!c || "avtp" !== a && "neuhd" !== a || l.Y(c[a]) || b.b_(Number(c[a]));});};return b;})(d);b.bya=d;},function(d,b,a){var l,k,m,f;function c(a){return function(){for(var b=Array(this.length),c=0;c < this.length;++c){b[c]=a.call(this,c);}return b;};}Object.defineProperty(b,"__esModule",{value:!0});b.gkb=b.DS=b.Zba=b.DEa=void 0;d=a(0);l=a(5);d=d.__importDefault(a(3));k=a(21);m=new d["default"].Console("FRAGMENTS","media|asejs");f=(function(){function a(a,b){this.Dc=a;this.wj=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.wj;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xh:{get:function(){return new k.S(this.Za,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Za:{get:function(){return this.Dc.FZ + this.Dc.Az[this.wj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xb:{get:function(){return this.Za + this.Dc.Up[this.wj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oq:{get:function(){return this.Dc.Up[this.wj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wa:{get:function(){return this.Dc.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Dc.R;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return Math.floor(1E3 * this.Za / this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return Math.floor(1E3 * (this.Za + this.oq) / this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.sa - this.X;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return {startPts:1E3 * this.Za / this.wa.R,endPts:1E3 * this.xb / this.wa.R,duration:1E3 * this.oq / this.wa.R,index:this.index};};return a;})();b.DEa=f;a=(function(){function a(a,b,c,f){this.I=a;this.length=c.Yd.length;this.gl=c.R;this.Up=c.Yd;this.d_=f && f.DL;this.NIa=f && f.VL;this.ZH=b;this.wta=this.xta=this.TGa=void 0;this.FZ=c.Sk;this.Az=new Uint32Array(this.length + 1);if(this.length){for(b=a=0;b < this.length;++b){this.Az[b]=a;a+=this.Up[b];}this.Az[b]=a;this.Cca=Math.floor((this.sa - this.X) / this.length);}}Object.defineProperties(a.prototype,{Sk:{get:function(){return this.R1a(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Iia:{get:function(){return this.R1a(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.oj(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return this.oj(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Yr:{get:function(){return new k.S(this.Iia,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vna:{get:function(){return this.TGa || this.Idb();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wa:{get:function(){return this.ZH;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.gl;},enumerable:!1,configurable:!0}});a.prototype.R1a=function(a){return this.FZ + this.Az[a];};a.prototype.oj=function(a){return Math.floor(1E3 * (this.FZ + this.Az[a]) / this.R);};a.prototype.Jia=function(a){return this.oj(a + 1);};a.prototype.Yd=function(a){return this.Jia(a) - this.oj(a);};a.prototype.get=function(a){return new f(this,a);};a.prototype.qm=function(a,b,c){if(0 === this.length || a < this.oj(0))return -1;a=Math.max(a,b || 0);for(var f=0,d=this.length - 1,h,q;d >= f;){if((h=f + (d - f >> 1),q=this.oj(h),a < q))d=h - 1;else if(a >= q + this.Yd(h))f=h + 1;else {for(;b && h < this.length && this.oj(h) < b;){++h;}return h < this.length?h:c?this.length - 1:-1;}}return c?this.length - 1:-1;};a.prototype.i1=function(a,b,c){a=this.qm(a,b,c);return 0 <= a?this.get(a):void 0;};a.prototype.mha=function(a,b){var c,f;c=Math.floor(b * this.R / 1E3);b=Math.min(a + Math.ceil(b / this.Cca),this.length);f=this.Az[b] - this.Az[a];if(f > c){for(;f >= c;){--b;f-=this.Up[b];}return b - a + 1;}for(;f < c && b <= this.length;){f+=this.Up[b];++b;}return b - a;};a.prototype.subarray=function(b,c){l.assert(void 0 === b || 0 <= b && b < this.length);l.assert(void 0 === c || c > b && c <= this.length);return new a(this.I,this.wa,{R:this.R,Sk:this.FZ + this.Az[b],Yd:this.Up.subarray(b,c)},this.d_ && ({DL:this.d_.subarray(b,c + 1),VL:this.NIa}));};a.prototype.forEach=function(a){for(var b=0;b < this.length;++b){a(this.get(b),b,this);}};a.prototype.map=function(a){for(var b=[],c=0;c < this.length;++c){b.push(a(this.get(c),c,this));}return b;};a.prototype.reduce=function(a,b){for(var c=0;c < this.length;++c){b=a(b,this.get(c),c,this);}return b;};a.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Cca};};a.prototype.dump=function(){var b;m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Cca + "ms");for(var a=0;a < this.length;++a){b=this.get(a);m.trace("TrackFragments: " + a + ": [" + b.X + "-" + b.sa + "]");}};a.prototype.Idb=function(){for(var a=0,b=0;b < this.length;b++){a=Math.max(this.Up[b],a);}return this.TGa=a;};return a;})();b.Zba=a;b.DS=c;a.prototype.Q1a=c(a.prototype.oj);b.gkb=function(a){return "[" + Array(a.length).map(function(b,c){return a[c].toString();}).join(",") + "]";};},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Oua=void 0;c=a(865);l=a(21);a(5);k=a(70);d=(function(){function a(a,b,c){this.H=b;this.G=c;this.uh=a.track;this.fib=a.Xf;this.Lx=a.Lx;this.qfb=-1 === this.profile.indexOf("none");this.aI=this.La=void 0;b=a.Cu;this.Cu=void 0 === b?!0:b;this.A0=a.A0;this.YH=void 0;this.VGa=this.Lf=0;this.url=this.NF=this.Nc=this.Vq=this.tna=this.location=this.Ka=this.ib=void 0;this.FA=!1;this.Nma=this.Be=void 0;a=this.H && "object" === typeof this.H.dZa && this.H.dZa[this.profile];"object" === typeof a && (a=a[this.U]) && (this.oP=new l.S(a.ticks,a.timescale));}Object.defineProperties(a.prototype,{pe:{get:function(){return ! !this.La;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{N:{get:function(){return this.uh.N;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fa:{get:function(){return this.N.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.uh.u;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{I:{get:function(){return this.uh.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wa:{get:function(){return this.uh.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.uh.R;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fL:{get:function(){return this.uh.fL;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xa:{get:function(){return this.uh.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.uh;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xf:{get:function(){return this.fib;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Da:{get:function(){return this.Lx.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.Da;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Du:{get:function(){return this.qfb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.Lx.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rb:{get:function(){return this.Lx.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qPb:{get:function(){return this.Lx.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{V5:{get:function(){return this.Lx.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Lx.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vg:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ws:{get:function(){return this.Lx.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Bd:{get:function(){return this.oP;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.La;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{W3:{get:function(){return this.La && this.La.W3;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ija:{get:function(){return this.uh.Ija;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hja:{get:function(){return this.uh.Hja;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pu:{get:function(){return void 0 !== this.YH?this.YH:this.NDb();},set:function(a){this.YH=a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ss:{get:function(){return this.Cu && !this.FA;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ch:{get:function(){return this.aI;},enumerable:!1,configurable:!0}});a.prototype.Jj=function(){return this.N.Jj(this.I,this.Da);};a.prototype.U1=function(){var a;a=this.Jj();return a && a.stream.$;};a.prototype.oG=function(a){return this.N.oG(this,a);};a.prototype.hpa=function(){this.track.hpa();};a.prototype.Q4=function(a,b,d,m,r,k,l){m && void 0 !== m.Sk && (this.track.pe || void 0 !== m.Yd && m.Yd.length) && void 0 !== m.offset && void 0 !== m.sizes && m.sizes.length?(this.H.$i && this.Bd && 0 === m.Sk && (m.Sk+=this.Bd.Fe(m.R).ub),this.aI=a,this.pe || (this.track.Q4(this,b,d,m,k),this.La=new c.bEa(this.track.Om,m,r,k,l,this.u),this.track.wJb(this))):m?this.G.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== m.Sk) + "," + this.track.pe + "," + this.track.ria + "," + (void 0 !== m.Yd) + "," + !(!m.Yd || !m.Yd.length) + "," + (void 0 !== m.offset) + "," + (void 0 !== m.sizes) + "," + !(!m.sizes || !m.sizes.length)):this.G.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};a.prototype.a0=function(a){this.pe || (this.track.wob(a.track),this.La=a.$,this.aI=a.Ch);};a.prototype.ej=function(a){return new k.Kh(this,this.$.get(a));};a.prototype.pQa=function(a){var b;b=this.ej(a.index);a.xa && (b.bi(a.xa),b.vU(a.Xs));return b;};a.prototype.N3a=function(a,b){this.Lf=a;this.VGa=b;};a.prototype.ynb=function(){this.Ka=this.ib=this.Nc=this.location=this.url=void 0;};a.prototype.toJSON=function(){return {movieId:this.u,mediaType:this.I,streamId:this.Da,bitrate:this.U,streamIndex:this.Xf,isAvailable:this.Cu,fittable:this.pu,vmaf:this.rb,resolutionWidth:this.qPb,resolutionHeight:this.V5};};a.prototype.toString=function(){return (0 === this.I?"a":"v") + ":" + this.Da + ":" + this.U;};a.prototype.NDb=function(){var a,b,c,d,r;if(!this.pe)return !0;if(this.track.Fla >= this.U)return this.YH=!0;if(this.track.IUa <= this.U)return this.YH=!1;r=this.La.dmb(this.H.WS,this.Lf,null !== (b=null === (a=this.N) || void 0 === a?void 0:a.EB.da) && void 0 !== b?b:0,null !== (d=null === (c=this.N) || void 0 === c?void 0:c.EB.ba) && void 0 !== d?d:0,this.VGa);if(r){if(!this.track.ria || this.Du)this.track.Fla=this.U;}else this.track.IUa=this.U;return this.YH=r;};return a;})();b.Oua=d;},function(d){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,b,d){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),d * a.byteLength / a.length);}:function(a,b,d){a.set(b,d);};d.exports={from:function(a,b,d,k){a=new a(b.length);for(var c="function" === typeof d,f=0;f < b.length;++f){a[f]=c?d.call(k,b[f],f,b):b[f];}return a;},set:b};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){var b;b=null !== a && a.apply(this,arguments) || this;b.y1=1536;return b;}c.__extends(b,a);b.Ic=!0;return b;})(a(169)["default"]);b["default"]=d;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.af="ac-3";return b;})(d);b.f5a=a;d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.af="ec-3";return b;})(d);b.q8a=d;},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(95);d=a(28);k=l.$$;d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.mg();this.fileSize=this.M.Sj();this.R=this.M.Sj();this.duration=this.M.Sj(!1,!0);this.cJb=this.M.Sj();this.M.Sj();this.gJb=this.M.Sj();this.lIb=this.M.Ub();this.dJb=this.M.Sj();this.awb=this.M.Ub();this.M.H5();this.Ok={moof:{offset:this.cJb},sidx:{offset:this.dJb,size:this.awb}};this.Ok[l.CAa]={offset:this.gJb,size:this.lIb};this.M.offset - this.startOffset <= this.length - 24 && (this.fJb=this.M.Sj(),this.$Hb=this.M.Ub(),this.eJb=this.M.Sj(),this.ZHb=this.M.Ub(),this.Ok[l.nX]={offset:this.fJb,size:this.$Hb},this.Ok[l.mX]={offset:this.eJb,size:this.ZHb});return !0;};b.af=k;b.Ic=!1;return b;})(d.pg);b["default"]=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(95);a=a(28);l=d.aaa;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a,d,r;this.mg();1 <= this.version && this.M.H5();a=this.M.Ub();this.Ok={};for(var b=this.startOffset + this.length,c=0;c < a;++c){d=this.M.uB();"uuid" === d && (d=this.M.H5());r=this.M.Sj();this.Ok[d]={offset:b,size:r};b+=r;}return !0;};b.af=l;b.Ic=!1;return b;})(a.pg);b["default"]=a;},function(d){var b,a,c,l;b={name:"heaac-2-dash reset sample",profile:53,Lr:2,sampleRate:24E3,duration:1024,qy:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,Lr:2,sampleRate:24E3,duration:1024,qy:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,Lr:6,sampleRate:48E3,duration:1536,qy:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};l={name:"ddplus-2.0-dash standard sample",profile:57,Lr:2,sampleRate:48E3,duration:1536,qy:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};d.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":l},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":l};},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(28);k=a(80);d=(function(a){function b(b,c,f,d,m){f=a.call(this,f,d,m) || this;f.Clb=b;f.yM=c;f.$c={};return f;}c.__extends(b,a);b.prototype.parse=function(a){var b,c,f,d,h,m;this.offset=0;b=[];for(a=a || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){c=this.offset;f=this.Ub();if(0 === f)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};d=k.hz(this.Ub());if(null === d)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === d){if(16 > this.view.byteLength - this.offset)break;d=this.H5();}if(0 === b.length && this.yM.sPa(d,c,f))break;if(c + f > this.view.byteLength)break;h=this.Clb[d];m=void 0;if(h){if((m=new h(this,d,c,f,b[0]),(b[0] || this).PP(m),m.parse(a)))this.config.spa && h.Ic?b.unshift(m):this.offset=c + f;else return {done:!1,offset:this.offset,error:"parse error in " + d + " box"};}else this.offset=c + f;for(;b.length && this.offset > b[0].byteOffset + b[0].mF - 8;){m=b.shift();if(!m.QJ(a))return {done:!1,offset:this.offset,error:"finalize error in " + m.type + " box"};this.offset=m.byteOffset + m.mF;}if(0 === b.length && this.yM.DNa(d,c,f,m))break;}return !this.yM.done && (a=this.yM.endOffset?this.yM.endOffset - this.view.byteLength:4096,0 < a)?{done:!1,offset:this.offset,pWa:a}:{done:!0,offset:Math.min(this.yM.endOffset || Infinity,this.offset)};};b.prototype.PP=function(a){l.pg.PP(this,a);};return b;})(a(885).Ucb);b.n8=d;},function(d,b,a){var l;function c(a,b){a=b.indexOf(a);-1 !== a && b.splice(a,1);}Object.defineProperty(b,"__esModule",{value:!0});l=a(95);d=(function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.sPa=function(){return this.done;};a.prototype.DNa=function(a,b,c){return this.done=b + c >= this.endOffset;};return a;})();b.uwa=d;d=(function(){function a(a,b,c,d){void 0 === b && (b=[]);void 0 === c && (c=[]);void 0 === d && (d=!1);this.Ss=a;this.y0=b;this.z2a=c;this.ZXa=d;this.done=!1;this.Ok={};}a.prototype.sPa=function(b,c,d){-1 !== a.ABb.indexOf(b) && (this.Ok[b]={offset:c,size:d});if(-1 !== this.z2a.indexOf(b)){if((this.Ok[b]={offset:c,size:d},this.ZXa))this.endOffset=c + d;else return (this.endOffset=c,this.done=!0);}else this.Ss && -1 !== this.Ss.indexOf(b)?(b=1 < this.Ss.length?4096:0,this.endOffset=Math.max(c + d + b,this.endOffset || 0)):-1 !== this.y0.indexOf(b) && (b=this.Ss?4096:0,this.endOffset=Math.max(c + d + b,this.endOffset || 0));return this.done;};a.prototype.DNa=function(a,b,d,q){var f;f=this;if(-1 !== this.z2a.indexOf(a))return this.done=!0;a === l.$$ && this.W0a(q.Ok);a === l.aaa && this.W0a(q.Ok);this.Ss && c(a,this.Ss);c(a,this.y0);return this.Ss && 0 === this.Ss.length && !this.y0.some(function(a){return f.Ok[a];})?this.done=!0:this.done;};a.prototype.W0a=function(a){var b;b=this;this.Ok=a;this.endOffset=(this.Ss || []).concat(this.y0).reduce(function(a,c){return b.Ok[c]?(c=b.Ok[c],Math.max(c.offset + (c.size || 4096),a)):a;},this.endOffset || 0);};a.ABb=["moov","sidx"];return a;})();b.k9a=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Jba=void 0;c=a(0);l=a(94);a(5);c.__importDefault(a(37));d=(function(){function a(a,b,c,d){this.R=c;this.Yd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.yc=d;}Object.defineProperties(a.prototype,{ba:{get:function(){return void 0 !== this.yc?this.yc:this.yc=this.Kca();},enumerable:!1,configurable:!0}});a.prototype.subarray=function(b,c){return new a(this.Yd.subarray(b,c),this.sizes.subarray(b,c),this.R);};a.prototype.concat=function(){var f,b,d,q;for(var b=[],f=0;f < arguments.length;f++){b[f]=arguments[f];}f=[this];b=f.concat.apply(f,c.__spread(b));f=b.reduce(function(a,b){return a + b.length;},0);d=new Uint32Array(f);q=new Uint32Array(f);f=b.reduce(function(a,b){return a || b.R;},void 0);b.reduce(function(a,b){l.eca.set(d,b.Yd,a);l.eca.set(q,b.sizes,a);return a + b.length;},0);return new a(d,q,f);};a.prototype.Kca=function(){for(var a=this.sizes,b=this.length,c=0,d=0;d < b;++d){c+=a[d];}return c;};return a;})();b.Jba=d;},function(d,b,a){var c,l,k,m,f,h,q,u,r,v;Object.defineProperty(b,"__esModule",{value:!0});b.X7=void 0;c=a(0);l=a(94);d=a(16);k=c.__importDefault(a(25));m=c.__importDefault(a(3));f=a(9);h=a(38);q=a(5);u=a(244);r=a(407);a=a(408);v=m["default"].MediaSource;a=(function(a){function b(b,c,f,d,h,q,m){c=a.call(this,b,d,h,c,m) || this;r.MV.PSa(c,b,d,m);c.Cl=f;c.track=f.track;c.ou=! !d.ou;c.hL=! !d.hL;c.gA=! !d.gA;c.eKb=d.ba;c.pM=! !d.pM;c.Dda=(q?"(cache)":"") + c.Da + " header";c.yI(b.url || d.url,d.offset,d.ba);return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{vc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{a5:{get:function(){return this.Wgb;},enumerable:!1,configurable:!0}});b.prototype.cc=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.cc.call(this);};b.prototype.oR=function(b){this.stream.hpa();a.prototype.oR.call(this,b);};b.prototype.Oj=function(b){this.Tp=this.Tp?f.Vz(this.Tp,b.response):b.response;b.QT();this.Tgb()?a.prototype.Oj.call(this,b):this.pFa?(this.yI(b.url,b.offset + b.ba,this.pFa),a.prototype.Oj.call(this,b)):this.v1(this);};b.prototype.yI=function(a,b,c){a=new u.bN(this.stream,this.track,this.Dda + " (" + this.ya.length + ")",{offset:b,ba:c,url:a,location:this.location,Zb:this.Zb,responseType:0},this,this.yd,this.G);this.push(a);this.yc=this.ya.reduce(function(a,b){return a + b.ba;},0);};b.prototype.Tgb=function(){var a,c,d;a=this.yd;c=new l.Uy(b.LHb,this.stream,this.Tp,["sidx"],this.I === k["default"].Ta.VIDEO && a.DJ || this.I === k["default"].Ta.AUDIO,{K8b:this.stream.track.ria,XXa:void 0 === this.wa,o3a:!v.Yb || !v.Yb.yLa,lta:a.lta,$i:a.$i,OM:this.yd.OM,EPb:!0,F6:!v.Yb || !v.Yb.lWa});d=c.parse({wa:this.wa});this.KWb=a.OM && c.tBb;d.iB?(q.assert(d.Ch),this.aI=d.Ch,this.Wgb=d.a5,this.ZFa=! !d.uub,void 0 === this.wa && void 0 === d.wa && this.G.error("No frame duration available for " + this.Da),c=d.wa?new f.S(d.wa):this.wa,this.stream.Q4(d.Ch,d.R,c,d.$,d.eL,d.Zi,a.jB && a.jB.enabled?d.UB:void 0),this.Tp=void 0):this.pFa=d.zjb || 0;return ! !d.iB;};b.LHb=new m["default"].Console("MP4","media|asejs");return b;})(a.U7);b.X7=a;h.Ze(r.MV,a,!1,!1);h.Ze(d.EventEmitter,a);},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.MV=void 0;c=a(0);l=a(5);k=a(170);d=(function(a){function b(c,f,d){var h;h=a.call(this,c,f) || this;h.pM=!1;h.ou=!1;h.hL=!1;h.gA=!1;h.Cl=void 0;b.PSa(h,c,f,d);return h;}c.__extends(b,a);b.PSa=function(a,b,c,f){k.pt.$a(a,b,c);a.aI=c.Ch;a.Tp=c.vpa;a.ZFa=c.xk;a.G=f;};Object.defineProperties(b.prototype,{vc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ch:{get:function(){return this.aI;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vpa:{get:function(){return this.Tp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xk:{get:function(){return this.ZFa;},enumerable:!1,configurable:!0}});b.prototype.cc=function(){};b.prototype.u7=function(){};b.prototype.Gjb=function(a){l.assert(this.Yc.Da === a.Da);!a.pe && this.Yc.pe && a.a0(this.Yc);!a.location && this.Yc.location && (a.location=this.Yc.location,a.Nc=this.Yc.Nc,a.NF=this.Yc.NF,a.url=this.Yc.url,a.ib=this.Yc.ib);this.Yc=a;};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.$});};return b;})(k.pt);b.MV=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.U7=void 0;c=a(0);c.__importDefault(a(3));a(5);d=(function(a){function b(b,c,d,q,k){b=a.call(this,b,c,d,q,k) || this;b.iGa=!1;b.hGa=!1;b.QO=!1;b.ya=[];b.Wt=!1;b.kHa=!1;b.FGa=!1;b.pd=!1;b.Ng=!1;b.je=!1;b.xH=!1;b.eI=void 0;b.Qt=void 0;return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{Ama:{get:function(){return this.Wt && !this.QO;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.pd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fqa:{get:function(){return this.Ng;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.je || (this.je=this.ya.every(function(a){return a.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Cr:{get:function(){return this.xH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fi:{get:function(){return this.ya.reduce(function(a,b){return a + b.Fi;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bf:{get:function(){return this.ya.reduce(function(a,b){return a + b.bf;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sd:{get:function(){return this.eI || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{url:{get:function(){return this.ya[0] && this.ya[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.Mg || this.ya.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return this.Qt && this.Qt.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wg:{get:function(){return this.Qt && this.Qt.wg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nE:{get:function(){return this.Qt && this.Qt.nE;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ri:{get:function(){return this.Qt && this.Qt.ri;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ip:{get:function(){return ! !this.ya.length && this.ya[0].ip;},enumerable:!1,configurable:!0}});b.prototype.push=function(a){this.FGa && a.$a(this.Pa);this.ya.push(a);this.Wt && a.Tu();};b.prototype.$a=function(b){a.prototype.$a.call(this,b);this.ya.forEach(function(a){return a.$a(b);});this.FGa=!0;};b.prototype.Tu=function(){this.kHa=!0;(this.Wt=this.ya.every(function(a){return a.Tu();})) && this.oR(this);this.kHa=!1;return this.Wt;};b.prototype.cc=function(){7 !== this.readyState && 5 !== this.readyState && (this.G.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.ya.forEach(function(a){return a.cc();});};b.prototype.SU=function(a){this.Mg=this.Qt=void 0;return this.ya.every(function(b){return 5 !== b.readyState && 7 !== b.readyState?b.SU(a):!0;});};b.prototype.abort=function(){var a,b;a=this.active;this.Mg=7;this.xH=!0;this.Ng=this.pd=!1;b=this.ya.map(function(a){return a.abort();}).every(function(a){return a;});this.u1(this,a,this.Ama);return b;};b.prototype.getResponseHeader=function(a){var b;b=null;this.ya.some(function(c){return ! !(b=c.getResponseHeader(a));});return b;};b.prototype.getAllResponseHeaders=function(){var a;a=null;this.ya.some(function(b){return ! !(a=b.getAllResponseHeaders());});return a;};b.prototype.U4=function(){};b.prototype.Xx=function(a){this.pd || (this.pd=!0);this.iGa || (this.iGa=!0,this.Dm=0,this.eI=this.Em=a.sd,this.rE(this));};b.prototype.qL=function(a){this.Ng || (this.Ng=!0);this.hGa || (this.hGa=!0,this.eI=a.sd,this.oA(this));};b.prototype.rL=function(a){this.eI=a.sd;this.sE(this);this.Dm=this.bf;this.Em=a.sd;};b.prototype.Oj=function(a){this.eI=a.sd;this.complete?(this.je=!0,this.Mg=5,this.Ng=this.pd=!1,this.QO=!0,this.ds(this)):this.sE(this);this.Dm=this.bf;this.Em=a.sd;};b.prototype.pT=function(a){this.eI=a.sd;this.Qt=a;this.Mg=6;this.v1(this);};b.prototype.oT=function(){};b.prototype.Bk=function(){return this.ya[0].Bk() + "-" + this.ya[this.ya.length - 1].Bk();};b.prototype.toString=function(){return "Compound[" + this.ya.map(function(a){return a.toString();}).join(",") + "]";};b.prototype.toJSON=function(){return {requests:this.ya};};return b;})(a(171).$B);b.U7=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kja=void 0;b.kja=function(a,b){for(var c,d,m=a.length - 1;0 <= m;--m){if((d=a[m],d.ss)){if(d.U <= b)return m;c=m;}}return c;};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.KX=void 0;c=a(21);l=a(19);d=(function(){function a(a){this.Bd=a;}a.F_=function(a,b,d,q){var f;f=c.S.lb;b && (d=null === d || void 0 === d?void 0:d.X4b,a.yWb && void 0 !== d && 0 <= d?(a=new c.S(d,48E3),f=b.add(a),l.ma && q.trace("Adjusting profile timestamp offset of " + b + (" by DPI assumed delay of " + a) + (" for ASE applied offset of " + f + "."))):a.Hz && (f=b));return f;};a.prototype.append=function(a){return {Sd:a.Sd,offset:a.offset.add(this.Bd)};};return a;})();b.KX=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.y8=void 0;c=a(906);d=(function(){var q00;q00=2;for(;q00 !== 3;){switch(q00){case 4:return a;break;case 2:a.prototype.sFa=function(a,b){var s00,f;s00=2;for(;s00 !== 14;){switch(s00){case 5:s00=f && f.streamingClientConfig && Object.keys(f.streamingClientConfig).length?4:3;break;case 9:s00=!a?8:7;break;case 2:b=c.bMa(b,a);f=a.steeringAdditionalInfo;s00=5;break;case 4:var U9b="applying m";U9b+="anifest based str";U9b+="eamin";U9b+="gClientConfig";return (a=f.streamingClientConfig,this.G.trace(U9b + JSON.stringify(a)),this.lHa(b,a));break;case 3:a=a.cdnResponseData;s00=9;break;case 7:var C0g="usin";C0g+="g sab ";C0g+="cell >= 100, pipelineEnabled: ";var i0g="using ";i0g+="sab cell >= 200";i0g+=",";i0g+=" pipelineEnabled: ";var g0g=", a";g0g+="llowSwi";g0g+="tchback";var M0g=", p";M0g+="robeDeta";M0g+="ilDeno";M0g+="mi";M0g+="nator: ";var p0g="using s";p0g+="ab ce";p0g+="ll >= 300, ";p0g+="probeServerWhenError: ";var s0g=", ";s0g+="allow";s0g+="Switchback";var v0g=", probeDe";v0g+="tailDenomin";v0g+="ator: ";var H9b="using ";H9b+="sab";H9b+=" cell >= 400, ";H9b+="prob";H9b+="eServerWhenError: ";(a=a.sessionABTestCell) && (a=a.split(".")) && 1 < a.length && (a=parseInt(a[1].replace(/cell/i,""),10),400 <= a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!0})):(b.Ls=!0,b.wF=1,b.Bw=!0),this.G.trace(H9b + b.Ls + v0g + b.wF + s0g + b.Bw)):300 <= a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!1})):(b.Ls=!0,b.wF=1,b.Bw=!1),this.G.trace(p0g + b.Ls + M0g + b.wF + g0g + b.Bw)):200 <= a?(b.set?b.set({pipelineEnabled:!1}):b.rp=!1,this.G.trace(i0g + b.rp)):100 <= a && (b.set?(b.set({pipelineEnabled:!0}),b.set({maxParallelConnections:1}),b.set({maxActiveRequestsPerSession:b.Q3}),b.set({maxPendingBufferLen:b.V3})):(b.rp=!0,b.SK=1,b.Iu=b.Q3,b.XA=b.V3),this.G.trace(C0g + b.rp)));return b;break;case 8:return b;break;}}};a.prototype.rdb=function(a,b){var t00;t00=2;for(;t00 !== 9;){switch(t00){case 2:t00=!b.jha || a === this.ufb?1:5;break;case 6:return b;break;t00=5;break;case 5:this.ufb=a;for(var c in b.jha){new RegExp(c).test(a) && (b=this.lHa(b,b.jha[c]));}return b;break;case 1:return b;break;}}};a.prototype.lHa=function(a,b){var u00,c,d,q;u00=2;for(;u00 !== 4;){switch(u00){case 5:return a;break;case 2:for(d in b){if(b.hasOwnProperty(d)){var W0g="Inval";W0g+="i";W0g+="d k";W0g+="ey";q=b[d];a.set?0 === a.set((c={},c[d]=q,c)) && this.G.trace(W0g + d):a[d]=q;}}u00=5;break;case 7:return a;break;u00=4;break;}}};q00=4;break;case 14:return a;break;q00=3;break;}}function a(a){var r00;r00=2;for(;r00 !== 5;){switch(r00){case 2:var c0g="1SI";c0g+="Yb";c0g+="ZrN";c0g+="JCp";c0g+="9";this.G=a;c0g;r00=5;break;}}}})();b.y8=d;},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Zya=b.aDa=void 0;c=a(0).__importDefault(a(3))["default"].Promise;l=(function(){function a(){var a;a=this;this.qZ=[];this.HOb=function(b){b=a.qZ.indexOf(b);0 <= b && a.qZ.splice(b,1);};}Object.defineProperties(a.prototype,{Gz:{get:function(){return 0 !== this.qZ.length;},enumerable:!1,configurable:!0}});a.prototype.add=function(){var a;a=new k(this.HOb);this.qZ.push(a);return a;};a.prototype.U4a=function(a){var b;b=this.add();try{return c.resolve(a()).then(function(a){b.release();return a;},function(a){b.release();return c.reject(a);});}catch(q){return (b.release(),c.reject(q));}};return a;})();b.aDa=l;k=(function(){function a(a){this.shb=a;}a.prototype.release=function(){this.shb(this);};return a;})();d=(function(){function a(a){this.LJb=a;this.Xz=new l();}a.prototype.uw=function(){var a,b;a=this;b=this.Xz.add();return {release:function(){b.release();a.LJb(function(){return !a.Xz.Gz;});}};};return a;})();b.Zya=d;},function(d,b,a){var c,l,k,m,f,h,q,u,r,v,A;Object.defineProperty(b,"__esModule",{value:!0});b.aza=b.kO=void 0;c=a(0);d=a(16);l=c.__importStar(a(8));k=c.__importDefault(a(82));m=a(414);f=a(17);h=a(250);q=a(21);u=a(38);r=c.__importDefault(a(3));v=a(421);(function(a){a[a.rPa=0]="forwards";a[a.Lfa=1]="backwards";a[a.jL=2]="none";})(A=b.kO || (b.kO={}));a=(function(a){function b(b,c,f,d,h,r,k,m,l,u,A,g,y,B,n,p){var I,J;I=a.call(this,c,d,l.N,b,l,function(){return u;},y,q.S.ec(A),k.Zd.bind(k),g,p,void 0,void 0,void 0) || this;I.Ya=b;I.sh=f;I.Ib=h;I.NY=r;I.P=k;I.vI=m;I.Ef=g;I.vR=B;I.ag=n;I.Wl=p;I.active=!1;I.xGa=[];I.aea=0;I.children=Object.create(null);I.qv=[];I.Ld=void 0;void 0 === y && (y=q.S.ec(l.X));J=[I.H.Ffa,I.H.N6];u.forEach(function(a){var f,d;f=a.I;d=h.S1.bind(h,I,f);a=new v.$W(b,I.sh,I.G,I,a,y.da,J[f],c,I.NY,I.ag,I.UY[f],null === g || void 0 === g?void 0:g.Ua(f),d);I.Qh.L0a(f,a);});I.nP=I.Qh.w5;return I;}c.__extends(b,a);Object.defineProperties(b.prototype,{u:{get:function(){return this.N.u;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hm:{get:function(){var a,b,c,f;return [null !== (b=null === (a=this.Ua(0)) || void 0 === a?void 0:a.Hm) && void 0 !== b?b:0,null !== (f=null === (c=this.Ua(1)) || void 0 === c?void 0:c.Hm) && void 0 !== f?f:0];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Po:{get:function(){var a,b,c,f;return [null !== (b=null === (a=this.Ua(0)) || void 0 === a?void 0:a.Po) && void 0 !== b?b:{da:0,ba:0},null !== (f=null === (c=this.Ua(1)) || void 0 === c?void 0:c.Po) && void 0 !== f?f:{da:0,ba:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{i6:{get:function(){return this.W.X;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ppa:{get:function(){return this.i6 + this.Hd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pb:{get:function(){return this.W.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{de:{get:function(){return this.Pb + this.Hd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Mb:{get:function(){return this.N.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{weight:{get:function(){return this.W.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{W:{get:function(){return this.kea;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xe:{get:function(){return this.Qh;},enumerable:!1,configurable:!0}});b.prototype.fg=function(){this.mk || (this.active=!1,this.Ef && (delete this.Ef.children[this.W.id],this.Ef=void 0),l.me(this.children,function(a){a && a.Ef && (a.Ef=void 0);}),this.children=Object.create(null),this.JH=void 0,a.prototype.fg.call(this),this.Qh.clear());};b.prototype.fra=function(a,b){void 0 === b && (b=A.Lfa);this.Xe.forEach(function(b){(l.Y(a) || b.I === a) && b.reset();});switch(b){case A.Lfa:this.Ef && this.Ef.fra(a,b);break;case A.rPa:this.children && l.me(this.children,function(c){c && c.fra(a,b);});}};b.prototype.fTa=function(a){var b,c,f;if(!this.active)return !1;b=this.Ef;if(b){c=b.Ua(a);f=c.Pa.gYa;if(0 !== f && (b.RI(a),f=c.Pa.gYa,0 !== f))return !1;}return !0;};b.prototype.gd=function(a){return this.Xe.Ua(a);};b.prototype.vBb=function(){return this.Xe.every(function(a){return 0 === a.vB;});};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.Rc,playerEndPts:this.de,pipelines:this.Xe,previousBranch:this.Ef});};b.prototype.h1a=function(a,b){this.N.H3a(this);this.Ec=this.W.N=a;this.bsa(this.N);this.N.SZa(this);this.Xe.forEach(function(a){var c;c=b[a.I];c && a.xU(c);});};b.prototype.Bzb=function(a){return this.Wl[a];};b.prototype.Ua=function(a){return this.Xe.Ua(a);};b.prototype.Ozb=function(a){return this.Ua(a).vB;};b.prototype.Zra=function(a,b,c){var f,d,h,q;f=this;d=this.W;a=this.G_(d.X,this.N,a,this.u === (a?a.u:this.Ib.pc.u));h=a.GL;q=a.ix;void 0 === b && (b=[0,1]);0 === q.length || b.forEach(function(a){var b,h;b=f.Ua(a);c && (b.Sf=q[a]);h=f.kR(d.sa);b.v6(h[a]);});return h;};b.prototype.PZa=function(a,b){var c,f,d,h;c=this.Ya;f=this.Ua(0);void 0 === b && (b=f.FCb);this.Ef && (d=this.Ef.gd(0));h=this.Ib.S1.bind(this.Ib,this,0);c=new v.$W(c,this.sh,this.G,this,a,b,f.eM,this.H,this.NY,this.ag,this.UY[0],d,h);this.Qh.replace(f,c);this.nP=this.Qh.w5;this.Zra(this.Ef,[0],!0);c.SF(b,! !this.Ef);f.fg();l.me(this.children,function(b){b && b.PZa(a);});};b.prototype.cs=function(a,b){if(b=this.Ua(b))return b.Pa.cs(a);};b.prototype.RI=function(a){void 0 === a?this.Xe.forEach(function(a){a.RI();}):this.Ua(a).RI();};b.prototype.IT=function(a,b,c){(a=this.Ua(a)) && a.Pa.IT(b,c);};b.prototype.d2=function(a,b){(b=this.Ua(b)) && b.Pa.d2(a);};b.prototype.fGb=function(a){this.xGa[a]=!0;};b.prototype.Wmb=function(){var a;a=this;return [0,1].every(function(b){return !a.Mb(b) || a.xGa[b];});};b.prototype.Umb=function(a,b,c,d){var q,k,m,l,u,v,A,g,y;q=this.H;k=this.Ya;m=this.P.rd();l=m === f.oa.cd || m === f.oa.mf;if(!l && void 0 === c)return {tg:!0};if(m === f.oa.mf && r["default"].time.aa() < this.aea + q.WVa)return {tg:!1};u=this.Ua(0);v=this.Ua(1);A=this.Ib.gu(this,0);g=this.Ib.gu(this,1);y=h.o5(m);A=!u || u.bLa(y,this.P.Zd(),b,A,this.P.un(),d);g=!v || v.bLa(y,this.P.Zd(),a,g,this.P.un(),d);void 0 !== c && A && (c=c.Xa,a=this.N.getTrackById(c),this.xdb(c,a.KM),k.Gw=void 0);if(A && g)return (this.vI(),this.lQ=r["default"].time.aa(),m === f.oa.mf && (this.aea=r["default"].time.aa()),{tg:!0,Jr:v?v.MD:u.MD});A=this.dj(0);g=this.dj(1);if(l){k=!v || g > q.jj;if((!u || A > q.jj) && k && (u=this.vR(),u >= q.fy))return (this.wb("buffering longer than limit: " + u + " >= " + q.fy + ", audio buffer: " + A + " ms, video buffer: " + g + " ms"),this.vI(),this.lQ=r["default"].time.aa(),m === f.oa.mf && (this.aea=r["default"].time.aa()),{tg:!0,Jr:"prebufferTimeLimit"});this.sh.dgb();}return {tg:!1};};b.prototype.zga=function(a,b){var c,f,d,h,q,r;c=this.H;f=this.Ua(0);d=this.Ua(1);b?(b=this.dj(0,a),a=this.dj(1,a)):(b=this.Ib.gu(this,0,a),a=this.Ib.gu(this,1,a));h=c.jj;q=!this.Mb(0) || f.hh && 0 === f.Pa.$x && 0 === f.Pa.Zq;f=!this.Mb(1) || d.hh && 0 === d.Pa.$x && 0 === d.Pa.Zq;r=q && f;c=!q && b < c.jj;if(!r && (c || !f && a < h))return !1;if(d && d.tg || !this.Mb(1))return !0;if(r)if(this.Ya.nZ && 0 === b && 0 === a)this.wb("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};b.prototype.s6=function(a,b){var c,f;c=this;f=this.H;this.Xe.forEach(function(a){a.seeking=void 0;});a && f.zh && this.Xe.forEach(function(a){var f;if(a){f=c.Ib.PD(c,a.I);a="bufferingComplete: , mediaType: " + a.I + ", bufferLevelBytes: " + a.Po.ba + ", completedMs: " + a.dJ + ", completedBytes: " + f + ", partials: " + a.Pa.$x + ", streamingPts: " + a.$b + ", completeStreamingPts: " + a.Mr + ", fragments: " + JSON.stringify(a.Pa.$) + ", toAppend: " + b(a.I);c.sh.yl(a);}});};b.prototype.FB=function(a,b,c){var f,d,h;f=this;d=r["default"].time.aa();h={};l.me(this.children,function(a){var b,c,q,r;if(a){a.Ld?(a.Ld.qtb=d - a.Ld.S2,a.Ld.S2=void 0,b=a.Ld.weight):b=f.Ib.lRa(f.W.id,a.W.id);c=a.Wja();q=f.Ua(0) && 0 === c.Zt;r=f.Ua(1) && 0 === c.Jp;h[a.W.id]={weight:b,hq:c,OR:!q && !r};}});c={requestTime:d,Rk:a,esb:c,G6:this.W.id,Ld:h};a || (a=b.Zd(),c.rM=a - (this.W.X + this.Hd),c.rM=Math.max(0,c.rM),c.sJ=0,c.startTime=d);this.qv.unshift(c);return c;};b.prototype.Vnb=function(a){var b,c;b=this.qv[0];b.Rk && (b.rM=this.Pb - this.W.X,b.rM=Math.max(0,b.rM));b.m3a={};c=a.Wja();k["default"](c,b.m3a);b.OR=a.Po.every(function(a){return 0 < a.da;});this.qv=[];return b;};b.prototype.Wn=function(a){var b;b=this.W;a-=this.Hd;if(b.X < a && a < b.sa)this.qv.shift();else if(b=this.qv[0])b.Wn=!0;};b.prototype.G_=function(a,b,c,f){var d,h,q,r;d=this;void 0 === b && (b=this.N);h=!1;if(c){h=!0;q=c.Ua(1).Bg;c=c.Ua(0).Bg;if(!q || !c)return {GL:[],ix:[]};q=q.sa;f || (q=void 0);}r=this.UOa(a,q,h,b);b.qb === this.Ib.rrb && [1,0].forEach(function(a){var b;b=d.Ua(a);b && (b.Sf=r[a]);});return {GL:r.map(function(a){return a.X;}),ix:r};};b.prototype.UOa=function(a,b,c,f){var d;d=this;void 0 === f && (f=this.N);return this.mIa(f)?[1,0].map(function(h){var q;if(!d.Mb(h))return {};q=f.Ag[h];h=d.Ua(h).tn(q.stream,a,b,c);a=h.X;return h;}).reverse():[];};b.prototype.kR=function(a,b){var c;c=this;void 0 === b && (b=this.N);return this.mIa(b)?[1,0].map(function(f){var d;if(!c.Mb(f))return {};d=b.Ag[f].stream;f=c.Ua(f).qE(d,a);a=c.H.Gg?new q.S(f.xb,d.wa.R).da:f.sa;return f;}).reverse():[];};b.prototype.RVb=function(a,b){var c;c=this.W.sa;c && c < b && (a=this.kR(c));b=this.gd(1);c=this.gd(0);b && b.v6(a[1]);c && c.v6(a[0]);};b.prototype.mIa=function(a){var b;b=a.Ag;if(!b)return !1;a=b[1];a=!this.Mb(1) || a && a.stream.pe;b=b[0];b=!this.Mb(0) || b && b.stream.pe;return a && b?!0:!1;};b.prototype.xdb=function(a,b){this.sh.bgb(a,b);};return b;})(m.o8);b.aza=a;u.Ze(d.EventEmitter,a);},function(d,b,a){var l,k,m,f,h,q,u,r,v,A,g,B,I,J;function c(a,b){return (1 === a.I?0:1) - (1 === b.I?0:1);}Object.defineProperty(b,"__esModule",{value:!0});b.o8=b.zbb=void 0;l=a(0);k=a(16);m=a(415);f=a(93);h=a(174);q=a(942);u=a(17);r=a(943);v=a(9);A=a(5);g=a(21);B=l.__importDefault(a(3));d=a(120);I=a(38);J=a(945);b.zbb={B9b:c};a=(function(a){function b(b,c,f,d,h,q,r,m,l,u,A,y,I,D){var R,n;n=a.call(this) || this;n.H=b;n.Ec=f;n.kLb=d;n.kea=h;n.BQa=q;n.yFa=m;n.Qeb=l;n.parent=u;n.Wl=A;n.Ica=y;n.hD=I;n.S1=D;n.Qh=new J.QBa([]);n.$da=!1;n.qr=!1;n.JGa=0;n.CFa=n.nJb.bind(n);n.G=v.Fu(B["default"],c,h.id && h.id.length?"{" + h.id + "}":"");n.nf=n.G.error.bind(n.G);n.wb=n.G.warn.bind(n.G);n.ik=n.G.trace.bind(n.G);n.dS=null !== r && void 0 !== r?r:g.S.ec(n.W.X);n.Dta(n.dS.da,n.H.X6);n.events=new k.EventEmitter();null === (R=n.Ica) || void 0 === R?void 0:R.addListener(n.CFa);f && n.USa(f);return n;}l.__extends(b,a);Object.defineProperties(b.prototype,{mk:{get:function(){return this.qr;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hs:{get:function(){return this.$da;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{W:{get:function(){return this.kea;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{GK:{get:function(){return this.TR && this.Qh.every(function(a){return a.GK;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{II:{get:function(){return this.TR && this.Qh.every(function(a){return a.II;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Aw:{get:function(){return this.bK().reduce(function(a,b){return a + b.Aw;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yn:{get:function(){return this.TR && this.bK().every(function(a){return a.yn();});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bh:{get:function(){return this.bK().map(function(a){return a.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{TR:{get:function(){return ! !this.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{N:{get:function(){A.assert(this.Ec,"Expected for viewable to exist");return this.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{R:{get:function(){return this.nP.R;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Za:{get:function(){return this.nP.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xb:{get:function(){return this.nP.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pk:{get:function(){return this.Lo.Fe(this.R).ub;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fS:{get:function(){return this.dS.add(this.Lo);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{n5:{get:function(){return this.W.Tk.add(this.Lo);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Opa:{get:function(){return this.W.Yr.add(this.Lo);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{EEb:{get:function(){return this.Qh.reduce(function(a,b){return a && b.vi?g.S.max(a,b.vi):b.vi?b.vi:a;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{YSa:{get:function(){return this.fS.da;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hd:{get:function(){return this.Lo.da;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Lo:{get:function(){return this.yFa;},enumerable:!1,configurable:!0}});b.prototype.$a=function(a){a=a?this.USa(a):this.BQa(this.N);this.RSa(a);};b.prototype.zta=function(a){this.Lo.equal(a) || (this.yFa=a);};b.prototype.JR=function(a){return (a=this.Ua(a))?a.JR():h.cC.hyb();};b.prototype.rRb=function(a){this.kea=a;};b.prototype.Hia=function(){this.bK().forEach(function(a){return a.Hia();});};b.prototype.LP=function(){this.Qh.forEach(function(a){return a.LP();});};b.prototype.fg=function(){var a,b;this.qr || (this.qr=!0,this.N.H3a(this),null === (a=this.qI) || void 0 === a?void 0:a.cc(),this.qI=void 0,this.Qh.forEach(function(a){a.fg();}),null === (b=this.Ica) || void 0 === b?void 0:b.removeListener(this.CFa),this.events.removeAllListeners());};b.prototype.fTa=function(){return !0;};b.prototype.Ua=function(a){return this.Qh.Ua(a);};b.prototype.bK=function(){var a;void 0 === a && (a=c);return this.Qh.Xe.slice().sort(a);};b.prototype.wka=function(a){return this.Ua(a);};b.prototype.dj=function(a,b){a=this.Ua(a);if(!a)return 0;if(b)return a.Hm;b=a.Mr;if(void 0 === b)return 0;a=this.Qeb();return b - a;};b.prototype.Wja=function(){var a,b,c,f,d,h,q;q=null === (a=this.Ua(0)) || void 0 === a?void 0:a.Po;a=null === (b=this.Ua(1)) || void 0 === b?void 0:b.Po;return {Jp:null !== (c=null === a || void 0 === a?void 0:a.da) && void 0 !== c?c:0,Zt:null !== (f=null === q || void 0 === q?void 0:q.da) && void 0 !== f?f:0,SB:null !== (d=null === a || void 0 === a?void 0:a.ba) && void 0 !== d?d:0,XZ:null !== (h=null === q || void 0 === q?void 0:q.ba) && void 0 !== h?h:0};};b.prototype.tRa=function(a){var b;return (a=this.Ua(a))?null !== (b=a.Mr) && void 0 !== b?b:0:0;};b.prototype.TF=function(a,b,c){var f;b=null !== (f=null !== b && void 0 !== b?b:this.xh) && void 0 !== f?f:this.dS;this.sMa(a,b,c);this.RSa();this.LP();};b.prototype.Dta=function(a,b){this.wCb=a + b;this.CCb=B["default"].time.aa();};b.prototype.$q=function(a){a=this.Ua(a);A.assert(a);return a.$q();};b.prototype.nJb=function(a){u.zx(a.newValue) && this.eD();};b.prototype.hha=function(a){return this.TR && this.Qh.every(function(b){return b.hha(a);});};b.prototype.Jxb=function(a){var b,c;return null !== (c=null === (b=this.Qh.Ua(a)) || void 0 === b?void 0:b.srb) && void 0 !== c?c:g.S.lb;};b.prototype.Oj=function(a){this.qr || (a.efa || A.assert(!a.vc),this.eD(),this.II && this.Ngb());this.ds(a);};b.prototype.rL=function(a){this.H.jOa && this.eD(!0);this.sE(a);};b.prototype.qL=function(a){this.H.jOa && this.eD(!0);this.oA(a);};b.prototype.Igb=function(a,b){var c;null === (c=this.qI) || void 0 === c?void 0:c.cc();this.qI=void 0;a && this.events.emit("branchNormalized",{type:"branchNormalized",segmentContentStart:this.W.Tk,branchContentStart:this.xh,branchContentEnd:this.jm,didNormalizeSegment:b});};b.prototype.VRb=function(a){var b;return u.zx((null === (b=this.Ica) || void 0 === b?void 0:b.value) || u.ac.bk) && (!a || this.JGa + this.H.toa < B["default"].time.aa());};b.prototype.eD=function(a){void 0 === a && (a=!1);this.VRb(a) && (this.JGa=B["default"].time.aa(),a={type:"checkBufferingProgress"},this.events.emit(a.type,a));};b.prototype.Ngb=function(){var a;a={type:"branchStreamingComplete"};this.events.emit(a.type,a);};b.prototype.Pqb=function(a,b,c){var f;f=a.I;return new m.Maa(this,this.H,this.G,this.kLb,this,a,b,[this.H.Ffa,this.H.N6][f],this.UY[f],this.H.e5,c,this.S1,this.hD);};b.prototype.sMa=function(a,b,c,f){var h,q,k,m;function d(){return 0 === --m && h.events.emit("requestQueuesCreated");}h=this;void 0 === b && (b=this.dS);m=0;a.forEach(function(a,c){var q,r;q=a.I;r=h.Ua(q);c=null === f || void 0 === f?void 0:f[c];if((null === r || void 0 === r?void 0:r.track) !== a){null === r || void 0 === r?void 0:r.fg();a=h.Pqb(a,b,c);h.Qh.L0a(q,a);++m;if(h.H.e5)a.events.once("requestQueueCreated",d);a.events.on("lastRequestIssued",function(){return h.GK && h.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});}});this.Qh=this.Qh.filter(function(b){var c;c=a.some(function(a){return a.I === b.I;});return null !== c && void 0 !== c?c:b.fg();});null === (q=this.qI) || void 0 === q?void 0:q.cc();this.qI=new r.RBa({config:this.H,N:this.N,W:this.W,Xe:this.Qh,xh:b,jm:null !== (k=this.W.Yr) && void 0 !== k?k:void 0 !== this.W.sa?g.S.ec(this.W.sa):void 0,splice:c});this.nP=this.Qh.w5;};b.prototype.USa=function(a){var b;b=this;this.bsa(a);A.assert(a.fa === this.W.fa || isNaN(a.fa) && isNaN(this.W.fa));this.Ec=a;this.Ec.SZa(this);this.UY=[];a=this.BQa(a);a.forEach(function(a){var c;a=a.I;c=b.N.lTa(a)?new q.gya(b.H.iT,a,b.H,b.G):new q.KAa(a,b.H,b.G);b.UY[a]=c;});return a;};b.prototype.RSa=function(a){var b,c,f;b=this;if(a){f=this.parent && a.map(function(a){var c;return null === (c=b.parent) || void 0 === c?void 0:c.Ua(a.I);});A.assert(!f || f.every(function(a){return a;}),"parent must have a pipeline for every media type");f=f && f.map(function(a){return a.Yf;});this.sMa(a,this.dS,! !this.parent,f);}null === (c=this.qI) || void 0 === c?void 0:c.$a(this.Igb.bind(this));};b.prototype.toJSON=function(){var a,b;return {segment:this.W.id,branchOffset:this.Hd,viewableId:this.N.fa,contentStartPts:null === (a=this.xh) || void 0 === a?void 0:a.da,contentEndPts:null === (b=this.jm) || void 0 === b?void 0:b.da};};return b;})(f.vv);b.o8=a;I.Ze(d.bC,a);I.Ze(d.YB,a);},function(d,b,a){var c,l,k,m,f,h,q,u,r,v,A,g,B,I,J,D;Object.defineProperty(b,"__esModule",{value:!0});b.Maa=void 0;c=a(0);l=a(16);k=a(911);m=a(93);f=a(233);h=a(912);q=a(925);u=a(416);r=a(417);v=a(9);A=a(5);g=a(21);B=c.__importDefault(a(3));d=a(120);I=a(38);J=a(420);D=a(121);a=(function(a){function b(b,c,f,d,m,A,g,y,I,D,n,T,R){var V;V=a.call(this,b) || this;V.H=c;V.Vc=m;V.uh=A;V.wda=g;V.Neb=I;V.Reb=T;V.hD=R;V.events=new l.EventEmitter();V.connected=!1;V.pla=!1;V.qr=!1;V.G=v.Fu(B["default"],f,"[" + V.I + "]");V.nf=V.G.error.bind(V.G);V.wb=V.G.warn.bind(V.G);V.ik=V.G.trace.bind(V.G);V.JZ=g.da;V.Yf=new u.aY(n);V.Yf.xU(A);V.WHa=new r.bY(y,c,V.Yf,0 === V.I && c.aOa || 1 === V.I && c.bOa);V.bm=new k.SBa(V,d,V.H,V.G,V.I);V.Ao=new h.iDa(V,c,V.G,V.bm,V.Vc,V.I,V.hD);V.xP=!1;c.Gg && (V.Gg=new q.XDa(c.Gg,V.G));D && (V.Zg=J.Rr(V.I,V.track.N,V.H,V.G,V.bm.owb.bind(V.bm),function(){}),V.Zg.on("created",function(){return V.events.emit("requestQueueCreated");}));return V;}c.__extends(b,a);Object.defineProperties(b.prototype,{I:{get:function(){return this.uh.I;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{track:{get:function(){return this.uh;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Kb:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{va:{get:function(){return this.Vc.W.id;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pa:{get:function(){return this.Ao;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{md:{get:function(){return this.uh.md;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Po:{get:function(){return this.Ao.Po;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hm:{get:function(){return this.Ao.Hm;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$b:{get:function(){return this.JZ;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{T_:{get:function(){var a,b;return null !== (b=null !== (a=this.Pa.T_) && void 0 !== a?a:this.Qj) && void 0 !== b?b:this.fS;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{YZ:{get:function(){return this.Pa.T_;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Mr:{get:function(){return this.Pa.Mr;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vga:{get:function(){return this.Pa.Vga;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{GK:{get:function(){return ! !this.Bg && this.xl > this.Bg.index;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{II:{get:function(){return this.GK && 0 === this.Ao.$x;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Aw:{get:function(){return this.Pa.Aw;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{srb:{get:function(){return this.Pa.$.K0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uy:{get:function(){return this.WHa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fx:{get:function(){return this.Yf.Fx;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{R:{get:function(){var a,b;return null !== (b=null === (a=this.Sf) || void 0 === a?void 0:a.R) && void 0 !== b?b:1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Za:{get:function(){var a;return null === (a=this.Sf) || void 0 === a?void 0:a.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xb:{get:function(){var a;return null === (a=this.Bg) || void 0 === a?void 0:a.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pk:{get:function(){return this.Kb.Lo.Fe(this.R).ub;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{y2:{get:function(){return this.Pa.y2;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{kv:{get:function(){return this.Pa.kv;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Asa:{get:function(){return this.Pa.Asa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fS:{get:function(){return this.wda.add(this.Kb.Lo);},enumerable:!1,configurable:!0}});b.prototype.LP=function(){var a;a=this;this.Ao.LP(void 0,function(b){var c;c=b[0];b=c.Qb;c=c.index;c < a.xl && a.w6(b,c);});};b.prototype.fg=function(){this.qr=!0;this.Ao.fg();this.Yf.Tb();this.Zg && (this.Kb.N.KP(this.I,this.Zg),D.fo.yf.wJ(this.Zg),this.Zg.removeAllListeners(),this.Zg=void 0);};b.prototype.toJSON=function(){return {started:this.kv,startOfSequence:this.Asa,segmentId:this.va,requestedBufferLevel:this.Hm,viewableId:this.Vc.N.fa,hasFragments:this.y2};};b.prototype.$q=function(){return this.Pa.$q();};b.prototype.w6=function(a,b){this.JZ=a;this.xl=b;};b.prototype.JR=function(){return this.Pa.JR();};b.prototype.Hia=function(){this.Pa.close();};b.prototype.hha=function(a){return (a=this.Pa.cs(a.da))?a.complete:!1;};Object.defineProperties(b.prototype,{Mn:{get:function(){return this.Vc.Mn;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Yn:{get:function(){return void 0 === this.uh.Om || void 0 === this.xl?this.wda.add(g.S.ec(this.Vc.Hd)):this.uh.Om.get(this.xl).xh.add(g.S.ec(this.Vc.Hd));},enumerable:!1,configurable:!0}});b.prototype.uVb=function(a,b,c){var f;A.assert(! !b !== ! !this.Zg);b=null !== b && void 0 !== b?b:this.Zg;A.assert(b);A.assert(!this.qr,"pipeline.tryIssueRequest on disabled pipeline");f=a.U1();return f?this.w3a(a,f,b,c):(a=a.oG(b))?{kp:a,reason:"success"}:{kp:a,reason:"pipelineTryIssueHeaderRequest"};};b.prototype.uK=function(a,b){a && (this.Sf=a);b && (this.Bg=b);A.assert(this.Sf);A.assert(this.Bg);A.assert(void 0 === this.xl);this.w6(this.Sf.Qb,this.Sf.index);};b.prototype.isa=function(){return f.g2(this.uh.I,this.H);};b.prototype.Eu=function(){return this.gp()?!1:this.yn()?!0:this.track.Eoa;};b.prototype.yn=function(){return void 0 !== this.Sf && void 0 !== this.Bg;};b.prototype.gp=function(){return this.qr || this.GK;};Object.defineProperties(b.prototype,{zMb:{get:function(){var a;a=!0;this.H.R5 && (a=this.connected);this.H.Q5 && (a=a && this.pla);return a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{oKb:{get:function(){return void 0 !== this.Gg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pKb:{get:function(){var a;return (null === (a=this.Gg) || void 0 === a?0:a.Sw())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});b.prototype.Oj=function(a){this.bm.EIb(a);"oncomplete" === this.H.NSa && (this.pla=!0);this.ds(a);};b.prototype.Xx=function(a){a.vc || this.bm.QWa(a.stream,a.X,a.Qb);this.bm.AIb(this.va,a.stream,a.vc);this.rE(a);};b.prototype.qL=function(a){a.efa || (this.connected=!0);"onfirstbyte" === this.H.NSa && (this.pla=!0);this.oA(a);};b.prototype.syb=function(a){var b,c;b=this.Pa.$;if(0 === b.length)return {$:[],wpa:0,Pj:0};c=b.RJ(a.da);0 > c && (c=void 0 === b.X || a.da <= b.X?0:b.length);return {$:b.uQb(c),wpa:Math.max(0,b.Wga - c),Pj:b.Pj};};b.prototype.w3a=function(a,b,c,f){var d,h,q,r,k,m,l;r=this.Vc;k=r.N;m=this.I;l=this.xl;if(l >= b.length)return (this.wb("makeRequest nextFragmentIndex:",l,"past fragments length:",b.length),{kp:!1,reason:"insufficientFragments"});if(!this.Sf || !this.Bg)return (this.wb("makeRequest delayed, first or last fragment not set","first:",! !this.Sf,"last:",! !this.Bg),{kp:!1,reason:"noFirstOrLastFragment"});b=this.Neb.rQa(a,l,this,k.yx());null === (d=this.Gg) || void 0 === d?void 0:d.sCb(b,a);b.mp && 1 === m && this.bm.Uda(r.W,b.sa);b.X0a(r.Lo);d=null === (h=this.Reb) || void 0 === h?void 0:h.call(this);this.H.VE && void 0 !== d && (b.VE=this.H.VE);void 0 !== a && (b.location=a.location,b.Zb=a.Nc,b.Sra=a.Vq);if(h=r.N.A6)(m=0 === m && this.H.aOa || 1 === m && this.H.bOa,d=this.H.hub && 1 === this.I && this.H.rp,b.sKb=m && f && 0 < f.AQ,b.B6=h.Qr({UI:r.dj(this.I),G4:this.H.cub?this.H.G4:void 0,X2a:String(B["default"].time.aa()),gJ:m?f:void 0,Tfa:d?{start:b.offset,size:b.ba}:void 0}));B["default"].time.aa();c=this.Pa.Zqb(b,c,a);if(!c.Tu()){this.wb("MediaRequest.open error: " + c.wg + " native: " + c.ri);if(7 === c.readyState)return {kp:!1,reason:"requestAborted"};this.wb("makeRequest caught:",c.wg);k.Fg("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {kp:!1,reason:"openAseMediaRequest"};}null === (q=this.Gg) || void 0 === q?void 0:q.zub(c,b,a);this.bm.FIb(c);this.w6(c.Pb,b.dT);this.gp() && (this.Pa.QQb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",I:this.I}));return {kp:!0,reason:"success"};};return b;})(m.vv);b.Maa=a;I.Ze(d.YB,a);I.Ze(d.bC,a);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.aY=void 0;d=(function(){function a(a){this.parent=a;this.Vd=null;}Object.defineProperties(a.prototype,{XTa:{get:function(){var a,b;return null !== (a=this.DBb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.XTa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pS:{get:function(){var a,b;return null !== (a=this.tIb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.pS;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Fx:{get:function(){var a,b;return null !== (a=this.Sn) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.Fx;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qS:{get:function(){var a;return null === this.Vd?null === (a=this.parent) || void 0 === a?void 0:a.qS:this.Vd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cUa:{get:function(){var a,b;return null !== (a=this.gTb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.cUa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bna:{get:function(){var a,b;return null !== (a=this.hTb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.bna;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.xQb;},enumerable:!1,configurable:!0}});a.prototype.Tb=function(){this.parent=void 0;};a.prototype.Q0a=function(a){this.DBb=a;};a.prototype.jRb=function(a){this.tIb=a;};a.prototype.Z0a=function(a){this.Sn=a;};a.prototype.csa=function(a){this.Vd=a;};a.prototype.wRb=function(a){this.gTb=a;};a.prototype.a1a=function(a){this.hTb=a;};a.prototype.xU=function(a){this.xQb=a;};return a;})();b.aY=d;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(926),b);},function(d,b,a){var c,l,k,m,f,h,q,u,r,v;Object.defineProperty(b,"__esModule",{value:!0});b.hv=void 0;d=a(0);c=d.__importStar(a(8));l=a(34);k=a(70);m=d.__importDefault(a(25));f=d.__importDefault(a(37));h=d.__importDefault(a(931));q=a(17);u=f["default"].assert;r=f["default"].lo;b.hv=v;(function(){var v00;v00=2;for(;v00 !== 5;){switch(v00){case 2:var f0g="1SI";f0g+="Y";f0g+="b";f0g+="ZrNJ";f0g+="Cp9";b.hv=v=function(b,f,d,v,A,g){function B(a,c,d,q,r,k,m){var z00,ta,ha,sa,fa,v,A,y,B,J,R,V,U,E,Z,l;z00=2;for(;z00 !== 43;){switch(z00){case 6:z00=l >= a.U * m * A?14:13;break;case 33:z00=0 < Z?32:31;break;case 17:(ta=a.Ka,ha=v - k,sa=a.$ && a.$.length,fa=c.$ && c.$.length);z00=16;break;case 3:z00=!k || !v?9:13;break;case 9:z00=v && !b.P6?8:6;break;case 29:(sa=Math.min(Z,c.$.length - y),ha.push(c.$.mM.subarray(y,y + sa)),Z-=sa,y+=sa,y >= c.$.length && (y=0));z00=30;break;case 7:return !0;break;case 4:k || v || (a.Dsa=!0);z00=3;break;case 26:c=!1;z00=25;break;case 27:z00=!ta || ta < a.U * E * b.Bla || !sa?26:22;break;case 14:return !0;break;case 8:z00=l >= Math.max(a.W3 * m,a.U * m * A) && a.pu?7:13;break;case 16:u(d.length === B);b.Hna && (V=Math.min(V,ha));z00=27;break;case 44:(q=Math.max(0,Math.min(q,a.$.length - y)),r=Math.max(0,Math.min(r,c.$.length - y - q)),0 < q && ha.push(a.$.mM.subarray(y,y + q)),0 < r && ha.push(c.$.mM.subarray(y + q,y + q + r)));z00=28;break;case 20:var B0g="First s";B0g+="tre";B0g+="am undefined";(v=p - D,A=T - D,y=t,B=Ha.length,J=wa,R=ja,V=ca,U=f.nia,E=f.playbackRate,Z=! !f.EUa);u(a,B0g);z00=18;break;case 25:c && c.result && (I.J6b=c.CS);O={g1:c && c.result,Ka:l,U:a.U};return c && c.result;break;case 22:fa || (c=a);ha=[];z00=35;break;case 13:k=!b.fha || a === d || a.Nc === d.Nc && g?0:(d=a.ib) && d.ai && d.ai.Ca?d.ai.Ca + b.cha * (d.ai.di?Math.sqrt(d.ai.di):0):0;d=Ha;a000.T9b(0);k=a000.P9b(k,D,n);m=Q;z00=20;break;case 28:var O0g="d";O0g+="e";O0g+="faul";O0g+="t";c=0 < q || 0 < r?h[O0g](d.concat(ha),B + q + r,k,v,m,J,A,B,B + q,U,R,ta / E,V,b.WS,b.P6):ta > a.W3?{result:!0,CS:0,pu:!0}:{result:!1,CS:0,pu:!0};z00=25;break;case 35:z00=Z?34:44;break;case 30:z00=0 < Z?29:28;break;case 1:z00=O && !O.g1 && O.Ka >= l && O.U <= a.U?5:4;break;case 5:return !1;break;case 31:Z=r;z00=30;break;case 34:Z=q;z00=33;break;case 18:var A0g="Sec";A0g+="ond stream undefi";A0g+="ned";u(c,A0g);z00=17;break;case 2:(l=a.Ka || 0,v=a.$ && a.$.length,A=k?b.eja:v?b.f1:b.gvb);z00=1;break;case 32:(sa=Math.min(Z,a.$.length - y),ha.push(a.$.mM.subarray(y,y + sa)),Z-=sa,y+=sa,y >= a.$.length && (y=0));z00=33;break;}}}function y(a,b,c){var y00;y00=2;for(;y00 !== 1;){switch(y00){case 2:return a.$?a.$.mha(b,c):0;break;case 4:return a.$?a.$.mha(b,c):1;break;y00=1;break;}}}var x00,Wa,Ta,Ha,ja,Ca,Ua,La,I,J,D,n,T,p,t,fa,wa,Q,ca,O,xa,Na;x00=2;for(;x00 !== 15;){switch(x00){case 17:x00=(A=l.Pg(d.slice(0,v).reverse(),function(a,b){var B00;B00=2;for(;B00 !== 1;){switch(B00){case 2:return B(a,d[Math.max(v - b - 2,0)],J,Ua,La,!0,f.playbackRate);break;}}})) && A.Xf < Ca.Xf || !A?16:10;break;case 12:(Wa=y(A,t,b.Ela),Ta=y(A,t + Wa,b.Ena));x00=11;break;case 7:A.$ && A.$.length || (A.Dsa=!0);(Ha=k.Kh.xMa(f.buffer.$),ja=f.buffer.iq - Ha.ba,Ca=d[0]);x00=14;break;case 13:x00=v + 1 < d.length && fa > b.Hx && (void 0 === this.B3 || this.ena && this.ena > this.B3 || T - this.B3 > b.K3 && fa > b.Gna)?12:10;break;case 18:(Ua=y(A,t,b.Dla),La=y(A,t + Ua,b.Dna));x00=17;break;case 14:x00=B(A,d[Math.max(v - 1,0)],A,xa,Na,!1,f.playbackRate)?13:19;break;case 3:(I=new r(),J=A=d[v],D=f.buffer.X,n=f.buffer.ad,T=f.buffer.$b,p=f.buffer.sk,t=f.xg,fa=p - n,wa=f.state === q.oa.Uc || f.state === q.oa.uj?f.buffer.Pj:0,Q=b.Y3,ca=b.Ix?b.Ix:1E3,xa=y(A,t,b.Cla),Na=y(A,t + xa,b.Cna));x00=9;break;case 11:A=l.Pg(d.slice(v + 1,b.qsa && fa >= b.Wta?d.length:v + 2),function(a,b){var A00;A00=2;for(;A00 !== 1;){switch(A00){case 2:return B(a,d[v + b],J,Wa,Ta,!1,f.playbackRate);break;}}});x00=10;break;case 16:A=Ca;x00=10;break;case 10:I.Sn=A || J;return I;break;case 8:return a.call(this,0,0,d);break;case 9:var E0g="d";E0g+="e";E0g+="f";E0g+="aul";E0g+="t";var j0g="d";j0g+="e";j0g+="f";j0g+="ault";x00=(this.Yf.XTa || m[j0g].GW.oh) === m[E0g].GW.Ocb || !A.Ka?8:7;break;case 19:x00=A.$ && A.$.length?18:10;break;case 2:var Z0g="n";Z0g+="umb";Z0g+="er";var V0g="n";V0g+="u";V0g+="mber";var N0g="p";N0g+="layer m";N0g+="issing fragment";N0g+="Index";var y0g="Mus";y0g+="t";y0g+=" ha";y0g+="ve at least one selected stream";u(!c.Y(v),y0g);u(c.qa(f.xg),N0g);u(V0g === typeof f.buffer.iq);u(Z0g === typeof f.nia);x00=3;break;}}};f0g;v00=5;break;}}function a(a,b,c){var w00;w00=2;for(;w00 !== 4;){switch(w00){case 2:a=new r();a.Sn=c[0];w00=5;break;case 5:return a;break;case 7:return a;break;w00=4;break;}}}})();},function(d,b,a){var k,m,f,h,q,u;function c(a,b,c,f){h(!k.Y(f),"Must have at least one selected stream");return new u(f);}function l(a,b,c,f){h(!k.Y(f),"Must have at least one selected stream");return new u(f);}k=a(8);b=a(37);m=b.console;f=b.debug;h=b.assert;q=b.DK;u=b.lo;d.exports={STARTING:function(a,b,c){var h,r,k,l;function d(c,d){var h,q,r,l;h=c.id;q=c.U;r=c.Ka || 0;l=! !r;f && m.log("Checking feasibility of [" + d + "] " + h + " (" + q + " Kbps)");if(!c.ss)return (f && !c.Cu && m.log("  Not available"),f && c.FA && m.log("  Failed"),!1);if(q > a.HS)return (f && m.log("  Above maxInitAudioBitrate (" + a.HS + " Kbps)"),!1);if(!(q * a.p4 / 8 < b.buffer.iq))return (f && m.log("  audio buffer too small to handle this stream"),!1);if(l){f && m.log("  Have throughput history = " + l + " : available throughput = " + r + " Kbps");if(q * b.playbackRate < r / k)return (f && m.log(" +FEASIBLE: bitrate less than available throughput"),!0);f && m.log(" bitrate requires more than available throughput");return !1;}c=a.VS;b.j3 && (c=Math.max(c,a.US));if(q <= c)return (f && m.log("  Bitrate is less than max of minInitAudioBitrate (" + a.VS + " Kbps) " + (b.j3?" and also minHCInitAudioBitrate (" + a.US + " Kbps)":"")),f && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);f && m.log("  No throughput history");return !1;}h=new u();k=a.V3b || 1;for(l=c.length - 1;0 <= l;--l){r=c[l];if(d(r,l)){h.Vd=l;break;}q(r) && (h.Vd=l);}return h;},BUFFERING:c,REBUFFERING:c,PLAYING:l,PAUSED:l};},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Rr=void 0;c=a(19);l=a(121);k=a(5);b.Rr=function(a,b,d,q,u,r){var f;c.ma && q.trace("AsePlaygraph.createRequestQueue()");f=l.fo.yf.Rr(a,b.u,!0,!1,{eOa:d.eOa},d);f.hg.on(f,"networkfailing",function(){var a;c.ma && q.trace("requestQueue OnNetworkFailing: ",f);f.d1 && (k.assert(f.jR),null === (a=b.Xo) || void 0 === a?void 0:a.Rq(f.jR,void 0,f.wg,f.ri));b.$q();});f.hg.on(f,"error",function(){r(f.wg,f.ri);});f.on("transportreport",u);f.$a();return f;};},function(d,b,a){var c,l,k,m,f,h,q,u,r,v;Object.defineProperty(b,"__esModule",{value:!0});b.$W=void 0;c=a(0);d=a(415);l=a(173);k=c.__importDefault(a(25))["default"].Ta;m=a(233);f=a(17);h=c.__importDefault(a(3));q=a(177);u=a(5);r=a(21);v=a(948);a=(function(a){function b(b,c,f,d,k,m,l,u,A,g,y,n,p){f=a.call(this,d,u,f,d,d,k,r.S.ec(m),l,y,!1,null === n || void 0 === n?void 0:n.Yf,p) || this;f.Ya=b;f.sh=c;f.uf=A;f.ag=g;f.aga=0;f.mA=[];f.Xv=!1;f.Ao.g4a=!1;f.Qhb=u;f.PO=new v.bza(d,f.ag,u,f.G,f.I,f.sh,f.Pa,f.Ya);f.AEb=h["default"].time.aa();f.tEb=void 0;f.XE=u.kma;f.XYa=h["default"].time.aa();c=q.xE(u);b=c.gy;c=c.DT;f.cMb=0 === f.I?b:c;f.xU(k);return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{Aw:{get:function(){return this.Pa.Aw;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dJ:{get:function(){return this.Pa.dJ;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tz:{get:function(){return this.Pa.Tz;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vB:{get:function(){return this.Pa.vB;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hh:{get:function(){return this.PO.hh;},set:function(a){this.PO.hh=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Np:{get:function(){return this.PO.Np;},set:function(a){this.PO.Np=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{H3:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{FCb:{get:function(){return this.wda.da;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{eM:{get:function(){return this.WHa.eM;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bAb:{get:function(){return this.Ya.fea;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tg:{get:function(){return this.Xv;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{MD:{get:function(){return this.BFa;},enumerable:!1,configurable:!0}});b.prototype.reset=function(){this.seeking=void 0;this.connected=this.hh=!1;this.Ao.reset();};b.prototype.fg=function(){this.reset();a.prototype.fg.call(this);};b.prototype.qE=function(a,b){return m.qE(this.uh.I,this.H,a,b,this.Gg,this.Ya.UGb,this.xP);};b.prototype.tn=function(a,b,c,f){return m.tn(this.uh.I,this.H,a,b,c,f);};b.prototype.Wn=function(){this.XE=this.H.kma;};b.prototype.RI=function(){this.Pa.l7();};b.prototype.xU=function(a){var b,c;b=this.Ya;c=this.I;u.assert(a.I === c);u.assert(a.N === this.Kb.N);this.uh=a;this.Kb.N.Hta(c,a.md);0 === c && (this.xP=l.ifa(this.Qhb,a.md[0]));b.ffb(this,a.Mx);this.emb(a.md);this.Yf.xU(a);this.Kb.N.Jga();this.hh=!1;};b.prototype.jja=function(a){var b;b=this.Kb.N.Ag[this.I];if(b && b.stream.pe && (a=b.stream.$.qm(a),-1 !== a))return a;};b.prototype.SF=function(a,b){var c,f,d;if(this.Sf && this.Sf.X === a)(b=this.Sf.index,c=a);else {f=this.Kb.N;d=f.Ag[this.I];if(!d || !d.stream.pe){this.pF=a;this.ZKb=b;return;}c=d.stream.$;this.Sf=this.tn(d.stream,a,void 0,b);if(void 0 === this.Sf){if((b=c.length - 1,c=c.oj(b),this.wb("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",f.Pe.Rf),f.Pe.Rf)){this.pF=a;return;}}else (b=this.Sf.index,c=this.Sf.X);}this.xl=b;this.JZ=c;this.pF=void 0;};b.prototype.aXb=function(a){var b,c;b=this.uh.hs(a);c="verifying streamId: " + a + " stream's track: " + (b?b.Da:"unknown") + " currentTrack: " + this.uh.Xa;return b?!0:(this.sh.yl(c),this.sh.yl("unknown streamId: " + a),!1);};b.prototype.emb=function(a){this.HBb=a.reduce(function(a,b){return b.ss && b.U > a.U?b:a;},a[0]);};b.prototype.v6=function(a){this.Bg=a;};b.prototype.UFb=function(a,b,c,f,d){this.w3a(a,b,f,d);c && ++this.aga;this.Ya.Xi();};b.prototype.Xx=function(b){b.sa && b.X && (this.XE-=b.sa - b.X);a.prototype.Xx.call(this,b);};b.prototype.Oj=function(a){this.XRa(a);this.ds(a);};b.prototype.TVb=function(a){var b;b=h["default"].time.aa();this.XE+=a * (b - this.XYa);this.XYa=b;};b.prototype.pPb=function(){this.XE=this.H.kma;};b.prototype.bJ=function(a){this.Pa.cLa();this.Gg || this.PO.bJ(a,this.Pb);};b.prototype.XRa=function(a){var b,c,f;c=this.H3;f=this.Ya;this.uf.YHa() || (this.sh.Bgb(a.I,a.N.qb,a.stream.track.zD,this.Mr,this.va),null === (b=this.Gg) || void 0 === b?void 0:b.qCb(a),b=c.P.Zd() || 0,f.hb.Yv() || (c=c.Ua(k.VIDEO)) && !c.tg && c.y2 && f.hb.Xka(c),this.bJ(b),this.Ya.WRa(a),this.uf.CY(this) && this.uf.Xi());};b.prototype.ppa=function(a){this.Ya.s2(a);};b.prototype.bLa=function(a,b,c,f,d,h){var q,r;q=this.H;r=q.jj;if(c >= q.jj && (q.Q5 && (r=c + 1E3),q.R5 && !this.connected))return !1;if(this.Gg)return this.Gg.Sw();c=this.hh && 0 === this.Pa.upa && 0 === this.Pa.Zq;return !c && f < r?!1:c?h && 0 === f?(this.wb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.cnb(a,b,d);};b.prototype.iRb=function(a){this.JZ=a;};b.prototype.s6=function(a){this.Xv=!0;this.BFa=a;};b.prototype.Hga=function(){this.Xv=!1;this.BFa=void 0;};b.prototype.cnb=function(a,b,c){if(this.tg || 0 === this.I)return !0;if(void 0 === this.Fx)return !1;b=this.Oeb(b,a);this.track.N.vl.MM(this.track.N.fa,this.track.md);this.uy.aqa([this.Fx],!1,b,this.cMb);a=this.uy.Sw(b,a,c,this.Fx,this.Kb.N.Xo);a.complete?this.s6(a.reason):(this.Hga(),this.TA=a.TA,this.yi=a.yi);return this.tg;};b.prototype.Oeb=function(a,b){var c,d,q,r,k;r=h["default"].pl()[this.I];k=this.Pa.d2();a={iq:r,X:null !== (c=k.Rc) && void 0 !== c?c:0,ad:a,$b:null !== (d=k.BL || a) && void 0 !== d?d:0,sk:null !== (q=k.vQ || a) && void 0 !== q?q:0,Fi:k.Fi,Pj:k.Pj,Gja:k.$.length,$:k.$};"number" !== typeof a.X?(a.X=0,a.$b=0):b === f.ac.cd && a.ad !== a.X && (a.ad=a.X);return a;};return b;})(d.Maa);b.$W=a;},function(d,b,a){var c,l,k,m,f,h,q;Object.defineProperty(b,"__esModule",{value:!0});b.Z7=void 0;c=a(0);d=a(16);l=a(19);k=c.__importDefault(a(3));m=a(9);f=a(950);h=a(174);q=a(951);a=(function(a){function b(){var b;b=null !== a && a.apply(this,arguments) || this;b.JHa=0;b.iea=0;b.IO=0;b.Sca=0;return b;}c.__extends(b,a);b.prototype.$qa=function(b){var c,f;a.prototype.$qa.call(this,b);this.JHa++;this.iea++;this.cIa=k["default"].time.aa();this.XH || (this.XH={Pb:b.Pb,Qb:b.Qb,index:b.index},this.SY || (this.SY=this.XH));c=this.dZ;f=!1;c && 100 > Math.abs(c.Pb - b.Qb) && (this.IO+=b.Pb - c.Pb,this.Sca++,f=!0);f || (this.IO=b.ex,this.Sca=1);this.dZ=b;};b.prototype.stop=function(){a.prototype.stop.call(this);this.IO=this.iea=0;this.XH=void 0;};b.prototype.DQa=function(){var a,b,c,f;a=this.tI;b=a.i0;if(b){f=b.Ua(this.qf);f && f.Pa && (c=f.Pa.Lka());return {RM:c,currentBranch:{sId:b.W && b.W.id,cancelled:b.mk},currentReceivedCount:a && a.qrb,totalReceivedCount:this.JHa,currentState:a && a.trb || "Uninitialized",lastRequestPushed:this.dZ && ({contentEndPts:this.dZ.Pb,fragmentIndex:this.dZ.index}),tslp:this.cIa && k["default"].time.aa() - this.cIa,cpts:this.IO,crq:this.Sca,rslp:this.iea,firstRequestSSPushed:this.XH && ({contentStartPts:this.XH.Qb,fragmentIndex:this.XH.index}),firstRequestPushed:this.SY && ({contentStartPts:this.SY.Qb,fragmentIndex:this.SY.index})};}};return b;})((function(a){function b(b,c,d,h,r,l,u,g,n){var v;v=a.call(this) || this;v.Kf=b;v.qf=c;v.H=h;v.G=r;v.pz=new m.Gt(!1);v.G=m.Fu(k["default"],v.G,"AsePlayerBuffer:");v.tI=new f.mva(v.G,d,c);v.resume();l && u && g && (v.fqa=new q.LCa(c,r,l,v.Kf,l.events,u,g,n));v.Kf.on("requestAppended",function(){v.pz.set(!0);v.emit("requestAppended");});return v;}c.__extends(b,a);Object.defineProperties(b.prototype,{Jq:{get:function(){return this.pz;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JB:{get:function(){return this.Kf.JB;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{I:{get:function(){return this.qf;},enumerable:!1,configurable:!0}});b.prototype.DQa=function(){};b.prototype.resume=function(){l.ma && this.G.trace("resume");this.xsa();};b.prototype.jTa=function(a){return this.Kf.qka() > a;};Object.defineProperties(b.prototype,{Ekb:{get:function(){return this.CH;},enumerable:!1,configurable:!0}});b.prototype.reset=function(a){var b;void 0 === a && (a=!1);l.ma && this.G.trace("reset");this.stop();this.Kf.reset(a);this.pz.set(!1);a || (this.CH=void 0);a || (null === (b=this.fqa) || void 0 === b?void 0:b.reset());};b.prototype.Im=function(a){void 0 === a && (a=!1);this.reset(a);this.xsa(!0);};b.prototype.stop=function(){this.tI.U1a();};b.prototype.close=function(){var a;null === (a=this.fqa) || void 0 === a?void 0:a.close();};b.prototype.Tb=function(){this.stop();this.close();};b.prototype.kT=function(){this.H.q1 && this.Kf.kPa();this.Kf.Vr();};b.prototype.Xvb=function(a){this.Kf.LWa(a,!0);};b.prototype.Rg=function(a){var b;return !(null === (b=this.fqa) || void 0 === b || !b.Rg(a));};b.prototype.xsa=function(a){if(!this.tI.ul || a)(this.tI.yPb(),h.cC.$Db(this.tI,this.u3.bind(this)));};b.prototype.u3=function(a){a.done || this.$qa(a.value);};b.prototype.$qa=function(a){this.Kf.endOfStream?l.ma && this.G.error("Buffer manager has declared EOS, ignoring request",a.toString()):(this.CH?(this.CH.wEb=a.Pb,this.CH.xEb=a.de,this.CH.$Ta=a.vi):this.CH={A5b:a.Qb,B5b:a.Rc,wEb:a.Pb,xEb:a.de,$Ta:a.vi},this.Kf.Dkb(a));};return b;})(d.EventEmitter));b.Z7=a;},function(d,b,a){var c,l,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.qba=void 0;c=a(0);l=a(16);k=a(9);m=a(19);f=a(83);h=k.S.ec(1E3);d=(function(){function a(a,b,c,f,d,q,m,g){var r,u,v;r=this;this.I=a;this.console=b;this.jb=c;this.events=d;this.ah=m;this.YUb=g;this.Gn=[];this.xpa=h.add(k.S.ec(null !== (v=null === (u=q.DU) || void 0 === u?void 0:u.da) && void 0 !== v?v:0));this.listeners=new l.qg();this.listeners.on(m.ta,"clockReset",function(){return r.mpa();});this.listeners.on(f,"requestAppended",function(a){return r.Jq(a.request);});this.zP=!0;this.XQ=m.iJ(function(){return r.Ltb();});this.A5=m.iJ(function(){return r.dNb();});}a.prototype.mpa=function(){this.trace("skipped, scheduler clock " + this.ah.ta.currentTime.Ad());this.zP=!0;this.XQ.Im();};a.prototype.Ltb=function(){var a,b;return c.__generator(this,function(c){switch(c.label){case 0:(this.uF=this.iIb(this.zP),a=this.vWa(),b=this.zP?this.jb.le:null === a || void 0 === a?void 0:a.timestamp,c.label=1);case 1:if(!a)return [3,3];this.trace("queuing task for " + a.nG + (" at player time " + a.timestamp.Ad()) + (" scheduler clock is " + this.ah.ta.currentTime.Ad()));return [4,f.Sl.zV(a.timestamp)];case 2:return (c.Bi(),this.trace("executing task for " + a.nG + (" at player time " + a.timestamp.Ad()) + (" scheduler clock is " + this.ah.ta.currentTime.Ad())),this.zP=!1,this.YNa(a,b),this.uF++,a=this.vWa(),b=null === a || void 0 === a?void 0:a.timestamp,[3,1]);case 3:return [2];}});};a.prototype.vWa=function(){if(void 0 !== this.uF)return this.Gn[this.uF];};a.prototype.iIb=function(a){var b;void 0 === a && (a=!1);for(var c=a?0:null !== (b=this.uF) && void 0 !== b?b:0;c < this.Gn.length;c++){if(this.Gn[c].timestamp.ql(this.jb.le))return a && 0 < c?c - 1:c;}return Math.max(this.Gn.length - 1,0);};a.prototype.dNb=function(){var a,b;return c.__generator(this,function(d){switch(d.label){case 0:if(!(1 < this.Gn.length))return [3,2];a=c.__read(this.Gn,2);b=a[1];this.trace("queuing pruning task for " + b.nG + (" at player time " + this.xpa.add(b.timestamp).Ad()) + (" scheduler clock is " + this.ah.ta.currentTime.Ad()));return [4,f.Sl.zV(this.xpa.add(b.timestamp))];case 1:return (d.Bi(),this.trace("executing pruning task for " + b.nG + (" at player time " + this.xpa.add(b.timestamp).Ad()) + (" scheduler clock is " + this.ah.ta.currentTime.Ad())),this.Gn.shift(),this.uF && this.uF--,[3,0]);case 2:return [2];}});};a.prototype.reset=function(){this.Gn=[];m.ma && this.trace("reset");this.zP=!0;this.y3=void 0;this.uF=0;this.A5.Im();this.XQ.Im();};a.prototype.close=function(){this.XQ.Tb();this.A5.Tb();this.listeners.clear();};a.prototype.Rg=function(a){var b;m.ma && this.trace("canSkip() " + a);if(0 === this.Gn.length)return (m.ma && this.trace("canSkip false, no media sequence"),!1);b=this.Gn[0];return b.timestamp.greaterThan(a)?(m.ma && this.trace("canSkip false, before earliest item at " + b.timestamp),!1):void 0 === this.y3 || this.y3.lessThan(a)?(m.ma && this.trace("canSkip false, later than last appended at " + this.y3),!1):!0;};a.prototype.trace=function(a){m.ma && this.console.trace("PresentationTracker [" + this.I + "] " + this.YUb + ": " + a);};a.prototype.BIa=function(a,b,c){c && (this.y3=c);c=this.Gn.length?this.Gn[this.Gn.length - 1]:void 0;return void 0 === c || c.nG !== a?(this.Gn.push({nG:a,timestamp:b}),this.XQ.state === f.$k.complete && this.XQ.Im(),this.A5.state === f.$k.complete && this.A5.Im(),!0):!1;};return a;})();b.qba=d;},function(d,b,a){var c,l,k,m,f,h,q,u,r,v,A;Object.defineProperty(b,"__esModule",{value:!0});b.p8=void 0;d=a(0);c=d.__importStar(a(8));l=d.__importDefault(a(82));k=d.__importDefault(a(3));m=a(954);f=a(17);h=a(248);q=a(9);u=a(5);r=a(21);v=a(385);A=a(413);a=(function(){function a(a,b,c,f,d,r,m,l,v,A){this.Ya=a;this.sh=b;this.G=c;this.vI=f;this.H=m;this.NY=l;this.rHa=v;this.vR=A;this.wb=this.G.warn.bind(this.G);this.ik=this.G.trace.bind(this.G);this.eg=this.G.log.bind(this.G);this.qh=[];this.sg={};d.Oo?(u.assert(!d.Bl),this.Gca=!0,this.Ugb(d,d.Oo,r)):(this.Zm=this.Zv(d.Bl || "",d,0,void 0,void 0,{},!0),this.Zm.kL=!0,this.Zm.sa=Infinity,this.NZ=[this.Zm]);this.Vc=this.EY(this.Zm,void 0,r);this.Vc.active=!0;a=q.Fu(k["default"],this.G,"BranchQueue::");this.Ri=new h.OV(a);this.Ri.enqueue(this.Vc);this.bea=this.ZO=void 0;}a.Nja=function(a){return "m" + a;};Object.defineProperties(a.prototype,{yx:{get:function(){return ! !this.Gca;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fj:{get:function(){return this.Vc.mk;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ff:{get:function(){return this.Zm;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Sg:{get:function(){return this.Vc.W.id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rrb:{get:function(){return this.Vc.N.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pc:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Lb:{get:function(){return this.qh;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hd:{get:function(){return this.Vc.Hd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ag:{get:function(){return this.Ya.ag;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xi:{get:function(){return this.ZO?this.ZO:this.Lb[0];},enumerable:!1,configurable:!0}});a.prototype.Tb=function(){this.qh.forEach(function(a){a.fg();});this.qh=[];this.Ri.clear();};a.prototype.wf=function(a){return this.sg[a];};a.prototype.mRa=function(){return this.Ri.CQa();};a.prototype.lRa=function(a,b){var c;c=this.sg[a];if(c)return (a=c.wk[b]) && a.weight;this.wb("getSegmentWeight, unknown segment:",a);};a.prototype.Xzb=function(a){var b;b=this.sg[a];if(b)return b.X;this.wb("getSegmentStartPts, unknown segment:",a);};a.prototype.Wzb=function(a){var b;b=this.sg[a];if(!b)this.wb("getSegmentDuration, unknown segment:",a);else if(c.qa(b.sa) && isFinite(b.sa) && c.qa(b.X) && isFinite(b.X))return b.sa - b.X;};a.prototype.Pqa=function(a){var b;b=-1;this.qh.some(function(c,f){return c === a?(b=f,!0):!1;});-1 !== b?this.qh.splice(b,1):this.wb("Unable to find branch:",a,"in branches array");};a.prototype.amb=function(a,b){var c;c=0;this.kGa(a).forEach(function(a){(a=a.gd(b)) && (c+=a.Aw);});return c;};a.prototype.PD=function(a,b){var c;c=0;this.kGa(a).forEach(function(a){(a=a.gd(b)) && (c+=a.Tz);});return c;};a.prototype.gu=function(a,b,c){if(!a.Mb(b))return 0;for(var f=a.Ua(b),f=c?f.$b:f.Mr;void 0 === f;){if(!a.Ef)return 0;a=a.Ef;f=a.Ua(b);f=c?f.$b:f.Mr;}a=this.rHa.Zd();return Math.max(f - a,0);};a.prototype.S1=function(a,b){var c;if(void 0 !== this.H.VE){c=k["default"].pl()[b];a=this.amb(a,b);return c - a;}};a.prototype.ija=function(a){return this.qh.filter(function(b){if(b.N.qb === a)return !0;});};a.prototype.Bvb=function(a,b){return this.cGa(a,!1,b);};a.prototype.Avb=function(a,b){return this.cGa(a,!0,b);};a.prototype.QOb=function(a,b,f){c.me(this.qh,function(c){c.N === a && c.h1a(b,f);});c.me(this.sg,function(c){c.N === a && (c.N=b);});};a.prototype.D_a=function(){var a;a=this;c.me(this.qh,function(b){var c;c=a.Ya.yg(b.N.qb);b.zta(r.S.ec(c.Gu));});};a.prototype.Hl=function(a){var b;b=this;c.me(this.qh,function(c){c.Ua(1).track.md.forEach(function(c){var f;f=v.pfa(c.vg,c.U,a,b.G);l["default"](f,c);});});};a.prototype.cs=function(a,b,c,f){var d;for(;b;){d=b.cs(a,c);if(d)return d;if(f)break;b=b.Ef;}};a.prototype.NMa=function(a){var b,c;b=this;void 0 === a && (a=!1);c=this.qh;a && (c=c.filter(function(a){return a !== b.Vc;}));c.forEach(function(a){a.active=!1;b.Ri.remove(a);});a || this.Ri.clear();return c;};a.prototype.cNb=function(){var a;for(;0 < this.qh.length;){a=this.qh[0];a.Ua(0);a.Ua(1);if(!a.active)break;if(a === this.Vc)break;if(!a.vBb())break;a.fg();this.qh.shift();}};a.prototype.IT=function(a,b,c,f,d){if(c > f){for(c-=f;a;){a.IT(b,c,d);a=a.Ef;}return c;}};a.prototype.SUa=function(a,b){for(var c={vQ:null,BL:null,Rc:null,Pj:0,Fi:0,$:[]};a;){a.d2(c,b);a=a.Ef;}return c;};a.prototype.Gnb=function(a){var b,c,d;b=this.Vc;if(b.FUa)c=b.FUa;else {d=this.Vc.Hd;c=this.EY(b.W,b);f.ie.forEach(function(a){var f;f=c.gd(a);f && (f.SF(0),a=b.gd(a),f.v6(a.Bg));});c.zta(r.S.ec(d + a));b.FUa=c;}this.yH(c,b);};a.prototype.tjb=function(b,c,f){var d,h;u.assert(!b.yx());if(!this.Gca){this.Gca=!0;this.ZO=this.xi;d=this.Zm.id || a.Nja(0);this.Zm.id=d;this.sg[d]=this.Zm;this.Zm.sa=this.Ya.Dyb().FQa();this.Zm.nB=!0;}h=void 0 !== b.Bl?b.Bl:a.Nja(b.qb);b=this.Zv(h,b,c,f,void 0,{},!0);b.nB=!0;this.NZ.forEach(function(a){a.wk={};a.wk[h]={weight:100};a.PQ=h;a.Ys=!1;});this.NZ=[b];};a.prototype.ln=function(a,b){var c,f,d,h;c=this.xi;f=c.FB(b,this.Ya.P);d=c.W;h=c.children[a];if(b){if(!d.wk[a])return (this.Vc.wb("chooseNextSegment, invalid destination:",a,"for current segment:",d.id),!1);if(c.Gj)return c.Gj === a;c.Gj=a;h && c.t1 && this.yH(h,c);return !0;}if(void 0 !== c.Gj)return !1;if(!h)return (f.qWa=!0,!1);f.qWa=!h.zga();this.Ya.jea(void 0,A.kO.jL);c.t1=void 0;c.Gj=a;this.yH(h,c);c.Hia();this.Ya.wP();return !0;};a.prototype.LBb=function(a,b){var f,d,h,q;f=this;q=a.W;b && !a.Gj && (a.Gj=q.PQ,a.FB(!0,this.Ya.P,!0));a.children=Object.create(null);c.me(q.wk,function(b,c){a.Gj && c !== a.Gj || (d=f.sg[c],h=f.ceb(d,a),a.children[c]=h);});a.Gj && (b=a.children[a.Gj]) && this.yH(b,a);a.t1=!0;};a.prototype.SUb=function(){var a;a=0;c.me(this.qh,function(b){f.ie.forEach(function(c){b.Mb(c) && (c=b.gd(c),a+=c.Pa.hn);});});return a;};a.prototype.TTb=function(a,b){var c,f,d;c=this;f=this.Keb(a,b);if(f){f !== this.Vc.W?(this.NMa(),d=this.EY(f,this.Vc,a),d.Ef=void 0,d.Zra(void 0,void 0,!0),this.ddb(this.Vc),this.yH(d,this.Vc)):(this.NMa(!0).forEach(function(a){a.fg();c.Pqa(a);c.Ri.remove(a);}),this.Vc.Dta(a,this.H.X6));f === this.xi.W && (this.xi.qv.shift(),d && (d.qv=this.xi.qv,d.Gj=this.xi.Gj));this.sh.kZ(f,this.Vc.Hd);this.Vc.t1=void 0;}else this.wb("findSegment no segment for manifestIndex:",b);};a.prototype.QUa=function(a,b){var c;c=a.W;b || (b=c.PQ);q.Gra(c.id);a.Gj || (a.Gj=b,a.FB(!0,this.Ya.P,!0));(b=a.children[a.Gj]) && this.yH(b,a);};a.prototype.M0a=function(a,b){if(this.Vc !== a){if(b)for(b=this.Vc;b && b !== a;){b.active=!1;this.Ri.remove(b);b=b.Ef;}this.Vc=a;}};a.prototype.et=function(a,b){var c,d,h,r,k;c=this;if(this.yx){d=this.H;h=this.xi;r=h.W;k=q.Gra(r.id);!h.Gj && !r.Ys && h.Pb - b <= d.Ou && (this.wb(k + "updatePts making fork decision at playerPts:",a,"contentPts:",b),this.QUa(h));}f.ie.forEach(function(a){c.Vc.Mb(a) && c.ag[a].et();});};a.prototype.GIb=function(a,b){var c,f;if(this.yx){c=this.ZO;if(!(this.H.eCb && a && this.bea && a.X === this.bea || (a=a.Pa.Kb,c && a.W.id === c.W.id))){f=null === c || void 0 === c?void 0:c.gd(1);f=null === f || void 0 === f?void 0:f.Bg;this.bea=null === f || void 0 === f?void 0:f.X;this.ZO=a;this.Bdb(c);c=c && c.Vnb(a);this.sh.xgb(a.W,b,c);}}};a.prototype.Poa=function(a,b,c){b.kL || (b.X=this.XQa(a,b.X,!0),c || (b.sa=this.XQa(a,b.sa,!1)),b.kL=!0,!1);};a.prototype.QB=function(a,b){var f;q.Gra(a);f=this.sg[a];f?c.me(f.wk,function(a,c){a.weight=b[c] || 0;}):this.wb("updateChoiceMapEntry, unknown segment:",a);};a.prototype.XQa=function(a,b,c){a=c?a.UOa(b):a.kR(b);if(!a.length)return b;b=a[1];return c?b.X:b.sa;};a.prototype.IGa=function(a,b,c){var f;f=b?c.Pb:c.de;return (b?c.i6:c.Ppa) <= a && a < f;};a.prototype.cGa=function(a,b,f){var r;for(var d=this.Ya,h=this.Vc;h;){if((!c.qa(f) || d.sma(f,h.N.qb)) && this.IGa(a,b,h))return h;h=h.Ef;}if(b)for(var h=Object.keys(this.Vc.children),q=0;q < h.length;q++){r=this.Vc.children[h[q]];if((!c.qa(f) || d.sma(f,r.N.qb)) && this.IGa(a,b,r))return r;}};a.prototype.ceb=function(a,b){var c,d;c=this.EY(a,b);d=c.Zra(b,void 0,this.H.Gqa);f.ie.forEach(function(a){var f,h,q;if(c.Mb(a)){f=c.gd(a);h=b.gd(a);q=d[a];1 === a && c.zta(r.S.ec(h.$b + b.Hd - q));f.SF(q);}});this.sh.kZ(a,c.Hd);return c;};a.prototype.ddb=function(a){for(var b=[a.W.id];a.Ef;){a=a.Ef;b.unshift(a.W.id);}this.wca(a);};a.prototype.wca=function(a){var b,f;b=this;f=a.W;c.me(a.children,function(a){a && b.wca(a);});this.Ri.remove(a);a.fg();this.Pqa(a);this.sh.ugb(f);};a.prototype.yH=function(a,b){var f,d,h,q;f=this;d=b.W;b.N !== a.N && this.Ya.SGa(a.N.qb);a.active=!0;this.Ri.enqueue(a);a.RI();h=k["default"].time.aa();q={};c.me(b.children,function(b){var c,d;if(b){if(b.Ld){c=b.gd(0);d=b.gd(1);b.Ld.UI=[c?c.Po.da:0,d?d.Po.da:0];b.Ld.qtb=h - b.Ld.S2;b.Ld.S2=void 0;q[b.W.id]=b.Ld;}b.W.id !== a.W.id && f.wca(b);}});b.children=Object.create(null);b.children[a.W.id]=a;b.JH=void 0;this.M0a(a);this.sh.vgb(a.W,q);1 < Object.keys(d.wk).length && a.zga();};a.prototype.Bdb=function(a){var b,c;if(a){b=k["default"].time.aa();c=a.qv[0];c && void 0 === c.sJ?c.sJ=b - c.requestTime:c || (this.wb("missing metrics for branch:",a.W.id),c={G6:a.W.id,Rk:!0,sJ:0,Ld:{}},a.qv.unshift(c));void 0 === c.startTime && (c.startTime=b);}};a.prototype.Keb=function(a,b){var f,d,q,r;u.assert(0 <= a);for(var h in this.sg){q=this.sg[h];if(this.Ya.sma(q.N.qb,b)){if(q.X <= a && (Infinity === q.sa || void 0 === q.sa || a < q.sa))return q;r=Math.min(Math.abs(a - q.X),Math.abs(a - q.sa));if(c.Y(f) || r < f)(f=r,d=q);}}return d;};a.prototype.Zv=function(a,b,c,f,d,h,q,r,k){b=new m.DDa(a,b,c,f,d,h,q,r,void 0,k);return this.sg[a]=b;};a.prototype.Ugb=function(a,b,f){var d,h,q;d=this;this.Zm=void 0;this.NZ=[];h=null;q=null;c.me(b.segments,function(b,r){var k,m,l,u,v;k=b.startTimeMs;m=b.endTimeMs;l={};c.me(b.next,function(a,c){l[c]={weight:a.weight || 0,eVb:a.transitionHint || b.transitionHint,j5b:"number" === typeof a.earliestSkipRequestOffset?a.earliestSkipRequestOffset:b.earliestSkipRequestOffset};});u=b.defaultNext;c.Y(u) && (u=Object.keys(l)[0]);v=c.Y(u);u=d.Zv(r,a,k,m,u,l,v,b.exitZones,b.transitionHint);k <= f && (f < m || c.Y(m))?d.Zm=u:k > f && (!h || k < q) && (h=r,q=k);v && d.NZ.push(u);});this.Zm || (this.Zm=h?this.sg[h]:this.sg[b.initialSegment]);};a.prototype.EY=function(a,b,c){var f,d,h,q;f=a.N;d=this.Ya.yg(f.qb);h=d.Gu;q=[];[0,1].forEach(function(a){f.Mb(a) && q.push(d.ap(a));});a=new A.aza(this.Ya,this.H,this.sh,this.G,this,this.NY,this.rHa,this.vI,a,q,h,b,c?r.S.ec(c):void 0,this.vR,this.Ya.ag,this.Ya.Xt);this.edb(a);this.qh.push(a);return a;};a.prototype.edb=function(a){var c;function b(a){c.Ya.emit(a.type,a);}c=this;a.addListener("locationSelected",b);a.addListener("logdata",b);a.addListener("serverSwitch",b);a.addListener("streamSelected",b);a.addListener("lastSegmentPts",b);a.addListener("managerdebugevent",b);a.addListener("requestCreated",function(a){a=a.request;c.Ya.oea(a.I,a.X);});};a.prototype.kGa=function(a){for(var b=[a];a.Ef;){a=a.Ef;b.push(a);}return b;};return a;})();b.p8=a;},function(d,b,a){var m,f,h;function c(a,b,c){this.mB=b;this.lk=c;this.sy=this.cS=this.b5=this.eYa=this.dYa=this.mL=this.md=this.HLb=this.lk=this.Il=this.$b=this.X=this.SB=this.Jp=this.$=this.cTa=this.aQ=void 0;}function l(a,b,c){this.sa=b;this.wTa=c;this.qJa=this.K4a=this.Zt=this.Jp=this.UE=this.ku=void 0;}function k(a,b,f,d,h,k,l){var q;q=new c(0,b,a.lk);a.forEach(function(a){var c,f;c=a.buffer;f=c.$;a.I === m.Ta.AUDIO?q.aQ=f.length?f[0].U:void 0:a.I === m.Ta.VIDEO && (q.cTa=f.length?f[0].U:void 0,q.$=f,q.Jp=c.sk - c.ad,q.SB=c.Fi,q.X=c.ad,q.$b=c.$b,q.Il=a.xg,q.lk=a.lk,q.HLb=b - a.lk,q.md=a.md,q.mL=f.filter(function(a){return q.X <= a.av;}).length);});this.Ci=q;this.Zr=void 0;this.SMa=d;this.fv=h;this.rKa=k;this.Dqa=this.I5=this.rXa=this.xy=this.LI=this.ROa=this.sv=this.md=this.Zr=void 0;this.Kjb=l;this.Tpa={};}m=a(25)["default"];f=a(37).assert;h=a(17).oa;c.prototype.constructor=c;l.prototype.constructor=l;k.prototype.constructor=k;k.prototype.QJ=function(a,b){var c,f,d,q,k,u,g,D,n,R,p,V,E,Z,t,aa,sa,fa,wa,Q,ca;c=this.Ci;f=[];q=a[m.Ta.VIDEO];k=a[m.Ta.AUDIO];if(void 0 === q || void 0 === k)return !1;u=q.buffer;g=k.buffer;D=c.md.filter(function(a){return a.U1();});if(void 0 === u || void 0 === g || void 0 === D || 0 === D.length)return !1;d=new l(0,q.ad,b === h.mf);n=0;R=0;p=0;V=0;Z=c.X;a=a[m.Ta.VIDEO].ad;t=c.$;E=c.mL;for(var ha=0;ha < E;ha++){aa=t[ha];sa=aa.offset;fa=aa.offset + aa.ba - 1;Q=aa.ex;wa=aa.ky;ca=wa + Q;aa && wa <= a && ca > Z && (Q=aa.ex,wa=Math.min(Q,Math.min(a,ca) - Math.max(wa,Z) + 1),V+=wa,n+=wa / Q * (fa - sa + 1),R+=aa.U * wa,p+=aa.rb * wa);}c.dYa=n;c.eYa=V;c.b5=0 < V?R / V:0;c.VKb=0 < V?p / V:0;c.cS || (c.cS=0,D.some(function(a,b){if(a.U === c.cTa)return (c.cS=b,!0);}));D.forEach(function(a){var b,h;a=a.U1();b=[];c.sy || (c.sy=a.qm(c.X,void 0,!0));d.ku || (d.ku=a.qm(d.sa,void 0,!0),d.UE=a.length - 1);c.Il !== c.sy + c.mL && (c.Il=c.sy + c.mL);E=Math.min(d.UE,d.ku + 1);for(var q=c.sy;q <= E;q++){h=a.get(q);b[q]=h;}f.push(b);});b === h.mf && (d.Jp=u.sk - u.ad,d.Zt=g.sk - g.ad,d.K4a=q.FZa,d.qJa=k.FZa);this.Zr=d;this.md=D;this.sv=f;return this.ROa=!0;};k.prototype.ox=function(){var a,b,c,d,h,k,m,l,g,D,n,R,V,E,Z,t;if(this.ij)return this.ij;b=this.xy;d=this.Ci;a=this.Zr;h=this.md;k=this.rXa;R=this.Kjb;f(void 0 !== b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace && 0 === b.trace.length || void 0 === b.timestamp)(a.wTa?(g=!1,m=!0):a.ku - d.sy + 1 <= d.mL?m=g=!0:(g=!0,m=!1),l=!0);if(k){D=k.c3;n=k.Z0;for(var p=0;p < R.length;p++){c=R[p];(b=k[c]) && b.Moa && (m=!0);}}a={bst:d.lk,pst:d.mB,s:d.sy,e:a.ku,prebuf:d.mL,brsi:d.Il,pbdlbytes:d.dYa,pbdur:d.eYa,pbtwbr:d.b5,pbvmaf:d.VKb};this.fv && (a.fragmentsPrebuffered=d.$);l && (a.nt=l);m && (a.nd=m);D && (a.invalid=D);n && (a.exception=n);this.Dqa && (a.rr=this.Dqa);this.I5 && (a.ra=this.I5);if(!m && !D && !n && (this.SMa || this.fv)){a.bitrate=h.map(function(a){return a.U;});b=this.xy;c=b.trace;V=[];E=0;c.forEach(function(a){a=Number(a).toFixed(0);V.push(a - E);E=a;});a.tput={ts:b.timestamp,trace:V,bkms:b.Jw};}if(m || l || D || n)a.feasible=g;else for((a.sols={},a.elapsed=k.N0,p=0);p < R.length;p++){c=R[p];b=k[c];m={};if(b && b.Ep){m.algelapsed=b.Jjb;m.maxHeapTotal=b.Nx;m.f=b && b.MA || !1;m.dltwbr=b.wNa;m.dlvmaf=b.zNa;m.dlvdur=b.yNa;m.dlvbytes=b.xNa;m.dlabytes=b.vNa;if(this.SMa || this.fv){Z=b.Ep.filter(function(a){return a;}).map(function(a){return a.Vd;});E=0;t=[];Z.forEach(function(a){t.push(a - E);E=a;});m.strmsel=t;}if(this.fv){l=[];g=this.Ci.Il;for(var ha in Z){D=Z[ha];n=this.sv[D][g];n.Xf=D;l.push(n);g++;}m.fragsel=l;m.streamList=this.md;m.pause_dlnd_sec=b.Ep.filter(function(a){return a;}).map(function(a){return a.ypa;});m.buffer_sec=b.Ep.filter(function(a){return a;}).map(function(a){return a.$fa;});m.buffer_kb=b.Ep.filter(function(a){return a;}).map(function(a){return a.Zfa;});m.buffer_frags=b.Ep.filter(function(a){return a;}).map(function(a){return a.vKa;});m.elapsed_secs=b.Ep.filter(function(a){return a;}).map(function(a){return a.SNa;});m.throughput=b.Ep.filter(function(a){return a;}).map(function(a){return a.Ka;});}}a.sols[c]=m;}return this.ij=a;};k.prototype.Lvb=function(a){var f;if(void 0 !== this.Tpa[a])return this.Tpa[a];for(var b=this.sv[this.Ci.cS],c=0;c < b.length;c++){f=b[c];if(f && f.X <= a && f.X + f.duration > a)return this.Tpa[a]=f;}throw Error("findPlayingFragment: missing");};d.exports=k;},function(d,b,a){var k;function c(a,b,c){this.ba=a;this.Fl=b;this.yF=c;}function l(a,b){this.Lna=b;void 0 === b && (this.Lna=!0);this.Ej=a;this.tdb();}k=a(5).assert;c.prototype.constructor=c;c.prototype.qx=function(){return 8 * this.ba / 1E3 / this.Fl;};l.prototype.constructor=l;l.prototype.kq=function(a,b,c,d,k){void 0 === b && (b=0);void 0 === c && (c=a.kK());void 0 === d && (d=0);void 0 === k && (k=a.Ej.length);for(var f=[],h,q=d;q < k;q++){d=[];for(var m=b;m < c;m++){h=a.Ej[q][m];d.push(h);}f.push(d);}return new l(f,a.Lna);};l.prototype.tdb=function(){var a,b;a=this.Ej[0].length;for(b in this.Ej.slice(1)){k(this.Ej[b].length === a,"expect this.chunkss[chunksIndex].length === n but got " + this.Ej[b].length + " and " + a);}this.Lna && this.udb();this.vdb();};l.prototype.kK=function(){return this.Ej[0].length;};l.prototype.udb=function(){for(var a=0;a < this.Ej.length - 1;a++){for(var b=0;b < this.kK();b++){k(this.Ej[a][b].ba <= this.Ej[a + 1][b].ba,"Chunk size for epoch " + b + " is not monotonic");}}};l.prototype.vdb=function(){for(var a=0;a < this.Ej.length - 1;a++){for(var b=0;b < this.kK();b++){k(1E-8 > Math.abs(this.Ej[a][b].Fl - this.Ej[a + 1][b].Fl),"Chunk duration for epoch " + b + " is not consistent");}}};l.prototype.NAb=function(){var a;a=[];this.Ej[0].forEach(function(b){a.push(b.Fl);});return a;};d.exports={Y6a:c,Z6a:l};},function(d,b,a){var m;function c(){}function l(a,b,c){void 0 === c && (c=!1);m(a.length === b.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8 < k(a),"bitrate zero, won't be able to send anything.");this.Jz=a;this.ONa=b;this.repeat=c;this.ml=this.qn=0;}function k(a){return a.reduce(function(a,b){return a + b;},0);}m=a(5).assert;c.prototype=Error();l.prototype.constructor=l;l.prototype.kq=function(){var a;a=new l(this.Jz,this.ONa,this.repeat);a.qn=this.qn;a.ml=this.ml;return a;};l.prototype.ila=function(){return this.Jz[this.qn % this.Jz.length];};l.prototype.AA=function(){return this.ONa[this.qn % this.Jz.length];};l.prototype.ltb=function(a){m(0 < a,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.qn && this.qn < this.Jz.length))throw new c();m(this.ml < this.AA(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b;;){b=this.AA() - this.ml;b=a < b?a:b;a-=b;this.ml+=b;if(this.ml < this.AA())break;this.ml-=this.AA();this.qn+=1;if(!this.repeat && this.qn >= this.Jz.length){if(0 < a)throw new c();break;}}};l.prototype.bYa=function(a){this.ltb(a);};l.prototype.mtb=function(a){m(0 < a,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.qn && this.qn < this.Jz.length))throw new c();m(this.ml < this.AA(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b,f=0;;){b=this.AA() - this.ml;b=a < b * this.ila()?a / this.ila():b;a-=this.ila() * b;f+=b;this.ml+=b;if(this.ml < this.AA())return f;this.ml-=this.AA();this.qn+=1;if(!this.repeat && this.qn >= this.Jz.length){if(0 < a)throw new c();return f;}}};d.exports={Fcb:l,Gcb:c};},function(d){var q,u,r,v,A,g;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(a){if(q === setTimeout)return setTimeout(a,0);if((q === b || !q) && setTimeout)return (q=setTimeout,setTimeout(a,0));try{return q(a,0);}catch(I){try{return q.call(null,a,0);}catch(J){return q.call(this,a,0);}}}function l(b){if(u === clearTimeout)clearTimeout(b);else if(u !== a && u || !clearTimeout)try{u(b);}catch(I){try{u.call(null,b);}catch(J){u.call(this,b);}}else (u=clearTimeout,clearTimeout(b));}function k(){v && A && (v=!1,A.length?r=A.concat(r):g=-1,r.length && m());}function m(){var a;if(!v){a=c(k);v=!0;for(var b=r.length;b;){A=r;for(r=[];++g < b;){A && A[g].zB();}g=-1;b=r.length;}A=null;v=!1;l(a);}}function f(a,b){this.Ewb=a;this.Io=b;}function h(){}d=d.exports={};try{q="function" === typeof setTimeout?setTimeout:b;}catch(B){q=b;}try{u="function" === typeof clearTimeout?clearTimeout:a;}catch(B){u=a;}r=[];v=!1;g=-1;d.E7b=function(a){var b;b=Array(arguments.length - 1);if(1 < arguments.length)for(var d=1;d < arguments.length;d++){b[d - 1]=arguments[d];}r.push(new f(a,b));1 !== r.length || v || c(m);};f.prototype.zB=function(){this.Ewb.apply(null,this.Io);};d.title="browser";d.g4b=!0;d.p5b={};d.U3b=[];d.version="";d.x9b={};d.on=h;d.addListener=h;d.once=h;d.oL=h;d.removeListener=h;d.removeAllListeners=h;d.emit=h;d.UYa=h;d.yMb=h;d.listeners=function(){return [];};d.c4b=function(){throw Error("process.binding is not supported");};d.L4b=function(){return "/";};d.u4b=function(){throw Error("process.chdir is not supported");};d.o9b=function(){return 0;};},function(d,b,a){var c,l,k,m,f,h,q,u,r,v,A,g,B,I,J;Object.defineProperty(b,"__esModule",{value:!0});b.ucb=b.U$=b.wcb=b.$Da=void 0;d=a(0);c=d.__importStar(a(8));l=d.__importDefault(a(3));k=d.__importDefault(a(37))["default"].DK;m=d.__importStar(a(9)).Fu;f=d.__importDefault(a(425));h=a(409);q=a(225);u=a(17);r=a(34);v=a(5);A=a(92);g=a(250);a=(function(){function a(a,b,c,f,d,h,q,r,k,m,l){var u;u=this;this.G=a;this.Jf=b;this.H=c;this.Mb=f;this.P=d;this.gM=h;this.kb=q;this.bb=r;this.uf=k;this.x_=m;this.lD=l;this.HZ=[];this.tea=[];this.YGa=[];this.vFa=void 0;[0,1].forEach(function(a){u.Mb(a) && (u.HZ[a]=new J(u.G,a),u.tea[a]=new B(a),u.YGa[a]=new I(a));});this.z4a=new A.wH(this.G);this.UM=A.XD(this.H,this.z4a);this.Efa=A.WD();this.XC=void 0;}Object.defineProperties(a.prototype,{Ye:{get:function(){return this.HZ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ty:{get:function(){return this.tea;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mu:{get:function(){return this.YGa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Gw:{get:function(){return this.vFa;},set:function(a){this.vFa=a;},enumerable:!1,configurable:!0}});a.prototype.Hl=function(a,b){this.z4a.Hl(a,b);};a.prototype.Kna=function(a){var b,f,d,h,q,r;b=this.H;f=a.I;d=l["default"].pl()[f];h=b.xWb?0 === f?b.XP:b.qV:1 === f?b.XP:b.qV;q=this.P.rd();r=this.P.Zd();b=a.Pa.Kb;f=this.x_.SUa(b,f);d={iq:d,X:f.Rc,ad:r,$b:f.BL || r,sk:f.vQ || r,Fi:f.Fi,Pj:f.Pj,Gja:f.$.length,$:[]};h={state:q,OA:this.P.OA(),xg:a.xl,buffer:d,nia:h,EUa:! !this.gM.BS,YQ:! !this.gM.Sq,hn:this.kb && this.kb.hn,PT:a.bAb,playbackRate:this.P.un()};void 0 === h.xg && (h.xg=a.jja(d.$b));h.lQ=b.lQ;d.$=f.$;c.qa(d.X)?a.seeking && d.ad != d.X && (d.ad=d.X):(d.X=0,d.$b=0);this.Jf.$mb(h);this.Jf.sjb(h);return h;};a.prototype.Zmb=function(a,b,c){var r,m;a=this.HZ[a];for(var f=a.ym,d="manifest",h=0,q=b.length - 1;0 <= q;q--){r=b[q];m=r.U;if(k(r)){h=Math.max(h,m);break;}else this.H.P6 && !r.pu?d="bc":r.Cu?r.FA && (d="hf"):d="av";}if(void 0 === f || h !== f)(a.ym=h,this.bb.BIb(f,h,d,c));};a.prototype.Zzb=function(a){return this.Xka(a).Xf;};a.prototype.Xka=function(a){var b,f,d,q,k,m,l,A,y,B,I,J,D,n,T,p,t,ja;b=this.H;f=a.I;d=1 == f;q=0;m=this.HZ[f];l=this.tea[f];if(!m.Zg)return {Xf:void 0};A=this.Kna(a);y=a.Yf;B=y.Fx;I=a.H3.N;J=a.track.md;if(!I.vl.MM(I.fa,J))return (a.nf("location selector did not find any urls"),{Xf:void 0});D=g.o5(A.state);n=d?this.UM:this.Efa;try{T=n.ol(J,D);}catch(Ca){this.G.error("StreamFilters: filterStreams: " + Ca);T=[J[0]];}0 === T.length && (this.G.error("StreamFilters: empty list"),T=[J[0]]);if(this.lD.pq && (a.mA.length !== T.length || 0 < r.Er(a.mA,T).length || 0 < r.Er(T,a.mA).length)){try{this.XC && this.zvb();}catch(Ca){this.bb.Bm("Hindsight: Error when handling maxbitrate chagned: " + Ca);}a.mA=T;}D=B?B.Xf:m.vja;try{if(B && (q=B.U,B && !B.track.equals(y.track))){p=h.kja(T,q) || 0;k=T[p];if(B.U !== k.U || 1 === f)A.state=u.oa.oh;B=k;D=J.indexOf(k);}}catch(Ca){this.G.error("StreamFilters: track change: " + Ca);}if(!d && (q=b.DM,!(q && 0 < q.length) && D && J[D] && B && B.location === J[D].location))return {Xf:D};try{ja=this.Jf.xE(f);t=a.uy.l6(A,T,void 0,ja,m.Zg.config.Wu,I.Xo);if(!t)return (a.nf("stream selector did not find a stream"),{Xf:void 0});}catch(Ca){this.G.error("StreamFilters: stream selector: " + Ca);t={Vd:0};}t.Vd=J.indexOf(T[t.Vd]);this.gM.Sq && this.gM.Sq.ujb(a.I,t,J);d && this.Zmb(f,T,a.$b);A=t.Vd;B=J[A];T=B.U;A != D && (d && b.FJ && this.uf.kFa(a,T),d || this.Jf.iM(T));c.qa(m.vja) || (m.vja=A);a.tg || (t.tg?(v.assert(void 0 !== t.y_),a.s6(t.y_),l.Jr=t.y_):(a.TA=t.TA,a.IF=t.IF,a.yi=t.yi));this.Yv();if(d)if(t.ax)I.jM(t.ax);else if(!I.w2() && !b.y1a)for(a=0;a < J.length;++a){if((b=J[a],b.ss && !I.Jj(f,b.Da))){I.jM([b.Da]);break;}}t.RJa && this.bb.IIb(t.RJa);return {Da:B.Da,Xf:A,Ds:t.Ds};};a.prototype.Yv=function(){var a,b,c,f,d,h;c=this.Ye[0];f=this.Ye[1];d=this.ty[1];h=this.ty[0];c=this.x_.pc.Umb(null !== (a=null === f || void 0 === f?void 0:f.Is) && void 0 !== a?a:0,null !== (b=null === c || void 0 === c?void 0:c.Is) && void 0 !== b?b:0,this.Gw,this.gM.tF);c.Jr && (this.gM.Nl && d?d.Jr=c.Jr:h && (h.Jr=c.Jr));return c.tg;};a.prototype.hja=function(a,b){var c,f,d,h;c=this;if(this.XC){f=this.XC;d=this.P.Zd();h=[];b && (d=b.sa);q.ie.forEach(function(b){var f,q;f=c.x_.pc.gd(b);if(f){q=c.Kna(f);q.I=b;q.ad=d;a === u.oa.mf && (q.FZa=f.Pa.lfa(d));h[b]=q;}});f.ROa || f.QJ(h,a) || this.era();return f;}};a.prototype.zvb=function(){var a,b;a=this.XC;b=this.H;a && (this.hja(void 0),a && !a.LI && this.Jf.tqa.Via(a));this.tMa(b);};a.prototype.era=function(){this.XC=void 0;};a.prototype.XVb=function(a){var b,c,f;b=a.oldValue;a=a.newValue;c=this.XC;f=this.H;a === u.oa.Uc && b !== u.oa.Uc?(c && this.G.warn("override an existing play segment!"),this.tMa(f,b,!0)):a !== u.oa.Uc && b === u.oa.Uc && c && (this.hja(a),c && !c.LI && this.Jf.tqa.Via(c),this.era());};a.prototype.tMa=function(a,b,c){var d,h,r;d=this;h=[];q.ie.forEach(function(a){var b,f,q;b=d.x_.pc.gd(a);if(b){f=d.Kna(b);if(c){q=d.Ye[a];q.ssa?(f.lk=q.ssa,q.ssa=void 0):f.lk=q.lk;}else f.lk=l["default"].time.aa();f.md=b.mA;f.I=a;h[a]=f;}});r=l["default"].pl();r={N3b:r[0],x4a:r[1],Y6b:a.TK,Px:a.Px};this.XC=new f["default"](h,l["default"].time.aa(),b,this.lD.$Q,a.fv,r,a.E2);};return a;})();b.$Da=a;B=(function(){function a(a){this.I=a;this.nQ=this.sq=this.wx=this.Jr=this.Aq=void 0;}a.prototype.bWb=function(a,b,c,f){this.Aq=a?a:this.Aq;this.Jr=this.Jr;this.wx=b?b:this.wx;this.sq=c?c:this.sq;this.ACb=f?f:this.ACb;};return a;})();b.wcb=B;I=(function(){return function(a){this.I=a;this.D3=this.fna=this.D3=this.cna=this.OE=void 0;};})();b.U$=I;J=(function(){return function(a,b){this.I=b;this.G=m(l["default"],a,"[" + b + "]");this.nf=this.G.error.bind(this.G);this.wb=this.G.warn.bind(this.G);this.ik=this.G.trace.bind(this.G);this.eg=this.G.log.bind(this.G);this.SH=this.G.debug.bind(this.G);this.vja=this.lk=this.dm=this.Zg=void 0;this.BT=this.Is=0;this.WM=!1;this.ym=void 0;};})();b.ucb=J;},function(d,b,a){var A,g,B,I,J,D,n,p,U,V,E,Z,t;function c(){}function l(a,b){var f,d,q,r;f=A.uc(b)?b:c;this.H=a || ({});(function(a,b,c){this.Vi[a].Xd[b]=c;}).bind(this);(function(a,b){return this.Vi[a].Xd?this.Vi[a].Xd[b]:void 0;}).bind(this);this.on=this.addEventListener=Z.addEventListener;this.removeEventListener=Z.removeEventListener;this.emit=this.Ma=a.o5b?Z.Ma:c;d=I.qqb(a);q=this.H.dailyDiskCacheWriteLimit;if(d){this.Pt=d;r=u(a.foa || t,I.Wxb());this.rw=function(a){return A.Y(r) || null === r || void 0 === this.Vi[a]?!1:!A.Y(r[a]);};r?(this.Vi={},b=g.Promise.all(Object.keys(r).map(function(b){return new g.Promise(function(c,f){var h;h=r[b];h.l4a=a.l4a;new J(b,d,h,function(a,b){a?f(a):c(b);},q);});})).then((function(a){a.map((function(a){var b;b=a.qz;this.Vi[b]=a;r[b].twb=r[b].iq - a.qw;this.Vi[b].on(J.he.REPLACE,(function(a){a=a || ({});a.partition=b;a.type="save";this.Ma("mediacache",a);}).bind(this));this.Vi[b].on(J.he.cFa,(function(a){a=a || ({});a.partition=b;a.type="save";this.Ma("mediacache",a);}).bind(this));this.Vi[b].on(J.he.ERROR,(function(a){a=a || ({});a.partition=b;a.type=J.he.ERROR;this.Ma("mediacache-error",a);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(a){h(d,g.storage.fH,Object.keys(r));return a;}).bind(this)).then((function(a){Object.keys(a.Vi).map(function(b){a.Vi[b].hka().map(function(c){a["delete"](b,c);});});a.wm=!0;f(null,a);}).bind(this))["catch"]((function(a){B.error("Failed to initialize media cache ",a);this.JE=V.jwa;f(this.JE,this);}).bind(this)),E.Zu(b)):(this.JE=V.f$a,f(this.JE,this));}else (this.JE=V.jwa,f(this.JE,this));}function k(a,b,c,f,d,h){var q;q=h?"mediacache-error":"mediacache";b={partition:c,type:b,resource:f,time:g.time.now()};h && (b.error=h);d && (A.qa(d.duration) && (b.duration=d.duration),A.qa(d.Mw) && (b.bytesRead=d.Mw));try{a.Ma(q,b);}catch(O){B.warn("caught exception while emitting basic event",O);}}function m(a,b,c,f,d){var h;h=d?"mediacache-error":"mediacache";b={partition:c,type:b,resources:f,time:g.time.now()};d && (b.error=d);try{a.Ma(h,b);}catch(ca){B.warn("caught exception while emitting basic event",ca);}}function f(a){return !D.yK(a) && !p.pDb(a);}function h(a,b,f){a.query(b,"",function(d,h){d || Object.keys(h).filter(function(a){return 0 > f.indexOf(a.slice(0,a.indexOf(".")));}).map(function(f){a.remove(b,f,c);});});}function q(a,b,c){var d,h;function f(b){a["delete"](d,function(f){f?c(f):(delete a.Xd[h],f=Object.keys(b.resourceIndex),f=g.Promise.all(f.map(function(b){return new g.Promise(function(c,f){a["delete"](b,function(a){a?f(a):c(b);});});})).then(function(){c();},function(a){c(a);}),E.Zu(f));});}D.yK(b)?(d=b,h=D.c1(b)):(d=D.pha(b),h=b);(b=a.Xd[h])?f(b):a.read(d,function(a,b){a?c(a):f(b);});}function u(a,b){var c,f,d;c={};f=a.partitions.reduce(function(a,b){return a + b.capacity;},0);d=b / f;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].iq=Math.floor(d * a.capacity);c[b].vrb=a.dailyWriteFactor || 1;c[b].T7b=a.owner;c[b].Kub=a.evictionPolicy;});return c;}function r(a,b,c){if(c)return p.Ssb(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function v(a,b,c,f,d,h,q,r,k,m,l){return function(u,v){u?A.isArray(u)?(v=u.map(function(a){return a.error;}),v.some(function(a){return a.code === V.BG.code;}) && !v.some(function(a){return a.code === V.mY.code;})?l(m,u,function(){k.save(b,c,f,d,h,q);}):(m["delete"](r),delete m.Xd[c],h({error:u[0].error,Es:u[0].Es,type:u[0].type,SIa:u}))):h({error:u,Es:b,type:"save"}):(u=v.items.filter(function(b){return 0 <= Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a + b.t3;},0),m.Xd[c].$0a(u),u={twb:v.Ak,N4b:v.oJ,Dj:0,items:v},0 < v.Dj && (u.Dj=v.Dj),0 < v.duration && (u.duration=v.duration),h(null,u));};}A=a(8);g=a(123);B=new g.Console("MEDIACACHE","media|asejs");I=a(968);J=a(969);D=a(431);n=a(124);p=a(976);U=a(977);V=a(254);E=a(255);Z=a(432).EventEmitter;t={X7b:[]};l.prototype.zF=function(a,b,d){var h;h=A.uc(d)?d:c;this.rw(a)?this.Vi[a].query(b,function(a,b){a?(B.error("Failed to query resources",a),h([])):h(b.filter(f));}):h([]);};l.prototype.read=function(a,b,f){var d,h,q,r;d=A.uc(f)?f:c;if(this.rw(a)){h=this.Vi[a];q=h.Xd[b];if(!D.yK(b) && this.H.PGb){r=(function(c){h.G5(Object.keys(c),(function(c,f,h){c?d(V.qH.Kp("Failed to read " + b,c)):(k(this,"read",a,b,h),d(null,p.LCb(f)));}).bind(this),c);}).bind(this);q?r(q.resourceIndex):this.zNb(a,b,function(a,c){a?d(V.qH.Kp("Failed to read " + b,a)):r(c.resourceIndex);});}else h.read(b,(function(c,f,h){c?d(V.qH.Kp("Failed to read " + b,c)):(q && q.convertToBinaryData && (f=U.tob(f)),k(this,"read",a,b,h),d(null,f));}).bind(this));}else d(V.Oy);};l.prototype.G5=function(a,b,f){var d,h;d=A.uc(f)?f:c;if(this.rw(a)){h={};b=g.Promise.all(b.map((function(b){return new g.Promise((function(c,f){this.read(a,b,function(a,d){a?(d={},d[b]=a,f(d)):(h[b]=d,c());});}).bind(this));}).bind(this))).then(function(){d(null,h);},function(a){d(a);});E.Zu(b);}else d(V.Oy);};l.prototype.Z_a=function(a,b,f){var d;d=A.uc(f)?f:c;this.rw(a)?"[object Object]" !== Object.prototype.toString.call(b)?d(V.lY.Kp("items must be a map of keys to objects")):(f=new g.Promise((function(c){var f,d;f=this.Vi[a].hka();d=Object.keys(b);(f=f.filter(function(a){return -1 === d.indexOf(a);})) && 0 < f.length?this.gNa(a,f,function(){c();}):c();}).bind(this)).then((function(){return g.Promise.all(Object.keys(b).map((function(c){return new g.Promise((function(f,d){this.save(a,c,b[c].Bp,b[c].Td,function(a,b){a?(B.error("Received an error saving",c,a),d(a)):f(b);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(c){var f,h,q;try{f=Number.MAX_VALUE;h=Number.MAX_VALUE;q=c.reduce(function(a,b){b.Ak && b.Ak < f && (f=b.Ak);b.oJ && b.oJ < h && (h=b.oJ);f < Number.MAX_VALUE && (a.freeSize=f);h < Number.MAX_VALUE && (a.dailyBytesRemaining=h);A.qa(b.Dj) && (a.bytesWritten+=b.Dj);A.qa(b.duration) && (a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(b),time:g.time.now(),bytesWritten:0,duration:0});this.Ma("mediacache",q);d(null,q);}catch(xa){d(err);}}).bind(this),(function(b){A.isArray(b.SIa)?b.SIa.forEach((function(b){this.Ma("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.aU});}).bind(this)):this.Ma("mediacache-error",{partition:a,type:"saveMultiple",error:b});d(b);}).bind(this)),E.Zu(f)):(A.uc(f)?f:c)(V.Oy);};l.prototype.save=function(a,b,f,d,h,q){var l,u,y,I,J,p,T,R,E;l=A.uc(h)?h:c;if(this.rw(a)){u=this.Vi[a];y=D.pha(b);h=u.hka();h=h.filter(function(a){return a !== b;});if(A.Y(d) || A.ab(d) || !A.qa(d.lifespan))l(V.G$a);else {I=r(b,f,this.H.PGb);J=u.Xd[b] || ({});p=J.resourceIndex;p && Object.keys(p).map(function(a){A.Y(I[a]) && u["delete"](a);});d.convertToBinaryData && (f=U.uob(I),I=r(b,f,!1));p=g.time.now();T={};T.partition=a;T.resourceIndex=Object.keys(I).reduce(function(a,b){a[b]=n.ela(I[b]);return a;},{});T.creationTime=J.creationTime || p;T.lastRefresh=p;T.lifespan=d.lifespan;T.lastMetadataUpdate=p;T.size=J.size;T.convertToBinaryData=d.convertToBinaryData;R=(function(a,c,f){a.jsb((function(d,h){d && B.error("Evicting","Failed to delete some orphaned records",d);h.Iqa?f():(d=a.jyb())?this["delete"](a.getName(),d,(function(d){d?(q || (A.isArray(c)?c.forEach((function(b){m(this,"save",a.getName,b.aU,b.error);}).bind(this)):k(this,"save",a.getName(),b,void 0,c)),l(c)):f();}).bind(this)):l(V.BG);}).bind(this));}).bind(this);E=(function(){var a,b,c;a=this.Vi;b=0;c=g.time.now();if(!A.Y(a))for(var f in a){b+=a[f].sxb(c);}return b;}).bind(this);this.gNa(a,h,(function(){u.replace(y,T,(function(c,h){h?(u.Xd[b]=D.Jja(T),u.ROb(I,v(I,a,b,f,d,l,q,y,this,u,R),q,E)):c.code === V.BG.code?R(u,c,(function(){this.save(a,b,f,d,l,q);}).bind(this)):l(c);}).bind(this),q,E);}).bind(this));}}else l(V.Oy);};l.prototype["delete"]=function(a,b,f){var d;d=A.uc(f)?f:c;this.rw(a)?q(this.Vi[a],b,(function(c){k(this,"delete",a,b,void 0,c);d(c);}).bind(this)):d(V.Oy);};l.prototype.gNa=function(a,b,f){var d,h;d=A.uc(f)?f:c;if(this.rw(a)){h=this.Vi[a];f=g.Promise.all(b.map((function(a){return new g.Promise((function(b){q(h,a,(function(c){b({ia:A.Y(c),error:c,Bp:a});}).bind(this));}).bind(this));}).bind(this))).then((function(b){var r,k;for(var c=[],f=[],h=[],q=0;q < b.length;q++){r=b[q];r.ia?c.push(r.Bp):r.error && f.push(r);}0 < c.length && m(this,"delete",a,c);0 < f.length && (h=f.map(function(a){return a.Bp;}),b=E.URa(f),k=b[0],b.forEach((function(b){B.error("Failed to delete resources ",b.error,b.aU);m(this,"delete",a,b.aU,b.error);}).bind(this)));b={};b.r8b=c;0 < h.length && (b.s8b=h);k?d(k,b):d(void 0,b);}).bind(this),(function(c){m(this,"delete",a,b,c);d(c);}).bind(this));E.Zu(f);}else d(V.Oy);};l.prototype.clear=function(a,b){var d;d=A.uc(b)?b:c;this.rw(a)?this.Vi[a].clear(function(a){d(a.filter(f));}):d(V.Oy);};l.prototype.zNb=function(a,b,f){var d,h;d=A.uc(f)?f:c;if(this.rw(a)){f=D.pha(b);h=this.Vi[a];h.read(f,function(a,c){var f;if(a)d(V.H$a);else {f=D.Jja(c) || ({});h.aRa(Object.keys(f.hra),function(a){f.size=a;(a=h.Xd[b]) && (f.lastMetadataUpdate && a.lastMetadataUpdate && a.lastMetadataUpdate <= f.lastMetadataUpdate?h.Xd[b]=f:a.lastMetadataUpdate && (a.lastMetadataUpdate > f.lastMetadataUpdate || A.Y(f.lastMetadataUpdate)) && (f=a));d(null,f);});}});}else d(V.Oy);};l.prototype.constructor=l;d.exports=l;},function(d,b,a){var m,f;function c(a,b,c,f,d,m){return new k(a,b,c,f,d,m);}function l(a){return a && 0 <= a.indexOf(".__metadata__");}function k(a,b,c,f,d,k){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=f;this.creationTime=d;this.lastRefresh=k;return this.e3a();}m=a(8);f=a(123);a(124);new f.Console("MEDIACACHE","media|asejs");k.prototype.refresh=function(){this.lastRefresh=f.time.now();return this.e3a();};k.prototype.$0a=function(a){this.size=a;};k.prototype.QLa=function(){var a;a=f.time.now();return (this.lastRefresh + 1E3 * this.lifespan - a) / 1E3;};k.prototype.e3a=function(){this.lastMetadataUpdate=f.time.now();return this;};k.prototype.constructor=k;d.exports={create:c,Jja:function(a){var b;b=a;"string" === typeof a && (b=JSON.parse(a));if(b && b.partition && !m.Y(b.lifespan) && b.resourceIndex && b.creationTime && b.lastRefresh)return (a=c(b.partition,b.resourceIndex,b.lifespan,-1,b.creationTime,b.lastRefresh),b.lastMetadataUpdate && (a.lastMetadataUpdate=b.lastMetadataUpdate),!m.Y(b.size) && 0 <= b.size && a.$0a(b.size),a.QLa(),a.convertToBinaryData=b.convertToBinaryData,a);},pha:function(a){return a + ".__metadata__";},c1:function(a){return l(a)?a.slice(0,a.length - 13):a;},yK:l};},function(d,b,a){d.exports={EventEmitter:a(972),qg:a(973)};},function(d){d.exports="4.1.1551";},function(d,b,a){var c,l,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.eba=void 0;c=a(0);l=a(16);k=a(9);m=a(5);f=a(17);d=(function(){function a(){this.vL=[];this.pz=new k.Gt(!1);this.events=new l.EventEmitter();}Object.defineProperties(a.prototype,{pv:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{playbackRate:{get:function(){return this.un();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Jq:{get:function(){return this.pz;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JB:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Au:{get:function(){return this.CE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{le:{get:function(){return this.XJ();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rn:{get:function(){var a,b;a=this.le;b=this.Nq(a);m.assert(b,"Could not find current branch for " + a.da);return b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{z3:{get:function(){return this.CE?this.Lb[this.Lb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xi:{get:function(){var a,b;a=this.le;b=this.H1(a);m.assert(b,"Could not find presenting branch for " + a.da);return b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{CE:{get:function(){return 0 < this.Lb.length;},enumerable:!1,configurable:!0}});a.prototype.lBb=function(a){return -1 !== this.Lb.indexOf(a);};a.prototype.o_=function(){return void 0 !== this.Wa?!1:!0;};a.prototype.Tb=function(){};a.prototype.r2=function(a){var b,c,f;b=this.Lb.filter(function(b){return b.W.id === a.va;});if(0 !== b.length){c=this.XJ();f=new k.S(Infinity,1);b.forEach(function(b){b=b.n5.add(a.offset);c.fia(b).lessThan(c.fia(f)) && (f=b);});return f;}};a.prototype.Nq=function(a){var b,c,f;b=this.H1(a);if(b){c=b.W;f=c.id;a=a.Fa(c.Tk.add(b.Lo));return {va:f,offset:a};}};a.prototype.reset=function(){};a.prototype.$T=function(){};a.prototype.pause=function(a){void 0 === a && (a=f.ie);this.vL=null === a || void 0 === a?void 0:a.reduce(function(a,b){-1 === a.indexOf(b) && a.push(b);return a;},this.vL);};a.prototype.resume=function(a){var b;b=this;void 0 === a && (a=f.ie);a.forEach(function(a){a=b.vL.indexOf(a);-1 !== a && b.vL.splice(a,1);});};a.prototype.jta=function(a){var b;m.assert(this.Wa);m.assert(a !== this);this.xM();b=a.o_(this.Wa,this);b && (a.pause(this.vL),a.Mia.apply(a,c.__spread(this.Lb)),this.$ha(this.Wa));return b;};a.prototype.XJ=function(){return this.AQa();};a.prototype.AQa=function(){var a,b;m.assert(this.CE,"Attempted to get initial time before any branches were queued");b=c.__read(this.Lb,1)[0];m.assert(b);return null !== (a=b.Qj) && void 0 !== a?a:b.fS;};a.prototype.un=function(){return 1;};a.prototype.H1=function(a){var b;if(this.CE){b=this.AQa();return a.lessThan(b)?this.Lb[0]:k.YOa(this.Lb,a);}};return a;})();b.eba=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eo=void 0;d=b.eo || (b.eo={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";d[d.bk=2]="STREAMING";},function(d,b){var l,k,m;function a(a){return void 0 !== (null === a || void 0 === a?void 0:a.iFa);}function c(b){return (a(b)?b:Object.defineProperties(b,{iFa:{value:{},configurable:!1,enumerable:!1}})).iFa;}Object.defineProperty(b,"__esModule",{value:!0});b.tba=void 0;k=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;m=Date.now() % k;d=(function(){function b(){this.id=m=(m + 1) % k;}b.prototype.get=function(b){return a(b)?c(b)[this.id]:void 0;};b.prototype.set=function(a,b){c(a)[this.id]=b;return this;};b.prototype.has=function(b){return a(b) && void 0 !== c(b)[this.id];};b.prototype["delete"]=function(a){if(!this.has(a))return !1;c(a)[this.id]=void 0;return !0;};return b;})();b.tba=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.yRa=b.Sha=void 0;l=a(0);b.Sha=(c={},c[1]=0,c[0]=0,c.total=0,c);b.yRa=function(a){return a.reduce(function(a,b){var c,f,k;try{for(var d=l.__values(b.bK()),r=d.next();!r.done;r=d.next()){k=r.value;a[k.I]+=k.Aw;a.total+=k.Aw;}}catch(A){c={error:A};}finally{try{r && !r.done && (f=d["return"]) && f.call(d);}finally{if(c)throw c.error;}}return a;},l.__assign({},b.Sha));};},function(d,b,a){var l,k,m,f;function c(){return l.__awaiter(this,void 0,void 0,function(){var b;return l.__generator(this,function(c){switch(c.label){case 0:return [4,Promise.resolve().then(function(){return l.__importStar(a(256));})];case 1:return (b=c.Bi().aK,[2,b()]);}});});}Object.defineProperty(b,"__esModule",{value:!0});b.FR=void 0;l=a(0);k=a(1016);m=l.__importDefault(a(3));b.FR=function(a){var b;b=new m["default"].Console("ASEJS","media|asejs");f || (f=new k.ICa(function(){return c();},a,b));return f;};},function(d,b,a){var l,k;function c(a,b){var c;c={};Object.keys(b).forEach(function(f){var d;d=b[f];c[f]={fa:a.viewableId,Ac:d.startTimeMs,zd:d.endTimeMs || Infinity,yh:d.defaultNext || null,od:d.transitionHint,next:d.next};});return c;}Object.defineProperty(b,"__esModule",{value:!0});b.cMa=b.bvb=b.CU=b.cJ=void 0;l=a(0);k=a(9);b.cJ=function(a,b,d,q){return {ff:null !== b && void 0 !== b?b:a.ff,De:null !== q && void 0 !== q?q:a.De,od:a.transitionType,Ja:c(a,null !== d && void 0 !== d?d:a.Ja)};};b.CU=function(a,b,c){var f;return {ff:b,od:"lazy",De:c,Ja:(f={},f[b]={fa:a,Ac:0,zd:Infinity,yh:null,next:{}},f)};};b.bvb=function(a,b){var c,m,l;a=Math.max(a.duration - 3E4,3E4);for(var f={},d,r=0,k=0;k < a;k+=3E4){m="s" + r++;l={fa:b,Ac:k,zd:k + 3E4 < a?k + 3E4:null};void 0 !== d && (d.next=(c={},c[m]={weight:1},c),d.yh=m);d=f[m]=l;}return {ff:"s0",Ja:f,od:"lazy"};};b.cMa=function(a,b,c){var f,d,A,g,B;try{for(var h=l.__values(Object.keys(a.Ja)),m=h.next();!m.done;m=h.next()){A=m.value;g=a.Ja[A];if(g.fa === b){B=k.S.ec(g.Ac);if(c.ql(B) && (null === g.zd || void 0 === g.zd || c.lessThan(k.S.ec(g.zd))))return {va:A,offset:c.Fa(B)};}}}catch(I){f={error:I};}finally{try{m && !m.done && (d=h["return"]) && d.call(h);}finally{if(f)throw f.error;}}};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.WXa=void 0;c=a(260);l=a(261);b.WXa=function(a,b,f,d){return new Promise(function(h,k){l.aua(a,function(a){a.ia?c.NXa(a.object,b,f,d,function(a){a.ia?h(a.entries):k(a);}):k(a);});});};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Z4a=void 0;c=a(7);l=a(15);b.Z4a=function(a){var b,f;if(l.Cx(a)){b=new DOMParser().parseFromString(a,"text/xml");f=b.getElementsByTagName("parsererror");if(f && f[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(f[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(h){}throw Error("xml parser error");}return b;}throw Error("bad xml text");};},function(d,b,a){var l;function c(a){var d,f,h,q,k,r,v;h={};h[l.ZM]=a.localName;q={};h[l.rj]=q;k=[];h[l.YM]=k;r=a.attributes;d=r.length;for(f=0;f < d;f++){v=r[f];q[v.localName]=v.value;}a=a.childNodes;d=a.length;q={};for(f=0;f < d;f++){switch((r=a[f],r.nodeType)){case b.c5a:r=c(r);v=r[l.ZM];r[l.M7]=h;k.push(r);h[v]?q[v][l.VB]=r:h[v]=r;q[v]=r;break;case b.d5a:case b.a5a:(r=r.text || r.nodeValue,k.push(r),h[l.er] || (h[l.er]=r));}}return h;}Object.defineProperty(b,"__esModule",{value:!0});b.b5a=b.a5a=b.d5a=b.NXb=b.c5a=b.OXb=b.$4a=void 0;l=a(146);b.$4a=function(a){return c(a.nodeType == b.b5a?a.documentElement:a);};b.OXb=c;b.c5a=1;b.NXb=2;b.d5a=3;b.a5a=4;b.b5a=9;},function(d,b,a){var c,l,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.W6a=b.Dva=void 0;c=a(12);l=a(23);k=a(15);m=a(79);b.Dva=function(a,b,c,d,r,m,A,g,B,I){var f,h;f=this;h={Type:b,Bitrate:d,DownloadableId:c};l.Hb(f,{track:a,type:b,Jd:c,U:d,rb:r,vg:g,size:m,dx:A,xq:null,FRb:function(a,b,c,d){if(k.ic(a) || k.ic(b))(f.width=a,f.height=b,k.qa(c) && k.qa(d) && (f.dfa=c / d * a),h.Resolution=(f.width || "") + ":" + (f.height || ""));},WQb:function(a,b,c,d,h,q){k.ic(a) && k.ic(b) && k.ic(c) && k.ic(d) && (f.yha=a,f.h0=b,f.g0=c,f.f0=d);k.ic(h) && k.ic(q) && (f.rYa=h,f.sYa=q);},z1:B,Du:I,Dh:h,toJSON:function(){return h;}});};b.W6a=function(a,b,d,k,r){if(a == c.cX || a === m.jh.audio)return b;if(a == c.YG || a === m.jh.video)return d;if(a == m.jh.d7)return k;if(a == m.jh.ota)return r;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jX=void 0;b.jX="MslReadyNotifierSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.R8=void 0;b.R8="DeviceIdGeneratorSymbol";},function(d,b){function a(b,d,k){if(null != k){if(0 < k(b,d))throw a.wMa(b,d);}else if(b.qk && 0 < b.qk(d))throw a.wMa(b,d);this.start=b;this.end=d;}Object.defineProperty(b,"__esModule",{value:!0});b.wba=void 0;a.wMa=function(a,b){return new RangeError("end [" + b + "] must be >= start [" + a + "]");};b.wba=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.S8=void 0;b.S8="DeviceProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.A8=void 0;b.A8="CryptoDeviceIdSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B8=void 0;b.B8="CryptoKeysSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.vaa=void 0;b.vaa="PboBindDeviceCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w$=void 0;b.w$="LogblobSenderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.T$=void 0;b.T$="MessageQueueSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ie=void 0;d=b.Ie || (b.Ie={});d.tlb="bitraterestriction";d.VKa="cdnsel";d.Cga="chgstrm";d.debug="debug";d.Wsb="dlreport";d.Kia="endplay";d.pma="intrplay";d.j4="midplay";d.AYa="playbackaborted";d.OOb="renderstrmswitch";d.Wqa="repos";d.kra="resumeplay";d.MQb="serversel";d.J6="startplay";d.VSb="statechanged";d.transition="transition";d.lkb="asereport";d.kkb="aseexception";d.Pkb="audioswitch";d.ulb="blockedautoplay";d.config="config";d.F0="dlreq";d.H5b="ftlProbeError";d.nQb="securestop";d.HTb="subtitleerror";d.ITb="subtitleqoe";d.zUb="timedtextrebuffer";d.AUb="timedtextswitch";d.FSb="speedchanged";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eaa=void 0;b.Eaa="PboLogblobCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ica=void 0;b.ica="UuidProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q7=void 0;b.Q7="AppLogSinkSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.v$=void 0;b.v$="LogblobBuilderFactorySymbol";},function(d,b,a){var l,k,m,f,h,q,u,r,v,A,g,B,I,J,D,n,p,U,V,E,Z,t,ha,aa;function c(a,b,c,f,d,l,u,y,T,R,V,E,ta,ha,La,F,fb,lb,L,ia,N){var Q;Q=this;this.j=a;this.Rn=b;this.J2a=f;this.L_=d;this.Mj=l;this.hoa=u;this.bja=y;this.Wd=T;this.H0=R;this.ef=V;this.config=E;this.kc=ta;this.ta=ha;this.za=La;this.platform=F;this.Kn=fb;this.RE=lb;this.wi=L;this.uq=ia;this.$E=N;this.$U=[];this.nHb=this.b3=this.n_a=0;this.AJ=[];this.Xea=!1;this.Gx=function(a,b){return function(c){var f;f=b(c);if("number" !== typeof f)throw Error("Event " + JSON.stringify(c) + " does not have movie Id");f === Q.u && a(c);};};this.Gq=this.Gx(function(a){Q.L1a(a.LA);},function(a){return a.u;});this.PK=this.Gx(function(){Q.Hnb();},function(a){return a.u;});this.G1a=function(a){Q.kd(Z.Ie.FSb,!1,aa.gi | aa.eh,{speedold:Math.floor(1E3 * a.oldValue),speed:Math.floor(1E3 * a.newValue)});};this.GM=function(){Q.kd(Z.Ie.zUb,!1,aa.gi | aa.eh,{track:Q.j.Oc.value.Dh});};this.V2a=function(a){a.newValue && Q.Kpa && (a={track:a.newValue.Dh},Q.HE(a,Q.j.Df.value && Q.j.Df.value.stream,Q.j.Dg.value && Q.j.Dg.value.stream),Q.kd(Z.Ie.AUb,!1,aa.gi | aa.eh,a));};this.Ko=function(a){Q.kd(Z.Ie.tlb,!1,aa.gi | aa.eh,a.newValue);};this.uNa=function(){var a,b,c;if(Q.j.nk)try{a=!1;Q.ea % Q.config().RQ && !Q.j.YQ && (a=!0,Q.AJ=Q.AJ.filter(function(a){return !a.ia;}));if(0 < Q.AJ.length){b=Q.H0.construct(Q.AJ,Q.j.Mk.ca(v.ga));Q.AJ=[];b.erroronly=a;c={};r.Rd(b,function(a,b){c[a]=JSON.stringify(b);});Q.kd(Z.Ie.Wsb,!1,aa.eh,c);}}catch(rd){Q.log.error("Exception in dlreport.",rd);}};this.IR=function(){var a;a=Q.j.Ob.value;return a === U.sb.Uc?"playing":a === U.sb.uj?"paused":a === U.sb.vt?"ended":"waiting";};this.j4=function(){var a,b,c;if(Q.j.state.value == U.Db.wd){c=Q.yYa();Q.config().Vqa && (c.avtp=Q.MB.wn().fG,(null === (a=Q.j.Ga) || void 0 === a?0:a.mK()) && Q.P2(c));c.mediabuffered=null === (b=Q.j.Vf) || void 0 === b?void 0:b.J1();c.midplayseq=Q.nHb++;c.prstate=Q.IR();c.paustate=Q.j.paused.value;Q.config().HQb && Q.l2a("midplay");Q.config().Js && Q.ema(c);Q.ama(c);Q.cma(c);Q.dma(c);Q.kd(Z.Ie.j4,!1,aa.gi | aa.eh | aa.Ky | aa.lO,c);}};this.ZEa=/-?l(\d\d)/i;this.GNa=this.Gx(function(a){Q.AJ.push(Q.H0.vob(a.response));},function(a){return a.u;});this.F0=this.Gx(function(a){var b,c,f,d,q,k;a=a.response;b=a.request;c=a.request.Kq;f=b.track;if(f){d=!a.ia && a.ka != A.K.My;q=f.type;k=a.wl;if(d || Q.Rn.N3){c={dltype:q,url1:b.url,url2:a.url || "",cdnid:b.Gc && b.Gc.id,tresp:r.zk(k.Jh - k.requestTime),brecv:r.pPa(k.iha),trecv:r.zk(k.On - k.Jh),sbr:c && c.U};a.Qq && (c.range=a.Qq);switch(q){case h.jh.audio:c.adlid=b.stream.Jd;break;case h.jh.video:c.vdlid=b.stream.Jd;break;case h.jh.d7:c.ttdlid=f.Jd;}(b=t.Dka(a.ka)) && (c.nwerr=b);a.cj && (c.httperr=a.cj);Q.kd(Z.Ie.F0,d,aa.eh,c);}}},function(a){return a.u;});this.kl=function(){Q.kd(Z.Ie.ulb,!1,aa.gi | aa.Ky,{browserua:n.Vm});};this.CLa=this.Gx(function(a){var b,c,f;a=a.response;b=a.wl;c=v.Nb(b.Jh);f=v.Nb(b.On);b=B.ba(b.iha || 0);b.HTa() || b.zma() || (c=new I.wba(c,f),Q.MB.ZZ(new J.iW(c,b)),a && a.request && a.request.Kq && a.request.Kq.Zb && Q.L_.ZZ(new D.Jva(c,b,a.request.Kq.Zb)));},function(a){return a.u;});this.cYa=function(a){var b;b=a.newValue;a.Ur && a.Ur.hT && b || b == Q.Xma || (Q.TSb(Q.Xma,b),Q.Xma=b);};this.Kw=function(a){function b(a){var b;if(Q.j.Gb && Q.j.Gb.sourceBuffers){b=Q.j.Gb.sourceBuffers.filter(function(b){return b.type === a;}).pop();if(b)return {busy:b.Yh(),updating:b.updating(),ranges:b.K1()};}}Q.my="rebuffer";a={cause:a.cause};a.cause && a.cause === m.Taa && (a.mediaTime=Q.j.nb.value,a.buf_audio=b(k.cX),a.buf_video=b(k.YG));Q.pma(Q.$U[U.sb.Uc] || 0,Q.$U[U.sb.uj] || 0,a);Q.xG=Q.getTime();p.Hc(Q.rQ);};this.g3a=function(a){var b;a=a.oldValue;b=Q.getTime();a === U.sb.Zf?Q.$U=[]:Q.$U[a]=(Q.$U[a] || 0) + (b - Q.yEb);Q.yEb=b;};this.El=function(a){a.skip && (Q.Wn=!0);switch(a.cause){case U.xd.Nv:case U.xd.rH:Q.my && Q.xG && Q.ALb(Q.getTime() - Q.xG,Q.my);Q.my="repos";Q.Wqa(a.dpa,a.Dg,a.Df);Q.xG=Q.getTime();p.Hc(Q.rQ);break;case U.xd.qW:(Q.my="force_rebuffer",Q.xG=Q.getTime(),p.Hc(Q.rQ));}};this.rQ=function(){var a;if(Q.xG && Q.j.Ob.value !== U.sb.Zf){a=Q.getTime() - Q.xG;Q.kra(a,Q.Wn);Q.Tma && Q.Tma != Q.j.Zc.value && Q.Mkb();Q.xG=void 0;Q.my=void 0;Q.Wn=void 0;}};this.yga=this.Gx(function(){Q.j.Ob.value === U.sb.Uc && (Q.j.Ob.removeListener(Q.yga),Q.Fs());},function(){return Q.j.u;});this.$P=function(a){Q.sEb=Q.getTime();Q.Tma=a.oldValue;};this.Fs=function(){Q.Kpa || (Q.Kpa=!0,Q.J6(!1),Q.xCb(),Q.config().XSa && (Q.T2=ka.setTimeout(function(){Q.Mj.flush(!1)["catch"](function(){return Q.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});Q.T2=void 0;},Q.config().XSa)));};this.Pf=function(){Q.T2 && (ka.clearTimeout(Q.T2),Q.T2=void 0);if(Q.config().RQ || Q.config().VP)(Q.kia && (ka.clearInterval(Q.kia),Q.kia=void 0),Q.uNa());Q.J3a && Q.J3a();Q.Kpa?Q.Kia(! !Q.j.Hj):Q.j.Hj?Q.J6(!0):Q.Rn.background || Q.BLb();Q.jQb || (Q.kd=k.kh);};this.xLa=this.Gx(function(){Q.Pf();},function(a){return a.movieId;});this.E4a=function(a){a.oldValue && a.Ur && a.Ur.Fga && Q.Cga(a.oldValue,a.newValue,a.Ur.Fga,a.Ur.aKa);};this.VYa=function(a){var b;if(a.newValue){b=a.newValue.stream;Q.Zma != b && (Q.Zma && Q.NOb(Q.Zma,b,a.newValue.jq.startTime),Q.Zma=b);}};this.xs=this.Gx(function(a){function b(a,b){var c;if(!a || a.una !== b.location){c={una:b.location,vUa:b.locationlv,KQb:b.serverid,NF:b.servername};Q.Kmb(a,b);return c;}}if("audio" === a.mediatype){if(a=b(Q.rEb,a))Q.rEb=a;}else if(a=b(Q.oS,a))Q.oS=a;},function(a){return Q.j.yu(a.segmentId).u;});this.MF=this.Gx(function(a){var b,c;b=a.mediatype;c=a.reason;"video" === b?"serverswitchaway" === c?(Q.Ei.summary.L4a++,Q.Ei.E3=Q.ta.Ae.ca(v.ga)):"serverswitchback" === c && (Q.Ei.summary.M4a++,Q.Ei.E3 && (Q.Ei.summary.N4a.push(Q.ta.Ae.ca(v.ga) - Q.Ei.E3),Q.Ei.E3=void 0)):"audio" === b && ("serverswitchaway" === c?(Q.Ei.summary.yJa++,Q.Ei.x3=Q.ta.Ae.ca(v.ga)):"serverswitchback" === c && (Q.Ei.summary.zJa++,Q.Ei.x3 && (Q.Ei.summary.AJa.push(Q.ta.Ae.ca(v.ga) - Q.Ei.x3),Q.Ei.x3=void 0)));Q.kd(Z.Ie.MQb,!1,aa.gi | aa.eh,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});},function(a){return Q.j.yu(a.segmentId).u;});this.OI=function(a){Q.kd(Z.Ie.lkb,!1,aa.eh,{strmsel:a.strmsel});};this.NI=function(a){Q.kd(Z.Ie.kkb,!1,aa.eh,{msg:a.msg});};this.AM=function(a){a=g.kM(a);a.details && (a.details=JSON.stringify(a.details));Q.kd(Z.Ie.HTb,!0,aa.gi | aa.hH | aa.SV,a);};this.Xea=L.w7 || L.x7 || L.mPa;this.MB=f();this.log=q.Bh(a,"LogblobBuilder");this.Xma=a.paused.value;this.u=b.u;this.ea=this.Rn.ea;this.Ei={summary:{L4a:0,M4a:0,N4a:[],yJa:0,zJa:0,AJa:[]},E3:void 0,x3:void 0};this.$a();c && this.L1a();}Object.defineProperty(b,"__esModule",{value:!0});b.vza=void 0;l=a(48);k=a(12);m=a(57);f=a(47);h=a(79);q=a(7);u=a(20);r=a(23);v=a(4);A=a(2);g=a(26);B=a(46);I=a(446);J=a(459);D=a(1049);n=a(10);p=a(55);U=a(13);V=a(15);E=a(1050);Z=a(453);t=a(180);ha=a(97);c.prototype.$a=function(){this.j.addEventListener(U.V.Gq,this.Gq);this.j.addEventListener(U.V.PK,this.PK);this.j.addEventListener(U.V.xs,this.xs);this.j.addEventListener(U.V.MF,this.MF);this.j.addEventListener(U.V.Pf,this.xLa);this.j.addEventListener(U.V.fA,this.F0,k.wX);if(this.config().RQ || this.config().VP)(this.j.addEventListener(U.V.fA,this.GNa),this.kia=ka.setInterval(this.uNa,this.config().itb));this.config().Vqa && this.j.addEventListener(U.V.fA,this.CLa);};c.prototype.L1a=function(a){this.cWa || (this.j.Ob.value !== U.sb.Uc || (void 0 === a?0:a)?this.j.Ob.addListener(this.yga):this.Fs(),this.j.jk.addListener(this.V2a),this.j.Zc.addListener(this.$P),this.j.paused.addListener(this.cYa),this.j.Df.addListener(this.VYa),this.j.Ob.addListener(this.rQ),this.j.Ob.addListener(this.g3a),this.j.jf.addListener(this.E4a),this.j.playbackRate.addListener(this.G1a),this.j.addEventListener(U.V.kl,this.kl),this.j.addEventListener(U.V.NI,this.NI),this.j.addEventListener(U.V.OI,this.OI),this.j.addEventListener(U.V.AM,this.AM),this.j.addEventListener(U.V.Kw,this.Kw),this.j.addEventListener(U.V.El,this.El),this.j.addEventListener(U.V.GM,this.GM),this.Rn.Ko && this.Rn.Ko.addListener(this.Ko),this.config().Gl && (this.jQb=!0),this.cWa=!0);};c.prototype.Hnb=function(){this.Pf();this.cWa && (this.j.removeEventListener(U.V.Gq,this.Gq),this.j.removeEventListener(U.V.PK,this.PK),this.j.removeEventListener(U.V.xs,this.xs),this.j.removeEventListener(U.V.MF,this.MF),this.j.jk.removeListener(this.V2a),this.j.Zc.removeListener(this.$P),this.j.paused.removeListener(this.cYa),this.j.Df.removeListener(this.VYa),this.j.Ob.removeListener(this.rQ),this.j.Ob.removeListener(this.yga),this.j.Ob.removeListener(this.g3a),this.j.jf.removeListener(this.E4a),this.j.playbackRate.removeListener(this.G1a),this.j.removeEventListener(U.V.fA,this.F0),this.j.removeEventListener(U.V.Pf,this.xLa),this.j.removeEventListener(U.V.kl,this.kl),this.j.removeEventListener(U.V.NI,this.NI),this.j.removeEventListener(U.V.OI,this.OI),this.j.removeEventListener(U.V.AM,this.AM),this.j.removeEventListener(U.V.Kw,this.Kw),this.j.removeEventListener(U.V.El,this.El),this.j.removeEventListener(U.V.GM,this.GM),this.Rn.Ko && this.Rn.Ko.removeListener(this.Ko),this.j.removeEventListener(U.V.fA,this.GNa),this.j.removeEventListener(U.V.fA,this.CLa));};c.prototype.LSa=function(a,b){var c,f,d,h,q,k,m,l,u,v,A,g,y,B,I,J,D,n,p,T,R,E;if(this.config().Js)try{c={};f=this.kc.getStats(void 0,void 0,a.u);d=a.F1();h=f.eG.LLa || [];c.attempts=f.s5 || 0;c.num_completed_tasks=h.length;q=this.Wd.uvb;k={};m=ha.If.CM;l=ha.If.rq;u=ha.If.qga;v=ha.If.J_;A=ha.If.pga;f.yk && (k.scheduled=f.yk - d);g=a.pa;g && V.qa(g.wB) && (k.preauthsent=g.wB - a.ae,k.preauthreceived=g.FF - a.ae);y=h.filter(function(a){return "manifest" === a.type;});c.mf_succ=y.filter(q("status",m)).length;c.mf_fail=y.filter(q("status",l)).length;B=a.Md;V.ic(B.lg) && 0 > B.lg && a.ae && (k.ldlsent=B.lc,k.ldlreceived=B.lr);I=h.filter(function(a){return "ldl" === a.type;});c.ldl_succ=I.filter(q("status",m)).length;c.ldl_fail=I.filter(q("status",l)).length;f=!0;d=[];"notcached" === a.Oz && (f=!1,d.push("Missing cached manifest"));this.config().HJ || (f=!1,d.push("LDL prefetch disabled"));J=I.filter(q("status",u)).length;D=I.filter(q("status",v)).length;n=I.filter(q("status",A)).length;this.config().HJ && 0 === J + D + n && (!k.ldlreceived || 0 <= k.ldlreceived) && (f=!1,d.push("LDL received after start"));if(this.config().ZQ){p=a.GA && a.GA.stats;if(p){if((p.xja && (k.headersent=p.xja - a.ae),p.hna && (k.headerreceived=p.hna - a.ae),p.AT && (k.prebuffstarted=p.AT - a.ae),p.Zpa && (k.prebuffcomplete=p.Zpa - a.ae),!k.prebuffcomplete || 0 <= k.prebuffcomplete))(f=!1,d.push("Missing cached media"));}else if(b.isPrefetchItem){T=b.prefetchedAudioMs / b.bcABufferLevelMs;if(1 > b.prefetchedVideoMs / b.bcVBufferLevelMs || 1 > T)(f=!1,d.push("Insufficient media fetched"));}else (f=!1,d.push("aseStats not initialized"));}R=h.filter(function(a){return "getHeaders" === a.type;});c.header_succ=R.filter(q("status",m)).length;c.header_fail=R.filter(q("status",l)).length;E=h.filter(function(a){return "getMedia" === a.type;});c.media_succ=E.filter(q("status",m)).length;c.media_fail=E.filter(q("status",l)).length;c.hm_succ=c.header_succ + c.media_succ;c.hm_fail=c.header_fail + c.media_fail;r.Hb(b,c,{prefix:"pr_"});this.uq.aR && (b.eventlist_version=1,b.eventlist=this.$E.cRa(a));(b.prefetchCompleted=f) || (b.prefetchFailed=d,r.Hb(b,k,{prefix:"pe_"}));this.ema(b);}catch(gf){this.log.warn("error in collecting video prepare data",gf);}};c.prototype.J6=function(a){var b,c,d,h,q,k,m,l;c={};try{c={browserua:n.Vm,browserhref:location.href,playdelaysdk:r.zk(this.j.lga()),applicationPlaydelay:r.zk(this.j.bmb()),playdelay:r.zk(this.j.kmb()),trackid:this.j.qj,bookmark:r.zk(this.j.JD || 0),pbnum:this.j.index,endianness:f.nQa()};this.config().nub && (c.transitiontime=this.j.Ll,c.uiplaystarttime=this.j.Va.n7,c.playbackrequestedat=this.j.Mk.ca(v.ga),c.clockgettime=this.getTime(),c.clockgetpreciseepoch=this.ta.Ae.ca(v.ga),c.clockgetpreciseappepoch=this.za.PE.ca(v.ga),c.absolutestarttime=this.j.F1(),c.relativetime=this.j.Mka());this.E1(c,"startplay");}catch(ja){this.log.error("error in startplay log fields",ja);}this.j.kl && (c.blocked=this.j.kl);c.configversion=this.config().version;this.config().endpoint || (c.configendpoint="error");this.HSa(c);if(this.config().H7 && this.j.Va.O4a){h={};Object.entries(this.j.Va.O4a).reverse().forEach(function(a){var b;b=N(a);a=b.next().value;b=b.next().value;h[a.toLowerCase()]=b;});c.vui=h;}V.qa(this.j.nKa) && (c.bookmarkact=r.zk(this.j.nKa));q=this.j.Md.at && this.j.Md.ats?this.j.Md.at - this.j.Md.ats:void 0;q && (c.nccpat=q);(q=this.j.Md.lr && this.j.Md.lc?this.j.Md.lr - this.j.Md.lc:void 0) && (c.nccplt=q);(q=this.otb()) && (c.downloadables=q);ka._cad_global.device && V.ic(ka._cad_global.device.Uia) && (c.esnSource=ka._cad_global.device.Uia);r.Hb(c,this.Kn,{prefix:"pi_"});(q=n.Re && n.Re.connection && n.Re.connection.type) && (c.nettype=q);this.j.No && this.j.No.initBitrate && (c.initvbitrate=this.j.No.initBitrate);this.j.No && this.j.No.selector && (c.selector=this.j.No.selector);c.fullDlreports=this.j.cOa;if(this.j.state.value >= U.Db.wd)try{k=this.j.Pr();k && (this.ym=f.S7(k.map(function(a){return a.U;})),this.uVa=f.S7(k.map(function(a){return a.height;})),d=0 < k.length?E.iVa(k,function(a){return a.U;}):void 0,c.maxbitrate=this.ym,c.maxresheight=this.uVa);}catch(ja){this.log.error("Exception computing max bitrate",ja);}try{m=f.HR();m && (c.pdltime=m);}catch(ja){}try{r.Hb(c,this.j.Md,{prefix:"sm_"});r.Hb(c,this.j.m2(),{prefix:"vd_"});}catch(ja){}"undefined" !== typeof nrdp && nrdp.device && (c.firmware_version=nrdp.device.firmwareVersion);a && this.j.Ms && (c.pssh=this.j.Ms);this.LSa(this.j,c);c.avtp=this.MB.wn().fG;(null === (b=this.j.Ga) || void 0 === b?0:b.mK()) && this.P2(c);if(this.j.Oc.value)try{c.ttTrackFields=this.j.Oc.value.Dh;}catch(ja){}if(b=this.j.Zc && this.j.Zc.value && this.j.Zc.value.xc){l={};b.forEach(function(a){l[a.vg]=void 0;});c.audioProfiles=Object.keys(l);}this.fma(c);this.j.pa && "boolean" === typeof this.j.pa.Fc.KE && (c.isSupplemental=this.j.pa.Fc.KE);c.headerCacheHit=! !this.j.GA;this.j.GA && (c.headerCacheDataAudio=this.j.GA.audio,c.headerCacheDataAudioFromMediaCache=this.j.GA.audioFromMediaCache,c.headerCacheDataVideo=this.j.GA.video,c.headerCacheDataVideoFromMediaCache=this.j.GA.videoFromMediaCache);this.j.pa && (c.packageId=this.j.pa.Fc.qp);this.j.pa && this.j.pa.Fc.Oo && (c.hasChoiceMap=!0);this.config().lPa && (c.forceL3WidevineCdm=!0);this.nEb(d);this.mEb();this.GSa(this.j,c);this.$la(this.j,c);this.IE(this.j,c);this.KA(this.j,c,this.Xea);this.ama(c);this.cma(c);this.dma(c);this.KSa(c);this.FSa(c);this.MSa(c);this.bma(c);this.kd(Z.Ie.J6,a,aa.gi | aa.hH | aa.eh | aa.lO | aa.Ky | aa.SV | aa.w9,c);};c.prototype.kra=function(a,b){b={playdelay:r.zk(a),reason:this.my,intrplayseq:this.b3 - 1,skipped:b};"repos" === this.my && (b.prstate=!0 === this.j.paused.value?"paused":"playing");this.IE(this.j,b);this.kd(Z.Ie.kra,!1,aa.gi | aa.hH | aa.eh,b);"rebuffer" !== this.my && "force_rebuffer" !== this.my || this.j.Ln.fjb(Number(r.zk(a)));};c.prototype.Cga=function(a,b,c,f){a={moff:r.jx(c),moffms:r.zk(c),vbitrate:b.U,vbitrateold:a.U,vdlid:b.Jd,vdlidold:a.Jd,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:f};this.IE(this.j,a);this.KA(this.j,a);this.kd(Z.Ie.Cga,!1,aa.eh,a);};c.prototype.NOb=function(a,b,c){a={moff:r.jx(c),moffms:r.zk(c),vdlidold:a.Jd,vbitrateold:a.U};this.IE(this.j,a);this.KA(this.j,a);this.HE(a,b,this.j.Dg.value && this.j.Dg.value.stream);this.kd(Z.Ie.OOb,!1,aa.eh,a);};c.prototype.BLb=function(){var a,b;a={waittime:r.zk(this.j.Mka()),abortedevent:"startplay",browserua:n.Vm,browserhref:location.href,trackid:this.j.qj,prstate:this.IR(),paustate:this.j.paused.value};this.E1(a,"endplay");this.uq.aR && (a.eventlist_version=1,a.eventlist=this.$E.cRa(this.j));this.j.No && this.j.No.initBitrate && (a.initvbitrate=this.j.No.initBitrate);try{b=f.HR();b && (a.pdltime=b);r.Hb(a,this.j.Md,{prefix:"sm_"});}catch(wa){}this.Yla(a,!0);this.MSa(a);this.fma(a);this.ISa(a);this.HE(a,this.j.jf.value,this.j.jl.value);this.LSa(this.j,a);this.$la(this.j,a);this.kd(Z.Ie.AYa,!1,aa.gi | aa.eh | aa.Ky | aa.lO,a);};c.prototype.ALb=function(a,b){a={waittime:r.zk(a),abortedevent:"resumeplay",browserua:n.Vm,resumeplayreason:b};this.j.No && this.j.No.initBitrate && (a.initvbitrate=this.j.No.initBitrate);this.HE(a,this.j.jf.value,this.j.jl.value);this.kd(Z.Ie.AYa,!1,aa.gi | aa.eh,a);};c.prototype.TSb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.IE(this.j,a);this.KA(this.j,a);this.HE(a,this.j.Df.value && this.j.Df.value.stream,this.j.Dg.value && this.j.Dg.value.stream);this.kd(Z.Ie.VSb,!1,aa.gi | aa.eh,a);};c.prototype.pma=function(a,b,c){var f,d;a=r.Hb({vdlid:this.j.jf.value.Jd,playingms:a,pausedms:b,intrplayseq:this.b3++,prstate:this.IR(),paustate:this.j.paused.value},c);this.E1(a,"intrplay");b=this.j.Gc[l.zc.Ta.VIDEO].value;c=this.j.Gc[l.zc.Ta.AUDIO].value;a.cdnid=a.vcdnid=b && b.id;a.acdnid=c && c.id;a.locid=this.oS && this.oS.una;a.loclv=this.oS && this.oS.vUa;a.avtp=this.MB.wn().fG;a.mediabuffered=null === (f=this.j.Vf) || void 0 === f?void 0:f.J1();if(null === (d=this.j.Ga) || void 0 === d?0:d.mK())(this.Yla(a,!0),this.P2(a),this.JSa(a));try{r.Hb(a,this.j.m2(),{prefix:"vd_"});}catch(O){}this.IE(this.j,a);this.KA(this.j,a);this.HE(a,this.j.Df.value && this.j.Df.value.stream,this.j.Dg.value && this.j.Dg.value.stream);this.kd(Z.Ie.pma,!1,aa.gi | aa.eh,a);};c.prototype.Wqa=function(a,b,c){a={moffold:r.jx(a),reposseq:this.n_a++,prstate:this.IR(),paustate:this.j.paused.value};this.KA(this.j,a);this.HE(a,c && c.stream,b && b.stream);this.kd(Z.Ie.Wqa,!1,aa.gi | aa.eh,a);};c.prototype.Mkb=function(){this.kd(Z.Ie.Pkb,!1,aa.gi | aa.eh,{switchdelay:r.zk(this.getTime() - this.sEb),newtrackinfo:this.j.Zc.value.Xa,oldtrackinfo:this.Tma.Xa});};c.prototype.Kmb=function(a,b){var c,f;c=b.serverid;f={locid:b.location,loclv:b.locationlv,selocaid:c,selcdnid:c,selocaname:b.servername};f.mediatype=b.mediatype;f.selreason=b.selreason || "unknown";f.seldetail=b.seldetail;f.cdnbwdata=JSON.stringify([{id:c}]);a && (f.oldlocid=a.una,f.oldloclv=a.vUa,f.oldocaid=a.KQb,f.oldocaname=a.NF);this.kd(Z.Ie.VKa,!1,aa.SV,f);};c.prototype.l2a=function(a){var b,c;b={};b.trigger=a;try{c=this.j.Fka();b.subtitleqoescore=this.j.Fp.nAb(c);b.metrics=JSON.stringify(this.j.Fp.Zka(c));}catch(Q){this.log.error("error getting subtitle qoe data",Q);}this.kd(Z.Ie.ITb,!1,aa.gi | aa.Ky | aa.hH,b,"info");};c.prototype.transition=function(a){this.KA(this.j,a);this.kd(Z.Ie.transition,!1,0,a);};c.prototype.Yzb=function(a,b){if(a=a.wR())if(b=a[b])return b.Ac;};c.prototype.GSa=function(a,b){a.Va.Kj && (b.isBranching=!0);};c.prototype.$la=function(a,b){var c,f;f=(null === (c=a.pa) || void 0 === c?void 0:c.oTa) || "videopreparer" === a.OD;b.cachedManifest=a.Oz;b.cachedLicense=a.OD;b.usedldl=this.config().HJ?f.toString():"not_capable";};c.prototype.IE=function(a,b){var c,f;if(this.config().nCb){c=a.Gka();f=a.ha.pa;c && f && (b.segment=c,f=a.wA(),b.segmenttime=f,a=this.Yzb(a,c),null !== f && void 0 !== a && (b.segmentoffset=f - a));}};c.prototype.KA=function(a,b,c){b.pxid=a.ey;(void 0 === c?0:c) && (b.playgraph_trace=a.GYa);};c.prototype.JSa=function(a){var b,c;b=this.j.Gla;c=b && b.ZOb;b && b.ASa && (a.htwbr=b.ASa,a.pbtwbr=b.b5,a.hptwbr=b.PBb);b && b.S_a && (a.rr=b.S_a,a.ra=b.sNb);b && c && 0 < (c.length || 0) && (a.qe=JSON.stringify(c));};c.prototype.fma=function(a){var b,c,f,d,h;b=this;c=this.j.og && this.j.og.value && this.j.og.value.xc;if(c){f=new Set();d=new Set();h=new Set();c.forEach(function(a){a=a.vg;f.add(a);d.add(a.replace(b.ZEa,""));(a=a.match(b.ZEa)) && 0 < a.length && h.add(a[1]);});a.videoProfiles=[].concat(X(f));a.videoProfile=0 === d.size?"none":[].concat(X(d))[0];a.videoProfileLevels=[].concat(X(h));}};c.prototype.ISa=function(a){var b,c,f;try{b=this.Wd.createElement("canvas");c=b.getContext("webgl") || b.getContext("experimental-webgl");if(c){f=c.getExtension("WEBGL_debug_renderer_info");f && (a.WebGLRenderer=c.getParameter(f.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(f.UNMASKED_VENDOR_WEBGL));}}catch(ca){}};c.prototype.oCb=function(a){a.switchAwaySummary={vsa:this.Ei.summary.L4a,vsb:this.Ei.summary.M4a,vsbt:this.Ei.summary.N4a,asa:this.Ei.summary.yJa,asb:this.Ei.summary.zJa,asbt:this.Ei.summary.AJa};};c.prototype.Kia=function(a){var b,c,f,d,h,g;b=this;f=this.yYa();this.E1(f,"endplay");f.browserua=n.Vm;f.prstate=this.IR();f.paustate=this.j.paused.value;f.muted=this.j.muted.value;this.j.zy && "downloaded" === this.j.zy.h2() && (f.trickplay_ms=this.j.hV.offset,f.trickplay_res=this.j.hV.z_a);this.config().o4a && (f.rtinfo=this.j.Rzb());if(this.config().Vqa){d=this.MB.wn().fG;void 0 !== f.avtp?f.avtp_retired=d:f.avtp=d;d=this.L_.zxb().map(function(a){return {cdnid:a.Qz,avtp:a.fG,tm:a.lia};});void 0 != f.cdnavtp?f.cdnavtp_retired=d:f.cdnavtp=d;(null === (c=this.j.Ga) || void 0 === c?0:c.mK()) && this.P2(f);}this.HSa(f);f.endreason=a?"error":this.j.Ob.value === U.sb.vt?"ended":"stopped";c=this.Kn;this.iCb(c);c && r.Hb(f,c,{prefix:"pi_"});c=this.j.Hj;a && c && A.mxa(c.errorCode) && (h="info");try{r.Hb(f,this.j.Md,{prefix:"sm_"});}catch(Ua){}this.j.Xla && (f.inactivityTime=this.j.Xla);this.Yla(f,"info" !== h && a);this.JSa(f);if(this.j.LD){c=this.j.LD;for(var d=this.config().KD,q=this.j.ae,k={iv:d,seg:[]},m=function(a,b,c){return 0 === b || void 0 === c[b - 1]?a:a - c[b - 1];},l=c.Fw.map(m),m=c.Fy.map(m),u,v=0;v < l.length;v++){if(l[v] || m[v])u?(u.ams.push(l[v]),u.vms.push(m[v])):u={ams:[c.Fw[v]],vms:[c.Fy[v]],soffms:c.startTime + v * d - q};v !== l.length - 1 && l[v] && m[v] || !u || (k.seg.push(u),u=void 0);}f.bt=JSON.stringify(k);}if(this.j.Z3 && 0 < this.j.Z3.length){g=[];this.j.Z3.forEach(function(a){g.push({soffms:a.time - b.j.ae,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});f.maxvbevents=g;}a && this.ISa(f);this.l2a("endplay");this.config().Js && this.ema(f);this.fma(f);this.GSa(this.j,f);this.$la(this.j,f);this.IE(this.j,f);this.KA(this.j,f,this.Xea);this.ama(f);this.cma(f);this.dma(f);this.KSa(f);this.jCb(f);this.FSa(f);this.lCb(f);this.kCb(f);this.oCb(f);this.bma(f);this.kd(Z.Ie.Kia,a,aa.gi | aa.hH | aa.eh | aa.Ky | aa.lO | aa.w9,f,h);};c.prototype.Feb=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return +a;}):b;};c.prototype.otb=function(){var a,b;a=this;if(this.j.Pm && this.j.jn){b=[];this.j.Pm.concat(this.j.jn).forEach(function(c){c.xc.forEach(function(c){b.push({dlid:c.Jd,type:c.type,bitrate:c.U,vmaf:c.rb,cdn_ids:a.Feb(c.dx)});});});return JSON.stringify(b);}};c.prototype.Jmb=function(){var b,c,f;function a(a,b){var d,h,q;d=a.cdnId;h=f[d];q=a.vmaf;h || (h={cdnid:d,dls:[]},f[d]=h,c.push(h));u.qJ(a.bitrate);u.qJ(a.duration);d={bitrate:a.bitrate,tm:n.hi(a.duration)};q && (u.qJ(a.vmaf),d.vf=q);d[b]=r.ce(a.downloadableId);h.dls.push(d);}b=this.j.Ln.Zwb();c=[];f={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);};c.prototype.yYa=function(){var a,b,c,f,d,h,q,k,m,A,g;a=this.j.Ln;b={totaltime:r.jx(a.LR()),totalcontenttime:r.jx(a.KRa()),cdndldist:this.Jmb(),reposcount:this.n_a,intrplaycount:this.b3};try{c={numskip:0,numlowqual:0};f=this.j.Vf;d=f.tA();V.qa(d) && (b.totfr=d,c.numren=d);d=f.vE();V.qa(d) && (b.totdfr=d,c.numrendrop=d);d=f.yR();V.qa(d) && (b.totcfr=d,c.numrenerr=d);d=f.R1();V.qa(d) && (b.totfdl=d);b.playqualvideo=JSON.stringify(c);h=this.j.jf.value;h && (b.videofr=h.z1.toFixed(3));q=a.JPa();q && (b.abrdel=q);k=a.yBb() && a.exb();k && (b.tw_vmaf=k);m=a.dxb();m && r.Hb(b,m);b.rbfrs=this.b3;b.maxbitrate=this.ym;b.maxresheight=this.uVa;for(var l=this.j.yA(),v,a=0;a < l.length;a++){A=l[a];g=this.Rn.VK.Vs(A);if(g){u.yb(v);b.maxbitrate=v?v.U:0;b.maxresheight=v?v.height:0;b.bitratefilters=g.join("|");break;}v=A;}this.j.zy && (b.trickplay=this.j.zy.h2());null !== this.j.Fp.ZJa && (b.avg_subt_delay=this.j.Fp.ZJa);}catch(Ua){this.log.error("Exception reading some of the endplay fields",Ua);}r.Hb(b,this.j.m2(),{prefix:"vd_"});return b;};c.prototype.getTime=function(){return this.za.Bb().ca(v.ga);};c.prototype.f6=function(a){a.browserua=n.Vm;this.bma(a);this.kd(Z.Ie.nQb,!a.success,aa.gi | aa.Ky,a);this.kd=k.kh;};c.prototype.xCb=function(){var a,b,c;a=this;c=[];this.config().lHb && (this.config().mHb.forEach(function(b){c.push(ka.setTimeout(a.j4,b));}),this.config().MVa && (b=ka.setInterval(this.j4,this.config().MVa)),this.J3a=function(){c.forEach(function(a){ka.clearTimeout(a);});b && ka.clearInterval(b);});};c.prototype.ema=function(a){var b;try{b=this.kc.getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.Fwb);}catch(wa){}};c.prototype.ama=function(a){this.log.debug("httpstats",this.ef.gc);r.Hb(a,this.ef.gc,{prefix:"http_"});};c.prototype.Yla=function(a,b){var c,f,d;c=this.config().QMa && !(this.ea % this.config().QMa);f=this.j.Ga;d=null === f || void 0 === f?void 0:f.Vg();c && d && (a.ASEstats=JSON.stringify(f.vK(b)));};c.prototype.P2=function(a){Object.assign(a,this.j.Ga.kb.tAb());};c.prototype.cma=function(a){var b;try{b=n.Et.memory;V.FTa(b) && (a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(wa){}};c.prototype.dma=function(a){var b,c,f,d,h;if(this.config().fub){h=null === (b=null === n.Re || void 0 === n.Re?void 0:n.Re.connection) || void 0 === b?void 0:b.effectiveType;b=null === n.Re || void 0 === n.Re?void 0:n.Re.deviceMemory;h && (a.effectiveType=h);b && (a.deviceMemory=b);}(h=null === (c=null === n.Re || void 0 === n.Re?void 0:n.Re.connection) || void 0 === c?void 0:c.type) && (a.connectionType=h);c=null === (f=null === n.Re || void 0 === n.Re?void 0:n.Re.connection) || void 0 === f?void 0:f.downlink;"number" === typeof c && isFinite(c) && (a.downlink=c);f=null === (d=null === n.Re || void 0 === n.Re?void 0:n.Re.connection) || void 0 === d?void 0:d.rtt;"number" === typeof f && isFinite(f) && (a.rtt=f);};c.prototype.KSa=function(a){var b;b=this.j.ne;this.config().Cmb && b && !this.config().Ip && (b=this.j.rIb(b.P5b()),a.keystatuses=b,this.log.trace("keystatuses",b));};c.prototype.FSa=function(a){var b;try{if(this.config().qQ){b=this.j.kxb();a.battery=b;this.log.trace("batterystatuses",b);}}catch(wa){}};c.prototype.jCb=function(a){this.j.p0 && (a.dqec=this.j.p0);};c.prototype.iCb=function(a){this.j.K_ && r.Hb(a,{cast_interaction_counts:this.j.K_.a6b()});};c.prototype.MSa=function(a){var b;b=this.j.Va.Tn;b && b.isUIAutoPlay && (a.isUIAutoPlay=!0);};c.prototype.bma=function(a){var b,c,f;if(null === (c=null === (b=this.j.ne) || void 0 === b?void 0:b.Am) || void 0 === c?0:c.keySystem)a.keysys=this.j.ne.Am.keySystem;else if(null === (f=this.j.ne) || void 0 === f?0:f.nx)a.keysys=this.j.ne.nx();};c.prototype.kCb=function(a){this.aja && (a.externaldisplay=this.aja.hR);};c.prototype.lCb=function(a){this.TB && this.TB.Yb && (a.media_capabilities_smooth=this.TB.Yb.CSb,a.media_capabilities_efficient=this.TB.Yb.XLb,a.media_capabilities_bitrate=this.TB.Yb.U,a.media_capabilities_height=this.TB.Yb.height,a.media_capabilities_width=this.TB.Yb.width);};c.prototype.HE=function(a,b,c){c && (a.adlid=c.Jd,a.abitrate=c.U);b && (a.vdlid=b.Jd,a.vbitrate=b.U);};c.prototype.HSa=function(a){var b,c;if(this.j.zQ){b=this.j.zQ;b.Z_ && (a.controllerESN=b.Z_);b.sob && (a.controllerUiVer=b.sob);if(b.rob)try{c=JSON.parse(b.rob);a.controllerGroupNames=c;}catch(Q){this.log.error("Exception parsing controller group names",Q);}}};c.prototype.mEb=function(){void 0 === this.aja && (this.aja=this.bja.lvb());};c.prototype.nEb=function(a){void 0 === this.TB && void 0 !== a && (this.TB=this.hoa.gja(a));};c.prototype.E1=function(a,b){(b=this.j.ox(b)) && Object.entries(b).forEach(function(b){var c;c=N(b);b=c.next().value;c=c.next().value;a[b]=c;});};c.prototype.kd=function(a,b,c,f,d){this.Zib(f,this.j,b,c);a=this.RE.Qr(a,d || (b?"error":"info"),f,this.Rn);this.Mj.kd(a);};c.prototype.Zib=function(a,b,c,f){var d,h,q,k,m,v,g,y,B,I;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (a.devmod=nrdp.device.deviceModel);b.Fj && (a.pbcid=b.Fj);b.ti && (a.playbackcontextid=b.ti);f & aa.gi && (u.yb(!a || void 0 === a.moff),0 <= b.nb.value && (a.moff=r.jx(b.nb.value),a.moffms=r.zk(b.nb.value)));if(f & aa.hH){v=b.Gc[l.zc.Ta.VIDEO].value;g=b.Gc[l.zc.Ta.AUDIO].value;y=b.Dg.value;B=b.Df.value;v && (a.cdnid=v.id,a.cdnname=v.name);g && (a.acdnid=g.id,a.acdnname=g.name);y && (a.adlid=y.stream.Jd,a.abitrate=y.stream.U);B && (a.vdlid=B.stream.Jd,a.vbitrate=B.stream.U,a.vheight=B.stream.height,a.vwidth=B.stream.width);}f & aa.eh && (null === (d=b.Ga) || void 0 === d?0:d.Vg()) && (a.abuflbytes=null !== (h=a.abuflbytes) && void 0 !== h?h:b.zfa(),a.abuflmsec=null !== (q=a.abuflmsec) && void 0 !== q?q:b.WP(),a.vbuflbytes=null !== (k=a.vbuflbytes) && void 0 !== k?k:b.Rta(),a.vbuflmsec=null !== (m=a.vbuflmsec) && void 0 !== m?m:b.pV());if(f & aa.lO){Object.assign(a,t.Pka());try{I=b.Wf.getBoundingClientRect();a.rendersize=I.width + "x" + I.height;a.renderpos=I.left + "x" + I.top;}catch(La){}}f & aa.Ky && (d=n.Re.hardwareConcurrency,0 <= d && (a.numcores=d),d=this.Rn.wia) && (h=d.fxb(),a.droppedFrames=JSON.stringify(h),d=d.GR(this.config().Atb),r.Rd(d,function(b,c){a["droppedFramesP" + b]=JSON.stringify(c);}));if(f & aa.SV)try{b.nk && (a.cdninfo=JSON.stringify(b.nk.map(function(a){return {id:a.id,nm:a.name,rk:a.jg,wt:a.location.weight,lv:a.location.level};})));}catch(La){}c && f & aa.w9 && (u.yb(b.Hj),(c=b.Hj)?a=Object.assign(a,t.Eka(this.platform.lE,c)):a.errorcode=A.L.Ul,a.errorcode === this.platform.lE + A.L.eBa && (a.lastSyncWithVideoElement=this.getTime() - b.TU));};b.vza=c;(function(a){a[a.gi=1]="MOFF";a[a.hH=2]="PRESENTEDSTREAMS";a[a.eh=4]="BUFFER";a[a.lO=8]="SCREEN";a[a.Ky=16]="CPU";a[a.SV=32]="CDN";a[a.w9=64]="FATALERROR";})(aa || (aa={}));},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.iW=void 0;c=a(46);b.iW=function(a,b){this.jtb=a;this.size=b.zma()?c.lb:b;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.X8=void 0;b.X8="DownloadReportBuilderSymbol";},function(d,b,a){var l,k,m,f,h,q,u,r,v;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Cwa=void 0;d=a(0);l=a(180);k=a(79);m=a(23);f=a(2);h=a(20);q=a(10);u=a(15);r=a(1);a=a(14);c.prototype.construct=function(a,b){var c,f,d;c=this;f={};a.forEach(function(a){var b;b=a.url;f[b] || (f[b]=[]);f[b].push(a);});d=[];m.Rd(f,function(a,f){d.push(c.EAb(f,b));});return {urls:d};};c.prototype.EAb=function(a,b){var c,f,d,h;c=this;f=a[0];d={url:f.url,bitrate:f.U,cdnid:u.zf(f.Gc)?f.Gc.id:f.Gc,dltype:f.Ysb,id:f.Jd};h={};a.forEach(function(a){var b;b=c.jDb(a)?"fail":"success";h[b] || (h[b]=[]);h[b].push(a);});m.Rd(h,function(a,f){"fail" === a?d.failures=c.myb(f,b):"success" === a && (d.downloads=c.ayb(f,b));});return d;};c.prototype.ayb=function(a,b){var c,f,d;c=this;f={};a.forEach(function(a){var b;b=a.Cnb;f[b] || (f[b]=[]);f[b].push(a);});d=[];m.Rd(f,function(a,f){var h;h=[];f.forEach(function(f){h.push(f);c.WCb(f) && (d.push(c.fQa(h,b,a)),h=[]);});0 < h.length && d.push(c.fQa(h,b,a));});return d;};c.prototype.fQa=function(a,b,c){var k;for(var f=a.sort(function(a,b){return a.wl.Jh < b.wl.Jh?-1:a.wl.Jh > b.wl.Jh?1:0;}),d=f[0].wl,h=d.requestTime,q=d.Jh,d=d.On,r=1;r < a.length;r++){k=a[r].wl;k.requestTime < h && (h=k.requestTime);k.Jh < q && (q=k.Jh);k.On > d && (d=k.On);}r=this.Jzb(f);k=f[f.length - 1];return {time:h - b,tcpid:c?parseInt(c):-1,tresp:q - h,first:r,ranges:this.Kzb(f,r),dur:d - q,trace:this.px(a),status:this.h2(k)};};c.prototype.Jzb=function(a){var b;b=0;a.forEach(function(a){a.Qq && (b=q.ho(b,a.Qq[0]));});return b;};c.prototype.Kzb=function(a,b){var c;c=[];a.forEach(function(a){a.Qq?c.push([a.Qq[0] - b,a.Qq[1] - b]):c.push([0,-1]);});return c;};c.prototype.px=function(a){var b,c;b=[];a.forEach(function(a){var f;a=a.wl;if(c){f=a.requestTime - c.On;0 < f && b.push([f,-2]);f=q.Tm(c.On,a.requestTime);f=a.Jh - f;0 < f && b.push([f,-3]);}b.push([a.On - a.Jh,a.iha || 0]);c=a;});return b;};c.prototype.WCb=function(a){if(a.ka === f.K.My || a.ka === f.K.mC)return !0;};c.prototype.h2=function(a){if(a.ia)return "complete";if(a.ka === f.K.My)return "abort";if(a.ka === f.K.mC)return "stall";h.yb(!1,"download status should never be: other");return "other";};c.prototype.myb=function(a,b){var c,f;c=this;f=[];a.forEach(function(a){var d;d=a.wl;a={time:d.Jh - b,tresp:d.Jh - d.requestTime,dur:d.On - d.Jh,range:a.Qq,reason:c.Mzb(a),httpcode:a.cj,nwerr:l.Dka(a.ka)};f.push(a);});return f;};c.prototype.Mzb=function(a){return a.cj || a.ka === f.K.LN?"http":a.ka === f.K.NN?"timeout":"network";};c.prototype.jDb=function(a){return a.ia || void 0 === a.ia || a.ka === f.K.My || a.ka === f.K.mC?!1:!0;};c.prototype.vob=function(a){var b,c,f,d,h,q;b=a.request;c=b.stream;f=b.track;d=b.url;h=this.Yxb(f,d);switch(h){case k.jh.audio:case k.jh.video:q=b.stream.Jd;break;case k.jh.d7:case k.jh.ota:q=f.Jd;}a={U:c && c.U,Ysb:h,Jd:q,wl:a.wl,Gc:b.Gc,url:d,Ne:a.Ne,cj:a.cj,ka:a.ka,ia:a.ia,Cnb:this.Yub(a)};void 0 !== b.offset && void 0 != b.length && (a.Qq=[b.offset,b.offset + b.length - 1]);return a;};c.prototype.Yxb=function(a,b){if(a)return a.type;if(0 <= b.indexOf("netflix.com")){if(0 <= b.indexOf("nccp"))return "nccp";if(0 <= b.indexOf("api"))return "api";}return "other";};c.prototype.Yub=function(a){if(a.headers && (a=a.headers["X-TCP-Info"] || a.headers["x-tcp-info"]))return (a=a.split(";").filter(function(a){return 0 == a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0])?m.ce(a):a;};v=c;v=d.__decorate([r.O(),d.__param(0,r.l(a.Sc))],v);b.Cwa=v;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qca=void 0;b.qca="XhrFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.daa=void 0;b.daa="NetworkMonitorSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.y9=void 0;b.y9="FtlDataParserSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.R9=void 0;b.R9="HttpRequesterSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uaa=void 0;b.uaa="PboAcquireLicenseCommandSymbol";},function(d,b,a){var f,h,q,u,r,v;function c(a){var b;a=new q.mwa(a);if(1481462272 != a.zp())throw Error("Invalid header");b={XMR:{Version:a.zp(),RightsID:a.dv(16)}};l(a,b.XMR,a.buffer.length);return b;}function l(a,b,c){var f,d,h,q,r;for(;a.position < c;){f=a.Eg();d=a.zp();d=d - 8;switch(f){case 1:h="OuterContainer";break;case 2:h="GlobalPolicy";break;case 3:h="MinimumEnvironment";break;case 4:h="PlaybackPolicy";break;case 5:h="OutputProtection";break;case 6:h="UplinkKID";break;case 7:h="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:h="AnalogVideoOutputConfiguration";break;case 9:h="KeyMaterial";break;case 10:h="ContentKey";break;case 11:h="Signature";break;case 12:h="DeviceIdentification";break;case 13:h="Settings";break;case 18:h="ExpirationRestriction";break;case 42:h="ECCKey";break;case 48:h="ExpirationAfterFirstPlayRestriction";break;case 50:h="PlayReadyRevocationInformationVersion";break;case 51:h="EmbeddedLicenseSettings";break;case 52:h="SecurityLevel";break;case 54:h="PlayEnabler";break;case 57:h="PlayEnablerType";break;case 85:h="RealTimeExpirationRestriction";break;default:h="Other";}q={Type:k(f)};r=b[h];r?v.isArray(r)?r.push(q):(b[h]=[],b[h].push(r),b[h].push(q)):b[h]=q;switch(f){case 1:case 2:case 4:case 7:case 9:case 54:l(a,q,a.position + d);break;case 5:q.Reserved1=a.Eg();q.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Eg();q.MinimumAnalogVideoOutputProtectionLevel=a.Eg();q.Reserved2=a.Eg();q.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Eg();break;case 10:q.Reserved=a.dv(16);q.SymmetricCipherType=a.Eg();q.AsymmetricCipherType=a.Eg();d=a.Eg();q.EncryptedKeyLength=d;f=a.dv(d);q.EncryptedKeyData=10 >= d?f:f.substring(0,4) + "..." + f.substring(f.length - 4,f.length);break;case 11:q.SignatureType=a.dv(2);d=a.Eg();f=a.dv(d);q.SignatureData=10 >= d?f:f.substring(0,4) + "..." + f.substring(f.length - 4,f.length);break;case 13:q.Reserved=a.Eg();break;case 18:q.BeginDate=a.zp();q.EndDate=a.zp();break;case 42:q.CurveType=a.dv(2);d=a.Eg();f=a.dv(d);q.Key=10 >= d?f:f.substring(0,4) + "..." + f.substring(f.length - 4,f.length);break;case 48:q.ExpireAfterFirstPlay=a.zp();break;case 50:q.Sequence=a.zp();break;case 51:q.LicenseProcessingIndicator=a.Eg();break;case 52:q.MinimumSecurityLevel=a.Eg();break;case 57:q.PlayEnablerType=m(a.dv(16));break;case 85:break;default:q.OtherData=a.dv(d);}}}function k(a){return "0x" + a.toString(16);}function m(a){return a.substring(6,8) + a.substring(4,6) + a.substring(2,4) + a.substring(0,2) + "-" + a.substring(10,12) + a.substring(8,10) + "-" + a.substring(14,16) + a.substring(12,14) + "-" + a.substring(16,20) + "-" + a.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.Krb=b.Lrb=b.Jrb=b.Irb=b.Hrb=void 0;f=a(12);h=a(7);q=a(468);u=a(146);r=a(261);v=a(15);b.Hrb=function(a,b,d){switch(b){case f.lW:a && (a=h.bKa(a),r.aua(a,function(a){a.ia && (a=a.object) && (a=u.cQa(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (a=u.YXa(a)) && (a=h.Hw(a)) && (a=c(a)) && d(a);}));}};b.Irb=c;b.Jrb=l;b.Lrb=k;b.Krb=m;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.iRa=function(){return this.buffer.length - this.position;};a.prototype.JL=function(){return this.buffer[this.position++];};a.prototype.Qk=function(a){var b;b=this.position;this.position+=a;return this.RDb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.RDb=function(a){return void 0 !== a.subarray;};a.prototype.yp=function(a){for(var b=0;a--;){b=256 * b + this.buffer[this.position++];}return b;};a.prototype.zqa=function(a){for(var b="";a--;){b+=String.fromCharCode(this.buffer[this.position++]);}return b;};a.prototype.Eg=function(){return this.yp(2);};a.prototype.zp=function(){return this.yp(4);};a.prototype.LL=function(){return this.yp(8);};a.prototype.dv=function(a){for(var b,c="";a--;){b=this.JL();c+=("0123456789ABCDEF")[b >>> 4] + ("0123456789ABCDEF")[b & 15];}return c;};a.prototype.Aqa=function(a){for(var b=0,c=0;c < a;c++){b+=this.JL() << (c << 3);}return b;};a.prototype.KL=function(){return this.Aqa(4);};return a;})();b.mwa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kaa=void 0;b.Kaa="PboReleaseLicenseCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Baa=void 0;b.Baa="PboLicenseRequestTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.waa=void 0;b.waa="PboCachedPlaydataSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dba=void 0;b.dba="PlaydataConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zaa=b.BX=void 0;b.BX={nS:"keepAlive",splice:"splice"};b.zaa="PboEventSenderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.d9=void 0;b.d9="DxDisplaySymbol";},function(d,b,a){var l,k,m,f,h;function c(a,b,c){this.Ed=a;this.is=b;this.prefix=c;this.GT=this.jp=!1;this.FKa=new f.IEa(b);}Object.defineProperty(b,"__esModule",{value:!0});b.oO=b.CG=b.Ava=b.zva=b.yva=void 0;d=a(0);l=a(1);k=a(27);m=a(22);f=a(1076);h=a(10);b.yva="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.zva="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.Ava="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.CG="";c.prototype.show=function(){this.jp || (this.iob(),this.fJ && h.Je.body.appendChild(this.fJ),this.Wf && h.Je.body.appendChild(this.Wf),this.iQ && h.Je.body.appendChild(this.iQ),this.ZF && h.Je.getElementsByTagName("head")[0].appendChild(this.ZF),this.jp=!0,this.refresh());};c.prototype.yq=function(){this.jp && (this.Wf && h.Je.body.removeChild(this.Wf),this.iQ && h.Je.body.removeChild(this.iQ),this.fJ && h.Je.body.removeChild(this.fJ),this.ZF && h.Je.getElementsByTagName("head")[0].removeChild(this.ZF),this.ZF=this.VU=this.fJ=this.iQ=this.Wf=void 0,this.jp=!1);};c.prototype.toggle=function(){this.jp?this.yq():this.show();};c.prototype.PUb=function(){(this.GT=!this.GT) || this.refresh();};c.prototype.txb=function(a){return "table." + a + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}' + ("table." + a + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}") + ("table." + a + "-display-table tr:nth-child(2n+3) {background-color: #fff;}") + ("table." + a + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}") + ("table." + a + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}") + ("table." + a + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}") + ("span." + a + "-display-indexheader {margin-left:5px;}") + ("span." + a + "-display-indexvalue {margin-left:5px;}") + ("span." + a + "-display-keyheader {margin-left:5px;}") + ("span." + a + "-display-keyvalue {margin-left:5px;}") + ("span." + a + "-display-valueheader {margin-left:5px;}") + ("ul." + a + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}") + ("ul." + a + "-display-tree li {list-style-type: none; position: relative;}") + ("ul." + a + "-display-tree li ul {display: none;}") + ("ul." + a + "-display-tree li.open > ul {display: block;}") + ("ul." + a + "-display-tree li a {color: black;text-decoration: none;}") + ("ul." + a + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}") + ("ul." + a + "-display-tree li > a:not(:last-child):before {content: '+';}") + ("ul." + a + "-display-tree li.open > a:not(:last-child):before {content: '-';}") + ("div." + a + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}") + ("button." + a + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}") + ("select." + a + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}") + ("ul." + a + "-display-item-inline {margin:0;padding:0}") + ("." + a + "-display-btn:hover, ." + a + "-display-btn:focus, ." + a + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }") + ("button." + a + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}") + ("." + a + "-display-btn-inline:hover, ." + a + "-display-btn-inline:focus, ." + a + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.iob=function(){var a;a=this;this.ZF=h.Je.createElement("style");this.ZF.type="text/css";this.ZF.innerHTML=this.txb(this.prefix);this.iQ=this.Ed.createElement("div",b.yva,void 0,{"class":this.prefix + "-display-blur"});this.Wf=this.Ed.createElement("div",b.zva,void 0,{"class":this.prefix + "-display"});this.fJ=this.Ed.createElement("div",b.Ava,void 0,{"class":this.prefix + "-display"});this.YPa().forEach(function(b){return a.fJ.appendChild(b);});};c.prototype.lob=function(a){a=this.Ed.createElement("div","",a,{"class":this.prefix + "-display-tree1"});for(var b=a.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),c=0;c < b.length;c++){b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a < c.length;a++){c[a].classList.remove("open");}}catch(B){}}else b.add("open");}});}return a;};c.prototype.refresh=function(){var a;a=this;return !this.jp || this.GT?Promise.resolve():this.RZa().then(function(b){if(b && (b=a.lob(b),a.Wf)){a.VU && (a.Wf.removeChild(a.VU),a.VU=void 0);a.VU=b;a.Wf.appendChild(a.VU);b=a.Wf.querySelectorAll("button." + a.prefix + "-display-btn-inline");for(var c=0;c < b.length;++c){b[c].addEventListener("click",a.Q_a);}(b=a.Wf.querySelector("#" + a.prefix + "-display-close-btn")) && b.addEventListener("click",function(){a.toggle();});}});};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(k.rg)),d.__param(1,l.l(m.He)),d.__param(2,l.Hi())],a);b.oO=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.e9=b.f9=void 0;b.f9="DxManagerSymbol";b.e9="DxManagerProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.q$=void 0;b.q$="LogDisplayConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eaa=void 0;b.eaa="NfCryptoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oca=void 0;b.oca="WindowUtilsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Raa=void 0;b.Raa="PlayPredictionDeserializerSymbol";},function(d,b){function a(a,b,c){var f,d,q,k;f=[];a.forEach(function(a){-1 == f.indexOf(a.vg) && f.push(a.vg);});d=null;q=null;b.forEach(function(a){null === d?q=d=a.U:q < a.U?q=a.U:d > a.U && (d=a.U);});k=[];f.forEach(function(a){var b;b={ranges:[],profile:a};d && q && (b.ranges.push({min:d,max:q}),c && (b.disallowed=c.filter(function(b){return b.stream.vg === a;}).map(function(a){return {stream:{bitrate:a.stream.U},disallowedBy:a.A0};})),k.push(b));});return k;}function c(a,b){var c;c=void 0;a=a.filter(function(a){var f;f=b(a);f && (c=c || [],c.push({stream:a,A0:f}));return !f;});for(var f=0;f < a.length;f++){a[f].lower=a[f - 1];a[f].GBb=a[f + 1];}return {mA:a,Qsb:c};}Object.defineProperty(b,"__esModule",{value:!0});b.sNa=b.Pr=b.frb=b.gla=void 0;b.gla=function(b,d){d=c(b,d);return a(b,d.mA,d.Qsb);};b.frb=a;b.Pr=c;b.sNa=function(a){if(a.lower && 1080 < a.height)return ["Prefetch UHD"];};},function(d,b,a){var l,k,m;function c(a){this.CL=a;}Object.defineProperty(b,"__esModule",{value:!0});b.iba=b.yCa=void 0;d=a(0);l=a(1);k=a(183);m=a(148);c.prototype.aVa=function(a){var b,c;b=this;if(a.fe.key.cb)return Promise.resolve(a.fe.key.cb);c=a.fe.key.fa;return a.fe.wV.uu(c).vV.then(function(a){a=a.pa;return a.Oo?b.cJ(a.Oo):b.CU(c);});};c.prototype.cJ=function(a){var b;b=new m.nH();b.sU(a.initialSegment).gsa(a.transitionType).Y0a(Object.keys(a.segments).reduce(function(b,c){var f;f=a.segments[c];b[c]={fa:a.viewableId,Ac:f.startTimeMs,zd:f.endTimeMs || Infinity,yh:f.defaultNext || null,od:f.transitionHint,MJ:f.exitZones,next:f.next};return b;},{}));return b.Cj();};c.prototype.CU=function(a){var b,c;b=this.CL.sR(a);c=new m.nH();c.gsa("lazy").cq(b,{fa:a,Ac:0,zd:Infinity}).sU(b);return c.Cj();};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(k.gO))],a);b.yCa=a;b.iba="PlaygraphResolverSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.O$=void 0;b.O$="MediaHttpSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q$=b.haa=void 0;b.haa="OpenConnectSideChannelSymbol";b.Q$="MediaRequestDownloaderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.P$=void 0;b.P$="MediaRequestConstructorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xaa=void 0;b.xaa="PboDispatcherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mba=b.Y$=b.aca=void 0;b.aca="TransportFactorySymbol";b.Y$="MslTransportSymbol";b.Mba="SslTransportSymbol";},function(d,b,a){var q,u;function c(a){return !(!a || !a.oF && !a.pboc || !a.code && !a.code);}function l(a){return !(!a || !a.vd);}function k(a){return ! !(a instanceof Error);}function m(a){switch(a){case "ACCOUNT_ON_HOLD":return u.K.Hab;case "STREAM_QUOTA_EXCEEDED":return u.K.Lab;case "INSUFFICICENT_MATURITY":return u.K.Oab;case "TITLE_OUT_OF_WINDOW":return u.K.Vab;case "CHOICE_MAP_ERROR":return u.K.Kab;case "BadRequest":return u.K.Qab;case "Invalid_SemVer_Format":return u.K.Pab;case "RESTRICTED_TO_TESTERS":return u.K.Uab;case "AGE_VERIFICATION_REQUIRED":return u.K.Iab;case "BLACKLISTED_IP":return u.K.Jab;case "DEVICE_EOL_WARNING":return u.K.kaa;case "DEVICE_EOL_FINAL":return u.K.YAa;case "INCORRECT_PIN":return u.K.bBa;case "MOBILE_ONLY":return u.K.Sab;case "MDX_CONTROLLER_CTICKET_INVALID":return u.K.Rab;case "VIEWABLE_RESTRICTED_BY_PROFILE":return u.K.Wab;case "RESET_DEVICE":return u.K.aBa;case "RELOAD_DEVICE":return u.K.$Aa;case "EXIT_DEVICE":return u.K.ZAa;case "FREE_PREVIEW_ENDED":return u.K.Nab;default:return u.K.Hxa;}}function f(a,b){return new q.Bc(a,m(b.code),"BadRequest" === b.code?u.VW.h6a:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert,b.alertTag);}function h(a,b){return new q.Bc(a,b.vd,b.Ug,void 0,b.Pu,b.message,b.bx,b.data);}Object.defineProperty(b,"__esModule",{value:!0});b.CKa=b.DKa=b.uwb=b.ywb=b.rm=b.xwb=b.tma=b.bDb=b.uTa=void 0;q=a(40);u=a(2);b.uTa=c;b.bDb=l;b.tma=k;b.xwb=m;b.rm=function(a,b){return l(b)?h(a,b):c(b)?f(a,b):k(b)?q.Bc.A1(a,b):new q.Bc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,b);};b.ywb=f;b.uwb=h;b.DKa=function(a,b,c,f,d){var h,q,k,r;h=b.C0a[c];if(void 0 === h)throw {oF:!0,code:"FAIL",display:"Unable to build the URL for " + c + " because there was no configuration information",detail:b};q=h.version;if(void 0 === q)throw {oF:!0,code:"FAIL",display:"Unable to build the URL for " + c + " because there was no version information",detail:b};k=b.n3 && h.serviceNonMember?h.serviceNonMember:h.service;if(void 0 === k)throw {oF:!0,code:"FAIL",display:"Unable to build the URL for " + c + " because there was no service information",detail:b};r=h.orgOverride;if(void 0 === r && (r=b.vXa,void 0 === r))throw {oF:!0,code:"FAIL",display:"Unable to build the URL for " + c + " because there was no organization information",detail:b};return h.isPlayApiDirect?a.wzb(f) + "/" + r + "/" + k + "/" + q:a.mzb(f) + "/" + r + "/" + k + "/" + q + "/" + (void 0 === d?"router":d);};b.CKa=function(a,b){var c;c={"Content-Type":"text/plain"};b=b();a.KIa && b && (c["X-Esn"]=b.mi);return c;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Laa=void 0;b.Laa="PboRequestFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cca=void 0;b.cca="TrickPlayManagerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qo=void 0;d=b.qo || (b.qo={});d[d.tX=0]="NOT_LOADED";d[d.LOADING=1]="LOADING";d[d.LOADED=2]="LOADED";d[d.SN=3]="LOAD_FAILED";d[d.XAa=4]="PARSE_FAILED";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.g8=void 0;b.g8="BandwidthMeterFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cba=void 0;b.cba="PlaybackSegmentDataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.bba=void 0;b.bba="PlaybackInfoPanelFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zba=b.Aba=void 0;b.Aba="RepositionTraceSymbol";b.zba="RepositionTraceFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y7=void 0;b.Y7="AseIntegrationFactorySymbol";},function(d,b,a){var l,k,m,f,h,q,u,r,v,g,y,B,I,J,D,n,p,U,V,E,Z,t,ha,aa,sa,fa,wa,Q,ca,O,xa,Na,Ha,ja,Ca,Wa,Ta,Ua,La,F;function c(a,b,c,f,d,h,q,k,u,A,I,n,R,T,U,ta,Q,Ha,ca,O,fa,Ta,sa,xa,Ua,La,Wa,Ka,L,N,P){var ia,Kc;function fb(a){a.newValue !== ja.sb.Zf && a.newValue !== ja.sb.uj && (ia.Ob.removeListener(fb),ia.sK=ia.ta.q6,ia.Jb.dc(ja.V.Fs));}function lb(a){a.newValue !== ja.sb.Zf && (ia.Ob.removeListener(lb),ia.zYa=ia.ta.Ae.ca(Z.ga),ia.Jb.dc(ja.V.up));}ia=this;this.ey=d;this.EE=h;this.za=k;this.QI=u;this.ta=A;this.Nna=I;this.Ona=T;this.O3=U;this.kc=ta;this.lj=Q;this.wi=Ha;this.eu=ca;this.Jpa=O;this.GS=fa;this.nta=Ta;this.Mj=sa;this.Wd=xa;this.Hpa=Ua;this.Al=La;this.o_a=Wa;this.vfa=Ka;this.$E=L;this.MI=N;this.K_=P;this.GYa=[];this.zT={};this.Zc=new g.Cc(null);this.og=new g.Cc(null);this.Oc=new g.Cc(null);this.jk=new g.Cc(null);this.Zs=new g.Cc(void 0);this.jf=new g.Cc(null);this.jl=new g.Cc(null);this.nb=new g.Cc(void 0);this.playbackRate=new F.gCa(1,y.config.Yna);this.yta=function(a){return ia.Zc.set(a.newValue);};this.lWb=function(a){return ia.og.set(a.newValue);};this.iWb=function(a){return ia.Oc.set(a.newValue);};this.KVb=function(a){return ia.jk.set(a.newValue);};this.hWb=function(a){return ia.Zs.set(a.newValue);};this.kWb=function(a){return ia.jf.set(a.newValue);};this.LVb=function(a){return ia.jl.set(a.newValue);};this.$Vb=function(a){return ia.Df.set(a.newValue);};this.ZVb=function(a){return ia.Dg.set(a.newValue);};this.VVb=function(a){return ia.nb.set(a.newValue);};this.q7=function(a){return ia.playbackRate.set(a.newValue);};this.ij={};this.ira=this.eta=0;this.Jb=new B.tj();this.rV={};this.S1a=!1;this.state=new g.Cc(ja.Db.eH);this.Hs=new g.Cc(!1);this.paused=new g.Cc(!1);this.muted=new g.Cc(!1);this.volume=new g.Cc(y.config.Zrb / 100);this.Ob=new g.Cc(ja.sb.Zf);this.ug=new g.Cc(ja.ge.cd);this.fm=new g.Cc(ja.ge.cd);this.Jl=new g.Cc(ja.ge.cd);this.Dg=new g.Cc(null);this.Df=new g.Cc(null);this.fga=new g.Cc(null);this.K2=r.eya(this);this.Z3=[];this.Gc=[];this.Rfa={};this.YQ=this.cOa=!1;this.Ka=this.ai=-1;this.Rka=function(a,b){var c;a=void 0 === a?null:a;return wa.qa(a)?b && !ia.yu(b).pa?a:(null === (c=ia.Ga) || void 0 === c?0:c.Vg())?ia.Ga.Qo(void 0,a,b):a:null;};this.cXa=function(){ia.wsa();};this.lJ=a;this.addEventListener=this.Jb.addListener;this.removeEventListener=this.Jb.removeListener;this.fireEvent=this.Jb.dc;this.Wea({fa:a,va:f,Va:c || ({})},y.config.Js?this.kc.jK(a):void 0,b);this.log=E.Bh(this);this.cia=q(this);this.flb=n(this);this.Wf=Na.createElement("DIV",v.vba,void 0,{id:this.u});this.yCb();Kc=R(Z.$g(1));this.Qc=this.log.tha("Playback");this.vLb=m.UBa(this);D.mH.JHb=this;D.mH.tja || (D.mH.tja=this);this.Qc.info("Playback created",this.Dh);this.N3?this.Qc.info("Playback selected for trace playback info logging"):this.Qc.trace("Playback not selected for trace playback info logging");y.config.Js && (this.kc.eBb(this.u),this.addEventListener(ja.V.Fs,function(){ia.kc.fBb(ia.u);ia.Oc.addListener(function(){ia.kc.YRa();});ia.Zc.addListener(function(){ia.kc.YRa();});}),this.addEventListener(ja.V.Pf,function(){ia.kc.dBb(ia.u);}));this.state.addListener(function(a){ia.Qc.info("Playback state changed",{From:a.oldValue,To:a.newValue});ha.yb(a.newValue > a.oldValue);});J.Ve.addListener(J.um,this.cXa,v.wX);this.nb.addListener(function(){Kc.bd(function(){return ia.$Oa();});});this.Ob.addListener(function(a){ia.Qc.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:aa.Mh(ia.nb.value)},ia.Fn());});this.Ob.addListener(function(){ia.Hs.set(ia.Ob.value === ja.sb.Uc);});this.ug.addListener(function(a){ia.Qc.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:aa.Mh(ia.nb.value)},ia.Fn());});this.fm.addListener(function(a){ia.Qc.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:aa.Mh(ia.nb.value)},ia.Fn());});this.Jl.addListener(function(a){ia.Qc.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:aa.Mh(ia.nb.value)},ia.Fn());});this.Zc.addListener(function(a){ha.yb(a.newValue);ia.Qc.info("AudioTrack changed",a.newValue && ({ToBcp47:a.newValue.gm,To:a.newValue.Xa}),a.oldValue && ({FromBcp47:a.oldValue.gm,From:a.oldValue.Xa}),{MediaTime:aa.Mh(ia.nb.value)});});this.Oc.addListener(function(a){ia.Qc.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.gm,To:a.newValue.Xa}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.gm,From:a.oldValue.Xa}:{From:"none"},{MediaTime:aa.Mh(ia.nb.value)});});this.Gc[l.zc.Ta.AUDIO]=new g.Cc(null);this.Gc[l.zc.Ta.VIDEO]=new g.Cc(null);this.Ob.addListener(lb,v.CC);this.Ob.addListener(fb);this.addEventListener(ja.V.Fs,function(){ia.S1a=!0;ia.M1a=ia.lga();ia.ud("start");ia.V2=ia.Df.value.stream.U;});V.aCa(this);D.ko.push(this);y.config.ST && (this.j5=this.Hpa(this),this.k5=new p.iCa(this));D.Yaa.forEach(function(a){a(ia);});this.Zea=function(a){ia.addEventListener(ja.V.DF,function(a){var b;a=a.cause;a !== ja.xd.Fv && a !== ja.xd.IC && (null === (b=ia.Ga) || void 0 === b?void 0:b.stop());});ia.addEventListener(ja.V.El,function(b){var c,f,d,h,q,k,r,m,l;ia.o_a.El(b);d=b.cause;h=b.skip;q=b.D4;k=b.dpa;r=b.u;b=b.Wh;ia.ha.Ln.DIb(k,q);if(d !== ja.xd.IC && (y.config.dwb && d === ja.xd.rH && ia.Ga.Ow(),d !== ja.xd.Fv))if(h){if(null !== (c=ia.Ga) && void 0 !== c && c.Rg(q)){ia.Qc.trace("Repositioned. Skipping from " + k + " to " + q);c=function(a){ia.log.error("streamingSession.skipped threw an exception",a);a=Ca.Bc.A1(t.L.n5a,a);ia.wp(a.code,a);};try{a.Wn(q).then(function(a){var b;a.wK || (ia.u4a() || ia.fm.set(ja.ge.wd),null === (b=ia.Ga) || void 0 === b?void 0:b.play());})["catch"](c);}catch(Lc){c(Lc);}}else ia.log.error("can skip returned false");}else {ia.Qc.trace("Repositioned. Seeking from " + k + " to " + q);try{m=ia.sm(r).va;l=ia.GQa(m);null === (f=ia.Ga) || void 0 === f?void 0:f.Jm(b,l,m);}catch(Lc){ia.log.error("streamingSession.seekByContentPts threw an exception",Lc);q=Ca.Bc.A1(t.L.m5a,Lc);ia.wp(q.code,q);}}});};this.playbackRate.addListener(function(){var a,b;if(null === (a=ia.Ga) || void 0 === a?0:a.Vg())null === (b=ia.Ga) || void 0 === b?void 0:b.AL();});this.addEventListener(ja.V.Kw,function(a){var b;a.cause == D.Uaa && (ia.ug.set(ja.ge.cd),null === (b=ia.Ga) || void 0 === b?void 0:b.Hp(ia.Vf.lQa()));});}Object.defineProperty(b,"__esModule",{value:!0});b.cCa=void 0;l=a(48);k=a(274);m=a(275);f=a(71);h=a(502);q=a(1128);u=a(1129);r=a(505);v=a(12);g=a(149);y=a(11);B=a(68);I=a(506);J=a(58);D=a(57);n=a(99);p=a(508);U=a(1132);V=a(512);E=a(7);Z=a(4);t=a(2);ha=a(20);aa=a(85);sa=a(23);fa=a(55);wa=a(15);Q=a(188);ca=a(513);O=a(118);xa=a(280);Na=a(26);Ha=a(128);ja=a(13);Ca=a(40);Wa=a(276);Ta=a(515);Ua=a(138);La=a(481);F=a(1135);c.prototype.ud=function(a,b){b=void 0 === b?this.lJ:b;this.zT[b].ud(a);};c.prototype.tx=function(a){this.ha.tx(a);};c.prototype.yCb=function(){var a;a=this;this.Zc.addListener(function(b){return a.ha.Zc.set(b.newValue);});this.og.addListener(function(b){return a.ha.og.set(b.newValue);});this.Oc.addListener(function(b){return a.ha.Oc.set(b.newValue);});this.jk.addListener(function(b){return a.ha.jk.set(b.newValue);});this.Zs.addListener(function(b){return a.ha.Zs.set(b.newValue);});this.jf.addListener(function(b){return a.ha.jf.set(b.newValue);});this.jl.addListener(function(b){return a.ha.jl.set(b.newValue);});this.Df.addListener(function(b){return a.ha.Df.set(b.newValue);});this.Dg.addListener(function(b){return a.ha.Dg.set(b.newValue);});this.nb.addListener(function(b){return a.ha.nb.set(b.newValue);});this.playbackRate.addListener(function(b){return a.ha.playbackRate.set(b.newValue);});this.O_a();};c.prototype.O_a=function(){this.ha !== this.Ira && (this.ha.nb.set(this.nb.value),this.ha.playbackRate.set(this.playbackRate.value),this.kt(function(a){return a.Zc;},this.yta),this.kt(function(a){return a.og;},this.lWb),this.kt(function(a){return a.Zs;},this.hWb),this.kt(function(a){return a.Oc;},this.iWb),this.kt(function(a){return a.jk;},this.KVb),this.kt(function(a){return a.jf;},this.kWb),this.kt(function(a){return a.jl;},this.LVb),this.kt(function(a){return a.Dg;},this.ZVb),this.kt(function(a){return a.Df;},this.$Vb),this.kt(function(a){return a.nb;},this.VVb),this.kt(function(a){return a.playbackRate;},this.q7),this.Oc.set(this.ha.Oc.value),this.Zc.set(this.ha.Zc.value,{e_:!0}),this.og.set(this.ha.og.value),this.jk.set(this.ha.jk.value),this.Zs.set(this.ha.Zs.value),this.jf.set(this.ha.jf.value),this.jl.set(this.ha.jl.value),this.Ira=this.ha);};c.prototype.kt=function(a,b){this.Ira && a(this.Ira).removeListener(b);a(this.ha).addListener(b);};c.prototype.load=function(a){var b,c;b=this;this.load=function(){};this.JYa=a;if(this.state.value == ja.Db.eH){this.Qc.info("Playback loading",this);this.yIb();this.ud("asl_load_start");a=this.QI;c=a.endTime;wa.ic(a.startTime)?wa.ic(c)?this.ud("asl_ended"):this.ud("asl_in_progress"):this.ud("asl_not_started");this.QI.yS(function(a){b.ud("asl_load_complete");a.ia?b.lqb():b.wp(a.errorCode || t.L.kya,a);});}};c.prototype.VLb=function(){var a;try{if(this.state.value === ja.Db.LOADING){a={width:1,height:1,dfa:1};this.yA().forEach(function(b){a.width * a.height < b.width * b.height && (a.width=b.width,a.height=b.height,a.dfa=b.dfa);});this.SM=a;this.JD=this.eu.QIa({PB:Z.Nb(this.X),u:this.u,xT:this.Nr,Va:this.Va}).ca(Z.ga);this.sfa();this.krb();}}catch(lb){this.wp(t.L.U9a,{ka:t.K.ei,Ab:sa.Ue(lb)});}};c.prototype.Wea=function(a,b,c){var f,d,h;b=void 0 === b?this.EE.Yz():b;c=void 0 === c?this.za.Bb():c;f=! !y.config.y4a && !(b % y.config.y4a);d=a.fa;h=a.va;a=a.Va;b=this.Jpa(D.mH.index++,d,h,a,b,c,f,this.ha,this.Rka);this.zT[d]=b;1 < this.dy.length && (b.Eq=this.O3.create(this,b,!1));b.VK=new n.qAa(this,b);return d;};c.prototype.GQa=function(a){return a?void 0:0;};c.prototype.sm=function(a){return this.zT[a];};c.prototype.yu=function(a){return this.dy.find(function(b){return b.va === a;}) || this.ha;};c.prototype.Azb=function(a){return this.dy.find(function(b){var c,f;return (null === (f=null === (c=b.ne) || void 0 === c?void 0:c.hEb) || void 0 === f?void 0:f.sessionId) === a;}) || this.ha;};c.prototype.mNb=function(a,b){var c,f;b=void 0 === b?!0:b;c=this;f=this.sm(a);return this.v0a(f).then(function(a){var d,h;if(null === (d=c.Ga) || void 0 === d || !d.Vg())throw new Ca.Bc(t.L.naa,t.K.g5a);c.bZa(a,f);a=[f.wc.YMa,f.wc.bNa];d=!1;try{d=!(null === (h=c.Ga) || void 0 === h || !h.xw(f.pa.Fc,{WUb:a,replace:!1,X:f.Va.X,sa:f.Va.sa,tF:!0,Vh:!f.Dx,VJa:b,u_:c.FQ(f.u),cCb:!0},f.va));}catch(Lb){throw Ca.Bc.A1(t.L.naa,Lb);}if(!d)throw new Ca.Bc(t.L.naa,t.K.h5a);return f.Dx?c.Gb.Dk.p_a(f):Promise.resolve();})["catch"](function(a){c.log.error("queueManifest failed",a);throw c.lj(a.code,a);});};c.prototype.axb=function(){if(wa.qa(this.Md.ats) && wa.qa(this.Md.at))return this.Md.at - this.Md.ats;};c.prototype.NPa=function(){var a,b;a=this.pV();b=this.WP();return Math.min(a,b);};c.prototype.GU=function(){this.background || (this.Qc.info("Starting inactivity monitor for movie " + this.u),new I.Fya(this));};c.prototype.close=function(a){a && (this.state.value == ja.Db.CLOSED?a():this.addEventListener(ja.V.closed,function(){a();}));this.wsa();};c.prototype.ed=function(a,b,c,f){a=this.lj(a,b,c);this.SD(a,f);};c.prototype.SD=function(a,b){var c,f,d,h;c=this;if(this.state.value == ja.Db.eH)this.Hj || (this.Hj=a,this.load());else {b && (this.state.value == ja.Db.CLOSED?b():this.addEventListener(ja.V.closed,function(){b();}));f=function(){c.wsa(a);};d=y.config.eNa && a && y.config.eNa[a.errorCode];h=-1;wa.Cx(d) && (h=sa.ce(d));this.Qc.error("Fatal playback error",{Error:"" + a,HandleDelay:"" + d});0 <= h?setTimeout(f,h):f();}};c.prototype.iV=function(){this.Jb.dc(ja.V.iV);};c.prototype.bq=function(a,b){b=void 0 === b?this.va:b;this.GYa.push(this.za.Bb().ca(Z.ga) + "-" + b + "-" + a);};c.prototype.ewb=function(){this.$Oa();};c.prototype.Gka=function(){var a;if(null === (a=this.Ga) || void 0 === a?0:a.Vg())if((a=this.Ga.vn().id,void 0 !== a))return a;return null;};c.prototype.wA=function(){var a,b;b=null === (a=this.Ga) || void 0 === a?void 0:a.Vg();return void 0 === this.ha.Y_ || b?this.Rka(this.nb.value,this.va):this.ha.Y_;};c.prototype.Fka=function(){var a;a=this.Rka(this.Vf.lQa());return null === a?null:Math.min(this.Nr.ca(Z.ga),Math.max(0,a));};c.prototype.wR=function(){var a,b;return null === (b=null === (a=this.pa) || void 0 === a?void 0:a.Fc.Oo) || void 0 === b?void 0:b.Ja;};c.prototype.YVb=function(a){this.Va=O.ooa(this.Va,a);this.sfa();};c.prototype.IPa=function(){return this.Zc.value?this.Zc.value.xc:[];};c.prototype.yA=function(a){a=void 0 === a?this.u:a;return (a=this.sm(a).og) && a.value?a.value.xc:[];};c.prototype.mBb=function(a){for(var b=N(this.dy),c=b.next();!c.done;c=b.next()){if(c=(c=c.value.nk) && c.find(function(b){return b.id === a;}))return c;}};c.prototype.iMb=function(a){a=void 0 === a?this.ha:a;a.Oc.value?this.Fp.gMb(a.Oc.value):Promise.resolve();};c.prototype.ola=function(a){for(var b=N(this.dy),c=b.next();!c.done;c=b.next()){for(var c=N(c.value.jn),f=c.next();!f.done;f=c.next()){if(f=f.value.xc.find(function(b){return b.Jd === a;}))return f;}}};c.prototype.tla=function(a){for(var b=N(this.dy),c=b.next();!c.done;c=b.next()){for(var c=N(c.value.Pm),f=c.next();!f.done;f=c.next()){if(f=(f=f.value) && f.xc.find(function(b){return b.Jd === a;}))return f;}}};c.prototype.Pr=function(){var a,b,c;return null !== (c=null === (b=null === (a=this.k5) || void 0 === a?void 0:a.CQ) || void 0 === b?void 0:b.call(a)) && void 0 !== c?c:this.wqb().mA;};c.prototype.f1a=function(a){var b,c;null !== (b=this.Ga) && void 0 !== b && b.Vg() && this.sm(a) && ((null === (c=this.k5) || void 0 === c?0:c.CQ)?this.k5.L3a():(b=this.FQ(a),this.Ga.Hl(b,a)));};c.prototype.PDb=function(){return "trailer" === this.Dd;};c.prototype.ZCb=function(){return ! !this.Dd && 0 <= this.Dd.indexOf("billboard");};c.prototype.UDb=function(){return ! !this.Dd && 0 <= this.Dd.indexOf("video-merch");};c.prototype.tDb=function(){return ! !this.Dd && 0 <= this.Dd.indexOf("mini-modal");};c.prototype.KE=function(){return this.PDb() || this.ZCb() || this.UDb() || this.tDb();};c.prototype.bka=function(){var d,h,q;if(this.Pm){for(var a,b=0;b < this.Pm.length;b++){for(var c=this.Pm[b],f=0;f < c.xc.length;f++){d=c.xc[f];if(wa.qa(d.yha) && wa.qa(d.h0) && wa.qa(d.g0) && wa.qa(d.f0) && (0 < d.yha || 0 < d.h0)){h=1;q=1;wa.qa(d.rYa) && wa.qa(d.sYa) && (h=d.rYa,q=d.sYa);d=d.f0 * q / (d.g0 * h);a=wa.qa(a)?Math.min(a,d):d;}}}return a;}};c.prototype.Rzb=function(){return {tr:this.eta,rt:this.ira};};c.prototype.ox=function(a){return this.ij[a];};c.prototype.bmb=function(){return this.Ll?this.za.Bb().ca(Z.ga) - this.Ll:this.ta.Ae.ca(Z.ga) - this.F1();};c.prototype.lga=function(){var a;if(this.Ll)return this.za.Bb().ca(Z.ga) - this.Ll;a=this.za.PE;return this.zYa - (this.Mk.ca(Z.ga) + a.ca(Z.ga));};c.prototype.kmb=function(){return this.Ll?this.za.Bb().ca(Z.ga) - this.Ll:this.zYa - this.F1();};c.prototype.rIb=function(a){var b,c;b=this.ae;c={};sa.Rd(a,function(a,f){c[a]=f.map(function(a){return a - b;});});return c;};c.prototype.kxb=function(){var a,b;a=this.ae;b={};sa.Rd(this.Rfa,function(c,f){b[c]=f.map(function(b){return b - a;});});return h.du?{level:h.du.HQa(),charging:h.du.$ja(),statuses:b}:null;};c.prototype.m2=function(){this.ZOa();return this.rV;};c.prototype.F1=function(){var a;a=this.Va.n7;a=wa.qa(a)?a:this.Mk.ca(Z.ga) + this.za.PE.ca(Z.ga);ha.yb(wa.Bx(a));return a;};c.prototype.Mka=function(){return this.za.Bb().ca(Z.ga) - this.Mk.ca(Z.ga);};c.prototype.g1a=function(a,b){this.rV[a]=b;};c.prototype.rXb=function(){this.jSb=!0;};c.prototype.K4=function(){this.VZa();};c.prototype.pV=function(){var a;a=this.j_();return a && a.vbuflmsec || 0;};c.prototype.WP=function(){var a;a=this.j_();return a && a.abuflmsec || 0;};c.prototype.Rta=function(){var a;a=this.j_();return a && a.vbuflbytes || 0;};c.prototype.zfa=function(){var a;a=this.j_();return a && a.abuflbytes || 0;};c.prototype.v0a=function(a){var b,c,f,d;a=void 0 === a?this.ha:a;b=this;c=y.config.C5.enabled?Ha.Oi.sba:this.KE()?Ha.Oi.VX:Ha.Oi.$j;c={ea:a.ea,Va:a.Va,fa:a.u,tq:c};f=a.u !== this.ha.u;d=this.za.Bb().ca(Z.ga);return this.GS.Oe(this.log,c).then(function(c){var h;h=b.za.Bb().ca(Z.ga);c.Uo && b.fireEvent(ja.V.MK,{u:a.u});f && (c.wB=d,c.FF=h);return c;})["catch"](function(a){b.log.error("PBO manifest failed",a);return Promise.reject(a);});};c.prototype.bZa=function(a,b){b=void 0 === b?this:b;b.pa=a;a=this.Nna.create(this).DKb(a);b.wc=a;b.og.set(a.Vha);b.Zc.set(a.NQ);b.Oc.set(a.Uha);};c.prototype.nPa=function(a,b){this.Kx({u:a,LA:void 0 === b?!1:b});};c.prototype.QAb=function(a,b){this.sm(a.fa) || this.Wea(a);this.nPa(a.fa,!0);this.SD(b);};c.prototype.cSa=function(a,b){if(!this.wi.w7)return !0;a=this.vp.ca(Z.ga) - a;return 0 > a || a > b;};c.prototype.u4a=function(){var a;if(this.Ga)return this.Ga.Ota;a=y.V_(this.Dd);return a.Ml && a.iE;};c.prototype.zPb=function(){this.Vf.seek(this.wA() || 0,ja.xd.qW);};c.prototype.Kx=function(a){var b,c;if(this.FL){if(a.u === this.lJ){this.FL=a.u;return;}b=this.sm(a.u);c=b.pa;c && wa.ic(c.wB) && wa.ic(c.FF) && b.tx({pr_ats:c.wB,pr_at:c.FF});this.fireEvent(ja.V.PK,{u:this.lJ});this.lJ=a.u;this.sfa();a.LA || this.O_a();this.sK=this.ta.q6;this.ha.Ll || (this.ha.Ll=this.za.Bb().ca(Z.ga));}("boolean" === typeof this.Va.IJ?this.Va.IJ:y.config.IJ) && !a.LA && this.nta.IJ(this);a.FL=this.FL;this.FL=a.u;this.fireEvent(ja.V.Gq,a);};c.prototype.lqb=function(){try{this.yQ=new Wa.Zva(this);this.Eq=this.O3.create(this,this.ha,!0);y.config.Dmb && new Ta.txa(this,this.Mj,this.log);y.config.qQ && this.qQ(this);this.WWb();}catch(fb){this.wp(t.L.T9a,{ka:t.K.ei,Ab:sa.Ue(fb)});}};c.prototype.WWb=function(){this.Hj?this.SD(this.Hj):wa.Cma(this.u)?this.bnb():this.wp(t.L.E9a,{Ab:"" + this.u});};c.prototype.bnb=function(){var a;a=k.YF.G0a;a?a.ia?this.Nga():this.wp(t.L.Bya,a):(ha.yb(!y.config.T0),this.Mea());};c.prototype.Nga=function(){var a;a=this;!this.background && y.config.Nga?D.Xaa(function(){a.Mea();},this):this.Mea();};c.prototype.Mea=function(){var a;a=this;this.state.value == ja.Db.LOADING && (y.config.Lia && !this.KE()?k.YF.uw(D.$Ba,function(b){b.ia?(a.L3=b.L3,y.config.m6?a.dQ():a.Nra()):a.wp(t.L.Aya);},!0):y.config.m6?this.dQ():this.Nra());};c.prototype.Nra=function(){var a;a=this;this.state.value == ja.Db.LOADING && (this.ud("ic"),this.vLb.CQb(function(b){b.error && a.log.error("Error sending persisted playdata",t.jr(b));try{a.dQ();}catch(Kc){a.log.error("playback.authorize threw an exception",Kc);a.wp(t.L.x5a,{ka:t.K.ei,Ab:sa.Ue(Kc)});}}));};c.prototype.dQ=function(){var a,b;a=this;if(this.state.value == ja.Db.LOADING){this.log.info("Authorizing",this);b=this.za.Bb().ca(Z.ga);this.ud("ats");this.yQ.dQ(function(c){var f;if(a.state.value == ja.Db.LOADING){a.ud("at");f=a.pa;a.tx({pr_ats:f && wa.ic(f.wB)?f.wB:b,pr_at:f && wa.ic(f.FF)?f.FF:a.za.Bb().ca(Z.ga)});c.ia?0 < a.wc.nk.length && a.wc.NQ && a.wc.Vha && a.wc.Uha?a.TMb():a.wp(t.L.A$a,a.Ona(a.wc)):a.wp(t.L.MANIFEST,c);}});}};c.prototype.TMb=function(){var a;a=this;this.JYa?(this.log.info("Processing post-authorize",this),this.JYa(this,function(b){b.ia?a.O3a():a.wp(t.L.Y9a,b);})):this.O3a();};c.prototype.O3a=function(){this.state.value == ja.Db.LOADING && (this.Ga=this.vfa(this),this.Ga.hsa({vh:f.vh,config:y.config,Wd:this.Wd,Qc:this.Qc,Fn:this.Fn.bind(this),Ah:E.Ah,BB:this.BB.bind(this),Kx:this.Kx.bind(this)}),this.VLb());};c.prototype.krb=function(){var a,b,c,f,d,h,k;a=this;try{this.Gb=new q.fAa(this);this.Gb.open();b=new Promise(function(b){a.Gb.addEventListener(xa.Pi.F1a,b);});this.Vf=new ca.kAa(this);c={Zd:function(){return a.nb.value;},un:function(){return a.playbackRate.value;},ER:function(){return a.Gb;}};f=this.wc.NQ.co === Ua.po.NONE;d={Rf:!1,NM:y.config.NM,v7:y.config.ZQ,BS:!1,Vh:!this.Dx,tF:! !this.Va.o3,sa:this.Va.sa,QM:this.wc.NQ.zK || f};h={qF:this.log,zm:this.zm,sessionId:this.u + "-" + this.ea,ea:this.ea,nF:this.Fj,mi:Q.li?Q.li.mi:void 0,cx:0 === y.config.RQ || 0 !== this.ea % y.config.RQ?!1:!0};this.cOa=! !h.cx;k=this.sm(this.u).va;try{this.Ga.uK({Xh:d,Xw:h,P:c,va:k,FQ:this.FQ.bind(this),Zea:this.Zea.bind(this)});this.Ga.fKa({ij:this.ij,ae:this.ae});}catch(Lb){throw (this.log.error("Failed to initialize ASE streaming",{error:Lb,startPts:this.X,flags:d}),Lb);}b.then(function(){var b;a.state.value !== ja.Db.CLOSING && a.state.value !== ja.Db.CLOSED && (null === (b=a.Ga) || void 0 === b?void 0:b.open());});this.nb.set(this.X);this.Fp=new u.zEa(this);if("boolean" === typeof this.Va.L5?this.Va.L5:y.config.L5)this.aV=new U.AEa(this);this.GU();D.Zaa.forEach(function(b){b(a);});this.xIb();}catch(Lb){this.wp(t.L.V9a,{ka:t.K.ei,Ab:sa.Ue(Lb)});}};c.prototype.yIb=function(){ha.yb(this.state.value == ja.Db.eH);this.ae=this.za.Bb().ca(Z.ga);this.state.set(ja.Db.LOADING);};c.prototype.wp=function(a,b){this.done || (this.done=!0,b instanceof Ca.Bc?this.ed(b.code,b):this.ed(a,b));};c.prototype.qQ=function(a){var c,f;function b(){var b,f;b=h.du.$ja() + "";f=a.Rfa[b];f || (f=a.Rfa[b]=[]);f.push(c.za.Bb().ca(Z.ga));c.log.trace("charging change event",{level:h.du.HQa(),charging:h.du.$ja()});}c=this;f=h.du.E6a;h.du.addEventListener(f,b);a.addEventListener(ja.V.Pf,function(){h.du.removeEventListener(f,b);});};c.prototype.wsa=function(a){var b,c;b=this;if(this.state.value == ja.Db.eH || this.state.value == ja.Db.LOADING || this.state.value == ja.Db.wd){this.Qc.info("Playback closing",this,a?{ErrorCode:a.B0}:void 0);this.bq("Closing");J.Ve.removeListener(J.um,this.cXa);this.Hj=a;this.ha.Y_=this.wA();this.ZOa();(null === (c=this.Ga) || void 0 === c?0:c.Vg()) && this.Ga.flush();try{this.Jb.dc(ja.V.Pf,{movieId:this.lJ});}catch(ia){this.Qc.error("Unable to fire playback closing event",ia);}this.state.set(ja.Db.CLOSING);this.l5a();this.jSb || fa.Hc(function(){return b.VZa();});}};c.prototype.$Oa=function(){var a;a=this.nb.value;this.BEb != a && (!1,this.BEb=a,this.Jb.dc(ja.V.Vsa));};c.prototype.VZa=function(){var a,b;a=this;ha.yb(this.state.value == ja.Db.CLOSING);b=this.L3;this.L3=void 0;b?k.YF.release(b,function(b){ha.yb(b.ia);a.Uga();}):this.Uga();};c.prototype.l5a=function(){var a;null === (a=this.Ga) || void 0 === a?void 0:a.cc();delete this.Ga;delete this.gb;delete this.Nm;};c.prototype.Uga=function(){var a;this.Uga=v.kh;ha.yb(this.state.value == ja.Db.CLOSING);a=D.ko.indexOf(this);ha.yb(0 <= a);D.ko.splice(a,1);this.state.set(ja.Db.CLOSED);this.Jb.dc(ja.V.closed,void 0,!0);this.Jb.Tg();delete this.ne;this.ha.K4();};c.prototype.sfa=function(){this.Va.playbackState && ("number" === typeof this.Va.playbackState.volume && this.volume.set(aa.io(this.Va.playbackState.volume,0,1)),"boolean" === typeof this.Va.playbackState.muted && this.muted.set(this.Va.playbackState.muted),"number" === typeof this.Va.playbackState.playbackRate && this.playbackRate.set(this.Va.playbackState.playbackRate));};c.prototype.ZOa=function(){this.Jb.dc(ja.V.q1a,{rV:this.rV});};c.prototype.BB=function(a,b){var c;c=this.nk.filter(function(b){return b.id === a;})[0];c && this.Gc[b].set(c);};c.prototype.Fn=function(){return {AudioBufferLength:this.WP(),VideoBufferLength:this.pV()};};c.prototype.j_=function(){var a;if(null === (a=this.Ga) || void 0 === a?0:a.Vg())return this.Ga.vK(!1);};c.prototype.xIb=function(){this.state.value == ja.Db.LOADING && this.state.set(ja.Db.wd);};c.prototype.wqb=function(){var a,b,c;a=void 0 === a?this.u:a;b=this.yA(a);c=this.sm(a);return La.Pr(b,function(a){return c.VK.Vs(a);});};c.prototype.FQ=function(a){var b,c;a=void 0 === a?this.u:a;b=this.yA(a);c=this.sm(a);return La.gla(b,function(a){return c.VK.Vs(a);});};ma.Object.defineProperties(c.prototype,{dy:{configurable:!0,enumerable:!0,get:function(){return Object.values(this.zT);}},ha:{configurable:!0,enumerable:!0,get:function(){return this.zT[this.lJ];}},yTa:{configurable:!0,enumerable:!0,get:function(){return 1 === this.dy.length;}},X:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.JD?this.JD:this.dy[0].Va.X || 0;}},wc:{configurable:!0,enumerable:!0,get:function(){return this.ha.wc;},set:function(a){this.ha.wc=a;}},r1:{configurable:!0,enumerable:!0,get:function(){return this.ha.Va.r1;}},s1:{configurable:!0,enumerable:!0,get:function(){return this.ha.Va.s1;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ha.index;}},va:{configurable:!0,enumerable:!0,get:function(){return this.ha.va;}},ne:{configurable:!0,enumerable:!0,get:function(){return this.ha.ne;},set:function(a){this.ha.ne=a;}},Ll:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ll;},set:function(a){this.ha.Ll=a;}},Oz:{configurable:!0,enumerable:!0,get:function(){return this.ha.Oz;},set:function(a){this.ha.Oz=a;}},OD:{configurable:!0,enumerable:!0,get:function(){return this.ha.OD;},set:function(a){this.ha.OD=a;}},V2:{configurable:!0,enumerable:!0,get:function(){return this.ha.V2;},set:function(a){this.ha.V2=a;}},pa:{configurable:!0,enumerable:!0,get:function(){return this.ha.pa;},set:function(a){this.ha.pa=a;}},JD:{configurable:!0,enumerable:!0,get:function(){return this.ha.JD;},set:function(a){this.ha.JD=a;}},TU:{configurable:!0,enumerable:!0,get:function(){return this.ha.TU;},set:function(a){this.ha.TU=a;}},Va:{configurable:!0,enumerable:!0,get:function(){return this.ha.Va;},set:function(a){this.ha.Va=a;}},Eq:{configurable:!0,enumerable:!0,get:function(){return this.ha.Eq;},set:function(a){this.ha.Eq=a;}},Ln:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ln;}},u:{configurable:!0,enumerable:!0,get:function(){return this.ha.u;}},Dd:{configurable:!0,enumerable:!0,get:function(){return this.ha.Dd;}},jn:{configurable:!0,enumerable:!0,get:function(){return this.ha.jn;}},Pm:{configurable:!0,enumerable:!0,get:function(){return this.ha.Pm;}},Ay:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ay;}},Kl:{configurable:!0,enumerable:!0,get:function(){return this.ha.Kl;}},ti:{configurable:!0,enumerable:!0,get:function(){return this.ha.ti;}},Dx:{configurable:!0,enumerable:!0,get:function(){return this.ha.Dx;}},Ms:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ms;}},nl:{configurable:!0,enumerable:!0,get:function(){return this.ha.nl;}},nk:{configurable:!0,enumerable:!0,get:function(){return this.ha.nk;}},r5:{configurable:!0,enumerable:!0,get:function(){return this.ha.r5;}},Nr:{configurable:!0,enumerable:!0,get:function(){return this.ha.Nr;},set:function(a){this.ha.Nr=a;}},ea:{configurable:!0,enumerable:!0,get:function(){return this.ha.ea;}},qj:{configurable:!0,enumerable:!0,get:function(){return this.ha.qj;}},Mk:{configurable:!0,enumerable:!0,get:function(){return this.ha.Mk;}},sK:{configurable:!0,enumerable:!0,get:function(){return this.ha.sK;},set:function(a){this.ha.sK=a;}},Fj:{configurable:!0,enumerable:!0,get:function(){return this.ha.Fj;}},OF:{configurable:!0,enumerable:!0,get:function(){return this.ha.OF;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ha.background;},set:function(a){this.ha.background=a;}},Dha:{configurable:!0,enumerable:!0,get:function(){return this.ha.Dha;}},Md:{configurable:!0,enumerable:!0,get:function(){return this.ha.Md;}},Ko:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ko;}},wia:{configurable:!0,enumerable:!0,get:function(){return this.ha.wia;}},VK:{configurable:!0,enumerable:!0,get:function(){return this.ha.VK;}},Dh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.u,TrackingId:this.qj,Xid:this.ea};}}});b.cCa=c;},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Z1a=void 0;c=a(12);l=a(7);k=a(2);a(23);b.Z1a=function(a){var b;l.Ah("Storage");b={};a({ia:!0,storage:{load:function(a,c){var f;if(b.hasOwnProperty(a)){f=b[a];!1;c({ia:!0,data:f,L6:a});}else (!1,c({ka:k.K.Yy}));},save:function(a,c,f,d){f && b.hasOwnProperty(a)?d({ia:!1}):(b[a]=c,!1,d && d({ia:!0,L6:a}));},remove:function(a,f){delete b[a];!1;f && f(c.se);}}});};},function(d,b,a){var c,l,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.X1a=void 0;c=a(7);l=a(63);k=a(27);m=a(500);f=a(362);b.X1a=function(a){c.ja.get(l.mt).create().then(function(b){a({ia:!0,storage:new m.l$(b,c.ja.get(k.rg)),nq:c.ja.get(f.V8)});})["catch"](function(b){a(b);});};},function(d,b){function a(a,b){this.bu=a;this.Wd=b;}Object.defineProperty(b,"__esModule",{value:!0});b.l$=void 0;a.prototype.load=function(b,d){var c;c=this;this.bu.load(b).then(function(b){d && d(a.m2a(b));})["catch"](function(a){d && d(c.Tia(b,a));});};a.prototype.save=function(b,d,k,m){var c;c=this;this.bu.save(b,d,k).then(function(){m && m(a.m2a({key:b,value:d}));})["catch"](function(a){m && m(c.Tia(b,a));});};a.prototype.remove=function(a,b){var c;c=this;this.bu.remove(a).then(function(){b && b({ia:!0,L6:a});})["catch"](function(d){b && b(c.Tia(a,d));});};a.m2a=function(a){return {ia:!0,data:a.value,L6:a.key};};a.prototype.Tia=function(a,b){return {ia:!1,L6:a,ka:b.ka,Ab:b.cause?this.Wd.Ue(b.cause):void 0};};b.l$=a;},function(d,b,a){var c,l,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Y1a=void 0;c=a(500);l=a(7);k=a(360);m=a(27);b.Y1a=function(a){a({ia:!0,storage:new c.l$(l.ja.get(k.n$),l.ja.get(m.rg))});};},function(d,b,a){var c,l,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.du=void 0;c=a(12);l=a(11);d=a(2);k=a(7);m=a(26);f=a(10);a=a(30);k.ja.get(a.Ig).register(d.L.mya,function(a){var h,r,v;function d(){v && clearTimeout(v);a(c.se);d=m.kh;}h=k.Ah("BatteryManager");b.du={E6a:"chargingchange",HQa:function(){return r?r.level:null;},$ja:function(){return r?r.charging:null;},addEventListener:function(a,b){r && r.addEventListener(a,b);},removeEventListener:function(a,b){r && r.removeEventListener(a,b);}};if(l.config.qQ){v=setTimeout(d,l.config.jxb);try{f.Re.getBattery().then(function(a){r=a;d();})["catch"](function(a){h.error("getBattery promise rejected",a);d();});}catch(A){h.error("exception on getBattery api call",A);d();}}else d();});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.m$=void 0;b.m$="LicenseBrokerFactorySymbol";},function(d,b,a){var l;function c(a,b){var c;c=this;this.UQa=a;this.aXa=b;this.ata=!1;this.Vx=function(){c.ao=void 0;c.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.BEa=void 0;l=a(26);c.prototype.update=function(a){var b,c,d;b=this.UQa();if(this.a4a !== b){l.ic(b) && l.ic(this.duration) && b < this.duration && this.entries && (d=this.uWa || this.entries[Math.floor(b * this.wUb)] || this.entries[0]);if(d){for(;d && d.endTime < b;){d=d.next;}for(;d && d.previous && d.previous.endTime >= b;){d=d.previous;}}d && (d.startTime <= b && b <= d.endTime?(c=d,this.T3a(d.endTime - b)):this.T3a(d.startTime - b));this.uWa=d;this.a4a=b;this.Oea !== c && (this.Oea=c,!a && this.aXa && this.aXa());}};c.prototype.start=function(){this.ata=!0;this.update();};c.prototype.P0a=function(a){this.uWa=this.Oea=this.a4a=void 0;this.duration=(this.entries=a) && Math.max.apply(Math,[].concat(X(a.map(function(a){return a.endTime;})))) || 0;this.wUb=a && a.length / this.duration || 0;this.update();};c.prototype.stop=function(){this.ata=!1;this.Di();};c.prototype.Pwb=function(){this.update(!0);return this.Oea;};c.prototype.T3a=function(a){this.Di();this.ata && 0 < a && (this.ao=setTimeout(this.Vx,a + c.iab));};c.prototype.Di=function(){this.ao && (clearTimeout(this.ao),this.ao=void 0);};b.BEa=c;c.iab=10;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.eya=void 0;c=a(13);l=a(67);b.eya=function(a){function b(b){a.fireEvent(c.V.fA,{response:b,u:a.ha.u});}return {download:function(c,d){c.j=a;c=l.ef.download(c,d);c.Pea(b);return c;}};};},function(d,b,a){var c,l,k,m,f,h,q,u,r;Object.defineProperty(b,"__esModule",{value:!0});b.Fya=void 0;c=a(11);l=a(51);k=a(2);m=a(507);f=a(10);h=a(15);q=a(13);u=a(7);r=a(158);b.Fya=function(a){var d,v,g,J;function b(){a.state.value !== q.Db.wd || a.Ob.value !== q.sb.uj && a.Ob.value !== q.sb.vt?v.Di():v.iA();}d=c.config.OKb;if(!a.KE() && d){v=u.ja.get(r.sH)(d,function(){a.fireEvent(q.V.pK,k.L.yX);});a.Ob.addListener(b);a.state.addListener(b);if(c.config.Wla){J=l.ki();g=new m.$Ca(c.config.Wla,function(){var b,h;b=l.ki();h=b - J;h > d && (a.fireEvent(q.V.pK,k.L.WW),g.rLa());h > 2 * c.config.Wla && (a.Xla=f.Tm(h,a.Xla || 0));J=b;});g.zRb();}a.addEventListener(q.V.Pf,function(){v.Di();h.ic(g) && g.rLa();});}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ca=void 0;b.$Ca=function(a,b){var c;this.zRb=function(){c || (c=setInterval(b,a));};this.rLa=function(){c && (clearInterval(c),c=void 0);};};},function(d,b,a){var l,k,m,f,h,q,u;function c(a){var b,c,d,q;b=this;this.j=a;this.CQ=void 0;this.eda=m.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});this.Tca=m.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Jca=m.createElement("DIV","width:100%;text-align:center");this.wdb=this.Vca("Audio Bitrate");this.Gea=this.Vca("Video Bitrate");this.Nca=this.Vca("CDN");this.jP={};this.o2=f.ja.get(h.Rl);this.eda.appendChild(this.Tca);this.Tca.appendChild(this.Jca);c=m.createElement("BUTTON",void 0,"Override");c.addEventListener("click",this.pdb.bind(this),!1);this.Jca.appendChild(c);c=m.createElement("BUTTON",void 0,"Reset");c.addEventListener("click",this.Jhb.bind(this),!1);this.Jca.appendChild(c);d=this.Qgb.bind(this);k.Ve.addListener(k.BA,d);a.addEventListener(u.V.Gq,function(){b.jP={};});a.addEventListener(u.V.Pf,function(){k.Ve.removeListener(k.BA,d);});q=this.thb.bind(this);a.Gc.forEach(function(a){a.addListener(q);});a.Zc.addListener(q);a.og.addListener(q);}Object.defineProperty(b,"__esModule",{value:!0});b.iCa=void 0;l=a(48);k=a(58);m=a(26);f=a(7);h=a(36);q=a(126);u=a(13);c.prototype.show=function(){this.HP || (this.IHa(),this.j.Wf.appendChild(this.eda),this.HP=!0);};c.prototype.yq=function(){this.HP && (this.j.Wf.removeChild(this.eda),this.HP=!1);};c.prototype.toggle=function(){this.HP?this.yq():this.show();};c.prototype.L3a=function(){var c,f,d,h;function a(a,b,c){var f,d,h;h=[];b.filter(function(b){return b.vg === a;}).forEach(function(a){0 <= c.indexOf(a)?(void 0 === f?f=a.U:d=a.U,void 0 === d && (d=a.U)):void 0 !== f && void 0 !== d && (h.push({min:f,max:d}),f=d=void 0);});void 0 !== f && void 0 !== d && (h.push({min:f,max:d}),f=d=void 0);return h;}function b(a,b,c){var f;f=[];b.filter(function(b){return b.vg === a;}).forEach(function(a){-1 === c.indexOf(a) && f.push({stream:{bitrate:a.U},disallowedBy:["manual"]});});return f;}f=this.j.Pr();d=this.j.yA().sort(function(a,b){return a.U - b.U;});h=d.reduce(function(a,b){0 > a.indexOf(b.vg) && a.push(b.vg);return a;},[]).map(function(c){return {profile:c,ranges:a(c,d,f),disallowed:b(c,d,f)};});!1;null === (c=this.j.Ga) || void 0 === c?void 0:c.Hl(h,this.j.u);};c.prototype.pdb=function(){var c,f,a,b;this.jP={};for(var a=this.Gea.options,b=a.length;b--;){c=a[b];c.selected && (this.jP[c.value]=1);}this.CQ=this.Wdb.bind(this);this.L3a();if(a=this.j.nk){f=this.Nca.value;a=a.filter(function(a){return a.id == f;})[0];b=this.j.Gc[l.zc.Ta.VIDEO].value;a && a != b && (a.VKa={testreason:"streammanager",selreason:"userselection"},this.j.Gc[l.zc.Ta.VIDEO].set(a));}this.yq();};c.prototype.Jhb=function(){this.CQ=void 0;this.j.f1a(this.j.u);this.yq();};c.prototype.Wdb=function(){var a;a=this;return this.j.yA().filter(function(b){return a.jP[b.U];});};c.prototype.IHa=function(){var a,b,c,f;a=this;b=this.j.Zc.value;c=this.j.og.value;f=this.j.nk;b && (f=f.slice(),f.sort(function(a,b){return a.jg - b.jg;}),this.pea(this.wdb,b.xc.map(function(b){return {value:b.U,caption:b.U,selected:b == a.j.jl.value};})));c && (this.pea(this.Gea,c.xc.map(function(b){var c,f;c=a.j.VK.Vs(b);b=b.U;f="" + b;c && (f+=" (" + c.join("|") + ")");return {value:b,caption:f,selected:a.CQ?a.jP[b]:!c};})),this.Gea.removeAttribute("disabled"));f && (this.pea(this.Nca,f.map(function(b){return {value:b.id,caption:"[" + b.id + "] " + b.name,selected:b == a.j.Gc[l.zc.Ta.VIDEO].value};})),this.Nca.removeAttribute("disabled"));};c.prototype.thb=function(){this.HP && this.IHa();};c.prototype.Vca=function(a){var b,c;b=m.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=m.createElement("DIV",void 0,a);c=m.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);this.Tca.appendChild(b);return c;};c.prototype.pea=function(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected && (c.selected="selected");c=m.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});};c.prototype.Qgb=function(a){a.ctrlKey && a.altKey && a.shiftKey && a.keyCode == q.yt.Qbb && this.o2.Jma && this.toggle();};b.iCa=c;},function(d,b,a){var l,k,m,f,h;function c(a,b){this.yja=a;this.hE={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=l.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.O0a(b);this.hPa=this.qyb(this.yja);}Object.defineProperty(b,"__esModule",{value:!0});b.yEa=void 0;l=a(26);k=a(510);m=a(511);f=a(10);h=a(23);c.prototype.cp=function(){return this.element;};c.prototype.RQb=function(a){this.xfa=a;};c.prototype.$Qb=function(a){this.Me=a;this.PL();};c.prototype.fRb=function(a){this.O0a(a);this.PL();};c.prototype.PL=function(){var a,b,f,d,h,g,B,I,J,D,n,U,V,E;a=this;b=this.cp();f=b.parentElement;d=f && f.clientWidth || 0;h=f && f.clientHeight || 0;g=f=0;B={width:d,height:h};if(0 < d && 0 < h && this.Me){this.xfa && (B=l.SJ(d,h,this.xfa),f=Math.round((d - B.width) / 2),g=Math.round((h - B.height) / 2));I=this.nmb(B);D=l.SJ(I.width,I.height,this.xfa);I=(J=this.Me.blocks) && J.map(function(b){var f;f=m.Nia(b,D,a.yja,a.hPa);b=m.uOa(b) + ";position:absolute";return l.createElement("div",b,f,c.D8);});}Object.assign(this.hE,{left:f + "px",right:f + "px",top:g + "px",bottom:g + "px"});b.style.display="none";b.style.direction=this.hE.direction;b.innerHTML="";if(I && I.length){d=B.width;f=B.height;n=B;this.jQ && (n=this.Nib(B,this.jQ,h,g));this.hE.margin=this.Hq?this.E_(B,"top") + "px " + this.E_(B,"right") + "px " + this.E_(B,"bottom") + "px " + this.E_(B,"left") + "px ":void 0;I.forEach(function(a){return b.appendChild(a);});h=l.VD(this.hE);b.style.cssText=h + ";visibility:hidden;z-index:-1";for(var g=[],p=I.length - 1;0 <= p;p--){U=I[p];V=J[p];E=this.EWa(U,V,d,f);E.width > d && (U.innerHTML=m.Nia(V,B,this.yja,this.hPa,d / E.width),E=this.EWa(U,V,d,f));g[p]=E;}g=k.C3a(g,n);if(p=J && J[0] && J[0].textNodes && J[0].textNodes[0] && J[0].textNodes[0].style)(n=p.windowColor,p=p.windowOpacity,n && 0 < p && (B=m.wOa(J,g,Math.round(f / 50),n,B),B=l.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + p,B,c.D8),b.insertBefore(B,b.firstChild)));b.style.display="none";for(B=g.length - 1;0 <= B;B--){n=I[B].style;p=m.vOa(J[B].region,g[B],d,f,0);Object.assign(n,p);}b.style.cssText=h;}};c.prototype.dsa=function(a){this.jQ=a;this.PL();};c.prototype.bla=function(){return this.jQ;};c.prototype.esa=function(a){this.Hq=a;this.PL();};c.prototype.cla=function(){return this.Hq;};c.prototype.dla=function(){return "block" === this.hE.display;};c.prototype.fsa=function(a){var b;b=a?"block":"none";this.element.style.display=b;this.hE.display=b;a && this.PL();};c.prototype.qyb=function(a){var b,c;b=this;c={};h.Rd(a,function(a,f){c[a]=b.MGb(f);});return c;};c.prototype.O0a=function(a){this.hE.direction="boolean" === typeof a?a?"ltr":"rtl":"inherit";};c.prototype.E_=function(a,b){if(this.Hq){if("left" === b || "right" === b)return a.width * (this.Hq[b] || 0);if("top" === b || "bottom" === b)return a.height * (this.Hq[b] || 0);}return 0;};c.prototype.nmb=function(a){return this.Hq?{height:a.height * (1 - (this.Hq.top || 0) - (this.Hq.bottom || 0)),width:a.width * (1 - (this.Hq.left || 0) - (this.Hq.right || 0))}:a;};c.prototype.MGb=function(a){var b;a=l.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + a + ";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.D8);f.Je.body.appendChild(a);b={fontSize:1E3,height:a.clientHeight,width:a.clientWidth / 52,lineHeight:a.clientHeight / 1E3};f.Je.body.removeChild(a);return b;};c.prototype.EWa=function(a,b,c,f){var d,h,q,k,r;d=b.region;h=(d.marginTop || 0) * f;q=(d.marginBottom || 0) * f;k=(d.marginLeft || 0) * c;r=(d.marginRight || 0) * c;b=a.clientWidth || 1;a=a.clientHeight || 1;switch(d.verticalAlignment){case "top":f=h;break;case "center":f=(h + f - q - a) / 2;break;default:f=f - q - a;}switch(d.horizontalAlignment){case "left":c=k;break;case "right":c=c - r - b;break;default:c=(k + c - r - b) / 2;}return {top:f,left:c,width:b,height:a};};c.prototype.Nib=function(a,b,c,f){return {height:c - Math.max(f,b.bottom || 0) - Math.max(f,b.top || 0),width:a.width};};b.yEa=c;c.D8={"class":"player-timedtext-text-container"};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.C3a=void 0;c=a(10);b.C3a=function(a,b){function d(a,b,d){var l,u,g,n;if(a && 1 < a.length){for(var h=[],q=[],k=0;k < a.length;k++){h[k]=0;q[k]=0;}for(var r=!1,k=0;k < a.length;k++){for(var m=k + 1;m < a.length;m++){u=a[k];g=a[m];if(0 > u.width || 0 > g.width || g.left > u.left + u.width || g.left + g.width < u.left || g.top > u.top + u.height?0:g.top + g.height >= u.top){l=c.Tm(u.left,g.left);n=c.Tm(u.top,g.top);l={width:c.Tm(c.ho(u.left + u.width,g.left + g.width) - l,0),height:c.Tm(c.ho(u.top + u.height,g.top + g.height) - n,0),x:l,y:n};}else l=void 0;if(l && 1 < l.width && 1 < l.height)if((n=l.width <= l.height,u=f(a[k]),g=f(a[m]),n && b || !n && !b))(l=c.Tm(l.width / 2,.25),u.x <= g.x?(q[k]-=l,q[m]+=l):(q[m]-=l,q[k]+=l));else if(n && !b || !n && b)(u=c.Tm(l.height / 2,.25),h[k]-=u,h[m]+=u);}}for(k=0;k < a.length;k++){if(-.25 > q[k] && 0 <= a[k].left + q[k] || .25 < q[k] && a[k].left + a[k].width + q[k] <= d.width)(a[k].left+=q[k],r=!0);if(-.25 > h[k] && 0 <= a[k].top + h[k] || .25 < h[k] && a[k].top + a[k].height + h[k] <= d.height)(a[k].top+=h[k],r=!0);}return r;}}function f(a){return {x:a.left + a.width / 2,y:a.top + a.height / 2};}a=a.map(function(a){return {top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,b){a.forEach(function(a){0 > a.left && a.left + a.width < b.width?a.left+=c.ho(-a.left,b.width - (a.left + a.width)):a.left + a.width > b.width && 0 < a.left && (a.left-=c.ho(a.left + a.width - b.width,a.left));0 > a.top && a.top + a.height < b.height?a.top+=c.ho(-a.top,b.height - (a.top + a.height)):a.top + a.height > b.height && 0 < a.top && (a.top-=c.ho(a.top + a.height - b.height,a.top));});})(a,b);for(var h=0;50 > h && d(a,!0,b);h++){;}for(h=0;50 > h && d(a,!1,b);h++){;}return a;};},function(d,b,a){var h,q,u,r;function c(a,b,c,f,d){var h;h={};"right" == a.horizontalAlignment?h.right=100 * (c - b.left - b.width - d) / c + "%":h.left=100 * (b.left - d) / c + "%";"bottom" == a.verticalAlignment?h.bottom=100 * (f - b.top - b.height - d) / f + "%":h.top=100 * (b.top - d) / f + "%";return h;}function l(a,b){var c;if(a && b){40 === b.x && 19 === b.y?c=4 / 3 / (40 / 19):52 === b.x && 19 === b.y && (c=16 / 9 / (52 / 19));if(c)return a.width / a.fontSize / c;}}function k(a,b,c,f,d){var h,q;h=a.style;q=u.WR(a.text);for(a=a.lineBreaks;a--;){q="<br />" + q;}return m(q,h,b,c,f,d);}function m(a,b,c,d,k,m){var u;u=b.characterStyle;k=k[u];d=b.characterSize * d.height / ((0 <= u.indexOf("MONOSPACE")?l(k,b.cellResolution) || k.lineHeight:k.lineHeight) || 1);d=0 < m?r.Jv(d * m):r.hi(d);m={"font-size":d + "px","line-height":"normal","font-weight":"normal"};b.characterItalic && (m["font-style"]="italic");b.characterUnderline && (m["text-decoration"]="underline");b.characterColor && (m.color=b.characterColor);b.backgroundColor && 0 !== b.backgroundOpacity && (m["background-color"]=f(b.backgroundColor,b.backgroundOpacity));d=b.characterEdgeColor || "#000000";switch(b.characterEdgeAttributes){case q.Y4:m["text-shadow"]=d + " 0px 0px 7px";break;case q.qpa:m["text-shadow"]="-1px 0px " + d + ",0px 1px " + d + ",1px 0px " + d + ",0px -1px " + d;break;case q.SXa:m["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case q.QXa:m["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}m=h.VD(m);(c=c[b.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (m+=";" + c);b=b.characterOpacity;0 < b && 1 > b && (a='<span style="opacity:' + b + '">' + a + "</span>");return '<span style="' + m + '">' + a + "</span>";}function f(a,b){a=a.substring(1);a=parseInt(a,16);return "rgba(" + (a >> 16 & 255) + "," + (a >> 8 & 255) + "," + (a & 255) + "," + (void 0 !== b?b:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.uOa=b.Dub=b.Bub=b.Eub=b.Cub=b.vOa=b.wOa=b.Nia=void 0;h=a(47);q=a(260);u=a(23);r=a(10);b.Nia=function(a,b,c,f,d){var h;h="";a.textNodes.forEach(function(a){h+=k(a,c,b,f,d);});return h;};b.wOa=function(a,b,f,d,h){var q,k,l,v,g;q="";k=h.width;h=h.height;for(var m=b.length;m--;){l=b[m];v=a[m];v=v && v.region;g="position:absolute;background:" + d + ";width:" + r.hi(l.width + 2 * f) + "px;height:" + r.hi(l.height + 2 * f) + "px;";u.Rd(c(v,l,k,h,f),function(a,b){g+=a + ":" + b + ";";});q+='<div style="' + g + '"></div>';}return q;};b.vOa=c;b.Cub=l;b.Eub=k;b.Bub=m;b.Dub=f;b.uOa=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case "left":b["text-align"]="left";break;case "right":b["text-align"]="right";break;default:b["text-align"]="center";}return h.VD(b);};},function(d,b,a){var c,l,k,m,f,h,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.aCa=void 0;c=a(12);l=a(11);k=a(51);m=a(85);f=a(10);h=a(55);q=a(15);u=a(13);b.aCa=function(a){var g,I,J,D,n,p;function b(){return a.state.value === u.Db.LOADING || a.state.value === u.Db.wd && a.Ob.value === u.sb.Zf;}function d(){b()?p || (p=setInterval(r,100)):p && (clearInterval(p),p=void 0,h.Hc(r));}function r(){var c,d,h,r,v,A,y,B;c=k.ki();d=g.value;h=d?d.yi:0;v=a.state.value == u.Db.LOADING || b() && c - I > l.config.Tlb;v && a.state.value == u.Db.wd?(a.ug.value === u.ge.qDa?(y=h,A=!0):(r=c + (a.zm && a.zm.OBb() || 0),J=J || c,D=D || J + l.config.sHb + 1,q.qa(r) && (r=f.Tm(r,D),y=a.zm?a.zm.Q5b():.99,y=f.hi(1E3 * m.io((c - J) / (r - J),0,y)) / 1E3)),y < h && (h - y < l.config.ZMb / 100?(y=h,n=void 0):n?c - n > l.config.YMb?(B=!0,n=void 0):y=h:(n=c,y=h))):n=D=J=void 0;c=v?{H6:A,yi:y,$Mb:B}:null;(!c || !g || !d || q.qa(c.yi) && !q.qa(d.yi) || q.qa(c.yi) && q.qa(d.yi) && .01 < f.tC(c.yi - d.yi) || c.H6 !== d.H6) && g.set(c);}g=a.fga;I=0;a.state.addListener(function(){d();r();},c.wX);a.Ob.addListener(function(a){if(a.oldValue !== u.sb.Zf || a.newValue !== u.sb.Zf)I=k.ki();d();});a.ug.addListener(function(){d();});a.fm.addListener(function(){d();});a.Jl.addListener(function(){d();});p || (p=setInterval(r,100));};},function(d,b,a){var l,k,m,f,h,q,u,r,v,g,y,B,I,J,D,n,p,U,V,E,Z,t,ha,aa,sa;function c(a){var b;b=this;this.j=a;this.Gb=this.j.Gb;this.log=r.Bh(this.j,"MediaPresenterASE");this.A4=this.o0=0;this.na=this.Gb.na;this.uYa=this.kYa=this.q3=this.Ipa=!1;this.WTb=r.ja.get(E.OC)(V.Nb(p.TX));this.MI=void 0;this.Qn=r.ja.get(t.Hba)(this.j);this.tv={};this.FVa={};this.RRa={};this.Uf=new aa.$za(this.j);this.UTb=function(){var a,c,f;b.j.TU=u.ki();if(!b.fj() && b.wm){a=b.Gb.kRa();a || (b.aLb(),b.Uf.qta(b.nb));b.j.paused.value || !b.Uf.Qha(b.nb) || !b.cga() || a || b.Qn.Bma?b.ora():b.Ipa || b.pra();b.$Kb();if(!b.Gb.kRa() && !b.q3){a=b.Gb.zR(!0);c=b.j.Ob.value;f=b.Wnb();c !== f && !1;f === D.sb.vt?(b.nb=b.j.vp.ca(V.ga),b.ora()):f !== D.sb.Zf && b.WVb(a);b.V3a();b.Uf.xga(b.nb);b.j.Ob.set(f);f !== D.sb.Zf || c !== D.sb.Uc && c !== D.sb.uj || b.JJb();}}};this.Vk=ha.gZa(this.UTb);this.nb=a.X;this.j.kl=!1;this.Gb.addEventListener(U.Pi.E1a,function(){b.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.$a();}catch(Q){b.log.error("Exception while initializing",Q);b.ed(v.L.$ab);}});}Object.defineProperty(b,"__esModule",{value:!0});b.kAa=void 0;l=a(48);k=a(12);m=a(11);f=a(57);h=a(58);q=a(47);u=a(51);r=a(7);a(91);v=a(2);g=a(329);y=a(20);B=a(85);I=a(26);J=a(55);D=a(13);n=a(15);p=a(167);U=a(280);V=a(4);E=a(106);Z=a(158);t=a(514);ha=a(1133);aa=a(1134);sa=a(94);c.prototype.lQa=function(){return this.Gb.zR(!1);};c.prototype.O1=function(){return this.Gb.O1();};c.prototype.tA=function(){return this.Gb.tA();};c.prototype.vE=function(){return this.Gb.vE();};c.prototype.yR=function(){return this.Gb.yR();};c.prototype.R1=function(){return this.Gb.R1();};c.prototype.$a=function(){var a;a=this;this.log.trace("Video element initializing");this.Gb.sourceBuffers.forEach(function(b){return a.Uf.vRb(b);});this.zCb(this.j.Dx);};c.prototype.zCb=function(a){var f,d;function b(){function a(){var a;f.j.Ob.value === D.sb.Uc && 0 === (null === (a=f.j.Vf) || void 0 === a?void 0:a.O1())?(f.DWa.iA(),a="ensureTimer"):(f.DWa.Di(),a="stopTimer");f.log.trace("No render timer update: " + a,{presentingState:D.sb[f.j.Ob.value]});}function b(a){var b,c;a=void 0 === a?!0:a;b=f.j.Ga;c=(null === b || void 0 === b?void 0:b.Vg()) && b.nK();f.j.Ob.value == D.sb.Zf && f.j.state.value == D.Db.wd && f.j.fm.value == D.ge.wd && f.j.Jl.value == D.ge.wd && !f.j.kl && c?(a && f.q0.Di(),f.q0.iA(),b="ensureTimer"):(f.q0.Di(),b="stopTimer");f.log.trace("Timer update: " + b,{presentingState:D.sb[f.j.Ob.value],playbackState:D.Db[f.j.state.value],avBufferingState:D.ge[f.j.fm.value],textBufferingState:D.ge[f.j.Jl.value],autoplayWasBlocked:f.j.kl,hasLicense:c,restartTimer:a});}m.config.UMa && (y.yb(!f.q0),f.q0=r.ja.get(Z.sH)(m.config.UMa,function(){var a;a=r.ja.get(g.gW).oNa(f.j);f.ed(a.code,a);}),f.j.Ob.addListener(function(){return b();}),f.j.fm.addListener(function(){return b();}),f.j.Jl.addListener(function(){return b();}),f.j.state.addListener(function(){return b();}),f.j.addEventListener(D.V.gUa,function(){return b();}),f.j.addEventListener(D.V.kl,function(){return b();}),f.j.addEventListener(D.V.Ifa,function(){return b();}),f.j.addEventListener(D.V.DF,function(){return b(!0);}),b());m.config.CWa && (f.DWa=r.ja.get(Z.sH)(m.config.CWa,function(){var b;0 === (null === (b=f.j.Vf) || void 0 === b?void 0:b.tA()) && (b=r.ja.get(g.gW).oNa(f.j),f.ed(b.code,b));f.j.Ob.removeListener(a);}),f.j.Ob.addListener(a),a());}function c(){f.closed || (c=y.Zua,f.Gb.addEventListener(U.Pi.iU,f.tv[U.Pi.iU]=function(){return f.NJb();}),f.Gb.addEventListener(U.Pi.lq,f.tv[U.Pi.lq]=function(){return f.P4();}),f.na.addEventListener("ended",f.tv.ended=function(){return f.vJb();}),f.na.addEventListener("play",f.tv.play=function(){return f.CJb();}),f.na.addEventListener("pause",f.tv.pause=function(){return f.AJb();}),f.na.addEventListener("playing",f.tv.playing=function(){return f.GJb();}),f.wm=!0,f.j.yTa && (f.Uf.qta(f.nb),f.log.trace("Video element initialization complete"),f.j.ud("vi"),m.config.fNa?setTimeout(function(){f.cpa=!0;f.Vk();},m.config.fNa):f.cpa=!0,b(),J.Hc(function(){return f.Vk();})));}f=this;a?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.u}),null === (d=this.j.Ga) || void 0 === d?void 0:d.Vr(this.j.u));this.log.trace("Waiting for loadedmetadata");this.Gb.addEventListener(U.Pi.kUa,function(a){var b;a=a.fa;f.j.ud("ld",a);null === (b=f.j.Ga) || void 0 === b?void 0:b.Vr(a);f.j.fireEvent(D.V.gUa);});q.HIa(this.na,"loadedmetadata",function(){f.log.trace("Video element event: loadedmetadata");f.j.ud("md");});h.Ve.addListener(h.um,this.RRa[h.um]=function(){return f.close();},k.CC);this.j.addEventListener(D.V.Pf,function(){return f.close();},k.CC);this.j.addEventListener(D.V.V_a,function(){return f.pra();});this.j.addEventListener(D.V.Gq,function(){return f.yJb();});this.j.paused.addListener(function(){return f.Vk();});this.j.muted.addListener(function(){return f.Ita();});this.j.volume.addListener(function(){return f.Ita();});this.j.playbackRate.addListener(function(){return f.q7();});this.j.fm.addListener(function(){return f.Vk();});this.j.Jl.addListener(function(){return f.Vk();});this.Ita();this.q7();this.Uf.t6(function(){return f.d4();});this.d4();J.Hc(function(){c();});};c.prototype.g_=function(a){var b;b=this;!1;this.Uf.Xjb(a);this.Omb(a).then(function(){b.d4();b.j.fireEvent(D.V.c4);})["catch"](function(a){b.ed(v.L.ebb,{Ab:I.Ue(a)});});};c.prototype.nfa=function(a,b,c){c=void 0 === c?{}:c;b=this.Gtb(a,b);this.Uf.Vjb(a,b,c);this.d4();this.kYa || a.type !== l.zc.Xj.VIDEO || (this.Qn.Bma || this.seek(this.j.X,D.xd.Fv),this.kYa=!0);};c.prototype.Gtb=function(a,b){var c,f;f=null === (c=this.j.pa.Uo) || void 0 === c?void 0:c.ZJ();f && a.type === l.zc.Xj.VIDEO && ((a=new sa.i$(this.log,{I:sa.or.VIDEO,url:"http://some-url"},b).xa(f))?b=a:!1);return b;};c.prototype.d4=function(){this.wm?this.Vk():m.config.Wjb && this.Uf.qta(this.nb);};c.prototype.SSb=function(){!1;this.j.Ob.set(D.sb.Zf);this.q3=!0;this.Vk();};c.prototype.Unb=function(){var a;a=this;this.q3 && (!1,this.q3=!1,J.Hc(function(){return a.SWa();}));};c.prototype.J1=function(){return this.Uf.J1();};c.prototype.SWa=function(){var a,b;a=this.j.wA() || 0;if(this.j.Va.Kj){if(m.config.Glb)(a=a - (this.Gb.Era + 1) - m.config.Dra,b=this.j.Ga.vn().Qb,a=Math.max(a,b));}else (a-=m.config.oQb,a=Math.max(a,this.Qn.ana));this.seek(a,D.xd.rH);};c.prototype.L4=function(a){var b;b=this;this.Uf.xRb(a);J.Hc(function(){return b.Vk();});};c.prototype.Fyb=function(){return {o0:this.o0,A4:this.A4};};c.prototype.Omb=function(a){var b;b=this.Gb && this.Gb.TQa();this.j.vp && b && Infinity !== a.m0a && (a=a.m0a + a.Nn,a > this.j.vp.MYa(V.ga) && (this.j.vp=V.Nb(a)));return Promise.resolve();};c.prototype.$Kb=function(){var a;a=this;this.Qn.c5 && (!1,this.cga() && this.Uf.Qha(this.nb) && (this.Gb.seek(this.nb),this.Qn.c5=!1,J.Hc(function(){return a.Vk();})));};c.prototype.WVb=function(a){var b;if(a < this.nb){b=this.nb - a;m.config.bLb && a && b > p.TX && (a={ElementTime:B.Mh(a),MediaTime:B.Mh(this.nb)},b > p.WCa?this.ed(v.L.qbb,{Ab:Object.assign({Trace:this.Gb.px()},a)}):this.log.warn("VIDEO.currentTime became smaller",a));}else this.nb=B.io(a,0,this.j.vp.ca(V.ga));};c.prototype.cga=function(){return this.j.fm.value === D.ge.wd && this.j.Jl.value === D.ge.wd;};c.prototype.Wnb=function(){var a,b,c;a=this;b=this.j.Ob.value;c=b;this.Qn.Bma?c=D.sb.Zf:this.na && this.na.ended?b === D.sb.Uc && (c=D.sb.vt):this.cga() && this.Uf.Qha(this.nb)?this.Gb.Hsb()?c=this.na && this.na.paused?D.sb.uj:D.sb.Uc:this.WTb.bd(function(){return a.VTb();}):c=this.j.vp?this.j.cSa(this.nb,this.Uf.n0())?D.sb.Zf:D.sb.vt:D.sb.Zf;return c;};c.prototype.JJb=function(){var a;if(this.j.Ob.value === D.sb.Zf){a=this.Uf.GUb() > this.Uf.n0();this.j.Jl.value !== D.ge.wd?this.j.jk.value?(this.j.fireEvent(D.V.Kw,{cause:f.ZBa}),this.log.warn("rebuffer due to timed text",this.j.jk.value.Dh)):this.j.fireEvent(D.V.GM):a?(this.o0++,this.j.fireEvent(D.V.Kw,{cause:f.Taa})):(this.A4++,this.j.fireEvent(D.V.Kw,{cause:f.Uaa}));}};c.prototype.VTb=function(){this.fj() || (m.config.LIb && this.Uf.KIb(),this.Vk());};c.prototype.NJb=function(){this.Vk();};c.prototype.P4=function(){this.Vk();this.j.fireEvent(D.V.lq);};c.prototype.vJb=function(){this.log.trace("Video element event: ended");this.Vk();};c.prototype.CJb=function(){this.log.trace("Video element event: play");this.Vk();};c.prototype.AJb=function(){this.log.trace("Video element event: pause");this.Vk();};c.prototype.GJb=function(){this.log.trace("Video element event: playing");this.Vk();};c.prototype.Ita=function(){this.fj() || (this.na && this.na.volume !== this.j.volume.value && (this.na.volume=this.j.volume.value),this.na && this.na.muted !== this.j.muted.value && (this.na.muted=this.j.muted.value));};c.prototype.q7=function(){!this.fj() && this.na && (this.na.playbackRate=this.j.playbackRate.value);};c.prototype.pra=function(){var a;a=this;this.fj() || !n.ic(this.na) || this.na.ended || !this.cpa || !this.PM && void 0 !== this.PM || (this.log.trace("Calling play on element"),Promise.resolve(this.na.play()).then(function(){a.closed || (a.PM=!1,a.Ipa=!1,a.na.style.display=null,a.j.kl=!1,a.j.fireEvent(D.V.Ifa,{j:a.j}));})["catch"](function(b){"NotAllowedError" === b.name?(a.log.warn("Playback is blocked by the browser settings",b),a.j.kl=!0,a.closed || (a.Ipa=!0,a.na.style.display="none",a.j.fireEvent(D.V.kl,{player:{play:function(){return a.pra();}}}))):a.closed || (a.PM=!1,a.uYa || (a.uYa=!0,a.log.error("Play promise rejected",b)));}));};c.prototype.yJb=function(){this.Qn.ana=this.j.wA() || 0;};c.prototype.ora=function(){this.fj() || !n.ic(this.na) || this.na.ended || !this.cpa || this.PM && void 0 !== this.PM || (this.log.trace("Calling pause on element"),this.na.pause(),this.PM=!0);};c.prototype.V3a=function(a){this.j.nb.set(this.nb);a && this.j.ewb();};c.prototype.seek=function(a,b,c,f){var d,h;b=void 0 === b?D.xd.Nv:b;c=void 0 === c?this.j.va:c;f=void 0 === f?!1:f;h=null === (d=this.j.Ga) || void 0 === d?void 0:d.Vg();!this.fj() && h && (this.j.fireEvent(D.V.DF,{cause:b}),this.Qn.uT={time:a,cause:b,va:c,kwb:f},this.j.Ob.set(D.sb.Zf),this.Vk());};c.prototype.aLb=function(){var a,b,c,f,d,h,q,k;if(this.Qn.uT){a=this.Qn.uT;b=a.time;c=a.cause;f=a.va;d=a.kwb;if(!this.Uf.Yh() || c === D.xd.Fv){a=this.j.yu(f).u;h=this.Uf.Yh()?void 0:this.Uf.pxb();h=this.Qn.gzb(b,c,f,d,h);f=h.D4;d=h.Wh;q=h.KLb;h=h.Rg;this.Uf.xga(this.nb);k=this.nb;b=B.Mh(b);this.j.bq("SEEKING: Requested: (" + a + ":" + c + ":" + b + ") - Actual: (contentPts: " + d + "," + ("playerPts: " + q + ", newMediaTime: " + f + ")"));this.log.info("Seeking",{Requested:b,Actual:B.Mh(f),Cause:c,Skip:h});c === D.xd.Fv || h || (this.Uf.B_a(),this.Uf.qRb());this.nb=f;this.Qn.ana=d;b=this.j.Dg.value;q=this.j.Df.value;this.j.Dg.set(null);this.j.Df.set(null);this.V3a(!0);this.Qn.uT=void 0;this.Qn.c5=!0;this.j.fireEvent(D.V.El,{dpa:k,D4:f,Wh:d,cause:c,skip:h,Dg:b,Df:q,u:a});h && this.Uf.skip(f);}}};c.prototype.ed=function(a,b,c){this.closed || this.j.ed(a,b,c);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Uf.close();this.Gb.removeEventListener(U.Pi.iU,this.FVa[U.Pi.iU]);this.Gb.removeEventListener(U.Pi.lq,this.FVa[U.Pi.lq]);this.na.removeEventListener("ended",this.tv.ended);this.na.removeEventListener("play",this.tv.play);this.na.removeEventListener("pause",this.tv.pause);this.na.removeEventListener("playing",this.tv.playing);h.Ve.removeListener(h.um,this.RRa[h.um]);this.closed=!0;try{m.config.UHb && (this.na.volume=0,this.na.muted=!0);this.ora();this.Gb.close();}catch(fa){}this.na=void 0;this.Uf.B_a();}};c.prototype.fj=function(){return this.closed?!0:n.ic(this.na)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.kAa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hba=void 0;b.Hba="SeekManagerFactorySymbol";},function(d,b,a){var c,l,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.txa=void 0;c=a(11);l=a(58);k=a(23);m=a(2);f=a(13);b.txa=function(a,b,d){function h(b){var f,h;f=b.error || b;h=k.Ue(f);d.error("uncaught exception",f,h);(f=(f=f && f.stack) && c.config.E3a && c.config.EVb?0 <= f.indexOf(c.config.E3a):void 0) && (b && b.stopImmediatePropagation && b.stopImmediatePropagation(),a.ed(m.L.Ncb));}function q(){l.Ve.removeListener(l.p2,h);a.removeEventListener(f.V.Pf,q);a.removeEventListener(f.V.Fs,q);}try{l.Ve.addListener(l.p2,h);a.addEventListener(f.V.Pf,q);c.config.fCb && a.addEventListener(f.V.Fs,q);}catch(A){d.error("exception in exception handler ",A);}};},function(d,b,a){var c,l,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.MUa=void 0;c=a(11);l=a(12);k=a(51);d=a(2);m=a(10);f=a(15);h=a(7);a=a(30);h.ja.get(a.Ig).register(d.L.qya,function(a){var h,q,g,y,B;function d(){var a;a=m.Jv(k.ki() / g);if(a != B){for(var b=m.ho(a - B,30);b--;){y.push(0);}(b=m.Tm(y.length - 31,0)) && y.splice(0,b);B=a;}y[y.length - 1]++;}h=c.config.MFb;q=-6 / (h - 2 - 2);g=l.Yj;y=[];B=m.Jv(k.ki() / g);f.Cma(h) && (setInterval(d,1E3 / h),b.MUa={zyb:function(){var c;for(var a=[],b=y.length - 1;b--;){c=y[b];a.unshift(0 >= c?9:1 >= c?8:c >= h - 1?0:m.hi((c - 2) * q + 7));}return a;}});a(l.se);});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.HX=void 0;b.HX="PlaybackMilestoneStoreSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.n_=void 0;c=a(15);b.n_=function(a){var b,d,f,h;b=a.ij;d=a.ae;a=a.Zia;f=c.qa(d)?d:0;h=b[a.target] || ({});b[a.target] !== h && (b[a.target]=h);Object.entries(a.fields).forEach(function(a){var b,c,d,q;b=N(a);a=b.next().value;b=b.next().value;if("object" !== typeof b || null === b)h[a]=b;else {c=b.type;if("count" === c)(void 0 === h[a] && (h[a]=0),++h[a]);else if(void 0 !== b.value){if("array" === c){c=h[a];d=b.adjust;q=b.value;c || (c=h[a]=[]);d && 0 < d.length && d.forEach(function(a){q[a]-=f || 0;});c.push(q);}else h[a]="sum" === c?(h[a] || 0) + b.value:b.value;}else h[a]=b;}});};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Faa=void 0;b.Faa="PboManifestRequestTransformerSymbol";},function(d,b,a){var l,k,m,f,h,q;function c(a,b){this.Gb=a;this.j=b;this.uS=[];}Object.defineProperty(b,"__esModule",{value:!0});b.fN=void 0;d=a(0);l=a(2);k=a(1);m=a(15);f=a(26);h=a(7);q=a(13);c.prototype.m1=function(a){this.uS.forEach(function(b){return b(a);});};c.prototype.ed=function(a,b,c){this.j.ed(a,b,c);};c.prototype.t2=function(a){this.j.fireEvent(q.V.WHb,{r4b:a});};c.prototype.ijb=function(a){-1 === this.uS.indexOf(a) && this.uS.push(a);};c.prototype.DOb=function(a){a=this.uS.indexOf(a);0 <= a && this.uS.splice(a,1);};c.prototype.ORa=function(a){var b,c;b={};m.ic(a.code)?b.ka=l.r9(a.code):b.ka=l.K.ei;try{c=a.message.match(/\((\d*)\)/)[1];b.Ne=h.Pfa(c,4);}catch(A){}b.Ab=f.Ue(a);return b;};a=c;a=d.__decorate([k.O()],a);b.fN=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gba=void 0;b.gba="PlaygraphManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qp=void 0;d=b.Qp || (b.Qp={});d[d.YN=0]="No";d[d.rca=1]="Yes";d[d.Yya=2]="Later";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hba=void 0;b.hba="PlaygraphPlaybackStrategyFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jba=void 0;b.jba="PlaygraphVideoPlayerFactorySymbol";},function(d,b,a){var l;function c(a,b){var c;c=this;this.Mk=a;this.Cf=b;this.addEventListener=function(a,b,f){return c.Cf.addListener(a,c.VMa(a,b),f);};this.removeEventListener=function(a,b){return c.Cf.removeListener(a,c.VMa(a,b));};this.getReady=function(){return c.Cf.isReady();};this.getXid=function(){return c.Cb().jK();};this.getMovieId=function(){return c.Cb().czb();};this.getPlaygraphId=function(){return c.Cf.Czb();};this.getElement=function(){return c.Cf.cp();};this.isPlaying=function(){return c.Cb().OA();};this.isPaused=function(){return c.Cb().ADb();};this.isMuted=function(){return c.Cb().wDb();};this.isReady=function(){return c.Cb().isReady();};this.isBackground=function(){return c.Cb().YCb();};this.setBackground=function(a){return c.Cb().I0a(a);};this.startInactivityMonitor=function(){return c.Cb().GU();};this.setTransitionTime=function(a){return c.Cb().e1a(a);};this.getDiagnostics=function(){return c.Cb().Sxb();};this.getTextTrackList=function(a){return c.Cb().GRa(a);};this.getTextTrack=function(){return c.Cb().FRa();};this.setTextTrack=function(a){return c.Cb().d1a(a);};this.getVolume=function(){return c.Cb().MAb();};this.isEnded=function(){return c.Cb().iDb();};this.getBusy=function(){return c.Cb().Yh();};this.getError=function(){return c.Cb().getError();};this.getCurrentTime=function(){return c.Cb().j.nb.value;};this.getBufferedTime=function(){return c.Cb().qxb();};this.getSegmentTime=function(){return c.Cb().L1();};this.getDuration=function(){return c.Cb().XPa();};this.getVideoSize=function(){return c.Cb().JAb();};this.getAudioTrackList=function(){return c.Cb().Ywb();};this.getAudioTrack=function(){return c.Cb().Xwb();};this.getTimedTextTrackList=function(a){return c.Cb().GRa(a);};this.getTimedTextTrack=function(){return c.Cb().FRa();};this.getAdditionalLogInfo=function(){return c.Cb().Rwb();};this.getTrickPlayFrame=function(a){return c.Cb().wAb(a);};this.getSessionSummary=function(){return c.Cb().oRa();};this.getTimedTextSettings=function(){return c.Cb().k2();};this.setMuted=function(a){return c.Cb().hRb(a);};this.setVolume=function(a){return c.Cb().ERb(a);};this.getPlaybackRate=function(){return c.Cb().un();};this.setPlaybackRate=function(a){return c.Cb().nRb(a);};this.setAudioTrack=function(a){return c.Cb().SQb(a);};this.setTimedTextTrack=function(a){return c.Cb().d1a(a);};this.setTimedTextSettings=function(a){return c.Cb().wU(a);};this.prepare=function(){return c.Cb().qB();};this.load=function(){return c.Cb().load();};this.close=function(a){return c.lJa(c.Cf.close(),a);};this.play=function(){return c.Cb().play();};this.pause=function(){return c.Cb().pause();};this.seek=function(a){return c.Cb().seek(a);};this.engage=function(a,b){return c.lJa(c.Cb().dR(a),b);};this.induceError=function(a){return c.Cb().vCb(a);};this.loadCustomTimedTextTrack=function(a,b,f,d){return c.Cb().gFb(a,b,f,d);};this.tryRecoverFromStall=function(){return c.Cb().iV();};this.addEpisode=function(a){var b,f;c.log.info("Next episode added",a);b=c.ZUa(a.playbackParams);f=("startPts" in a)?a.startPts:("nextStartPts" in a)?a.nextStartPts:b.X;if(void 0 === f || 0 > f)f=0;return c.Cf.cq({u:a.movieId,X:f,Nj:("endPts" in a)?a.endPts:("currentEndPts" in a)?a.currentEndPts:b.Nj,fb:b,pa:a.manifest,Mk:c.Mk});};this.playNextEpisode=function(a){a=void 0 === a?{}:a;a=c.ZUa(a);c.log.info("Playing the next episode",a);return c.Cf.jla(c.Cf.$Pa(),c.Cf.M1().yh,a);};this.playSegment=function(a){return c.Cb().yLb(a);};this.queueSegment=function(a){return c.Cb().oNb(a);};this.updateNextSegmentWeights=function(a,b){return c.Cb().Ii(a,b);};this.getCropAspectRatio=function(){return c.Cb().bka();};this.getCropAspectRatioXandY=function(){return c.Cb().Gxb();};this.generateScreenshots=function(a){return c.Cb().Lwb(a);};this.getCurrentSegmentId=function(){return c.Cf.$Pa();};this.getPlaygraphMap=function(){return c.Cf.Dzb();};this.setNextSegment=function(a){for(var b=[],f=0;f < arguments.length;++f){b[f - 0]=arguments[f];}b=b.map(function(a){return {va:a.segmentId,eT:a.nextSegmentId};});c.Cf.Un.apply(c.Cf,[].concat(X(b)));};this.clearNextSegment=function(a){for(var b=[],f=0;f < arguments.length;++f){b[f - 0]=arguments[f];}return c.Cf.xnb.apply(c.Cf,[].concat(X(b)));};this.updatePlaygraphMap=function(a){return c.Cf.W3a(a);};this.goToNextSegment=function(a,b){return c.Cf.jla(a,b);};this.getPlaying=function(){return c.isPlaying();};this.getPaused=function(){return c.isPaused();};this.getMuted=function(){return c.isMuted();};this.getEnded=function(){return c.isEnded();};this.getTimedTextVisibility=function(){return c.isTimedTextVisible();};this.isTimedTextVisible=function(){return ! !c.Cb().k2().visibility;};this.setTimedTextVisibility=function(a){return c.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return c.Cb().wU({size:a});};this.setTimedTextBounds=function(a){return c.Cb().wU({bounds:a});};this.setTimedTextMargins=function(a){return c.Cb().wU({margins:a});};this.setTimedTextVisible=function(a){return c.Cb().wU({visibility:a});};this.getCongestionInfo=function(a){a && a({success:!1,name:null,isCongested:null});};this.Wia=new Map();this.log=l.Ah("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.WEa=void 0;l=a(7);a(91);c.prototype.Cb=function(){return this.Cf.ni();};c.prototype.VMa=function(a,b){var c;this.Wia.has(a) || this.Wia.set(a,new Map());c=this.Wia.get(a);c.has(b) || c.set(b,this.Srb(a,b));return c.get(b);};c.prototype.Srb=function(a,b){var c;c=this;return function(f){return b(Object.assign({},f,{type:a,target:c}));};};c.prototype.lJa=function(a,b){return b?a.then(b,b):a;};c.prototype.ZUa=function(a){a=void 0 === a?{}:a;return {qj:a.trackingId,bQ:a.authParams,Tn:a.sessionParams,Dd:a.uiLabel,z7:a.uxLabels,hia:a.disableTrackStickiness,n7:a.uiPlayStartTime,r1:a.forceAudioTrackId,s1:a.forceTimedTextTrackId,Kj:a.isBranching,O4a:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted,playbackRate:a.playbackState.playbackRate}:void 0,IJ:a.enableTrickPlay,Ala:a.heartbeatCooldown,o3:a.isPlaygraph,I3:a.loadImmediately || !1,mYa:a.pin,CT:a.preciseSeeking,X:a.startPts,sa:a.endPts,Nj:a.logicalEnd,L5:a.renderTimedText,FOa:a.extraManifestParams,yfa:a.assetId,Jkb:a.audioLanguages,iUb:a.textLanguages,qp:a.packageId,lNa:a.desiredDownloadables};};b.WEa=c;},function(d,b,a){var l;function c(a,b,c,d){var f;f=this;this.Kc=a;this.Pl=b;this.Ts=c;this.Jb=d;this.t5=new Map();this.KRb();this.Jb.addListener(l.Vb.loaded,function(){return f.rB();});}Object.defineProperty(b,"__esModule",{value:!0});b.VN=void 0;l=a(13);c.prototype.SRa=function(a,b){var c;c=this;return this.Ts.transition(b).then(function(){c.Kc.Sg=a;});};c.prototype.close=function(a){return this.Ts.close(a);};c.prototype.isReady=function(){return this.Ts.Lzb();};c.prototype.cp=function(){return this.Ts.cp();};c.prototype.ni=function(){return this.Ts.ni();};c.prototype.ET=function(a){var b;b=a.id;this.t5.has(b) || this.t5.set(b,this.Ts.cq(a));return this.t5.get(b);};c.prototype.KRb=function(){var a;a=this;this.Ts.addListener(l.FC.kU,function(){return a.Jb.dc(l.FC.kU);});Object.values(l.Vb).forEach(function(b){a.Ts.addListener(b,function(c){return a.Jb.dc(b,c);});});};c.prototype.lT=function(){this.rB();};c.prototype.lpa=function(a){this.Ts.aWb({id:a,u:this.Kc.wf(a).fa,Nj:this.Kc.pRa(a)});};c.prototype.rB=function(){var a,b,c,d,q;if(this.isReady()){c=this.Kc.Sg;d=this.Kc.wE(c);if(d && !this.t5.has(d)){this.lpa(c);d=this.Kc.wf(d);q=null === (a=this.Pl.iK(d.fa)) || void 0 === a?void 0:a.fb;this.ET({id:this.Kc.wE(c),u:d.fa,X:d.Ac,Nj:null !== (b=null === q || void 0 === q?void 0:q.Nj) && void 0 !== b?b:d.zd,fb:q});}}};b.VN=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gxa=void 0;b.Gxa=function(a){var k,m,f,h;function b(){if(f)for(var a;a=k.pop();){a(h);}}function d(a){f=!0;h=a;b();}k=[];return function(c){k.push(c);m || (m=!0,a(d));b();};};},function(d){function b(a){return Object.keys(a).every(function(b){return "function" === typeof a[b];});}d.exports=function(a){var m,f,h;function c(a,b,c){throw new TypeError(("undefined" !== typeof c.key?"Types: expected " + c.key:"Types: expected argument " + c.index) + (" to be '" + a + "' but found '" + b + "'"));}function d(a,b,d){var h;h=f[a];"undefined" !== typeof h?h(b) || c(a,b,d):a !== typeof b && c(a,b,d);}function k(a,b){var c;c=a.filter(function(a){return "object" !== typeof a && -1 === h.indexOf(a);});c=c.concat(a.filter(function(a){return "object" === typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return -1 === h.indexOf(a);}));},[]));if(0 < c.length)throw Error(c.join(",") + " are invalid types");return function(){var c;c=Array.prototype.slice.call(arguments);if(c.length !== a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var f;f=c[b];if("string" === typeof a)d(a,f,{index:b});else if("object" === typeof a)Object.keys(a).forEach(function(b){d(a[b],f[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,c);};}m=("number boolean string object function symbol").split(" ");f={array:function(a){return Array.isArray(a);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined" !== typeof f[b] || -1 < m.indexOf(b))throw new TypeError("Types: attempting to override a built in type with " + b);f[b]=a[b];});}h=Object.keys(f).concat(m);return k(["array","function"],k);};},function(d,b,a){var c,l,k,m,f,h,q,u,r,v,g,y,B,I,J;Object.defineProperty(b,"__esModule",{value:!0});b.h3a=void 0;c=a(67);l=a(12);k=a(11);m=a(47);f=a(51);h=a(7);q=a(2);u=a(23);r=a(65);v=a(10);g=a(114);y=a(30);B=a(33);I=a(31);J=a(18);b.h3a=(function(){var d,A,n,p;function a(a){var c,f,q;c="info";f="";q=h.ja.get(r.az).MQa();a.ia || (c="error",f+="&errorcode=" + (a.errorCode || ""),f+="&errorsubcode=" + (a.ka || ""));f="type=startup&sev=" + c + f + "&" + m.nL(u.Hb({},q,{prefix:"m_"}));!1;b("startup",f,d);}function b(a,b,d){d && A && k.config.j3a[a] && (a=n + "&jsoffms=" + f.ki() + "&do=" + v.Re.onLine + "&" + b + "&" + m.nL(u.Hb({},p.Md,{prefix:"im_"})),!1,c.ef.download({url:d,Wpa:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},dE:"track"},l.kh));}A=!1;n="";h.Ah("TrackingLog");p=h.ja.get(y.Ig);p.register(q.L.vya,function(b){var c,f,q;if(A=k.config.i3a && ! !k.config.ita){d=h.ja.get(g.WB).host + k.config.ita;c=h.ja.get(I.vj);f=h.ja.get(I.It);q=h.ja.get(J.Fd).id;n="cat=cadplayback&dev=" + encodeURIComponent(c.aia) + "&ep=" + encodeURIComponent(f.Zwa) + "&ver=" + encodeURIComponent("6.0029.052.051") + "&jssid=" + q + "&browserua=" + v.Vm;k.config.DA && (n+="&groupname=" + encodeURIComponent(k.config.DA));k.config.rG && (n+="&uigroupname=" + encodeURIComponent(k.config.rG));c=n;f=h.ja.get(B.lH);f=u.Hb({},f,{prefix:"pi_"});f="&" + m.nL(f);n=c + f;p.yS(a);}b(l.se);});return b;})();},function(d,b,a){var l,k,m,f,h;function c(a){var b;l.Ah("MediaSourceASE").trace("Inside MediaSourceASE");b=a.ER();this.readyState=h.mc.CLOSED;this.sourceBuffers=b.sourceBuffers;this.addSourceBuffer=function(a){return b.addSourceBuffer(a);};this.c_=function(a){return b.c_(a);};this.removeSourceBuffer=function(a){return b.removeSourceBuffer(a);};this.mq=function(a){return b.mq(a);};this.sourceId=f++;this.duration=void 0;b.PQb(this.sourceId);this.readyState=h.mc.OPEN;this.Yb=k.ja.get(m.rg).YS(h.Yb,{});}Object.defineProperty(b,"__esModule",{value:!0});b.nAa=void 0;l=a(7);k=a(7);m=a(27);f=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.Ti;},set:function(a){var b;this.Ti=a || Infinity;b=Math.floor(1E3 * a) || Infinity;this.sourceBuffers.forEach(function(a){a.Ti=b;});}});h={mc:{CLOSED:0,OPEN:1,vt:2,name:["CLOSED","OPEN","ENDED"]},Yb:{yLa:!0,lWa:!0}};b.nAa=Object.assign(c,h);},function(d,b,a){var q,u,r,v,g,y,B,I;function c(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b && b.length && (a[b]=c || !0);return a;},{});}function l(a){return a && "object" === typeof a?JSON.stringify(a):"string" === typeof a?'"' + a + '"':"" + a;}function k(a,b,f){var d;if("string" === typeof a)return k.call(this,c(a),b,f);d=0;Object.keys(a).forEach(function(c){var h,k,m;h=g[c];k=a[c];if(h){if(m=y[c] || I[typeof q[h]])try{k=m(k);}catch(ta){f && f.error("Failed to convert value '" + k + "' for config '" + c + "' : " + ta.toString());return;}m=v[h];this[h]=k;v[h] !== m && (f && f.debug("Config changed for '" + c + "' from " + l(m) + " (" + typeof m + ") to " + l(k) + " (" + typeof k + ")"),++d);}else b?(h=(h=B[c])?h.filter(function(a){return a[0] !== this;},this):[],h.push([this,k]),B[c]=h):f && f.error("Attempt to change undeclared config option '" + c + "'");},this);d && v.emit("changed");return d;}function m(){return Object.keys(g).reduce(function(a,b){var c,f;c=g[b];f=a[c];f?(f.push(b),a[c]=f.sort(function(a,b){return b.length - a.length;})):a[c]=[b];return a;},{});}function f(a,b){return a.hasOwnProperty(b)?l(a[b]):void 0;}function h(a,b){return "undefined" === typeof a?b:a;}b=a(82);a=a(1220).EventEmitter;q={};u=Object.create(q);r=Object.create(u);v=Object.create(r);g={};y={};B={};v.declare=function(a){Object.keys(a).forEach(function(b){var c,f,d,h;c=a[b];f=c[0];d=c[1];h=c[2];if(q.hasOwnProperty(b))throw Error("The local configuraion key '" + b + "' is already in use");"string" === typeof f && (f=[f]);f.forEach(function(a){var c;if(g.hasOwnProperty(a))throw Error("The configuration value '" + a + "' has been declared more than once");q.hasOwnProperty(b) || ("function" === typeof d && (d=d()),q[b]=d);g[a]=b;"function" === typeof h && (y[a]=h);if(c=B[a])(c.forEach(function(b){var c,f;c=b[0];f={};f[a]=b[1];k.call(c,f,!1);}),delete B[a]);});});return v;};I={object:function(a){return "object" == typeof a?a:JSON.parse("" + a);},"boolean":function(a){return "boolean" == typeof a?a:!("0" === "" + a || "false" === ("" + a).toLowerCase());},number:function(a){if("number" == typeof a)return a;a=parseFloat("" + a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};v.set=k.bind(u);v.tL=k.bind(r);v.dump=function(a,b){var d,k,A,y;function c(){y && a && a.log("===========================================");}d=Object.keys(B).sort();k={};A=m();b=h(b,!0);Object.keys(g).sort().forEach(function(d){var m,B,I;d=g[d];!k[d] && (k[d]=!0,B=f(u,d),I=f(r,d),b || "undefined" !== typeof B || "undefined" !== typeof I) && (m=A[d].join(","),m+=" = " + l(v[d]) + " (" + typeof v[d] + ") [",m+=h(I,"<unset>") + ",",m+=h(B,"<unset>") + ",",m+=f(q,d) + "]",y || (y=!0,a && a.log("Current config values"),c()),a && a.log(m));});(b || d.length) && a && a.log("<undeclared> :",d);c();};v.kq=function(a){var b,c;b={};c={};Object.keys(g).forEach(function(a){a=g[a];c[a] || (c[a]=!0,b[a]=v[a]);});a && k.call(b,a);return b;};v.lYa=function(){var a;a=m();return Object.getOwnPropertyNames(u).reduce(function(b,c){b[a[c][0]]=u[c];return b;},{});};v.reset=function(){Object.keys(u).forEach(function(a){delete u[a];});};v.Wc={};b(a,v);d.exports=Object.freeze(v);},function(d,b,a){var l;function c(a){for(var b="",c=0;c < a.length;c++){b+=a[c].fa + "|";}return b;}l=a(284);d.exports={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed" + (b?" : " + b:""));},o6b:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},Exb:function(a){for(var b=[],c=0;c < a.length;c++){if(a[c].context === l.RN.V6a){b=a[c].list;break;}}return b;},lxb:function(a){for(var b=[],c=0;c < a.length;c++){if(a[c].context === l.RN.R5a){b=a[c].list;break;}}return b;},Asb:function(a,b){for(var f=0,d,q,k,m=0,l=a.length - 1;m < l;m++){d=c(a[m].list || []);k=!1;for(var g=0,y=b.length;g < y;g++){if((q=c(b[g].list || []),q == d)){k=!0;break;}}if(!1 === k){f=m;break;}}return f;},bJb:function(a,b,c){for(var f=[],d,k=0;k < Math.min(b,a.length);k++){d=a[k].list || [];f=f.concat(d.slice(0,c));}return f;},aJb:function(a,b){for(var c=[],d,q=0;q < a.length && (d=a[q].list || [],d=d.slice(0,Math.min(d.length,b)),b-=d.length,c=c.concat(d),0 !== b);q++){;}return c;},$Ib:function(a,b,c){var f;b < a.length && 0 <= b && (a=a[b].list || [],c < a.length && (f=a[c]));return f;},WOa:function(a){for(var b={},c=a.length,d,q=0;q < c;q++){d=a[q].list || [];for(var k=0;k < d.length;k++){if(d[k].property === l.TG.$N || d[k].property === l.TG.hwa){b.mj=q;b.ll=k;break;}}}void 0 === b.mj && void 0 === b.ll && (b.mj=0,b.ll=0);return b;}};},function(d,b,a){var m;function c(a,b,c,d,k,m,l){this.oV=d;this.e5a=a;this.AWa=b;this.Aoa=c;this.YDb=m;this.AB=l;this.split=k;}function l(){this.J={};this.J["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.J["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.J["3"]=new c("7","8","7","10","1.5",0,0);this.J["7"]=new c("15","16","15","9","4.5",0,0);this.J["15"]=new c("31","32","31","2","5.5",0,0);this.J["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.J["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.J["123"]=new c("123","124","123","0","0",1,.207298);this.J["124"]=new c("123","124","123","0","0",1,.49076);this.J["64"]=new c("125","126","125","4","40.5",0,0);this.J["125"]=new c("125","126","125","0","0",1,-.00157835);this.J["126"]=new c("125","126","125","0","0",1,.934205);this.J["32"]=new c("65","66","65","135","5.5",0,0);this.J["65"]=new c("127","128","128","4","1272.5",0,0);this.J["127"]=new c("127","128","128","0","0",1,-.510333);this.J["128"]=new c("127","128","128","0","0",1,.18363);this.J["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.J["129"]=new c("129","130","129","0","0",1,-.0464542);this.J["130"]=new c("129","130","129","0","0",1,.458833);this.J["16"]=new c("33","34","34","10","2.00001",0,0);this.J["33"]=new c("67","68","67","0","29.5",0,0);this.J["67"]=new c("131","132","131","2","39.5",0,0);this.J["131"]=new c("131","132","131","0","0",1,-.37577);this.J["132"]=new c("131","132","131","0","0",1,.512087);this.J["68"]=new c("133","134","134","140","1.5",0,0);this.J["133"]=new c("133","134","134","0","0",1,.321272);this.J["134"]=new c("133","134","134","0","0",1,-.675396);this.J["34"]=new c("69","70","70","2","24.5",0,0);this.J["69"]=new c("135","136","136","9","28.5",0,0);this.J["135"]=new c("135","136","136","0","0",1,-.0573845);this.J["136"]=new c("135","136","136","0","0",1,-.507455);this.J["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.J["137"]=new c("137","138","137","0","0",1,-.503909);this.J["138"]=new c("137","138","137","0","0",1,.450886);this.J["8"]=new c("17","18","17","4","44189.5",0,0);this.J["17"]=new c("35","36","35","2","21.5",0,0);this.J["35"]=new c("71","72","72","0","19.5",0,0);this.J["71"]=new c("139","140","140","9","2.5",0,0);this.J["139"]=new c("139","140","140","0","0",1,.00403497);this.J["140"]=new c("139","140","140","0","0",1,-.312656);this.J["72"]=new c("141","142","141","135","96",0,0);this.J["141"]=new c("141","142","141","0","0",1,-.465786);this.J["142"]=new c("141","142","141","0","0",1,.159633);this.J["36"]=new c("73","74","73","130","89.5",0,0);this.J["73"]=new c("143","144","144","10","4.5",0,0);this.J["143"]=new c("143","144","144","0","0",1,-.76265);this.J["144"]=new c("143","144","144","0","0",1,-.580804);this.J["74"]=new c("145","146","146","10","16.5",0,0);this.J["145"]=new c("145","146","146","0","0",1,.296357);this.J["146"]=new c("145","146","146","0","0",1,-.691659);this.J["18"]=new c("37","38","38","9","1.5",0,0);this.J["37"]=new c("37","38","38","0","0",1,.993951);this.J["38"]=new c("75","76","75","0","19",0,0);this.J["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.J["147"]=new c("147","148","147","0","0",1,-.346535);this.J["148"]=new c("147","148","147","0","0",1,-.995745);this.J["76"]=new c("147","148","147","0","0",1,-.99978);this.J["4"]=new c("9","10","9","5","4.5",0,0);this.J["9"]=new c("19","20","19","2","4.5",0,0);this.J["19"]=new c("39","40","39","140","7.5",0,0);this.J["39"]=new c("77","78","78","134","6.5",0,0);this.J["77"]=new c("149","150","150","7","11.5",0,0);this.J["149"]=new c("149","150","150","0","0",1,.729843);this.J["150"]=new c("149","150","150","0","0",1,.383857);this.J["78"]=new c("151","152","151","133","4.5",0,0);this.J["151"]=new c("151","152","151","0","0",1,.39017);this.J["152"]=new c("151","152","151","0","0",1,.0434342);this.J["40"]=new c("79","80","79","133","3.5",0,0);this.J["79"]=new c("153","154","154","8","4.5",0,0);this.J["153"]=new c("153","154","154","0","0",1,-.99536);this.J["154"]=new c("153","154","154","0","0",1,-.00943396);this.J["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.J["155"]=new c("155","156","155","0","0",1,.266272);this.J["156"]=new c("155","156","155","0","0",1,.959904);this.J["20"]=new c("41","42","42","10","65.5",0,0);this.J["41"]=new c("81","82","82","7","10.5",0,0);this.J["81"]=new c("157","158","158","2","37.5",0,0);this.J["157"]=new c("157","158","158","0","0",1,-.701873);this.J["158"]=new c("157","158","158","0","0",1,.224649);this.J["82"]=new c("159","160","159","133","9.5",0,0);this.J["159"]=new c("159","160","159","0","0",1,.0955181);this.J["160"]=new c("159","160","159","0","0",1,-.58962);this.J["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.J["83"]=new c("161","162","161","135","31",0,0);this.J["161"]=new c("161","162","161","0","0",1,-.229692);this.J["162"]=new c("161","162","161","0","0",1,.88595);this.J["84"]=new c("163","164","164","1","13.5",0,0);this.J["163"]=new c("163","164","164","0","0",1,-.992157);this.J["164"]=new c("163","164","164","0","0",1,.922159);this.J["10"]=new c("21","22","22","4","486",0,0);this.J["21"]=new c("43","44","44","133","4.5",0,0);this.J["43"]=new c("85","86","86","10","4.5",0,0);this.J["85"]=new c("165","166","166","4","158.5",0,0);this.J["165"]=new c("165","166","166","0","0",1,-.127778);this.J["166"]=new c("165","166","166","0","0",1,.955189);this.J["86"]=new c("165","166","166","0","0",1,-.994012);this.J["44"]=new c("87","88","88","1","3.5",0,0);this.J["87"]=new c("167","168","168","135","7",0,0);this.J["167"]=new c("167","168","168","0","0",1,-.997015);this.J["168"]=new c("167","168","168","0","0",1,.400821);this.J["88"]=new c("169","170","169","130","36",0,0);this.J["169"]=new c("169","170","169","0","0",1,-.898638);this.J["170"]=new c("169","170","169","0","0",1,.56129);this.J["22"]=new c("45","46","45","9","2.5",0,0);this.J["45"]=new c("89","90","90","9","1.5",0,0);this.J["89"]=new c("171","172","171","10","10.5",0,0);this.J["171"]=new c("171","172","171","0","0",1,.573986);this.J["172"]=new c("171","172","171","0","0",1,-.627266);this.J["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.J["173"]=new c("173","174","173","0","0",1,.925273);this.J["174"]=new c("173","174","173","0","0",1,-.994805);this.J["46"]=new c("91","92","91","136","5.5",0,0);this.J["91"]=new c("175","176","175","10","10.5",0,0);this.J["175"]=new c("175","176","175","0","0",1,.548352);this.J["176"]=new c("175","176","175","0","0",1,-.879195);this.J["92"]=new c("177","178","178","8","14.5",0,0);this.J["177"]=new c("177","178","178","0","0",1,.457305);this.J["178"]=new c("177","178","178","0","0",1,-.998992);this.J["2"]=new c("5","6","5","10","2.5",0,0);this.J["5"]=new c("11","12","11","9","4.5",0,0);this.J["11"]=new c("23","24","24","10","4.00001",0,0);this.J["23"]=new c("47","48","48","133","5.5",0,0);this.J["47"]=new c("93","94","93","3","13.5",0,0);this.J["93"]=new c("179","180","179","138","15.5",0,0);this.J["179"]=new c("179","180","179","0","0",1,.658398);this.J["180"]=new c("179","180","179","0","0",1,-.927007);this.J["94"]=new c("181","182","182","3","15.5",0,0);this.J["181"]=new c("181","182","182","0","0",1,-.111351);this.J["182"]=new c("181","182","182","0","0",1,-.99827);this.J["48"]=new c("95","96","95","7","167",0,0);this.J["95"]=new c("183","184","183","132","36.5",0,0);this.J["183"]=new c("183","184","183","0","0",1,.895161);this.J["184"]=new c("183","184","183","0","0",1,-.765217);this.J["96"]=new c("185","186","186","137","6.00001",0,0);this.J["185"]=new c("185","186","186","0","0",1,-.851095);this.J["186"]=new c("185","186","186","0","0",1,.674286);this.J["24"]=new c("49","50","49","137","5.5",0,0);this.J["49"]=new c("97","98","97","5","23.5",0,0);this.J["97"]=new c("187","188","187","3","28.5",0,0);this.J["187"]=new c("187","188","187","0","0",1,.951654);this.J["188"]=new c("187","188","187","0","0",1,-.993808);this.J["98"]=new c("187","188","187","0","0",1,-.99705);this.J["50"]=new c("187","188","187","0","0",1,-.997525);this.J["12"]=new c("25","26","25","8","8.5",0,0);this.J["25"]=new c("51","52","52","10","4.00001",0,0);this.J["51"]=new c("99","100","100","133","5.5",0,0);this.J["99"]=new c("189","190","190","7","40.5",0,0);this.J["189"]=new c("189","190","190","0","0",1,.151839);this.J["190"]=new c("189","190","190","0","0",1,-.855517);this.J["100"]=new c("191","192","192","133","14.5",0,0);this.J["191"]=new c("191","192","192","0","0",1,.86223);this.J["192"]=new c("191","192","192","0","0",1,.544394);this.J["52"]=new c("101","102","101","135","47.5",0,0);this.J["101"]=new c("193","194","194","4","24.5",0,0);this.J["193"]=new c("193","194","194","0","0",1,.946185);this.J["194"]=new c("193","194","194","0","0",1,.811859);this.J["102"]=new c("193","194","194","0","0",1,-.991561);this.J["26"]=new c("53","54","54","132","6.5",0,0);this.J["53"]=new c("103","104","103","131","85",0,0);this.J["103"]=new c("195","196","196","134","16.5",0,0);this.J["195"]=new c("195","196","196","0","0",1,.0473538);this.J["196"]=new c("195","196","196","0","0",1,-.999401);this.J["104"]=new c("197","198","198","8","15.5",0,0);this.J["197"]=new c("197","198","198","0","0",1,.816129);this.J["198"]=new c("197","198","198","0","0",1,-.99322);this.J["54"]=new c("105","106","105","133","3.5",0,0);this.J["105"]=new c("105","106","105","0","0",1,-.998783);this.J["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.J["199"]=new c("199","200","199","0","0",1,.528588);this.J["200"]=new c("199","200","199","0","0",1,-.998599);this.J["6"]=new c("13","14","14","10","7.5",0,0);this.J["13"]=new c("27","28","28","133","7.5",0,0);this.J["27"]=new c("55","56","56","10","4.5",0,0);this.J["55"]=new c("107","108","107","3","3.5",0,0);this.J["107"]=new c("201","202","201","4","17.5",0,0);this.J["201"]=new c("201","202","201","0","0",1,-.379512);this.J["202"]=new c("201","202","201","0","0",1,.15165);this.J["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.J["203"]=new c("203","204","203","0","0",1,-.884606);this.J["204"]=new c("203","204","203","0","0",1,.265406);this.J["56"]=new c("109","110","109","136","6.5",0,0);this.J["109"]=new c("205","206","205","4","157.5",0,0);this.J["205"]=new c("205","206","205","0","0",1,-.0142737);this.J["206"]=new c("205","206","205","0","0",1,.691279);this.J["110"]=new c("205","206","205","0","0",1,-.998086);this.J["28"]=new c("57","58","58","138","11.5",0,0);this.J["57"]=new c("111","112","112","2","6.5",0,0);this.J["111"]=new c("207","208","208","7","67.5",0,0);this.J["207"]=new c("207","208","208","0","0",1,.763925);this.J["208"]=new c("207","208","208","0","0",1,-.309645);this.J["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.J["209"]=new c("209","210","209","0","0",1,-.306635);this.J["210"]=new c("209","210","209","0","0",1,.556696);this.J["58"]=new c("113","114","113","138","50.5",0,0);this.J["113"]=new c("211","212","212","8","25.5",0,0);this.J["211"]=new c("211","212","212","0","0",1,.508234);this.J["212"]=new c("211","212","212","0","0",1,.793551);this.J["114"]=new c("211","212","212","0","0",1,-.998438);this.J["14"]=new c("29","30","29","134","27.5",0,0);this.J["29"]=new c("59","60","60","7","17.5",0,0);this.J["59"]=new c("115","116","115","135","5.5",0,0);this.J["115"]=new c("213","214","214","137","5.5",0,0);this.J["213"]=new c("213","214","214","0","0",1,.401747);this.J["214"]=new c("213","214","214","0","0",1,.0367503);this.J["116"]=new c("215","216","216","8","5.5",0,0);this.J["215"]=new c("215","216","216","0","0",1,-.0241984);this.J["216"]=new c("215","216","216","0","0",1,-.999046);this.J["60"]=new c("117","118","117","0","12.5",0,0);this.J["117"]=new c("217","218","218","132","5.5",0,0);this.J["217"]=new c("217","218","218","0","0",1,-.997294);this.J["218"]=new c("217","218","218","0","0",1,.210398);this.J["118"]=new c("219","220","219","137","1.5",0,0);this.J["219"]=new c("219","220","219","0","0",1,-.55763);this.J["220"]=new c("219","220","219","0","0",1,.074493);this.J["30"]=new c("61","62","62","133","42.5",0,0);this.J["61"]=new c("119","120","119","135","5.5",0,0);this.J["119"]=new c("221","222","222","4","473.5",0,0);this.J["221"]=new c("221","222","222","0","0",1,-.920213);this.J["222"]=new c("221","222","222","0","0",1,-.17615);this.J["120"]=new c("223","224","224","5","144",0,0);this.J["223"]=new c("223","224","224","0","0",1,-.954295);this.J["224"]=new c("223","224","224","0","0",1,-.382538);this.J["62"]=new c("121","122","121","133","50",0,0);this.J["121"]=new c("225","226","226","10","18.5",0,0);this.J["225"]=new c("225","226","226","0","0",1,-.0731343);this.J["226"]=new c("225","226","226","0","0",1,.755454);this.J["122"]=new c("227","228","228","0","30",0,0);this.J["227"]=new c("227","228","228","0","0",1,.25);this.J["228"]=new c("227","228","228","0","0",1,-.997101);}function k(a,b,c,d,k,m){this.a6=k;this.Q_=m;}b=a(531);m=a(283);a={};a.Hkb=new (function(){this.Leb=m();this.o=0;this.update=function(){this.o=m() - this.Leb;};this.getValue=function(){return this.o;};this.type="num";})();a.NEb=new (function(){this.getValue=function(a,b,c){return this.o="becauseYouAdded" === c.Oa[a].context || null;};this.type="cat";})();a.OEb=new (function(){this.getValue=function(a,b,c){return this.o="becauseYouLiked" === c.Oa[a].context || null;};this.type="cat";})();a.QEb=new (function(){this.getValue=function(a,b,c){return this.o="billboard" === c.Oa[a].context || null;};this.type="cat";})();a.REb=new (function(){this.getValue=function(a,b,c){return this.o="continueWatching" === c.Oa[a].context || null;};this.type="cat";})();a.PEb=new (function(){this.getValue=function(a,b,c){return this.o="bigRow" === c.Oa[a].context || null;};this.type="cat";})();a.SEb=new (function(){this.getValue=function(a,b,c){return this.o="genre" === c.Oa[a].context || null;};this.type="cat";})();a.TEb=new (function(){this.getValue=function(a,b,c){return this.o="netflixOriginals" === c.Oa[a].context || null;};this.type="cat";})();a.UEb=new (function(){this.getValue=function(a,b,c){return this.o="newRelease" === c.Oa[a].context || null;};this.type="cat";})();a.VEb=new (function(){this.getValue=function(a,b,c){return this.o="popularTitles" === c.Oa[a].context || null;};this.type="cat";})();a.WEb=new (function(){this.getValue=function(a,b,c){return this.o="queue" === c.Oa[a].context || null;};this.type="cat";})();a.XEb=new (function(){this.getValue=function(a,b,c){return this.o="recentlyAdded" === c.Oa[a].context || null;};this.type="cat";})();a.YEb=new (function(){this.getValue=function(a,b,c){return this.o="similars" === c.Oa[a].context || null;};this.type="cat";})();a.$Eb=new (function(){this.getValue=function(a,b,c){return this.o="trendingNow" === c.Oa[a].context || null;};this.type="cat";})();a.aFb=new (function(){this.getValue=function(a,b,c){return this.o="ultraHD" === c.Oa[a].context || null;};this.type="cat";})();a.bFb=new (function(){this.getValue=function(a,b,c){return this.o="watchAgain" === c.Oa[a].context || null;};this.type="cat";})();a.ZEb=new (function(){this.getValue=function(a,b,c){return this.o="topTen" === c.Oa[a].context || null;};this.type="cat";})();a.mlb=new (function(){this.update=function(a){for(var b in a.Oa){if("becauseYouAdded" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.nlb=new (function(){this.update=function(a){for(var b in a.Oa){if("becauseYouLiked" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.rlb=new (function(){this.update=function(a){for(var b in a.Oa){if("billboard" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.qob=new (function(){this.update=function(a){for(var b in a.Oa){if("continueWatching" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.qlb=new (function(){this.update=function(a){for(var b in a.Oa){if("bigRow" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Mwb=new (function(){this.update=function(a){for(var b in a.Oa){if("genre" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.aIb=new (function(){this.update=function(a){for(var b in a.Oa){if("netflixOriginals" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.cIb=new (function(){this.update=function(a){for(var b in a.Oa){if("newRelease" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.TLb=new (function(){this.update=function(a){for(var b in a.Oa){if("popularTitles" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Cl=new (function(){this.update=function(a){for(var b in a.Oa){if("queue" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.MNb=new (function(){this.update=function(a){for(var b in a.Oa){if("recentlyAdded" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.sSb=new (function(){this.update=function(a){for(var b in a.Oa){if("similars" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.hVb=new (function(){this.update=function(a){for(var b in a.Oa){if("trendingNow" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.BVb=new (function(){this.update=function(a){for(var b in a.Oa){if("ultraHD" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.vXb=new (function(){this.update=function(a){for(var b in a.Oa){if("watchAgain" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.RUb=new (function(){this.update=function(a){for(var b in a.Oa){if("topTen" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Bob=new (function(){this.getValue=function(a,b,c){return this.o="AR" === c.Na || null;};this.type="cat";})();a.Cob=new (function(){this.getValue=function(a,b,c){return this.o="AT" === c.Na || null;};this.type="cat";})();a.Dob=new (function(){this.getValue=function(a,b,c){return this.o="AU" === c.Na || null;};this.type="cat";})();a.Eob=new (function(){this.getValue=function(a,b,c){return this.o="AZ" === c.Na || null;};this.type="cat";})();a.Fob=new (function(){this.getValue=function(a,b,c){return this.o="BB" === c.Na || null;};this.type="cat";})();a.Gob=new (function(){this.getValue=function(a,b,c){return this.o="BE" === c.Na || null;};this.type="cat";})();a.Hob=new (function(){this.getValue=function(a,b,c){return this.o="BO" === c.Na || null;};this.type="cat";})();a.Iob=new (function(){this.getValue=function(a,b,c){return this.o="BR" === c.Na || null;};this.type="cat";})();a.Job=new (function(){this.getValue=function(a,b,c){return this.o="BS" === c.Na || null;};this.type="cat";})();a.Kob=new (function(){this.getValue=function(a,b,c){return this.o="CA" === c.Na || null;};this.type="cat";})();a.Lob=new (function(){this.getValue=function(a,b,c){return this.o="CH" === c.Na || null;};this.type="cat";})();a.Mob=new (function(){this.getValue=function(a,b,c){return this.o="CL" === c.Na || null;};this.type="cat";})();a.Nob=new (function(){this.getValue=function(a,b,c){return this.o="CO" === c.Na || null;};this.type="cat";})();a.Oob=new (function(){this.getValue=function(a,b,c){return this.o="CR" === c.Na || null;};this.type="cat";})();a.Pob=new (function(){this.getValue=function(a,b,c){return this.o="CW" === c.Na || null;};this.type="cat";})();a.Qob=new (function(){this.getValue=function(a,b,c){return this.o="DE" === c.Na || null;};this.type="cat";})();a.Rob=new (function(){this.getValue=function(a,b,c){return this.o="DK" === c.Na || null;};this.type="cat";})();a.Sob=new (function(){this.getValue=function(a,b,c){return this.o="DM" === c.Na || null;};this.type="cat";})();a.Tob=new (function(){this.getValue=function(a,b,c){return this.o="DO" === c.Na || null;};this.type="cat";})();a.Uob=new (function(){this.getValue=function(a,b,c){return this.o="EC" === c.Na || null;};this.type="cat";})();a.Vob=new (function(){this.getValue=function(a,b,c){return this.o="EE" === c.Na || null;};this.type="cat";})();a.Wob=new (function(){this.getValue=function(a,b,c){return this.o="EG" === c.Na || null;};this.type="cat";})();a.Xob=new (function(){this.getValue=function(a,b,c){return this.o="ES" === c.Na || null;};this.type="cat";})();a.Yob=new (function(){this.getValue=function(a,b,c){return this.o="FI" === c.Na || null;};this.type="cat";})();a.Zob=new (function(){this.getValue=function(a,b,c){return this.o="FR" === c.Na || null;};this.type="cat";})();a.$ob=new (function(){this.getValue=function(a,b,c){return this.o="GB" === c.Na || null;};this.type="cat";})();a.apb=new (function(){this.getValue=function(a,b,c){return this.o="GF" === c.Na || null;};this.type="cat";})();a.bpb=new (function(){this.getValue=function(a,b,c){return this.o="GP" === c.Na || null;};this.type="cat";})();a.cpb=new (function(){this.getValue=function(a,b,c){return this.o="GT" === c.Na || null;};this.type="cat";})();a.dpb=new (function(){this.getValue=function(a,b,c){return this.o="HK" === c.Na || null;};this.type="cat";})();a.epb=new (function(){this.getValue=function(a,b,c){return this.o="HN" === c.Na || null;};this.type="cat";})();a.fpb=new (function(){this.getValue=function(a,b,c){return this.o="HR" === c.Na || null;};this.type="cat";})();a.gpb=new (function(){this.getValue=function(a,b,c){return this.o="HU" === c.Na || null;};this.type="cat";})();a.hpb=new (function(){this.getValue=function(a,b,c){return this.o="ID" === c.Na || null;};this.type="cat";})();a.ipb=new (function(){this.getValue=function(a,b,c){return this.o="IE" === c.Na || null;};this.type="cat";})();a.jpb=new (function(){this.getValue=function(a,b,c){return this.o="IL" === c.Na || null;};this.type="cat";})();a.kpb=new (function(){this.getValue=function(a,b,c){return this.o="IN" === c.Na || null;};this.type="cat";})();a.lpb=new (function(){this.getValue=function(a,b,c){return this.o="IT" === c.Na || null;};this.type="cat";})();a.mpb=new (function(){this.getValue=function(a,b,c){return this.o="JE" === c.Na || null;};this.type="cat";})();a.npb=new (function(){this.getValue=function(a,b,c){return this.o="JM" === c.Na || null;};this.type="cat";})();a.opb=new (function(){this.getValue=function(a,b,c){return this.o="JP" === c.Na || null;};this.type="cat";})();a.ppb=new (function(){this.getValue=function(a,b,c){return this.o="KE" === c.Na || null;};this.type="cat";})();a.qpb=new (function(){this.getValue=function(a,b,c){return this.o="KN" === c.Na || null;};this.type="cat";})();a.rpb=new (function(){this.getValue=function(a,b,c){return this.o="KR" === c.Na || null;};this.type="cat";})();a.spb=new (function(){this.getValue=function(a,b,c){return this.o="LU" === c.Na || null;};this.type="cat";})();a.tpb=new (function(){this.getValue=function(a,b,c){return this.o="MK" === c.Na || null;};this.type="cat";})();a.upb=new (function(){this.getValue=function(a,b,c){return this.o="MU" === c.Na || null;};this.type="cat";})();a.vpb=new (function(){this.getValue=function(a,b,c){return this.o="MX" === c.Na || null;};this.type="cat";})();a.wpb=new (function(){this.getValue=function(a,b,c){return this.o="MY" === c.Na || null;};this.type="cat";})();a.xpb=new (function(){this.getValue=function(a,b,c){return this.o="NI" === c.Na || null;};this.type="cat";})();a.ypb=new (function(){this.getValue=function(a,b,c){return this.o="NL" === c.Na || null;};this.type="cat";})();a.zpb=new (function(){this.getValue=function(a,b,c){return this.o="NO" === c.Na || null;};this.type="cat";})();a.Apb=new (function(){this.getValue=function(a,b,c){return this.o="NZ" === c.Na || null;};this.type="cat";})();a.Bpb=new (function(){this.getValue=function(a,b,c){return this.o="OM" === c.Na || null;};this.type="cat";})();a.Cpb=new (function(){this.getValue=function(a,b,c){return this.o="PA" === c.Na || null;};this.type="cat";})();a.Dpb=new (function(){this.getValue=function(a,b,c){return this.o="PE" === c.Na || null;};this.type="cat";})();a.Epb=new (function(){this.getValue=function(a,b,c){return this.o="PF" === c.Na || null;};this.type="cat";})();a.Fpb=new (function(){this.getValue=function(a,b,c){return this.o="PH" === c.Na || null;};this.type="cat";})();a.Gpb=new (function(){this.getValue=function(a,b,c){return this.o="PK" === c.Na || null;};this.type="cat";})();a.Hpb=new (function(){this.getValue=function(a,b,c){return this.o="PL" === c.Na || null;};this.type="cat";})();a.Ipb=new (function(){this.getValue=function(a,b,c){return this.o="PT" === c.Na || null;};this.type="cat";})();a.Jpb=new (function(){this.getValue=function(a,b,c){return this.o="PY" === c.Na || null;};this.type="cat";})();a.Kpb=new (function(){this.getValue=function(a,b,c){return this.o="QA" === c.Na || null;};this.type="cat";})();a.Lpb=new (function(){this.getValue=function(a,b,c){return this.o="RO" === c.Na || null;};this.type="cat";})();a.Mpb=new (function(){this.getValue=function(a,b,c){return this.o="RS" === c.Na || null;};this.type="cat";})();a.Npb=new (function(){this.getValue=function(a,b,c){return this.o="RU" === c.Na || null;};this.type="cat";})();a.Opb=new (function(){this.getValue=function(a,b,c){return this.o="SA" === c.Na || null;};this.type="cat";})();a.Ppb=new (function(){this.getValue=function(a,b,c){return this.o="SE" === c.Na || null;};this.type="cat";})();a.Qpb=new (function(){this.getValue=function(a,b,c){return this.o="SG" === c.Na || null;};this.type="cat";})();a.Rpb=new (function(){this.getValue=function(a,b,c){return this.o="SV" === c.Na || null;};this.type="cat";})();a.Spb=new (function(){this.getValue=function(a,b,c){return this.o="SX" === c.Na || null;};this.type="cat";})();a.Tpb=new (function(){this.getValue=function(a,b,c){return this.o="TH" === c.Na || null;};this.type="cat";})();a.Upb=new (function(){this.getValue=function(a,b,c){return this.o="TR" === c.Na || null;};this.type="cat";})();a.Vpb=new (function(){this.getValue=function(a,b,c){return this.o="TT" === c.Na || null;};this.type="cat";})();a.Wpb=new (function(){this.getValue=function(a,b,c){return this.o="TW" === c.Na || null;};this.type="cat";})();a.Xpb=new (function(){this.getValue=function(a,b,c){return this.o="US" === c.Na || null;};this.type="cat";})();a.Ypb=new (function(){this.getValue=function(a,b,c){return this.o="UY" === c.Na || null;};this.type="cat";})();a.Zpb=new (function(){this.getValue=function(a,b,c){return this.o="VE" === c.Na || null;};this.type="cat";})();a.$pb=new (function(){this.getValue=function(a,b,c){return this.o="ZA" === c.Na || null;};this.type="cat";})();a.RNb=new (function(){this.getValue=function(a,b,c){return this.o=1 === c.Ih || null;};this.type="cat";})();a.SNb=new (function(){this.getValue=function(a,b,c){return this.o=10 === c.Ih || null;};this.type="cat";})();a.TNb=new (function(){this.getValue=function(a,b,c){return this.o=11 === c.Ih || null;};this.type="cat";})();a.UNb=new (function(){this.getValue=function(a,b,c){return this.o=12 === c.Ih || null;};this.type="cat";})();a.VNb=new (function(){this.getValue=function(a,b,c){return this.o=13 === c.Ih || null;};this.type="cat";})();a.WNb=new (function(){this.getValue=function(a,b,c){return this.o=14 === c.Ih || null;};this.type="cat";})();a.XNb=new (function(){this.getValue=function(a,b,c){return this.o=15 === c.Ih || null;};this.type="cat";})();a.YNb=new (function(){this.getValue=function(a,b,c){return this.o=16 === c.Ih || null;};this.type="cat";})();a.ZNb=new (function(){this.getValue=function(a,b,c){return this.o=17 === c.Ih || null;};this.type="cat";})();a.$Nb=new (function(){this.getValue=function(a,b,c){return this.o=18 === c.Ih || null;};this.type="cat";})();a.aOb=new (function(){this.getValue=function(a,b,c){return this.o=19 === c.Ih || null;};this.type="cat";})();a.bOb=new (function(){this.getValue=function(a,b,c){return this.o=2 === c.Ih || null;};this.type="cat";})();a.cOb=new (function(){this.getValue=function(a,b,c){return this.o=20 === c.Ih || null;};this.type="cat";})();a.dOb=new (function(){this.getValue=function(a,b,c){return this.o=21 === c.Ih || null;};this.type="cat";})();a.eOb=new (function(){this.getValue=function(a,b,c){return this.o=22 === c.Ih || null;};this.type="cat";})();a.fOb=new (function(){this.getValue=function(a,b,c){return this.o=23 === c.Ih || null;};this.type="cat";})();a.gOb=new (function(){this.getValue=function(a,b,c){return this.o=3 === c.Ih || null;};this.type="cat";})();a.hOb=new (function(){this.getValue=function(a,b,c){return this.o=4 === c.Ih || null;};this.type="cat";})();a.iOb=new (function(){this.getValue=function(a,b,c){return this.o=5 === c.Ih || null;};this.type="cat";})();a.jOb=new (function(){this.getValue=function(a,b,c){return this.o=6 === c.Ih || null;};this.type="cat";})();a.kOb=new (function(){this.getValue=function(a,b,c){return this.o=7 === c.Ih || null;};this.type="cat";})();a.lOb=new (function(){this.getValue=function(a,b,c){return this.o=8 === c.Ih || null;};this.type="cat";})();a.mOb=new (function(){this.getValue=function(a,b,c){return this.o=9 === c.Ih || null;};this.type="cat";})();a.JTb=new (function(){this.update=function(a){"down" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.LTb=new (function(){this.update=function(a){"right" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.KTb=new (function(){this.update=function(a){"left" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.MTb=new (function(){this.update=function(a){"up" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.CGb=new (function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";})();a.DGb=new (function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.Pga);};this.getValue=function(){return this.o;};this.type="num";})();a.KGb=new (function(){this.JO=this.o=0;this.update=function(a){this.JO++;this.o=1 * (this.o + a.rowIndex) / this.JO;};this.getValue=function(){return this.o;};this.type="num";})();a.LGb=new (function(){this.JO=this.o=0;this.update=function(a){this.JO++;return this.o=1 * (this.o + a.Pga) / this.JO;};this.getValue=function(){return this.o;};this.type="num";})();a.BMb=new (function(){this.getValue=function(a,b,c){return this.o=c.Pga + b;};this.type="num";})();a.CMb=new (function(){this.getValue=function(a,b,c){return this.o=c.rowIndex + a;};this.type="num";})();l.prototype.AB=function(a){return this.OHa(this.J["0"].c0a(a),a);};l.prototype.OHa=function(a,b){return "string" == typeof a?this.OHa(this.J[a].c0a(b),b):a;};c.prototype.c0a=function(a){switch(this.YDb){case 0:switch(a.cf[this.oV].type){case "cat":return null === a.cf[this.oV].value?this.AWa:"missing" == a.cf[this.oV].value?this.Aoa:this.e5a;case "num":return null === a.cf[this.oV].value?this.Aoa:a.cf[this.oV].value < this.split?this.e5a:this.AWa;default:return this.Aoa;}case 1:return this.AB;default:return this.AB;}};b.declare({ZS:["modelSelector","modelone"],Knb:["colEpisodeList",5],MBb:["holdDuration",15E3],P_a:["rowFirst",2],ALa:["colFirst",5],R_a:["rowScroll",2],BLa:["colScroll",6],JPb:["rowScrollHorizontal",6],fQb:["searchTop",3],LMa:["cwFirst",2],VR:["horizontalItemsFocusedMode",3],ZDb:["itemsPerRank",1],wGb:["maxNumberPayloadsStored",10],rVa:["maxNumberTitlesScheduled",5],n5b:["enableDetailedLogging",!0],w8b:["rowStep",20],C4b:["colStep",15],V7b:["pageRows",100],U7b:["pageColumns",75],Rna:["maskParamsList",new (function(){var a,b;this.Rna=[];this.Ok={};this.a6=20;this.Q_=15;for(a=0;100 > a;a++){for(b=0;75 > b;b++){(Math.floor(a / this.a6) + "_" + Math.floor(b / this.Q_) in this.Ok) || (this.Ok[Math.floor(a / this.a6) + "_" + Math.floor(b / this.Q_)]=1,this.Rna.push(new k(0,0,0,0,Math.floor(a / this.a6),Math.floor(b / this.Q_))));}}})().Rna],J:["nodes",new l().J],mapping:["mapping",{DGb:"0",LGb:"1",CGb:"2",KGb:"3",Hkb:"4",MTb:"5",KTb:"6",LTb:"7",JTb:"8",CMb:"9",BMb:"10",NEb:"11",OEb:"12",QEb:"13",REb:"14",PEb:"15",SEb:"16",TEb:"17",UEb:"18",VEb:"19",WEb:"20",XEb:"21",YEb:"22",ZEb:"23",$Eb:"24",aFb:"25",bFb:"26",RNb:"27",SNb:"28",TNb:"29",UNb:"30",VNb:"31",WNb:"32",XNb:"33",YNb:"34",ZNb:"35",$Nb:"36",aOb:"37",bOb:"38",cOb:"39",dOb:"40",eOb:"41",fOb:"42",gOb:"43",hOb:"44",iOb:"45",jOb:"46",kOb:"47",lOb:"48",mOb:"49",Bob:"50",Cob:"51",Dob:"52",Eob:"53",Fob:"54",Gob:"55",Hob:"56",Iob:"57",Job:"58",Kob:"59",Lob:"60",Mob:"61",Nob:"62",Oob:"63",Pob:"64",Qob:"65",Rob:"66",Sob:"67",Tob:"68",Uob:"69",Vob:"70",Wob:"71",Xob:"72",Yob:"73",Zob:"74",$ob:"75",apb:"76",bpb:"77",cpb:"78",dpb:"79",epb:"80",fpb:"81",gpb:"82",hpb:"83",ipb:"84",jpb:"85",kpb:"86",lpb:"87",mpb:"88",npb:"89",opb:"90",ppb:"91",qpb:"92",rpb:"93",spb:"94",tpb:"95",upb:"96",vpb:"97",wpb:"98",xpb:"99",ypb:"100",zpb:"101",Apb:"102",Bpb:"103",Cpb:"104",Dpb:"105",Epb:"106",Fpb:"107",Gpb:"108",Hpb:"109",Ipb:"110",Jpb:"111",Kpb:"112",Lpb:"113",Mpb:"114",Npb:"115",Opb:"116",Ppb:"117",Qpb:"118",Rpb:"119",Spb:"120",Tpb:"121",Upb:"122",Vpb:"123",Wpb:"124",Xpb:"125",Ypb:"126",Zpb:"127",$pb:"128",vXb:"129",MNb:"130",sSb:"131",Cl:"132",qob:"133",Mwb:"134",hVb:"135",RUb:"136",rlb:"137",cIb:"138",BVb:"139",TLb:"140",mlb:"141",qlb:"142",nlb:"143",aIb:"144"}],cf:["features",a],E3b:["_modelName","tree"],w3b:["_format","xgboost"],D3b:["_itemsToKeep",5],C3b:["_itemsThreshold",null],k4b:["cacheLimit",20]});d.exports={config:b,R6b:k,M4b:c};},function(d,b,a){d.exports=a(535);},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(536);ka._cad_global={};ka.DEBUG=!1;a(12);a(10);a(15);a(23);a(47);a(85);a(1206);a(527);a(55);a(51);a(20);a(68);a(58);a(1207);a(279);a(333);a(1208);a(507);a(1209);a(260);a(440);a(504);a(511);a(509);a(510);a(529);a(498);a(499);a(501);a(187);a(274);a(1210);a(11);a(516);a(1211);a(188);a(67);a(505);a(146);a(441);a(442);a(261);a(1212);a(1213);a(467);a(1214);a(461);a(276);a(458);a(275);a(497);a(1215);a(278);a(513);a(184);a(530);a(71);a(1216);a(99);a(1223);a(1224);a(1225);a(1226);a(1228);a(1230);a(512);a(57);a(1231);a(508);a(443);a(506);a(515);a(1232);a(1233);a(525);a(189);a(1234);a(1235);a(1236);a(1237);a(502);},function(d,b,a){(function(a){var b;(function(b){var ha,aa,sa,fa,wa,Q,ca,O,xa;function c(a,b,c){var f;f=xa.get(a);if(!f){if(!c)return;f=new ca();xa.set(a,f);}a=f.get(b);if(!a){if(!c)return;a=new ca();f.set(b,a);}return a;}function f(a,b,c){if(d(a,b,c))return !0;b=J(b);return null !== b?f(a,b,c):!1;}function d(a,b,f){b=c(b,f,!1);return void 0 !== b && ! !b.has(a);}function k(a,b,c){if(d(a,b,c))return l(a,b,c);b=J(b);return null !== b?k(a,b,c):void 0;}function l(a,b,f){b=c(b,f,!1);return void 0 === b?void 0:b.get(a);}function r(a,b){var c,d;c=v(a,b);a=J(a);if(null === a)return c;b=r(a,b);if(0 >= b.length)return c;if(0 >= c.length)return b;a=new O();for(var f=0;f < c.length;f++){d=c[f];a.add(d);}for(c=0;c < b.length;c++){d=b[c];a.add(d);}return p(a);}function v(a,b){var f;a=c(a,b,!1);f=[];a && n(a,function(a,b){return f.push(b);});return f;}function g(a){return void 0 === a;}function y(a){return Array.isArray?Array.isArray(a):a instanceof Array || "[object Array]" === Object.prototype.toString.call(a);}function B(a){return "object" === typeof a?null !== a:"function" === typeof a;}function I(a){return "symbol" === typeof a?a:String(a);}function J(a){var b,c;b=Object.getPrototypeOf(a);if("function" !== typeof a || a === Q || b !== Q)return b;c=a.prototype;c=c && Object.getPrototypeOf(c);if(null == c || c === Object.prototype)return b;c=c.constructor;return "function" !== typeof c || c === a?b:c;}function D(a){a=a.next();return a.done?void 0:a;}function n(a,b){var c,f,d;c=a.entries;if("function" === typeof c){c=c.call(a);try{for(;f=D(c);){d=f.value;b.call(void 0,d[1],d[0],a);}}finally{f && (a=c["return"]) && a.call(c);}}else (c=a.forEach,"function" === typeof c && c.call(a,b,void 0));}function p(a){var b;b=[];n(a,function(a,c){b.push(c);});return b;}function U(a,b,c){var f;f=0;return {next:function(){var d;if((a || b) && f < (a || b).length){d=f++;switch(c){case "key":return {value:a[d],done:!1};case "value":return {value:b[d],done:!1};case "key+value":return {value:[a[d],b[d]],done:!1};}}b=a=void 0;return {value:void 0,done:!0};},"throw":function(c){if(a || b)b=a=void 0;throw c;},"return":function(c){if(a || b)b=a=void 0;return {value:c,done:!0};}};}function V(){var a;a={};return (function(){function b(){this.xr=[];this.tw=[];this.wY=a;this.vY=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.xr.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0 <= this.RY(a,!1);};b.prototype.get=function(a){a=this.RY(a,!1);return 0 <= a?this.tw[a]:void 0;};b.prototype.set=function(a,b){a=this.RY(a,!0);this.tw[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.RY(b,!1);if(0 <= c){b=this.xr.length;for(c+=1;c < b;c++){this.xr[c - 1]=this.xr[c];this.tw[c - 1]=this.tw[c];}this.xr.length--;this.tw.length--;this.wY=a;this.vY=-2;return !0;}return !1;};b.prototype.clear=function(){this.xr.length=0;this.tw.length=0;this.wY=a;this.vY=-2;};b.prototype.keys=function(){return U(this.xr,void 0,"key");};b.prototype.values=function(){return U(void 0,this.tw,"value");};b.prototype.entries=function(){return U(this.xr,this.tw,"key+value");};b.prototype.RY=function(a,b){var c;if(this.wY === a)return this.vY;c=this.xr.indexOf(a);0 > c && b && (c=this.xr.length,this.xr.push(a),this.tw.push(void 0));return (this.wY=a,this.vY=c);};return b;})();}function E(){return (function(){function a(){this.fk=new ca();}Object.defineProperty(a.prototype,"size",{get:function(){return this.fk.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.fk.has(a);};a.prototype.add=function(a){return (this.fk.set(a,a),this);};a.prototype["delete"]=function(a){return this.fk["delete"](a);};a.prototype.clear=function(){this.fk.clear();};a.prototype.keys=function(){return this.fk.keys();};a.prototype.values=function(){return this.fk.values();};a.prototype.entries=function(){return this.fk.entries();};return a;})();}function Z(){var f,d;function a(a){for(var b=0;16 > b;++b){a[b]=255 * Math.random() | 0;}return a;}function b(){var b,h;do {b="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6] & 79 | 64;b[8]=b[8] & 191 | 128;for(var c="",d=0;16 > d;++d){h=b[d];if(4 === d || 6 === d || 8 === d)c+="-";16 > h && (c+="0");c+=h.toString(16).toLowerCase();}b="@@WeakMap@@" + c;}while(wa.has(f,b));f[b]=!0;return b;}function c(a,b){if(!ha.call(a,d)){if(!b)return;Object.defineProperty(a,d,{value:fa()});}return a[d];}f=fa();d=b();return (function(){function a(){this.YO=b();}a.prototype.has=function(a){a=c(a,!1);return void 0 !== a?wa.has(a,this.YO):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0 !== a?wa.get(a,this.YO):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.YO]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0 !== a?delete a[this.YO]:!1;};a.prototype.clear=function(){this.YO=b();};return a;})();}function t(a){a.s3b=1;delete a.t3b;return a;}ha=Object.prototype.hasOwnProperty;aa="function" === typeof Object.create;sa=(function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__ === b;})();fa=aa?function(){return t(Object.create(null));}:sa?function(){return t({__proto__:null});}:function(){return t({});};(function(a){var b;b=!aa && !sa;a.has=b?function(a,b){return ha.call(a,b);}:function(a,b){return (b in a);};a.get=b?function(a,b){return ha.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};})(wa || (wa={}));Q=Object.getPrototypeOf(Function);ca="function" === typeof Map?Map:V();O="function" === typeof Set?Set:E();xa=new ("function" === typeof WeakMap?WeakMap:Z())();b.aA=function(a,b,c,f){var h;if(g(f)){if(g(c)){if(!y(a))throw new TypeError();if("function" !== typeof b)throw new TypeError();for(c=a.length - 1;0 <= c;--c){if((f=(0,a[c])(b),!g(f))){if("function" !== typeof f)throw new TypeError();b=f;}}return b;}if(!y(a))throw new TypeError();if(!B(b))throw new TypeError();c=I(c);for(f=a.length - 1;0 <= f;--f){(0,a[f])(b,c);}}else {if(!y(a))throw new TypeError();if(!B(b))throw new TypeError();if(g(c))throw new TypeError();if(!B(f))throw new TypeError();c=I(c);for(var d=a.length - 1;0 <= d;--d){h=(0,a[d])(b,c,f);if(!g(h)){if(!B(h))throw new TypeError();f=h;}}return f;}};b.Td=function(a,b){return function(f,d){if(g(d)){if("function" !== typeof f)throw new TypeError();c(f,void 0,!0).set(a,b);}else {if(!B(f))throw new TypeError();d=I(d);c(f,d,!0).set(a,b);}};};b.Wha=function(a,b,f){var d;if(!B(f))throw new TypeError();g(d) || (d=I(d));c(f,d,!0).set(a,b);};b.sBb=function(a,b){var c;if(!B(b))throw new TypeError();g(c) || (c=I(c));return f(a,b,c);};b.sla=function(a,b){var c;if(!B(b))throw new TypeError();g(c) || (c=I(c));return d(a,b,c);};b.getMetadata=function(a,b,c){if(!B(b))throw new TypeError();g(c) || (c=I(c));return k(a,b,c);};b.T5b=function(a,b,c){if(!B(b))throw new TypeError();g(c) || (c=I(c));return l(a,b,c);};b.R5b=function(a,b){if(!B(a))throw new TypeError();g(b) || (b=I(b));return r(a,b);};b.U5b=function(a,b){if(!B(a))throw new TypeError();g(b) || (b=I(b));return v(a,b);};b.W4b=function(a,b,f){var d;if(!B(b))throw new TypeError();g(f) || (f=I(f));d=c(b,f,!1);if(g(d) || !d["delete"](a))return !1;if(0 < d.size)return !0;a=xa.get(b);a["delete"](f);if(0 < a.size)return !0;xa["delete"](b);return !0;};(function(a){if("undefined" !== typeof a.Reflect){if(a.Reflect !== b)for(var c in b){ha.call(b,c) && (a.Reflect[c]=b[c]);}}else a.Reflect=b;})("undefined" !== typeof ka?ka:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a?a:Function("return this;")());})(b || (b={}));}).call(this,a(190));},function(d,b,a){var c,l,k,m,f,h,q,u,r,v,A,y;c=this && this.__awaiter || (function(a,b,c,f){return new (c || (c=Promise))(function(d,h){function k(a){try{q(f.next(a));}catch(ta){h(ta);}}function m(a){try{q(f["throw"](a));}catch(ta){h(ta);}}function q(a){a.done?d(a.value):new c(function(b){b(a.value);}).then(k,m);}q((f=f.apply(a,b || [])).next());});});l=this && this.__generator || (function(a,b){var d,h,k,m,q;function c(a){return function(b){return f([a,b]);};}function f(c){if(h)throw new TypeError("Generator is already executing.");for(;d;){try{if((h=1,k && (m=k[c[0] & 2?"return":c[0]?"throw":"next"]) && !(m=m.call(k,c[1])).done))return m;if((k=0,m))c=[0,m.value];switch(c[0]){case 0:case 1:m=c;break;case 4:return (d.label++,{value:c[1],done:!1});case 5:d.label++;k=c[1];c=[0];continue;case 7:c=d.kF.pop();d.pG.pop();continue;default:if(!(m=d.pG,m=0 < m.length && m[m.length - 1]) && (6 === c[0] || 2 === c[0])){d=0;continue;}if(3 === c[0] && (!m || c[1] > m[0] && c[1] < m[3]))d.label=c[1];else if(6 === c[0] && d.label < m[1])(d.label=m[1],m=c);else if(m && d.label < m[2])(d.label=m[2],d.kF.push(c));else {m[2] && d.kF.pop();d.pG.pop();continue;}}c=b.call(a,d);}catch(ta){c=[6,ta];k=0;}finally{h=m=0;}}if(c[0] & 5)throw c[1];return {value:c[0]?c[1]:void 0,done:!0};}d={label:0,Bi:function(){if(m[0] & 1)throw m[1];return m[1];},pG:[],kF:[]};g();g();p();return (q={next:c(0),"throw":c(1),"return":c(2)},"function" === typeof Symbol && (q[Symbol.iterator]=function(){return this;}),q);});Object.defineProperty(b,"__esModule",{value:!0});k=a(538);m=a(52);f=a(73);a(39);h=a(286);q=a(539);u=a(546);r=a(548);v=a(100);A=a(129);a(551);y=a(552);d=(function(){function a(a){a=a || ({});if("object" !== typeof a)throw Error("" + m.U6a);if(void 0 === a.bE)a.bE=f.fr.hY;else if(a.bE !== f.fr.Kba && a.bE !== f.fr.hY && a.bE !== f.fr.Request)throw Error("" + m.S6a);if(void 0 === a.eQ)a.eQ=!1;else if("boolean" !== typeof a.eQ)throw Error("" + m.R6a);if(void 0 === a.VF)a.VF=!1;else if("boolean" !== typeof a.VF)throw Error("" + m.T6a);this.options={eQ:a.eQ,bE:a.bE,VF:a.VF};this.id=v.id();this.GH=new y.z$a();this.aib=[];this.parent=this.Pda=null;this.Ofb=new h.V$();}a.i7b=function(b,c){var d,h;function f(a,b){a.gVb(function(a,c){c.forEach(function(a){b.add(a.Ff,a.clone());});});}d=new a();h=q.Uja(d);b=q.Uja(b);c=q.Uja(c);f(b,h);f(c,h);return d;};a.prototype.load=function(){var f,d;for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}for(var b=this.lGa(),c=0;c < a.length;c++){f=a[c];d=b(f.id);f.Mqa(d.gKa,d.B3a,d.ITa,d.DZa);}};a.prototype.yS=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return c(this,void 0,void 0,function(){var b,c,f,d,h;return l(this,function(k){switch(k.label){case 0:(b=this.lGa(),c=0,f=a,k.label=1);case 1:if(!(c < f.length))return [3,4];d=f[c];h=b(d.id);return [4,d.Mqa(h.gKa,h.B3a,h.ITa,h.DZa)];case 2:(k.Bi(),k.label=3);case 3:return (c++,[3,1]);case 4:return [2];}});});};a.prototype.bind=function(a){var b;b=new k.i6a(a,this.options.bE || f.fr.hY);this.GH.add(a,b);return new r.k6a(b);};a.prototype.HNb=function(a){this.A3a(a);return this.bind(a);};a.prototype.A3a=function(a){try{this.GH.remove(a);}catch(J){throw Error(m.C6a + " " + A.eK(a));}};a.prototype.iTa=function(a){var b;b=this.GH.dSa(a);!b && this.parent && (b=this.parent.iTa(a));return b;};a.prototype.restore=function(){var a;a=this.aib.pop();if(void 0 === a)throw Error(m.nab);this.GH=a.gQ;this.Pda=a.kHb;};a.prototype.gqb=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.jGa(!1,!1,f.Rv.jca,a);};a.prototype.getAll=function(a){return this.jGa(!0,!0,f.Rv.jca,a);};a.prototype.resolve=function(a){var b;b=this.gqb();b.bind(a).a3a();return b.get(a);};a.prototype.lGa=function(){var d;function a(a){return function(b){b=d.HNb.bind(d)(b);b.Xb.IHb=a;return b;};}function b(){return function(a){return d.iTa.bind(d)(a);};}function c(){return function(a){d.A3a.bind(d)(a);};}function f(a){return function(b){b=d.bind.bind(d)(b);b.Xb.IHb=a;return b;};}d=this;return function(d){return {gKa:f(d),ITa:b(),DZa:a(d),B3a:c()};};};a.prototype.jGa=function(a,b,c,f){var d;d=null;a={$kb:a,pob:function(a){return a;},vDb:b,key:void 0,Ff:f,bUb:c,value:void 0};if(this.Pda){if((d=this.Pda(a),void 0 === d || null === d))throw Error(m.e$a);}else d=this.ahb()(a);return d;};a.prototype.ahb=function(){var a;a=this;return function(b){var c;c=q.zL(a.Ofb,a,b.vDb,b.bUb,b.Ff,b.key,b.value,b.$kb);c=b.pob(c);return u.resolve(c);};};return a;})();b.XV=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(73);l=a(100);d=(function(){function a(a,b){this.id=l.id();this.Nea=!1;this.Ff=a;this.scope=b;this.type=c.Li.q$a;this.UD=function(){return !0;};this.BJ=this.Su=this.$u=this.NJ=this.cache=this.tl=null;}a.prototype.clone=function(){var b;b=new a(this.Ff,this.scope);b.Nea=!1;b.tl=this.tl;b.BJ=this.BJ;b.scope=this.scope;b.type=this.type;b.NJ=this.NJ;b.$u=this.$u;b.UD=this.UD;b.Su=this.Su;b.cache=this.cache;return b;};return a;})();b.i6a=d;},function(d,b,a){var f,h,q,u,r,v,g,y,B,I,J,D;function c(a,b,c,d,h){var k,q;k=m(c.mb,h.Ff);q=[];k.length === f.j8.IAa && c.mb.options.eQ && "function" === typeof h.Ff && a.WPa(h.Ff).ILa && (c.mb.bind(h.Ff).a3a(),k=m(c.mb,h.Ff));q=b?k:k.filter(function(a){var b;b=new J.Request(a.Ff,c,d,a,h);return a.UD(b);});l(h.Ff,q,h,c.mb);return q;}function l(a,b,c,d){switch(b.length){case f.j8.IAa:if(c.sTa())break;a=v.eK(a);b=h.mab;b+=v.MEb(a,c);b+=v.mUa(d,a,m);throw Error(b);case f.j8.Dab:if(!c.isArray())break;default:if(!c.isArray())throw (a=v.eK(a),b=h.j5a + " " + a,b+=v.mUa(d,a,m),Error(b));}}function k(a,b,f,d,m,l){var r;null === m?(b=c(a,b,d,null,l),r=new J.Request(f,d,null,b,l),f=new B.Abb(d,r),d.ojb(f)):(b=c(a,b,d,m,l),r=m.tIa(l.Ff,b,l));b.forEach(function(b){var c,f,m;c=null;if(l.isArray())c=r.tIa(b.Ff,b,l);else {if(b.cache)return;c=r;}if(b.type === q.Li.a$ && null !== b.tl){f=I.Pxb(a,b.tl);if(!d.mb.options.VF){m=I.hxb(a,b.tl);if(f.length < m)throw (b=h.k5a(I.getFunctionName(b.tl)),Error(b));}f.forEach(function(b){k(a,!1,b.Ff,d,c,b);});}});}function m(a,b){var c,f;c=[];f=a.GH;f.dSa(b)?c=f.get(b):null !== a.parent && (c=m(a.parent,b));return c;}Object.defineProperty(b,"__esModule",{value:!0});f=a(540);h=a(52);q=a(73);u=a(39);r=a(287);v=a(129);g=a(541);y=a(59);B=a(542);I=a(543);J=a(545);D=a(289);b.Uja=function(a){return a.GH;};b.zL=function(a,b,c,f,d,h,m,q){void 0 === q && (q=!1);b=new g.Yva(b);c=new y.Metadata(c?u.sC:u.PN,d);f=new D.eY(f,"",d,c);void 0 !== h && (h=new y.Metadata(h,m),f.Td.push(h));try{return (k(a,q,d,b,null,f),b);}catch(aa){throw (r.zTa(aa) && b.zL && v.nnb(b.zL.mra),aa);}};b.I4b=function(a,b,c,f){c=new D.eY(q.Rv.jca,"",b,new y.Metadata(c,f));a=new g.Yva(a);return new J.Request(b,a,null,[],c);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.j8={f0b:2,IAa:0,Dab:1};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(100);d=(function(){function a(a){this.id=c.id();this.mb=a;}a.prototype.ojb=function(a){this.zL=a;};return a;})();b.Yva=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Abb=(function(){return function(a,b){this.uL=a;this.mra=b;};})();},function(d,b,a){var f,h,q,u,r,v;function c(a,b,c,d){var k,r,y,B,I,n,p,t,sa,fa;k=a.WPa(c);r=k.ILa;if(void 0 === r)throw Error(h.M$a + " " + b + ".");for(var k=k.MWb,u=Object.keys(k),g=0 === c.length && 0 < u.length?u.length:c.length,u=[],A=0;A < g;A++){B=A;I=d;n=b;p=r;y=k[B.toString()] || [];t=m(y);sa=!0 !== t.Hi;p=p[B];fa=t.l || t.cF;p=fa?fa:p;p instanceof f.k$ && (p=p.JVb());if(sa){sa=p === Function;sa=p === Object || sa || void 0 === p;if(!I && sa)throw Error(h.N$a + " argument " + B + " in class " + n + ".");B=new v.eY(q.Rv.Xva,t.ZU,p);B.Td=y;y=B;}else y=null;null !== y && u.push(y);}a=l(a,c);return u.concat(a);}function l(a,b){var k,r,u;for(var c=a.Hzb(b),f=[],d=0,h=Object.keys(c);d < h.length;d++){k=h[d];r=c[k];u=m(c[k]);k=new v.eY(q.Rv.Pva,u.ZU || k,u.l || u.cF);k.Td=r;f.push(k);}b=Object.getPrototypeOf(b.prototype).constructor;b !== Object && (a=l(a,b),f=f.concat(a));return f;}function k(a,b){var f,d;b=Object.getPrototypeOf(b.prototype).constructor;if(b !== Object){f=r.getFunctionName(b);f=c(a,f,b,!0);d=f.map(function(a){return a.Td.filter(function(a){return a.key === u.tO;});});d=[].concat.apply([],d).length;f=f.length - d;return 0 < f?f:k(a,b);}return 0;}function m(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return {l:b[u.PN],cF:b[u.sC],ZU:b[u.lX],Hi:b[u.tO]};}Object.defineProperty(b,"__esModule",{value:!0});f=a(288);h=a(52);q=a(73);u=a(39);r=a(129);b.getFunctionName=r.getFunctionName;v=a(289);b.Pxb=function(a,b){var f;f=r.getFunctionName(b);return c(a,f,b,!1);};b.hxb=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){this.HB=a;}a.prototype.startsWith=function(a){return 0 === this.HB.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.HB.split("").reverse().join("");return this.startsWith.call({HB:a},b);};a.prototype.contains=function(a){return -1 !== this.HB.indexOf(a);};a.prototype.equals=function(a){return this.HB === a;};a.prototype.value=function(){return this.HB;};return a;})();b.Dbb=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(100);d=(function(){function a(a,b,f,d,q){this.id=c.id();this.Ff=a;this.uL=b;this.Zx=f;this.target=q;this.Dga=[];this.gQ=Array.isArray(d)?d:[d];this.fPb=null === f?new Map():null;}a.prototype.tIa=function(b,c,f){b=new a(b,this.uL,this,c,f);this.Dga.push(b);return b;};return a;})();b.Request=d;},function(d,b,a){var k,m,f,h,q;function c(a){return function(b){var f,d,r,u,g;f=b.gQ;d=b.Dga;r=b.target && b.target.isArray();u=!b.Zx || !b.Zx.target || !b.target || !b.Zx.target.lGb(b.target.Ff);if(r && u)return d.map(function(b){return c(a)(b);});r=null;if(!b.target.sTa() || 0 !== f.length){g=f[0];f=g.scope === m.fr.Kba;u=g.scope === m.fr.Request;if(f && g.Nea)return g.cache;if(u && null !== a && a.has(g.id))return a.get(g.id);if(g.type === m.Li.Vva)r=g.cache;else if(g.type === m.Li.Function)r=g.cache;else if(g.type === m.Li.Wva)r=g.tl;else if(g.type === m.Li.Qwa && null !== g.BJ)r=l("toDynamicValue",g.Ff,function(){return g.BJ(b.uL);});else if(g.type === m.Li.x9 && null !== g.NJ)r=l("toFactory",g.Ff,function(){return g.NJ(b.uL);});else if(g.type === m.Li.SCa && null !== g.$u)r=l("toProvider",g.Ff,function(){return g.$u(b.uL);});else if(g.type === m.Li.a$ && null !== g.tl)r=q.rPb(g.tl,d,c(a));else throw (d=h.eK(b.Ff),Error(k.a$a + " " + d));"function" === typeof g.Su && (r=g.Su(b.uL,r));f && (g.cache=r,g.Nea=!0);u && null !== a && !a.has(g.id) && a.set(g.id,r);return r;}};}function l(a,b,c){try{return c();}catch(A){if(f.zTa(A))throw Error(k.G6a(a,b.toString()));throw A;}}Object.defineProperty(b,"__esModule",{value:!0});k=a(52);m=a(73);f=a(287);h=a(129);q=a(547);b.resolve=function(a){return c(a.zL.mra.fPb)(a.zL.mra);};},function(d,b,a){var k,m,f;function c(a,b,c){var f;b=b.filter(function(a){return null !== a.target && a.target.type === m.Rv.Pva;});f=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=f[c];});return a;}function l(a,b){var c;if(Reflect.sBb(f.aO,a)){c=Reflect.getMetadata(f.aO,a);try{b[c.value]();}catch(r){throw Error(k.tbb(a.name,r.message));}}}Object.defineProperty(b,"__esModule",{value:!0});k=a(52);m=a(73);f=a(39);b.rPb=function(a,b,f){var d;d=null;0 < b.length?(d=b.filter(function(a){return null !== a.target && a.target.type === m.Rv.Xva;}).map(f),d=new (a.bind.apply(a,[void 0].concat(d)))(),d=c(d,b,f)):d=new a();l(a,d);return d;};},function(d,b,a){var c,l,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);l=a(73);k=a(549);m=a(290);d=(function(){function a(a){this.Xb=a;}a.prototype.to=function(a){this.Xb.type=l.Li.a$;this.Xb.tl=a;return new k.fva(this.Xb);};a.prototype.a3a=function(){if("function" !== typeof this.Xb.Ff)throw Error("" + c.g$a);this.to(this.Xb.Ff);};a.prototype.ci=function(a){this.Xb.type=l.Li.Vva;this.Xb.cache=a;this.Xb.BJ=null;this.Xb.tl=null;new m.dC(this.Xb);};a.prototype.NB=function(a){this.Xb.type=l.Li.Qwa;this.Xb.cache=null;this.Xb.BJ=a;this.Xb.tl=null;return new k.fva(this.Xb);};a.prototype.KUb=function(a){this.Xb.type=l.Li.Wva;this.Xb.tl=a;new m.dC(this.Xb);};a.prototype.hf=function(a){this.Xb.type=l.Li.x9;this.Xb.NJ=a;new m.dC(this.Xb);};a.prototype.LUb=function(a){if("function" !== typeof a)throw Error(c.d$a);this.ci(a);this.Xb.type=l.Li.Function;};a.prototype.Z2a=function(a){this.Xb.type=l.Li.x9;this.Xb.NJ=function(b){return function(){return b.mb.get(a);};};new m.dC(this.Xb);};a.prototype.bV=function(a){this.Xb.type=l.Li.SCa;this.Xb.$u=a;new m.dC(this.Xb);};a.prototype.MUb=function(a){this.NB(function(b){return b.mb.get(a);});};return a;})();b.k6a=d;},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(550);l=a(192);k=a(193);d=(function(){function a(a){this.Xb=a;this.EO=new k.k8(this.Xb);this.Eca=new l.PV(this.Xb);this.wFa=new c.j6a(a);}a.prototype.Z=function(){return this.wFa.Z();};a.prototype.Vla=function(){return this.wFa.Vla();};a.prototype.when=function(a){return this.EO.when(a);};a.prototype.BV=function(){return this.EO.BV();};a.prototype.Su=function(a){return this.Eca.Su(a);};return a;})();b.fva=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(73);l=a(290);d=(function(){function a(a){this.Xb=a;}a.prototype.Z=function(){this.Xb.scope=c.fr.Kba;return new l.dC(this.Xb);};a.prototype.Vla=function(){this.Xb.scope=c.fr.hY;return new l.dC(this.Xb);};return a;})();b.j6a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(){}a.of=function(b,d){var c;c=new a();c.gQ=b;c.kHb=d;return c;};return a;})();b.UYb=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);d=(function(){function a(){this.fk=new Map();}a.prototype.add=function(a,b){var f;if(null === a || void 0 === a)throw Error(c.WN);if(null === b || void 0 === b)throw Error(c.WN);f=this.fk.get(a);void 0 !== f?(f.push(b),this.fk.set(a,f)):this.fk.set(a,[b]);};a.prototype.get=function(a){if(null === a || void 0 === a)throw Error(c.WN);a=this.fk.get(a);if(void 0 !== a)return a;throw Error(c.Sya);};a.prototype.remove=function(a){if(null === a || void 0 === a)throw Error(c.WN);if(!this.fk["delete"](a))throw Error(c.Sya);};a.prototype.dSa=function(a){if(null === a || void 0 === a)throw Error(c.WN);return this.fk.has(a);};a.prototype.clone=function(){var b;b=new a();this.fk.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.gVb=function(a){this.fk.forEach(function(b,c){a(c,b);});};return a;})();b.z$a=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(100);b.Tc=(function(){return function(a){this.id=c.id();this.Mqa=a;};})();b.Vua=(function(){return function(a){this.id=c.id();this.Mqa=a;};})();},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);l=a(39);b.O=function(){return function(a){var b;if(Reflect.sla(l.jaa,a))throw Error(c.b8a);b=Reflect.getMetadata(l.y7a,a) || [];Reflect.Wha(l.jaa,b,a);return a;};};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(59);l=a(86);b.w2a=function(a,b){return function(f,d,k){var h;h=new c.Metadata(a,b);"number" === typeof k?l.cG(f,d,k,h):l.WU(f,d,h);};};},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);l=a(59);k=a(86);b.nWa=function(a){return function(b,d,m){var f;f=new l.Metadata(c.Vy,a);"number" === typeof m?k.cG(b,d,m,f):k.WU(b,d,f);};};},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);l=a(59);k=a(86);b.optional=function(){return function(a,b,d){var f;f=new l.Metadata(c.QAa,!0);"number" === typeof d?k.cG(a,b,d,f):k.WU(a,b,f);};};},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);l=a(59);k=a(86);b.Hi=function(){return function(a,b,d){var f;f=new l.Metadata(c.tO,!0);k.cG(a,b,d,f);};};},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);l=a(59);k=a(86);b.cF=function(a){return function(b,d,m){var f;f=new l.Metadata(c.sC,a);"number" === typeof m?k.cG(b,d,m,f):k.WU(b,d,f);};};},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);l=a(59);k=a(86);b.ZU=function(a){return function(b,d,m){var f;f=new l.Metadata(c.lX,a);k.cG(b,d,m,f);};};},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);l=a(39);k=a(59);b.KYa=function(){return function(a,b){b=new k.Metadata(l.aO,b);if(Reflect.sla(l.aO,a.constructor))throw Error(c.$$a);Reflect.Wha(l.aO,b,a.constructor);};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kWa=function(a){return function(b){return function(){for(var c=[],d=0;d < arguments.length;d++){c[d]=arguments[d];}return c.forEach(function(c){return a.bind(c).MUb(b);});};};};},function(d,b,a){var f,h,q,u,r,v,g,y,B,I,J,m,D,n;function c(a){this.Zwa=a.lA;}function l(a){this.Bj=a;}function k(){var a;a=r.Oaa.call(this) || this;a.YP=[v.kf.IN,v.kf.JN];a.wG=[v.T.AN,v.T.OG,v.T.vW,v.T.wW,v.T.uH,v.T.vH];a.P0=!0;a.rT=!0;a.Ce=g.Wb.Zcb;a.WA=q.Nb(31E3);return a;}function m(a){this.version="6.0029.052.051";this.hWa=!0;this.lE="F";this.lA=a.sDb?"NFCDFF-MC-":a.WDb?"NFCDFF-02-":"NFCDFF-LX-";this.B1=!0;this.aia="firefox-cadmium";this.Dsb="browser";this.EFb="";this.bia="cadmium";this.Njb=this.PWb=!0;this.vOb=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.Q8a=b.P8a=b.O8a=void 0;d=a(0);f=a(1);h=a(31);q=a(4);u=a(130);r=a(564);v=a(56);g=a(131);y=a(294);B=a(295);I=a(29);J=a(194);m=d.__decorate([f.O(),d.__param(0,f.l(B.RV))],m);b.O8a=m;L(k,r.Oaa);D=k;D=d.__decorate([f.O()],D);b.P8a=D;l.prototype.apply=function(){var a;a={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,doNotPerformLdlOnPlaybackStart:!0,enableGetHeadersAndMediaPrefetch:!0,enableLdlPrefetch:!0,enableUsingHeaderCount:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:I.Vl.w8,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0};this.Bj.lDb && 58 <= this.Bj.Ilb && (a=Object.assign(Object.assign({},a),{enableVP9:!0,preciseSeeking:!0}));return a;};n=l;n=d.__decorate([f.O(),d.__param(0,f.l(B.RV))],n);b.Q8a=n;c=d.__decorate([f.O(),d.__param(0,f.l(h.vj))],c);b.platform=new f.Tc(function(a){a(h.vj).to(m).Z();a(u.kH).to(D).Z();a(y.Paa).to(n).Z();a(h.It).to(c).Z();a(J.eO).hf(function(){return function(){return {};};});});},function(d,b,a){var c,l,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.Oaa=void 0;c=a(4);l=a(46);k=a(293);m=a(56);f={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Oaa=function(){this.Skb=this.cQ=k.cN.Rya;this.Qra=!0;this.YP=[];this.wG=[];this.rT=this.P0=!1;this.nv=[m.Tl.F8,m.Tl.ccb,m.Tl.bH];this.Ce=void 0;this.Lia=!0;this.T0=!1;this.i_=l.ba(288E4);this.k_=l.ba(335544320);this.WA=c.Nb(15E3);this.tGb=l.ba(6291456);this.NK=1E3;this.nga=!0;this.Zsa=f;this.HM=l.ba(0);this.g7=c.Nb(0);this.O2=!0;};},function(d,b,a){var m,f,h,q,u,r,v,g;function c(a,b,c){var f;f=this;this.is=a;this.Uk=b;this.config=c;this.ov=function(){return {version:f.version,drmData:f.J0.map(function(a){return a.ov();})};};this.Kja=function(a){var b;f.is.gn(a) && (a=l(a));1 === a.version && (a=k(f.is,a));b={version:2,data:[]};if(2 === a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new g.jW(a);});}catch(R){throw new u.Bc(h.L.SG,h.K.Jy,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",R);}}else {if(!a.version || !f.is.Sh(a.version))throw new u.Bc(h.L.SG,h.K.Jy,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== a.version)throw new u.Bc(h.L.SG,h.K.rva,void 0,void 0,void 0,"Version number is not supported. Version: " + a.version);}return b;};this.Wq=new r.X9(2,this.config.UQ,this.is.gn(this.config.UQ),this.Uk,this.ov);}function l(a){a=JSON.parse(a);a={xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!a.licenseContextId || !a.xid || !a.movieId)throw new u.Bc(h.L.SG,h.K.Jy);return {version:1,drmData:[a]};}function k(a,b){if(a.Cw(b.drmData))return {version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new g.jW({keySystemId:a.keySystemId,keySessionData:(b && 0 < b.length?b:[void 0]).map(function(b){return {id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),xid:a.xid,movieId:a.movieId}).ov();})};throw new u.Bc(h.L.SG,h.K.Jy);}Object.defineProperty(b,"__esModule",{value:!0});b.Cva=void 0;d=a(0);m=a(1);f=a(60);h=a(2);q=a(22);u=a(40);r=a(297);v=a(63);g=a(196);c.prototype.wZa=function(){return this.QSb();};c.prototype.vIa=function(a){return this.Wq.add(a);};c.prototype.Qqa=function(a){return this.Wq.remove(a,function(a,b){return a.ea === b.ea;});};c.prototype.toString=function(){return JSON.stringify(this.ov(),null,"  ");};c.prototype.QSb=function(){var a;a=this;this.AZa || (this.AZa=new Promise(function(b,c){a.Wq.load(a.Kja).then(function(){b();})["catch"](function(a){a.ka && a.cause?c(new u.Bc(h.L.SG,a.ka,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.AZa;};ma.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Wq.version;}},J0:{configurable:!0,enumerable:!0,get:function(){return this.Wq.fu;}}});a=c;a=d.__decorate([m.O(),d.__param(0,m.l(q.He)),d.__param(1,m.l(v.mt)),d.__param(2,m.l(f.Op))],a);b.Cva=a;},function(d,b,a){var c,l,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.hZa=void 0;c=a(2);l=a(74);k=a(112);m=a(195);b.hZa=function(a){m.EJ.parent=a.mb;return function(){f || (f=new Promise(function(a,b){try{a(m.EJ.get(k.b9));}catch(r){b(new l.Qe(c.L.H9a,c.K.c$a,void 0,"Unable to extract the DRM services from the dependency injector",r));}}));return f;};};},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.iAa=void 0;a.prototype.fSa=function(){return void 0 !== this.Am;};a.prototype.QF=function(a){this.Am=a;};a.prototype.EOb=function(){this.fSa() && (this.Am=void 0);};b.iAa=a;},function(d,b,a){var l,k,m,f,h,q,u,r;function c(a,b,c,f,d){this.gE=a;this.oc=b;this.$A=f;this.Ek=d;this.log=c.tb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Eva=void 0;d=a(0);l=a(1);k=a(112);m=a(41);f=a(6);h=a(113);q=a(75);u=a(132);r=a(569);c.prototype.Tka=function(a){var b;b=this;return Promise.all([this.gE(),this.Byb(),this.Ek.wu()]).then(function(c){var f,d;f=N(c);c=f.next().value;d=f.next().value;f=f.next().value;return c.Hwb({type:a,rK:d,context:{Ce:f.keySystem}},b.$A());}).then(function(a){var c;c=a.lna.data.map(function(a){return b.oc.encode(a);});b.log.trace("Challenge generated",c);return {Fb:a,wga:c && c[0]};});};c.prototype.Byb=function(){var a;a=this;return this.Ek.fs().then(function(a){switch(a){case u.Qm.oE:return r.Axa;case u.Qm.oB:return r.XBa;default:return r.dFa;}}).then(function(b){return b.map(a.oc.decode);});};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(k.yN)),d.__param(1,l.l(m.Ki)),d.__param(2,l.l(f.zb)),d.__param(3,l.l(h.vC)),d.__param(4,l.l(q.nr))],a);b.Eva=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.XBa=b.Axa=b.dFa=void 0;b.dFa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.Axa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0="];b.XBa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(d,b,a){var l,k,m,f,h,q;function c(a,b,c,f){this.$A=a;this.Mj=b;this.RE=c;this.ta=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Jwa=void 0;d=a(0);l=a(1);k=a(113);m=a(76);f=a(50);h=a(10);a=a(35);c.prototype.n6=function(a,b){var c;c=a.ia?{success:a.ia,persisted:!0}:a instanceof Error?{success:!1,persisted:!0,message:a.message,name:a.name,stack:a.stack}:{success:a.ia,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.vd,ErrorExternalCode:a.Ug,ErrorEdgeCode:a.CJ,ErrorDetails:a.cause && a.cause.Ab};c.browserua=h.Vm;a=this.RE.Qr("securestop",a.ia?"info":"error",c,{u:b.movieId,ea:b.xid,Mk:this.ta.Ae,N3:!1});this.Mj.kd(a);};q=c;q=d.__decorate([l.O(),d.__param(0,l.l(k.vC)),d.__param(1,l.l(f.Sm)),d.__param(2,l.l(m.At)),d.__param(3,l.l(a.fh))],q);b.Jwa=q;},function(d,b,a){var c,l,k,m,f,h,q,u,r,v,g;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;d=a(1);c=a(14);l=a(572);k=a(32);m=a(36);f=a(573);h=a(299);q=a(575);u=a(153);r=a(576);v=a(60);g=a(577);b.config=new d.Tc(function(a){a(c.Sc).hf(function(){return function(){return ka._cad_global.config;};});a(k.WV).to(l.Uva).Z();a(k.ck).to(l.TEa).Z();a(k.UG).to(l.Kya).Z();a(m.Rl).to(f.Jxa).Z();a(h.caa).to(q.GAa).Z();a(u.z9).to(r.Exa).Z();a(v.Op).to(g.exa).Z();});},function(d,b,a){var m,f,h,q,u;function c(){this.Zw={};this.N_a=0;}function l(a,b,c,f,d){this.debug=a;this.vx=b;this.jT=c;this.Af=f;this.D5=d;}function k(a,b,c){this.vx=a;this.jT=b;this.D5=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Kya=b.TEa=b.Uva=void 0;d=a(0);m=a(1);f=a(87);h=a(6);q=a(133);u=a(298);a=a(32);k=d.__decorate([m.O(),d.__param(0,m.l(a.UG)),d.__param(1,m.l(q.cY)),d.__param(2,m.l(u.LX))],k);b.Uva=k;l=d.__decorate([m.O(),d.__param(0,m.l(f.st)),d.__param(1,m.l(a.UG)),d.__param(2,m.l(q.cY)),d.__param(3,m.l(h.zb)),d.__param(4,m.l(u.LX))],l);b.TEa=l;c.prototype.YGb=function(a){this.Zw=Object.assign({},this.Zw,a);this.N_a++;};ma.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Zw;}},Z5:{configurable:!0,enumerable:!0,get:function(){return this.N_a;}}});a=c;a=d.__decorate([m.O()],a);b.Kya=a;},function(d,b,a){var l,k,m,f,h,q,u,r;function c(a,b,c){a=f.Se.call(this,a,void 0 === c?"GeneralConfigImpl":c) || this;a.sn=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Jxa=b.KJ=void 0;d=a(0);l=a(4);k=a(1);m=a(43);f=a(44);h=a(36);q=a(32);a=a(130);u={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.KJ=function(a,b){return a.xZa(u[b] || b,h.Dv);};L(c,f.Se);ma.Object.defineProperties(c.prototype,{KJ:{configurable:!0,enumerable:!0,get:function(){return h.Dv.Cbb;}},Csa:{configurable:!0,enumerable:!0,get:function(){return l.$g(8);}},DA:{configurable:!0,enumerable:!0,get:function(){return "";}},ZI:{configurable:!0,enumerable:!0,get:function(){return "";}},rG:{configurable:!0,enumerable:!0,get:function(){return "";}},A2a:{configurable:!0,enumerable:!0,get:function(){return !1;}},h_:{configurable:!0,enumerable:!0,get:function(){return !0;}},O2:{configurable:!0,enumerable:!0,get:function(){return this.sn.O2;}},Nub:{configurable:!0,enumerable:!0,get:function(){return !1;}},Bj:{configurable:!0,enumerable:!0,get:function(){return {};}},M_a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Jma:{configurable:!0,enumerable:!0,get:function(){return !1;}},H7:{configurable:!0,enumerable:!0,get:function(){return !1;}},ft:{configurable:!0,enumerable:!0,get:function(){return !1;}},aR:{configurable:!0,enumerable:!0,get:function(){return !0;}},GB:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},lu:{configurable:!0,enumerable:!0,get:function(){return 0 <= [h.Dv.sEa,h.Dv.Nya].indexOf(this.KJ);}}});r=c;d.__decorate([m.config(b.KJ,"environment")],r.prototype,"KJ",null);d.__decorate([m.config(m.Zh,"storageTimeout")],r.prototype,"Csa",null);d.__decorate([m.config(m.string,"groupName")],r.prototype,"DA",null);d.__decorate([m.config(m.string,"canaryGroupName",!0)],r.prototype,"ZI",null);d.__decorate([m.config(m.string,"uiGroupName")],r.prototype,"rG",null);d.__decorate([m.config(m.Mc,"testIndexDBForCorruptedDatabase")],r.prototype,"A2a",null);d.__decorate([m.config(m.Mc,"applyIndexedDbOpenWorkaround")],r.prototype,"h_",null);d.__decorate([m.config(m.Mc,"ignoreIdbOpenError")],r.prototype,"O2",null);d.__decorate([m.config(m.Mc,"executeStorageMigration")],r.prototype,"Nub",null);d.__decorate([m.config(m.object(),"browserInfo")],r.prototype,"Bj",null);d.__decorate([m.config(m.Mc,"retryAllMslRequestsOnError")],r.prototype,"M_a",null);d.__decorate([m.config(m.Mc,"isTestAccount")],r.prototype,"Jma",null);d.__decorate([m.config(m.Mc,"vuiCommandLogging")],r.prototype,"H7",null);d.__decorate([m.config(m.Mc,"useRangeHeader")],r.prototype,"ft",null);d.__decorate([m.config(m.Mc,"enableMilestoneEventList")],r.prototype,"aR",null);d.__decorate([m.config(m.object,"storageRules")],r.prototype,"GB",null);r=d.__decorate([k.O(),d.__param(0,k.l(q.ck)),d.__param(1,k.l(a.kH)),d.__param(2,k.l(q.fC)),d.__param(2,k.optional())],r);b.Jxa=r;},function(d,b){function a(a){this.value=a;}Object.defineProperty(b,"__esModule",{value:!0});b.iaa=void 0;a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.Yx=function(a){return void 0 === this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0 === this.value?a.empty():a.of(b(this.value));};b.iaa=a;},function(d,b,a){var l,k,m,f;function c(a,b){return m.Se.call(this,a,void 0 === b?"NetworkMonitorConfigImpl":b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GAa=void 0;d=a(0);l=a(1);k=a(43);m=a(44);a=a(32);L(c,m.Se);ma.Object.defineProperties(c.prototype,{k4a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;d.__decorate([k.config(k.Mc,"useNetworkMonitor")],f.prototype,"k4a",null);f=d.__decorate([l.O(),d.__param(0,l.l(a.ck)),d.__param(1,l.l(a.fC)),d.__param(1,l.optional())],f);b.GAa=f;},function(d,b,a){var l,k,m,f,h,q,u;function c(a,b,c,d){a=f.Se.call(this,a,void 0 === d?"FtlProbeConfigImpl":d) || this;a.Of=b;a.ta=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Exa=void 0;d=a(0);l=a(35);k=a(1);m=a(4);f=a(44);h=a(114);q=a(43);a=a(32);L(c,f.Se);ma.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Lja + (-1 === this.Lja.indexOf("?")?"?":"&") + "monotonic=" + this.ta.dWa + "&device=web";}},K1a:{configurable:!0,enumerable:!0,get:function(){return m.lb;}},Cja:{configurable:!0,enumerable:!0,get:function(){return "";}},Lja:{configurable:!0,enumerable:!0,get:function(){return this.Of.endpoint + "/ftl/probe" + (this.Cja?"?force=" + this.Cja:"");}}});u=c;d.__decorate([q.config(q.Mc,"ftlEnabled")],u.prototype,"enabled",null);d.__decorate([q.config(q.Zh,"ftlStartDelay")],u.prototype,"K1a",null);d.__decorate([q.config(q.string,"ftlEndpointForceParam")],u.prototype,"Cja",null);d.__decorate([q.config(q.url,"ftlEndpoint")],u.prototype,"Lja",null);u=d.__decorate([k.O(),d.__param(0,k.l(a.ck)),d.__param(1,k.l(h.WB)),d.__param(2,k.l(l.fh)),d.__param(3,k.l(a.fC)),d.__param(3,k.optional())],u);b.Exa=u;},function(d,b,a){var l,k,m,f;function c(a,b){return f.i8.call(this,a,void 0 === b?"FirefoxEmeConfig":b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.exa=void 0;d=a(0);l=a(1);k=a(32);m=a(43);f=a(578);L(c,f.i8);ma.Object.defineProperties(c.prototype,{W2:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;d.__decorate([m.config(m.Mc,"initializeKeySystemAtStartup")],a.prototype,"W2",null);a=d.__decorate([l.O(),d.__param(0,l.l(k.ck)),d.__param(1,l.l(k.fC)),d.__param(1,l.optional())],a);b.exa=a;},function(d,b,a){var l,k,m,f,h;function c(a,b){return k.Se.call(this,a,void 0 === b?"EmeConfigImpl":b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.i8=void 0;d=a(0);l=a(1);k=a(44);m=a(32);f=a(4);a=a(43);L(c,k.Se);ma.Object.defineProperties(c.prototype,{W2:{configurable:!0,enumerable:!0,get:function(){return !1;}},Gl:{configurable:!0,enumerable:!0,get:function(){return !1;}},i0a:{configurable:!0,enumerable:!0,get:function(){return !1;}},RA:{configurable:!0,enumerable:!0,get:function(){return f.$g(5);}},Epa:{configurable:!0,enumerable:!0,get:function(){return f.$g(10);}},Ula:{configurable:!0,enumerable:!0,get:function(){return f.Nb(2E3);}},Bra:{configurable:!0,enumerable:!0,get:function(){return f.Nb(1E3);}},fLb:{configurable:!0,enumerable:!0,get:function(){return f.Nb(2500);}},UQ:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},nR:{configurable:!0,enumerable:!0,get:function(){return !1;}},Js:{configurable:!0,enumerable:!0,get:function(){return !0;}},dJa:{configurable:!0,enumerable:!0,get:function(){return f.$g(30);}},eJa:{configurable:!0,enumerable:!0,get:function(){return f.$g(30);}},hJa:{configurable:!0,enumerable:!0,get:function(){return f.$g(30);}},fJa:{configurable:!0,enumerable:!0,get:function(){return f.$g(30);}},iJa:{configurable:!0,enumerable:!0,get:function(){return f.$g(30);}},Rra:{configurable:!0,enumerable:!0,get:function(){return "";}},AXa:{configurable:!0,enumerable:!0,get:function(){return !1;}},BXa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;d.__decorate([a.config(a.Mc,"initializeKeySystemAtStartup")],h.prototype,"W2",null);d.__decorate([a.config(a.Mc,"secureStopEnabled")],h.prototype,"Gl",null);d.__decorate([a.config(a.Mc,"secureStopRequiresReload")],h.prototype,"i0a",null);d.__decorate([a.config(a.Zh,"licenseRenewalRequestDelay")],h.prototype,"RA",null);d.__decorate([a.config(a.Zh,"persistedReleaseDelay")],h.prototype,"Epa",null);d.__decorate([a.config(a.Zh,"secureStopKeyMessageTimeoutMilliseconds")],h.prototype,"Ula",null);d.__decorate([a.config(a.Zh,"secureStopKeyAddedTimeoutMilliseconds")],h.prototype,"Bra",null);d.__decorate([a.config(a.Zh,"secureStopPersistedKeyMessageTimeoutMilliseconds")],h.prototype,"fLb",null);d.__decorate([a.config(a.string,"drmPersistKey")],h.prototype,"UQ",null);d.__decorate([a.config(a.Mc,"forceLimitedDurationLicense")],h.prototype,"nR",null);d.__decorate([a.config(a.Mc,"prepareCadmium")],h.prototype,"Js",null);d.__decorate([a.config(a.Zh,"apiCloseTimeout")],h.prototype,"dJa",null);d.__decorate([a.config(a.Zh,"apiCreateMediaKeysTimeout")],h.prototype,"eJa",null);d.__decorate([a.config(a.Zh,"apiSetServerCertificateTimeout")],h.prototype,"hJa",null);d.__decorate([a.config(a.Zh,"apiGenerateRequestTimeout")],h.prototype,"fJa",null);d.__decorate([a.config(a.Zh,"apiUpdateTimeout")],h.prototype,"iJa",null);d.__decorate([a.config(a.string,"serverCertificate")],h.prototype,"Rra",null);d.__decorate([a.config(a.Mc,"outputRestrictedIsFatal")],h.prototype,"AXa",null);d.__decorate([a.config(a.Mc,"outputRestrictedIsFatalForUhd")],h.prototype,"BXa",null);h=d.__decorate([l.O(),d.__param(0,l.l(m.ck)),d.__param(1,l.l(m.fC)),d.__param(1,l.optional())],h);b.i8=h;},function(d,b,a){var c,l,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.UNa=void 0;d=a(1);c=a(112);l=a(580);k=a(75);m=a(643);f=a(318);h=a(652);b.UNa=new d.Tc(function(a){a(c.b9).to(l.Kwa).Z();a(k.nr).to(m.hAa).Z();a(f.n9).to(h.gxa);});},function(d,b,a){var l,k,m,f,h,q,u,r,v,g,y,B,I,J,n,p;function c(a,b,c,f,d,h,m,q,l,r,v){var g;g=this;this.Ea=b;this.$u=c;this.config=f;this.uq=d;this.WNa=h;this.XI=m;this.Ek=q;this.$A=l;this.Al=r;this.Eq=v;this.ATb=function(a,b){var c;g.Al.mark(n.Aa.tW,a.Cg.ea,"generate-challenge");c=b.xS();c && (c.XU(1).subscribe(function(c){g.iUa.next({ju:b.fs(),data:c.aj});g.Al.mark(n.Aa.sW,a.Cg.ea,"generate-challenge");}),c.map(function(c){return g.rka(a,b,c);}).YE().G0(function(a){return b.zIa(a);}).subscribe(void 0,function(a){b.jjb(a);},function(){g.Vlb(b);}));};this.k2a=function(a){a.fU.map(function(b){return g.hRa(a,b);}).YE().subscribe(function(b){return a.GIa(b.response);},function(b){return a.GIa(b);});};this.log=a.tb("DrmServices");this.iUa=new k.mo();this.uq().Ip && this.XI.wZa().then(function(){g.$Sb();})["catch"](function(a){g.log.error("Unable to load the persisted DRM data",a);});this.config.W2 && this.Ek.wu().then(function(a){return g.rMa(a,{Ce:a.keySystem},u.ih.$j,l()).qu(function(a){return a.close();}).subscribe();});}Object.defineProperty(b,"__esModule",{value:!0});b.Kwa=void 0;d=a(0);l=a(1);k=a(134);m=a(6);f=a(42);h=a(317);q=a(65);u=a(61);r=a(60);v=a(197);g=a(196);y=a(318);B=a(14);I=a(75);J=a(113);n=a(77);a=a(198);c.prototype.qB=function(a,b){var c;c=this;return new Promise(function(f,d){c.pi(a,b).subscribe(f,d);});};c.prototype.Hwb=function(a,b){var c;c=this;return new Promise(function(f,d){c.C1(a,b).subscribe(f,d);});};c.prototype.pi=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.IQa(a,a.type));return this.YD(a.context,a.type,b).qu(function(b){c.bWa(a,b);return c.RLa(b.C1(a.rK),b);});};c.prototype.bWa=function(a,b){b.mRb(a.Cg);this.ATb(a,b);};c.prototype.cTb=function(a,b){var c,f;c=this;this.config.Gl?(this.log.info("Releasing server license and EME license",this.Vka(a)),this.k2a(a),f=a.DPa(!1)):(this.log.info("Releasing server license",this.Vka(a)),f=this.hRa(a));return this.RLa(f,a).G0(function(){var f;f=Object.assign({Ce:a.context.Ce,qc:[]},a.Cg);c.XI.Qqa(f);b.EOb();});};c.prototype.xS=function(){return this.iUa.ufa();};c.prototype.IQa=function(a,b){return {movieId:a.Cg.u,xid:a.Cg.ea,type:u.mna(b)};};c.prototype.Vka=function(a){return {movieId:a.Cg?a.Cg.u:void 0,xid:a.Cg?a.Cg.ea:void 0,keySessionId:a.lx()};};c.prototype.RLa=function(a,b){return k.Eb.concat(a,k.Eb.of(b)).oi();};c.prototype.rka=function(a,b,c){this.log.info("Sending license request",this.IQa(a,c.gj));return k.Eb.su(this.$u.pi({ea:a.Cg.ea,ti:a.Cg.ti,I0:[a.Cg.nl],aj:[{sessionId:b.lx() || "session",data:c.aj}],gj:c.gj,ju:b.fs(),XKa:c.XKa,MS:a.Cg.MS,hj:a.Cg.hj}));};c.prototype.hRa=function(a,b){this.log.info("Sending release request",this.Vka(a));return b?k.Eb.su(this.$u.release({ea:(a.Cg || a.qOb).ea,qc:a.qc,aj:b.aj})):k.Eb.su(this.$u.release({ea:a.Cg.ea,qc:a.qc}));};c.prototype.C1=function(a,b){return this.YD(a.context,a.type,b).qu(function(b){return k.Eb.race(b.C1(a.rK).map(function(){return b;}),b.xS().map(function(){return b;}));});};c.prototype.YD=function(a,b,c){var f;f=this;return k.Eb.su(this.Ek.wu()).qu(function(d){return f.rMa(d,a,b,c);});};c.prototype.rMa=function(a,b,c,f){return k.Eb.su(this.WNa.create()).qu(function(d){return d.nn(b,a,f,c);});};c.prototype.ZSb=function(a){var b;b=this;return this.config.Gl?k.Eb.su(this.dFb(a)):k.Eb.su(this.$u.release({ea:a.ea,qc:a.qc}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return k.Eb.empty();}).map(function(){return a;});};c.prototype.dFb=function(a){var b;b=this;return this.Ek.wu().then(function(c){return b.WNa.create().then(function(f){return f.nn({Ce:c.keySystem},c,b.$A(),u.ih.$j).qu(function(){return f.rUa(a);}).qu(function(){b.k2a(f);return f.DPa(!0);}).$s().then(function(){return f.oJa().$s();}).then(function(){return b.Eq.n6({ia:!0},a);})["catch"](function(c){return b.Eq.n6(c,a);}).then(function(){return a;});});});};c.prototype.$Sb=function(){var a;a=this;this.Ea.zi(this.config.Epa,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.XI.J0.length});b=a.XI.J0.filter(function(a){return !a.active;}).map(function(b){return a.ZSb(b);});k.Eb.concat.apply(k.Eb,[].concat(X(b))).subscribe(function(b){a.XI.Qqa(b);});});};c.prototype.Vlb=function(a){var b;if(a.lx() && a.Cg){b=new g.jW();b.Ce=a.context.Ce;b.qc=a.qc;b.ea=a.Cg.ea;b.u=a.Cg.u;this.XI.vIa(b);}};p=c;p=d.__decorate([l.O(),d.__param(0,l.l(m.zb)),d.__param(1,l.l(f.ph)),d.__param(2,l.l(h.a9)),d.__param(3,l.l(r.Op)),d.__param(4,l.l(B.Sc)),d.__param(5,l.l(y.n9)),d.__param(6,l.l(v.TV)),d.__param(7,l.l(I.nr)),d.__param(8,l.l(J.vC)),d.__param(9,l.l(q.$G)),d.__param(10,l.l(a.kW))],p);b.Kwa=p;},function(d,b,a){var c,l,k;c=a(64);l=a(200);k=a(199);b.NUb=function(a,b,d){if(a){if(a instanceof c.no)return a;if(a[l.KF])return a[l.KF]();}return a || b || d?new c.no(a,b,d):new c.no(k.empty);};},function(d,b,a){var l,k;function c(){try{return k.apply(this,arguments);}catch(m){return (l.kA.e=m,l.kA);}}l=a(302);b.u3a=function(a){k=a;return c;};},function(d,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(b){function c(a){b.call(this);this.mu=a;a=Error.call(this,a?a.length + " errors occurred during unsubscription:\n  " + a.map(function(a,b){return b + 1 + ") " + a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.iY=d;},function(d,b,a){var l;function c(a){return a?1 === a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:l.oIb;}l=a(585);b.iLb=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}return c(a);};b.jLb=c;},function(d,b){b.oIb=function(){};},function(d,b,a){var c,l,k,m,f,h,q;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(303);l=a(587);k=a(115);m=a(308);f=a(304);h=a(305);a=(function(a){function b(b,c,f){void 0 === b && (b=Number.POSITIVE_INFINITY);void 0 === c && (c=Number.POSITIVE_INFINITY);a.call(this);this.Ea=f;this.bg=[];this.Fdb=1 > b?1:b;this.Fib=1 > c?1:c;}c(b,a);b.prototype.next=function(b){var c;c=this.pGa();this.bg.push(new q(c,b));this.fIa();a.prototype.next.call(this,b);};b.prototype.dn=function(a){var b,c,d;b=this.fIa();c=this.Ea;if(this.closed)throw new f.gH();this.RR?d=k.$y.EMPTY:this.Wg?d=k.$y.EMPTY:(this.Ux.push(a),d=new h.hEa(this,a));c && a.add(a=new m.UAa(a,c));for(var c=b.length,q=0;q < c && !a.closed;q++){a.next(b[q].value);}this.RR?a.error(this.Xsa):this.Wg && a.complete();return d;};b.prototype.pGa=function(){return (this.Ea || l.Cl).now();};b.prototype.fIa=function(){for(var a=this.pGa(),b=this.Fdb,c=this.Fib,f=this.bg,d=f.length,h=0;h < d && !(a - f[h].time < c);){h++;}d > b && (h=Math.max(h,d - b));0 < h && f.splice(0,h);return f;};return b;})(d.mo);b.Nbb=a;q=(function(){return function(a,b){this.time=a;this.value=b;};})();},function(d,b,a){d=a(588);a=a(590);b.Cl=new a.Gbb(d.Ebb);},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b,c){a.call(this,b,c);this.Ea=b;this.Yta=c;}c(b,a);b.prototype.bd=function(b,c){void 0 === c && (c=0);if(0 < c)return a.prototype.bd.call(this,b,c);this.lm=c;this.state=b;this.Ea.flush(this);return this;};b.prototype.Oe=function(b,c){return 0 < c || this.closed?a.prototype.Oe.call(this,b,c):this.$Fa(b);};b.prototype.Xqa=function(b,c,d){void 0 === d && (d=0);return null !== d && 0 < d || null === d && 0 < this.lm?a.prototype.Xqa.call(this,b,c,d):b.flush(this);};return b;})(a(306).Tua);b.Ebb=d;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(){a.call(this);}c(b,a);b.prototype.bd=function(){return this;};return b;})(a(115).$y);b.G5a=d;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(){a.apply(this,arguments);}c(b,a);return b;})(a(307).Wua);b.Gbb=d;},function(d,b){d=(function(){function a(b,d){void 0 === d && (d=a.now);this.rcb=b;this.now=d;}a.prototype.bd=function(a,b,d){void 0 === b && (b=0);return new this.rcb(this,a).bd(d,b);};a.now=Date.now?Date.now:function(){return +new Date();};return a;})();b.qcb=d;},function(d,b,a){a(24);d=(function(){function a(a,b,c){this.kind=a;this.value=b;this.error=c;this.oK="N" === a;}a.prototype.observe=function(a){switch(this.kind){case "N":return a.next && a.next(this.value);case "E":return a.error && a.error(this.error);case "C":return a.complete && a.complete();}};a.prototype.G0=function(a,b,c){switch(this.kind){case "N":return a && a(this.value);case "E":return b && b(this.error);case "C":return c && c();}};a.prototype.accept=function(a,b,c){return a && "function" === typeof a.next?this.observe(a):this.G0(a,b,c);};a.Oqb=function(b){return "undefined" !== typeof b?new a("N",b):a.DVb;};a.uqb=function(b){return new a("E",void 0,b);};a.jqb=function(){return a.Snb;};a.Snb=new a("C");a.DVb=new a("N",void 0);return a;})();b.Notification=d;},function(d,b,a){d=a(24);a=a(594);d.Eb.prototype["catch"]=a.Mca;d.Eb.prototype.Mca=a.Mca;},function(d,b,a){var c;c=a(595);b.Mca=function(a){return c.Emb(a)(this);};},function(d,b,a){var c,l,k,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(155);l=a(156);b.Emb=function(a){return function(b){var c;c=new k(a);b=b.ws(c);return c.rga=b;};};k=(function(){function a(a){this.Jra=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.Jra,this.rga));};return a;})();m=(function(a){function b(b,c,f){a.call(this,b);this.Jra=c;this.rga=f;}c(b,a);b.prototype.error=function(b){var c;if(!this.Wg){c=void 0;try{c=this.Jra(b,this.rga);}catch(r){a.prototype.error.call(this,r);return;}this.vib();this.add(l.S6(this,c));}};return b;})(d.xX);},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b,c,d){a.call(this);this.parent=b;this.lKb=c;this.kKb=d;this.index=0;}c(b,a);b.prototype.am=function(a){this.parent.M4(this.lKb,a,this.kKb,this.index++,this);};b.prototype.nf=function(a){this.parent.wIb(a);this.unsubscribe();};b.prototype.je=function(){this.parent.Ru(this);this.unsubscribe();};return b;})(a(64).no);b.Lya=d;},function(d,b,a){d=a(24);a=a(598);d.Eb.prototype.G0=a.bda;d.Eb.prototype.bda=a.bda;},function(d,b,a){var c;c=a(599);b.bda=function(a,b,d){return c.aUb(a,b,d)(this);};},function(d,b,a){var c,l,k,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});l=a(64);b.aUb=function(a,b,c){return function(f){return f.ws(new k(a,b,c));};};k=(function(){function a(a,b,c){this.gIb=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.gIb,this.error,this.complete));};return a;})();m=(function(a){function b(b,c,f,d){a.call(this,b);b=new l.no(c,f,d);b.Zn=!0;this.add(b);this.nra=b;}c(b,a);b.prototype.am=function(a){var b;b=this.nra;b.next(a);b.aG?this.destination.error(b.bG):this.destination.next(a);};b.prototype.nf=function(a){var b;b=this.nra;b.error(a);b.aG?this.destination.error(b.bG):this.destination.error(a);};b.prototype.je=function(){var a;a=this.nra;a.complete();a.aG?this.destination.error(a.bG):this.destination.complete();};return b;})(l.no);},function(d,b,a){d=a(24);a=a(601);d.Eb.prototype.oi=a.oi;},function(d,b,a){var c;c=a(602);b.oi=function(a,b,d){return c.oi(a,b,d)(this);};},function(d,b,a){var c,l,k,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(64);l=a(603);b.oi=function(a,b,c){return function(f){return f.ws(new k(a,b,c,f));};};k=(function(){function a(a,b,c,f){this.pB=a;this.gv=b;this.defaultValue=c;this.source=f;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.pB,this.gv,this.defaultValue,this.source));};return a;})();m=(function(a){function b(b,c,f,d,h){a.call(this,b);this.pB=c;this.gv=f;this.defaultValue=d;this.source=h;this.oK=!1;this.index=0;"undefined" !== typeof d && (this.F3=d,this.oK=!0);}c(b,a);b.prototype.am=function(a){var b;b=this.index++;this.pB?this.sib(a,b):this.gv?this.hIa(a,b):(this.F3=a,this.oK=!0);};b.prototype.sib=function(a,b){var c;try{c=this.pB(a,b,this.source);}catch(v){this.destination.error(v);return;}c && (this.gv?this.hIa(a,b):(this.F3=a,this.oK=!0));};b.prototype.hIa=function(a,b){var c;try{c=this.gv(a,b);}catch(v){this.destination.error(v);return;}this.F3=c;this.oK=!0;};b.prototype.je=function(){var a;a=this.destination;this.oK?(a.next(this.F3),a.complete()):a.error(new l.D8a());};return b;})(d.no);},function(d,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.D8a=d;},function(d,b,a){d=a(24);a=a(605);d.Eb.prototype.map=a.map;},function(d,b,a){var c;c=a(606);b.map=function(a,b){return c.map(a,b)(this);};},function(d,b,a){var c,l,k;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(64);b.map=function(a,b){return function(c){if("function" !== typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.ws(new l(a,b));};};l=(function(){function a(a,b){this.xF=a;this.Tsa=b;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.xF,this.Tsa));};return a;})();b.c0b=l;k=(function(a){function b(b,c,f){a.call(this,b);this.xF=c;this.count=0;this.Tsa=f || this;}c(b,a);b.prototype.am=function(a){var b;try{b=this.xF.call(this.Tsa,a,this.count++);}catch(u){this.destination.error(u);return;}this.destination.next(b);};return b;})(d.no);},function(d,b,a){d=a(24);a=a(608);d.Eb.prototype.YE=a.YE;},function(d,b,a){var c;c=a(311);b.YE=function(a){void 0 === a && (a=Number.POSITIVE_INFINITY);return c.YE(a)(this);};},function(d,b){b.YBb=function(a){return a;};},function(d,b,a){d=a(24);a=a(611);d.Eb.prototype.XK=a.XK;d.Eb.prototype.qu=a.XK;},function(d,b,a){var c;c=a(312);b.XK=function(a,b,d){void 0 === d && (d=Number.POSITIVE_INFINITY);return c.XK(a,b,d)(this);};},function(d,b,a){d=a(24);a=a(613);d.Eb.prototype.EU=a.EU;},function(d,b,a){var c;c=a(614);b.EU=function(a){return c.EU(a)(this);};},function(d,b,a){var c,l,k;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(64);b.EU=function(a){return function(b){return b.ws(new l(a));};};l=(function(){function a(a){this.pB=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.pB));};return a;})();k=(function(a){function b(b,c){a.call(this,b);this.pB=c;this.tsa=!0;this.index=0;}c(b,a);b.prototype.am=function(a){var b;b=this.destination;this.tsa && this.qVb(a);this.tsa || b.next(a);};b.prototype.qVb=function(a){try{this.tsa=! !this.pB(a,this.index++);}catch(q){this.destination.error(q);}};return b;})(d.no);},function(d,b,a){d=a(24);a=a(616);d.Eb.prototype.XU=a.XU;},function(d,b,a){var c;c=a(617);b.XU=function(a){return c.XU(a)(this);};},function(d,b,a){var c,l,k,m,f;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(64);l=a(618);k=a(157);b.XU=function(a){return function(b){return 0 === a?new k.oW():b.ws(new m(a));};};m=(function(){function a(a){this.total=a;if(0 > this.total)throw new l.I5a();}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.total));};return a;})();f=(function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0;}c(b,a);b.prototype.am=function(a){var b,c;b=this.total;c=++this.count;c <= b && (this.destination.next(a),c === b && (this.destination.complete(),this.unsubscribe()));};return b;})(d.no);},function(d,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.I5a=d;},function(d,b,a){d=a(24);a=a(620);d.Eb.prototype.YU=a.YU;},function(d,b,a){var c;c=a(621);b.YU=function(a){return c.YU(a)(this);};},function(d,b,a){var c,l,k,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(155);l=a(156);b.YU=function(a){return function(b){return b.ws(new k(a));};};k=(function(){function a(a){this.bb=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.bb));};return a;})();m=(function(a){function b(b,c){a.call(this,b);this.bb=c;this.add(l.S6(this,c));}c(b,a);b.prototype.M4=function(){this.complete();};b.prototype.Ru=function(){};return b;})(d.xX);},function(){},function(d,b,a){d=a(24);a=a(624);d.Eb.concat=a.concat;},function(d,b,a){var c,l,k,m;c=a(203);l=a(313);k=a(315);m=a(628);b.concat=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}return 1 === a.length || 2 === a.length && c.p3(a[1])?k.from(a[0]):m.$nb()(l.of.apply(void 0,a));};},function(d,b,a){var c,l,k,m,f,h,q,u,r,v,g,y;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});l=a(154);k=a(309);m=a(310);f=a(316);h=a(626);q=a(204);u=a(627);r=a(202);v=a(24);g=a(308);y=a(201);d=(function(a){function b(b,c){a.call(this,null);this.XDb=b;this.Ea=c;}c(b,a);b.create=function(a,c){if(null != a){if("function" === typeof a[y.observable])return a instanceof v.Eb && !c?a:new b(a,c);if(l.isArray(a))return new q.T7(a,c);if(m.kS(a))return new f.QCa(a,c);if("function" === typeof a[r.iterator] || "string" === typeof a)return new h.r$a(a,c);if(k.gTa(a))return new u.N5a(a,c);}throw new TypeError((null !== a && typeof a || a) + " is not observable");};b.prototype.dn=function(a){var b,c;b=this.XDb;c=this.Ea;return null == c?b[y.observable]().subscribe(a):b[y.observable]().subscribe(new g.UAa(a,c,0));};return b;})(v.Eb);b.T8a=d;},function(d,b,a){var c,l,k,m,f,h;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});l=a(88);d=a(24);k=a(202);a=(function(a){function b(b,c){a.call(this);this.Ea=c;if(null == b)throw Error("iterator cannot be null.");if((c=b[k.iterator]) || "string" !== typeof b){if(c || void 0 === b.length){if(!c)throw new TypeError("object is not iterable");b=b[k.iterator]();}else b=new f(b);}else b=new m(b);this.iterator=b;}c(b,a);b.create=function(a,c){return new b(a,c);};b.Hc=function(a){var b,c,f,d;b=a.index;c=a.iterator;f=a.Uj;if(a.RR)f.error(a.error);else {d=c.next();d.done?f.complete():(f.next(d.value),a.index=b + 1,f.closed?"function" === typeof c["return"] && c["return"]():this.bd(a));}};b.prototype.dn=function(a){var c,f;c=this.iterator;f=this.Ea;if(f)return f.bd(b.Hc,0,{index:0,iterator:c,Uj:a});do {f=c.next();if(f.done){a.complete();break;}else a.next(f.value);if(a.closed){"function" === typeof c["return"] && c["return"]();break;}}while(1);};return b;})(d.Eb);b.r$a=a;m=(function(){function a(a,b,c){void 0 === b && (b=0);void 0 === c && (c=a.length);this.HB=a;this.$R=b;this.kna=c;}a.prototype[k.iterator]=function(){return this;};a.prototype.next=function(){return this.$R < this.kna?{done:!1,value:this.HB.charAt(this.$R++)}:{done:!0,value:void 0};};return a;})();f=(function(){function a(a,b,c){var f;void 0 === b && (b=0);if(void 0 === c)if((c=+a.length,isNaN(c)))c=0;else if(0 !== c && "number" === typeof c && l.root.isFinite(c)){f=+c;c=(0 === f || isNaN(f)?f:0 > f?-1:1) * Math.floor(Math.abs(c));c=0 >= c?0:c > h?h:c;}this.ckb=a;this.$R=b;this.kna=c;}a.prototype[k.iterator]=function(){return this;};a.prototype.next=function(){return this.$R < this.kna?{done:!1,value:this.ckb[this.$R++]}:{done:!0,value:void 0};};return a;})();h=Math.pow(2,53) - 1;},function(d,b,a){var c,l,k;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(24);l=a(314);k=a(157);a=(function(a){function b(b,c){a.call(this);this.tfa=b;(this.Ea=c) || 1 !== b.length || (this.ew=!0,this.value=b[0]);}c(b,a);b.create=function(a,c){var f;f=a.length;return 0 === f?new k.oW():1 === f?new l.xDa(a[0],c):new b(a,c);};b.Hc=function(a){var b,c,f;b=a.tfa;c=a.index;f=a.Uj;f.closed || (c >= a.length?f.complete():(f.next(b[c]),a.index=c + 1,this.bd(a)));};b.prototype.dn=function(a){var c,f,d;c=this.tfa;f=this.Ea;d=c.length;if(f)return f.bd(b.Hc,0,{tfa:c,index:0,length:d,Uj:a});for(f=0;f < d && !a.closed;f++){a.next(c[f]);}a.complete();};return b;})(d.Eb);b.N5a=a;},function(d,b,a){var c;c=a(311);b.$nb=function(){return c.YE(1);};},function(d,b,a){d=a(24);a=a(630);d.Eb.empty=a.empty;},function(d,b,a){d=a(157);b.empty=d.oW.create;},function(d,b,a){d=a(24);a=a(632);d.Eb.su=a.su;},function(d,b,a){d=a(316);b.su=d.QCa.create;},function(d,b,a){d=a(24);a=a(634);d.Eb.race=a.race;},function(d,b,a){var c,l,k,m,f,h;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});l=a(154);k=a(204);d=a(155);m=a(156);b.race=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}if(1 === a.length)if(l.isArray(a[0]))a=a[0];else return a[0];return new k.T7(a).ws(new f());};f=(function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new h(a));};return a;})();b.R1b=f;h=(function(a){function b(b){a.call(this,b);this.rla=!1;this.bpa=[];this.MU=[];}c(b,a);b.prototype.am=function(a){this.bpa.push(a);};b.prototype.je=function(){var a,b,f;a=this.bpa;b=a.length;if(0 === b)this.destination.complete();else {for(var c=0;c < b && !this.rla;c++){f=a[c];f=m.S6(this,f,f,c);this.MU && this.MU.push(f);this.add(f);}this.bpa=null;}};b.prototype.M4=function(a,b,c){var f;if(!this.rla){this.rla=!0;for(a=0;a < this.MU.length;a++){if(a !== c){f=this.MU[a];f.unsubscribe();this.remove(f);}}this.MU=null;}this.destination.next(b);};return b;})(d.xX);b.S1b=h;},function(d,b,a){d=a(24);a=a(313);d.Eb.of=a.of;},function(d,b,a){d=a(24);a=a(637);d.Eb.wy=a.wy;},function(d,b,a){d=a(638);b.wy=d.Hcb.create;},function(d,b,a){var c,l,k,m,f;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});l=a(639);d=a(24);k=a(640);m=a(203);f=a(641);a=(function(a){function b(b,c,d){void 0 === b && (b=0);a.call(this);this.g5=-1;this.NNa=0;l.zDb(c)?this.g5=1 > Number(c) && 1 || Number(c):m.p3(c) && (d=c);m.p3(d) || (d=k.async);this.Ea=d;this.NNa=f.eDb(b)?+b - this.Ea.now():b;}c(b,a);b.create=function(a,c,f){void 0 === a && (a=0);return new b(a,c,f);};b.Hc=function(a){var b,c,f;b=a.index;c=a.g5;f=a.Uj;f.next(b);if(!f.closed){if(-1 === c)return f.complete();a.index=b + 1;this.bd(a,c);}};b.prototype.dn=function(a){return this.Ea.bd(b.Hc,this.NNa,{index:0,g5:this.g5,Uj:a});};return b;})(d.Eb);b.Hcb=a;},function(d,b,a){var c;c=a(154);b.zDb=function(a){return !c.isArray(a) && 0 <= a - parseFloat(a) + 1;};},function(d,b,a){d=a(306);a=a(307);b.async=new a.Wua(d.Tua);},function(d,b){b.eDb=function(a){return a instanceof Date && !isNaN(+a);};},function(d,b,a){d=a(24);a=a(315);d.Eb.from=a.from;},function(d,b,a){var l,k,m,f,h,q,u,r,g,A,y,B,I,J,n,p,R,U,V,E,Z;function c(a,b,c,f,d,h,k,m,l,r){this.Dq=a;this.Wd=b;this.dh=c;this.ji=f;this.oc=d;this.is=h;this.aT=k;this.config=m;this.bj=l;this.Gh=r;this.log=this.Dq.tb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.hAa=void 0;d=a(0);l=a(1);k=a(2);m=a(6);f=a(74);h=a(132);q=a(644);u=a(645);r=a(646);g=a(206);A=a(27);y=a(102);B=a(41);I=a(22);J=a(33);n=a(647);p=a(649);R=a(104);U=a(14);V=a(131);E=a(60);a=a(66);c.prototype.wu=function(){this.Pq || (this.Pq=this.LPb());return this.Pq;};c.prototype.Cqb=function(a){var b;b=this;return new Promise(function(c,d){var h,m;h=V.Wb.eka(a);m=b.mQa(h);h=b.iQa(h);m.bPb(a,h.Nka()).then(function(f){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:f.getConfiguration?JSON.stringify(f.getConfiguration()):void 0});c(f);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});d(new f.Qe(k.L.Swa,k.K.ei,void 0,"Unable to create media keys system access. " + c.message,c));});});};c.prototype.fs=function(){var a;a=this;return this.wu().then(function(b){return a.jQa(b);});};c.prototype.byb=function(){var a,b;a=this;b=this.config().UTa || [this.config().Ce];if(1 < b.length)return this.wu().then(function(b){return a.jQa(b);}).then(function(a){return V.Wb.hQa(a);});b=V.Wb.eka(b[0]);return Promise.resolve(V.Wb.hQa(b));};c.prototype.cyb=function(){var a;a=this;return this.fs().then(function(b){return a.iQa(b);});};c.prototype.fyb=function(){var a;a=this;return this.fs().then(function(b){return a.mQa(b);});};c.prototype.jQa=function(a){return V.Wb.eka(a.keySystem);};c.prototype.iQa=function(a){switch(a){case h.Qm.oB:return new q.cxa(this.ji,this.oc);case h.Qm.oE:return new p.wDa(this.ji,this.oc,this.dh,this.bj,this.Gh);default:return new r.Nva(this.ji,this.bj,this.config);}};c.prototype.mQa=function(a){switch(a){case h.Qm.oB:return new u.DCa(this.aT,this.is,this.oc,this.Wd,this.bj,this.dh);case h.Qm.oE:return new n.zxa(this.aT,this.is,this.oc,this.Wd,this.bj,this.dh);default:return new g.Lt(this.aT,this.is,this.oc,this.Wd,this.bj,this.dh);}};c.prototype.LPb=function(){var a,b;a=this;b=(this.config().UTa || [this.config().Ce]).map(function(b){return function(){return a.Cqb(b);};});return this.MPb(b);};c.prototype.MPb=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};Z=c;Z=d.__decorate([l.O(),d.__param(0,l.l(m.zb)),d.__param(1,l.l(A.rg)),d.__param(2,l.l(R.cz)),d.__param(3,l.l(y.Iy)),d.__param(4,l.l(B.Ki)),d.__param(5,l.l(I.He)),d.__param(6,l.l(J.zC)),d.__param(7,l.l(U.Sc)),d.__param(8,l.l(E.Op)),d.__param(9,l.l(a.pr))],Z);b.hAa=Z;},function(d,b,a){var l,k,m,f,h,q,u,r,g,A;function c(a,b){this.ji=a;this.oc=b;}Object.defineProperty(b,"__esModule",{value:!0});b.cxa=void 0;d=a(0);l=a(1);k=a(2);m=a(102);f=a(41);h=a(205);q=a(74);u=a(61);r=a(62);g=a(40);A=a(103);c.prototype.S_=function(){return !0;};c.prototype.Hfa=function(){return !1;};c.prototype.oga=function(){return !1;};c.prototype.f2=function(a){return a === u.ih.$j?"persistent-usage-record":"temporary";};c.prototype.Zja=function(){return A.oaa;};c.prototype.Nka=function(){return [{initDataTypes:["cenc"],audioCapabilities:[{contentType:h.rC}],videoCapabilities:[{contentType:h.Bt}],sessionTypes:["temporary","persistent-usage-record"]}];};c.prototype.oma=function(){return Promise.reject(new g.Bc(k.L.i9));};c.prototype.kha=function(a){var b;b=new Uint8Array(a.message);b=this.cja(b,"PlayReadyKeyMessage","Challenge");b=this.oc.decode(b);return {type:a.type,sessionId:a.target.sessionId,ZE:[b],qoa:a.messageType};};c.prototype.Or=function(a){var b,c,f;b=new q.Qe(k.L.zX);c=a.code;null != c && void 0 !== c?(c=parseInt(c,10),b.vd=1 <= c && 9 >= c?k.K.KG + c:k.K.KG):b.vd=a instanceof r.oo?k.K.zN:k.K.ei;try{f=(/\((\d+)\)/).exec(a.message);b.Ug=this.ji.pR(Number(f && f[1]),4);}catch(D){}b.QQ(a);return b;};c.prototype.cja=function(a,b){var c,f,d,h;for(var c=1;c < arguments.length;++c){;}for(c=1;c < arguments.length;c++){;}c="";d=a.length;for(f=0;f < d;f++){h=a[f];0 < h && (c+=String.fromCharCode(h));}d="\\s*(.*)\\s*";for(f=arguments.length - 1;0 < f;f--){h=arguments[f];if(0 > c.search(h))return "";h="(?:[^:].*:|)" + h;d="[\\s\\S]*<" + h + "[^>]*>" + d + "</" + h + ">[\\s\\S]*";}return (c=c.match(new RegExp(d)))?c[1]:"";};c.prototype.ZJ=function(){};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(m.Iy)),d.__param(1,l.l(f.Ki))],a);b.cxa=a;},function(d,b,a){var l,k,m,f;function c(a){return k.Lt.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.DCa=void 0;d=a(0);l=a(1);k=a(206);m=a(74);f=a(2);L(c,k.Lt);c.prototype.d0=function(a,b,c,f,d){this.c_a(c);this.$Za(f);this.XZa(d);this.yfb=this.Ya;this.Ya=a.createSession(b);this.CIa(c);this.yIa(f);this.wIa(d);return this.TJ(this.ima,this.rK);};c.prototype.close=function(){var b;function a(a){return a && a.sessionId?a.close().then(function(){return a=void 0;}):Promise.resolve();}b=this;this.Oga=void 0;return this.Ya?a(this.Ya).then(function(){a(b.yfb);}):Promise.reject(new m.Qe(f.L.Rwa,f.K.JG,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.TJ=function(a,b){this.ima=a;this.rK=b;return k.Lt.prototype.TJ.call(this,a,b);};a=c;a=d.__decorate([l.O()],a);b.DCa=a;},function(d,b,a){var l,k,m,f,h,q,u,r,g,A;function c(a,b,c){this.ji=a;this.bj=b;this.config=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Nva=void 0;d=a(0);l=a(1);k=a(2);m=a(102);f=a(205);h=a(74);q=a(62);u=a(60);r=a(14);g=a(40);A=a(103);c.prototype.S_=function(){return !0;};c.prototype.Hfa=function(){return !0;};c.prototype.oga=function(){return !0;};c.prototype.f2=function(){return "temporary";};c.prototype.Zja=function(){return this.bj.Rra?this.bj.Rra:A.bFa;};c.prototype.Nka=function(){var a,b;a=[{contentType:f.Bt,robustness:A.SW},{contentType:f.Bt,robustness:A.vDa},{contentType:f.Bt,robustness:A.Fba}];b=[{contentType:f.Bt,robustness:A.Fba}];return [{initDataTypes:["cenc"],persistentState:"required",videoCapabilities:this.config().lPa?b:a}];};c.prototype.oma=function(){return Promise.reject(new g.Bc(k.L.i9));};c.prototype.kha=function(a){return {type:a.type,sessionId:a.target.sessionId,ZE:[new Uint8Array(a.message)],qoa:a.messageType};};c.prototype.Or=function(a){var b,c,f;b=new h.Qe(k.L.zX);c=a.code;null != c && void 0 !== c?(c=parseInt(c,10),b.vd=1 <= c && 9 >= c?k.K.KG + c:k.K.KG):b.vd=a instanceof q.oo?k.K.zN:k.K.ei;try{f=a.message.match(/\((\d*)\)/)[1];b.Ug=this.ji.pR(f,4);}catch(D){}b.QQ(a);return b;};c.prototype.ZJ=function(){};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(m.Iy)),d.__param(1,l.l(u.Op)),d.__param(2,l.l(r.Sc))],a);b.Nva=a;},function(d,b,a){var l,k,m,f,h,q,u,r,g,A,y;function c(a,b,c,f,d,h){a=k.Lt.call(this,a,b,c,f,d,h) || this;a.oc=c;a.Ed=f;a.bj=d;a.dh=h;a.uSa=new m.yxa(a.oc,a.Ed,a.dh);return a;}Object.defineProperty(b,"__esModule",{value:!0});b.zxa=void 0;d=a(0);l=a(1);k=a(206);m=a(648);f=a(33);h=a(22);q=a(41);u=a(27);r=a(60);g=a(104);A=a(319);y=a(320);L(c,k.Lt);c.prototype.TJ=function(a,b){var c,f,d;c=this;try{f=b.map(function(a){return c.uSa.Kyb(a);});this.OSa=f.map(function(a){return c.oc.encode(a);});d=this.uSa.job(f,this.bj.Gl);return k.Lt.prototype.TJ.call(this,a,[d]);}catch(R){return Promise.reject(R);}};c.prototype.update=function(a,b,c){var f,d,h,m,l;f=this;if(c)try{d=this.dh.encode(a[0]);h=JSON.parse(d).RESPONSES.map(function(a){var d;d=y.WX.g2a(a.ID);return {keyID:b === A.bz.bDa?f.OSa[f.OSa.length - 1]:c[d],payload:a.PAYLOAD};});if(b === A.bz.Request){m=h.map(function(a){return a.keyID;});c.forEach(function(a){m.includes(a) || h.push({keyID:a,error:1});});}l=JSON.stringify(h);a=[this.dh.decode(l)];}catch(E){return Promise.reject(E);}return k.Lt.prototype.update.call(this,a,b);};c.prototype.TT=function(){return k.Lt.prototype.update.call(this,[this.dh.decode("renew")],A.bz.Request);};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(f.zC)),d.__param(1,l.l(h.He)),d.__param(2,l.l(q.Ki)),d.__param(3,l.l(u.rg)),d.__param(4,l.l(r.Op)),d.__param(5,l.l(g.cz))],a);b.zxa=a;},function(d,b){function a(a,b,d){var c;c=this;this.oc=a;this.Ed=b;this.dh=d;this.Kyb=function(a){var b;a=a.subarray(14,30);a=c.oc.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.R8a={D6a:1667591779,NYb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.yxa=void 0;a.prototype.job=function(a,b){var c;c=this.R8a.D6a;b=b?1:0;a=a.map(function(a){return {A6b:"",lEb:a,yfa:a,ISb:a,bXb:[1]};});return this.PFb(c,b,a);};a.prototype.OFb=function(a,b){var c;c=new Uint8Array(4);new DataView(c.buffer).setUint32(0,a);return this.Jna("fpsi",b,[c]);};a.prototype.NFb=function(a,b,d,m){a=[this.Jna("fkri",0,[a])];b.byteLength && a.push(this.ES("fkai",[b]));d.byteLength && a.push(this.ES("fkcx",[d]));m.length && a.push(this.ES("fkvl",[new Uint8Array(new Uint32Array(m).buffer)]));return this.ES("fpsk",a);};a.prototype.PFb=function(a,b,d){var c;c=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);a=[this.OFb(a,b)];for(var f in d){b=d[f];a.push(this.NFb(b.lEb,b.yfa,b.ISb,b.bXb));}d=this.ES("fpsd",a);f=new Uint8Array(4);new DataView(f.buffer).setUint32(0,d.byteLength);return this.Jna("pssh",0,[c,f,d]);};a.prototype.Jna=function(a,b,d){var c,f,h;c=0;for(f in d){c+=d[f].byteLength;}c=new Uint8Array(12 + c);h=new DataView(c.buffer);f=0;h.setUint32(f,c.byteLength);f+=4;c.set(this.dh.decode(a),f);f+=4;h.setUint32(f,0 | 4095 & b);f+=4;for(var k in d){a=d[k];c.set(a,f);f+=a.byteLength;}return c;};a.prototype.ES=function(a,b){var c,d;c=0;for(d in b){c+=b[d].byteLength;}c=new Uint8Array(8 + c);d=0;new DataView(c.buffer).setUint32(d,c.byteLength);d+=4;c.set(this.dh.decode(a),d);d+=4;for(var f in b){a=b[f];c.set(a,d);d+=a.byteLength;}return c;};b.yxa=a;},function(d,b,a){var l,k,m,f,h,q,u,r,g,A,y,B,I;function c(a,b,c,f,d){this.ji=a;this.oc=b;this.dh=c;this.bj=f;this.Gh=d;}Object.defineProperty(b,"__esModule",{value:!0});b.wDa=void 0;d=a(0);l=a(1);k=a(2);m=a(102);f=a(104);h=a(74);q=a(62);u=a(60);r=a(41);g=a(103);A=a(321);y=a(40);B=a(66);I=a(320);c.prototype.S_=function(){return !1;};c.prototype.Hfa=function(){return !1;};c.prototype.oga=function(){return !0;};c.prototype.f2=function(){return this.bj.Gl?"persistent-usage-record":"temporary";};c.prototype.Zja=function(){return g.v9;};c.prototype.Nka=function(){return [{initDataTypes:["cenc"],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary","persistent-usage-record"]}];};c.prototype.oma=function(a){return a.TT();};c.prototype.kha=function(a){var b,c;c=[];if(a.messageType === A.B$ || a.messageType === A.A$){a.messageType === A.B$?(b=this.dh.encode(new Uint8Array(a.message)),c=JSON.parse(b),b=c.map(function(a){return a.keyID;}),c=c.map(function(a){return a.payload;})):c=[this.oc.encode(new Uint8Array(a.message))];if(0 === c.length || !c.every(function(a){return a && a.length;}))throw new y.Bc(k.L.Wwa);c=this.IUb(c);c=this.dh.decode(JSON.stringify(c));}else c=new Uint8Array(a.message);return {type:a.type,sessionId:a.target.sessionId,ZE:[c],qoa:a.messageType,ME:b};};c.prototype.Or=function(a){var b,c,f,d;c=null === (b=a.target) || void 0 === b?void 0:b.error;c && (f=c.systemCode,d=c.code);b=new h.Qe(k.L.zX,a instanceof q.oo?k.K.zN:k.K.KG,f?this.ji.pR(f,4):d,"",c);b.QQ(a);return b;};c.prototype.IUb=function(a){a=a.map(function(a,b){return {ID:I.WX.tCb(b),PAYLOAD:a};});return {VERSION:this.Gh.R_?3:1,CHALLENGES:a};};c.prototype.ZJ=function(a,b){var c,f;c=this;if(b && this.Gh.R_)try{f=this.dh.encode(b[0]);return JSON.parse(f).RESPONSES.sort(function(a,b){return a.ID > b.ID?1:-1;}).map(function(b){var f;f=I.WX.g2a(b.ID);b=c.oc.decode(b.DHB).subarray(4,12);f=c.oc.decode(a[f]).subarray(0,8);return {from:b,to:f};});}catch(U){throw new h.Qe(k.L.fbb,void 0,void 0,void 0,U);}};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(m.Iy)),d.__param(1,l.l(r.Ki)),d.__param(2,l.l(f.cz)),d.__param(3,l.l(u.Op)),d.__param(4,l.l(B.pr))],a);b.wDa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ut=void 0;d=b.ut || (b.ut={});d.e4a="usable";d.EOa="expired";d.tOb="released";d.zXa="output-restricted";d.nKb="output-downscaled";d.XSb="status-pending";d.MCb="internal-error";},function(d,b,a){var k,m;function c(a,b,c,d,k){this.za=a;this.config=b;this.Ea=c;this.Vx=d;this.name=k;}function l(a,b,c,d){var f;f=this;this.za=a;this.Ea=b;this.timeout=c;this.CUb=d;this.jBb=function(){f.mk=!0;f.LE.cancel();f.CUb();};this.startTime=this.za.Bb();this.LE=this.Ea.zi(this.timeout,function(){f.jBb();});this.mk=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.fxa=void 0;k=a(2);m=a(74);l.prototype.stop=function(){this.mk || (this.K6=this.za.Bb(),this.LE.cancel());};ma.Object.defineProperties(l.prototype,{N0:{configurable:!0,enumerable:!0,get:function(){if(this.K6 && this.startTime)return this.K6.Fa(this.startTime);}}});c.prototype.Hmb=function(){var a;a=this;this.aJ=new l(this.za,this.Ea,this.config.Ula,function(){a.Vx(new m.Qe(k.L.nDa,k.K.z8a,void 0,"Eme " + a.name + " event expired with an expiry of " + a.config.Ula));});};c.prototype.Gmb=function(){this.aJ && this.aJ.stop();};c.prototype.JQb=function(){this.r6=this.za.Bb();};c.prototype.Imb=function(){var a;a=this;this.s7=new l(this.za,this.Ea,this.config.Bra,function(){a.Vx(new m.Qe(k.L.nDa,k.K.y8a,void 0,"Eme " + a.name + " event expired with an expiry of " + a.config.Bra));});};c.prototype.SKa=function(){this.s7 && this.s7.stop();};ma.Object.defineProperties(c.prototype,{Md:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.aJ){b=this.aJ.N0;b && (a.aHb=b);this.r6 && this.aJ.K6 && (a.r6=this.r6.Fa(this.aJ.K6));}this.s7 && (b=this.s7.N0) && (a.Tnb=b);return a;}}});b.fxa=c;},function(d,b,a){var l,k,m,f,h,q,u,r,g;function c(a,b,c,f,d,h,k){this.Dq=a;this.za=b;this.oc=c;this.config=f;this.Ea=d;this.Gm=h;this.Ek=k;}Object.defineProperty(b,"__esModule",{value:!0});b.gxa=void 0;d=a(0);l=a(1);k=a(6);m=a(18);f=a(41);h=a(60);q=a(42);u=a(62);r=a(321);a=a(75);c.prototype.create=function(){var a;a=this;return Promise.all([this.Ek.fyb(),this.Ek.cyb(),this.Ek.fs()]).then(function(b){var c,f;c=N(b);b=c.next().value;f=c.next().value;c=c.next().value;return new r.hxa(a.Dq,a.za,a.oc,a.config,b,f,c,a.Ea,a.Gm);});};g=c;g=d.__decorate([l.O(),d.__param(0,l.l(k.zb)),d.__param(1,l.l(m.Fd)),d.__param(2,l.l(f.Ki)),d.__param(3,l.l(h.Op)),d.__param(4,l.l(q.ph)),d.__param(5,l.l(u.Xy)),d.__param(6,l.l(a.nr))],g);b.gxa=g;},function(d,b,a){var c,l,k,m,f,h,q,u,r,g,A,y,B,I,J,n,p,R,U,V,E,Z,t,ha,aa,sa,fa,wa,Q,ca,O,xa;Object.defineProperty(b,"__esModule",{value:!0});b.oUa=void 0;c=a(654);l=a(679);k=a(690);m=a(693);f=a(699);h=a(702);q=a(706);u=a(718);r=a(729);g=a(733);A=a(735);y=a(1033);B=a(1035);I=a(1039);J=a(1051);n=a(1058);p=a(1065);R=a(1068);U=a(1074);V=a(195);E=a(1082);Z=a(1084);t=a(1091);ha=a(1108);aa=a(1114);sa=a(1116);fa=a(1123);wa=a(1150);Q=a(1172);ca=a(1176);O=a(1180);xa=a(1192);b.oUa=function(a){a.load(c.Uw,h.MB,l.AUa,q.mm,k.aWa,m.Ja,f.D4a,u.storage,r.eu,g.KKa,A.WUa,y.eB,B.li,I.zUa,J.rWa,n.APa,p.iZa,R.sF,U.PNa,V.eme,E.crypto,Z.Wd,t.kc,ha.Ga,aa.gWa,sa.fYa,fa.j,wa.ELa,Q.r3a,ca.Dk,O.Cf,xa.FJa);};},function(d,b,a){var c,l,k,m,f,h,q,u,r,g,A,y,B,I,J,n,p,R,U,V,E,Z,t,ha,aa,sa,fa,wa,Q,ca,O,xa,Na,Ha,ja,Ca,F,Ta,Ua,La,Ka,L,N,P,ia,S,W,X,ea,ga,da,la,ma,oa,pa,ua,va,ya,za,Aa,Ba,Da,Fa,Ga;Object.defineProperty(b,"__esModule",{value:!0});b.Uw=void 0;d=a(1);c=a(33);l=a(35);k=a(42);m=a(89);f=a(135);h=a(655);q=a(656);u=a(657);r=a(658);g=a(104);A=a(102);y=a(41);B=a(27);I=a(22);J=a(90);n=a(62);p=a(324);R=a(659);U=a(325);V=a(660);E=a(661);Z=a(662);t=a(191);ha=a(326);aa=a(663);sa=a(327);fa=a(105);wa=a(664);Q=a(18);ca=a(328);O=a(665);xa=a(666);Na=a(87);Ha=a(667);ja=a(6);Ca=a(323);F=a(668);Ta=a(65);Ua=a(669);La=a(329);Ka=a(670);L=a(671);N=a(106);P=a(10);ia=a(672);S=a(331);W=a(332);X=a(673);ea=a(333);ga=a(14);da=a(31);la=a(116);ma=a(334);oa=a(295);pa=a(674);ua=a(335);va=a(336);ya=a(158);za=a(675);Aa=a(337);Ba=a(676);Da=a(207);Fa=a(677);Ga=a(678);b.Uw=new d.Tc(function(a){a(c.lH).NB(function(){return {};}).Z();a(c.Py).ci(JSON);a(c.nca).ci(ka);a(f.Sba).ci(Math);a(c.o$).ci(P.rX);a(c.GX).ci(P.Et);a(c.hca).ci(P.Vm);a(c.L8).ci(Date);a(c.zC).ci(P.Re);a(c.oAa).ci(P.dH);a(Ca.x8).to(F.Qva).Z();a(Q.Fd).to(wa.uua).Z();a(l.fh).to(r.Rva).Z();a(k.ph).to(h.yDa).Z();a(m.Gv).to(q.Eya).Z();a(n.Xy).to(Z.RCa).Z();a(f.jO).to(u.YCa).Z();a(ma.fX).to(Ga.eAa).Z();a(Na.st).to(xa.pwa).Z();a(Na.N8).to(Ha.owa).Z();a(g.cz).to(R.PEa).Z();a(A.Iy).to(U.h8).Z();a(y.Ki).to(V.eva).Z();a(B.rg).to(E.QEa).Z();a(I.He).ci(t.oC);a(ua.LG).to(va.sxa).Z();a(J.s9).to(ha.tj).Vla();a(J.wN).to(ha.tj).Z();a(J.T8).to(ha.tj).Z();a(J.uW).to(ha.tj).Z();a(sa.Rba).to(fa.Zy).Z();a(ca.C8).to(O.dwa).Z();a(Ta.az).to(Ua.Yba).Z();a(Ta.$G).to(Ua.Yba).Z();a("Factory<LoggerFactory>").Z2a(ja.zb);a(La.gW).to(Ka.rwa).Z();a(N.OC).hf(function(a){return function(b){return new L.uEa(a.mb.get(Q.Fd),a.mb.get(k.ph),b);};});a(Aa.M8).hf(function(a){return function(b){return new Ba.nwa(a.mb.get(k.ph),b);};});a(ia.JX).KUb(S.rba);a(ia.MCa).hf(function(a){var b;b=a.mb.get(ia.JX);return function(){return new b(!1);};});a(ia.NCa).hf(function(a){var b;b=a.mb.get(ia.JX);return function(){return new b(!0);};});a(W.gca).hf(function(){return function(a){return new X.OEa(a);};});a(la.EC).hf(function(a){return function(b,c,f){return new ea.nCa(a.mb.get(Na.st),a.mb.get(ga.Sc),a.mb.get(da.vj),a.mb.get(ma.fX),b,c,f);};});a(p.gaa).hf(function(){return function(a){return new aa.VAa(a);};});a(oa.RV).to(pa.ova);a(ya.sH).hf(function(a){return function(b,c){return new za.CEa(a.mb.get(k.ph),b,c);};});a(Da.p9).to(Fa.lxa).Z();});},function(d,b,a){var k,m,f,h;function c(a){this.JM=a;m.En(this,"timers");}function l(a,b){this.JM=a;this.Bmb=b;}Object.defineProperty(b,"__esModule",{value:!0});b.yDa=void 0;d=a(0);k=a(1);m=a(53);f=a(33);h=a(4);l.prototype.cancel=function(){this.Bmb(this.JM);};c.prototype.bd=function(a){return this.zi(h.lb,a);};c.prototype.zi=function(a,b){var c;c=this.JM.setTimeout(b,a.ca(h.ga));return new l(this.JM,function(a){a.clearTimeout(c);});};c.prototype.vra=function(a,b){var c;c=this.JM.setInterval(b,a.ca(h.ga));return new l(this.JM,function(a){a.clearInterval(c);});};a=c;a=d.__decorate([k.O(),d.__param(0,k.l(f.nca))],a);b.yDa=a;},function(d,b,a){var l,k,m,f,h;function c(a,b){this.ta=a;this.random=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Eya=void 0;d=a(0);k=a(1);m=a(4);f=a(35);a=a(135);c.prototype.Yz=function(){return this.ta.Ae.ca(m.Wm) * l.xva + Math.floor(this.random.random() * l.xva);};h=l=c;h.xva=1E8;h=l=d.__decorate([k.O(),d.__param(0,k.l(f.fh)),d.__param(1,k.l(a.jO))],h);b.Eya=h;},function(d,b,a){var l,k;function c(a){this.YTb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.YCa=void 0;d=a(0);l=a(1);a=a(135);c.prototype.random=function(){return this.YTb.random();};c.prototype.rZa=function(a,b){if("number" !== typeof a)(b=a.end,a=a.start);else if("undefined" === typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a + this.random() * (b - a));};k=c;k=d.__decorate([l.O(),d.__param(0,l.l(a.Sba))],k);b.YCa=k;},function(d,b,a){var l,k,m,f,h,q,u;function c(a,b,c,f){var d;d=this;this.config=a;this.wrb=b;this.Jb=c;this.performance=f;this.PJb=function(a){d.z0a=a.Fa(d.Ae);};l.En(this,"date");l.En(this,"performance");this.Sjb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.z0a=k.lb;this.Jb.addListener(u.b$.B0a,this.PJb);}Object.defineProperty(b,"__esModule",{value:!0});b.Rva=void 0;d=a(0);l=a(53);k=a(4);m=a(1);f=a(33);h=a(323);q=a(90);u=a(13);ma.Object.defineProperties(c.prototype,{Ae:{configurable:!0,enumerable:!0,get:function(){return this.dWa?k.timestamp(this.performance.timing.navigationStart + this.performance.now()):k.Nb(this.wrb.now());}},q6:{configurable:!0,enumerable:!0,get:function(){return this.Ae.add(this.z0a);}},dWa:{configurable:!0,enumerable:!0,get:function(){return this.config.m4a && this.Sjb;}}});a=c;a=d.__decorate([m.O(),d.__param(0,m.l(h.x8)),d.__param(1,m.l(f.L8)),d.__param(2,m.l(q.uW)),d.__param(3,m.l(f.GX)),d.__param(3,m.optional())],a);b.Rva=a;},function(d,b,a){var l,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.PEa=void 0;d=a(0);a=a(1);c.prototype.encode=function(a){return l.Eia(a);};c.prototype.decode=function(a){return l.Pha(a);};c.Eia=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,d=a.length,k="";b < d;){c=a[b++];if(!(0 <= c && 255 >= c))throw Error("bad utf8");if(c & 128)if(192 === (c & 224))c=((c & 31) << 6) + (a[b++] & 63);else if(224 === (c & 240))c=((c & 15) << 12) + ((a[b++] & 63) << 6) + (a[b++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(c);}return k;};c.Pha=function(a){var b,c,d,k,m;b=a.length;c=0;k=0;if(!(0 <= b))throw Error("bad string");for(d=b;d--;){m=a.charCodeAt(d);128 > m?c++:c=2048 > m?c + 2:c + 3;}c=new Uint8Array(c);for(d=0;d < b;d++){m=a.charCodeAt(d);128 > m?c[k++]=m:(2048 > m?c[k++]=192 | m >>> 6:(c[k++]=224 | m >>> 12,c[k++]=128 | m >>> 6 & 63),c[k++]=128 | m & 63);}return c;};k=l=c;k=l=d.__decorate([a.O()],k);b.PEa=k;},function(d,b,a){var l,k,m,f,h,q,u,r;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.eva=void 0;d=a(0);a=a(1);k=Array.prototype.slice;m=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");k=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");f={};h={};q={};u={};r=/\s+/g;[m,k].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];f[c]=b << 18;h[c]=b << 12;q[c]=b << 6;u[c]=b;}});c.prototype.encode=function(a){return l.Eia(a,m,"=");};c.prototype.decode=function(a){return l.Pha(a);};c.Pha=function(a){var b,c,d;a=a.replace(r,"");b=a.length;c=a.charAt(b - 1);"=" !== c && "." !== c || b--;c=a.charAt(b - 1);"=" !== c && "." !== c || b--;c=3 * (b >> 2);d=0;switch(b % 4){case 2:d=1;break;case 3:d=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c + d),k=0,m=0,l;m < c;){l=f[a[k++]] + h[a[k++]] + q[a[k++]] + u[a[k++]];if(!(0 <= l && 16777215 >= l))throw Error("bad base64");b[m++]=l >>> 16;b[m++]=l >>> 8 & 255;b[m++]=l & 255;}if(0 < d && (l=f[a[k++]] + h[a[k++]],b[m++]=l >>> 16,1 < d && (l+=q[a[k++]],b[m++]=l >>> 8 & 255),!(0 <= l && 16776960 >= l && 0 === (l & (1 < d?255:65535)))))throw Error("bad base64");return b;};c.Eia=function(a,b,c){for(var f="",d=0,h=a.length,k=h - 2,m;d < k;){m=(a[d++] << 16) + (a[d++] << 8) + a[d++];if(!(0 <= m && 16777215 >= m))throw Error("not bytes");f+=b[m >>> 18] + b[m >>> 12 & 63] + b[m >>> 6 & 63] + b[m & 63];}if(d == k){m=(a[d++] << 8) + a[d++];if(!(0 <= m && 65535 >= m))throw Error("not bytes");f+=b[m >>> 10] + b[m >>> 4 & 63] + b[m << 2 & 63] + c;}else if(d == h - 1){m=a[d++];if(!(0 <= m && 255 >= m))throw Error("not bytes");f+=b[m >>> 2] + b[m << 4 & 63] + c + c;}return f;};k=l=c;k=l=d.__decorate([a.O()],k);b.eva=k;},function(d,b,a){var l,k,m,f;function c(a,b){this.is=a;this.ji=b;}Object.defineProperty(b,"__esModule",{value:!0});b.QEa=void 0;d=a(0);l=a(1);a(2);k=a(22);m=a(102);f=a(10);c.prototype.YS=function(a,b,c){var f,d,h,k;f=this;if(b)if(c){d=c.OK;h=c.prefix;k=c.Wx;this.jA(b,function(b,c){if(!k || f.is.Qf(c))a[(h || "") + (d?b.toLowerCase():b)]=c;});}else this.jA(b,function(b,c){a[b]=c;});return a;};c.prototype.jA=function(a,b){for(var c in a){a.hasOwnProperty(c) && b(c,a[c]);}};c.prototype.Sz=function(a,b){if(a.length == b.length){for(var c=a.length;c--;){if(a[c] != b[c])return !1;}return !0;}return !1;};c.prototype.$La=function(a,b){if(a.length != b.length)return !1;a.sort();b.sort();for(var c=a.length;c--;){if(a[c] !== b[c])return !1;}return !0;};c.prototype.Ue=function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f || (f="" + a);b?(a="" + b,0 !== a.indexOf(f) && (a=f + "\n" + a)):a=f;c && (a+="\nnumber:" + c);return a;}};c.prototype.getFunctionName=function(a){return (a=(/function (.{1,})\(/).exec(a.toString())) && 1 < a.length?a[1]:"";};c.prototype.aka=function(a){return this.getFunctionName(a.constructor);};c.prototype.apa=function(a){var b,c;b=this;c="";this.is.Cw(a) || this.is.$Ia(a)?c=Array.prototype.reduce.call(a,function(a,b){return a + (32 <= b && 128 > b?String.fromCharCode(b):".");},""):this.is.Eo(a)?c=a:this.jA(a,function(a,f){c+=(c?", ":"") + "{" + a + ": " + (b.is.WZ(f)?b.getFunctionName(f) || "function":f) + "}";});return "[" + this.aka(a) + " " + c + "]";};c.prototype.createElement=function(a,b,c,d){var h;h=f.Je.createElement(a);b && (h.style.cssText=b);c && (h.innerHTML=c);d && this.jA(d,function(a,b){h.setAttribute(a,b);});return h;};c.prototype.uvb=function(a,b){return function(c){return c[a] === b;};};c.prototype.tT=function(a){var b;b={};(a || "").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0 <= c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c + 1)):b[a.toLowerCase()]=void 0;});return b;};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(k.He)),d.__param(1,l.l(m.Iy))],a);b.QEa=a;},function(d,b,a){var l,k,m;function c(a){this.Ea=a;}Object.defineProperty(b,"__esModule",{value:!0});b.RCa=void 0;d=a(0);l=a(1);k=a(42);m=a(62);c.prototype.Ap=function(a,b){var c;c=this;return new Promise(function(f,d){var h;h=c.Ea.zi(a,function(){d(new m.oo(a));});b.then(function(a){f(a);h.cancel();})["catch"](function(a){d(a);h.cancel();});});};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(k.ph))],a);b.RCa=a;},function(d,b,a){var l;function c(a){this.Qwb=a;this.u2=!1;this.M2=this.ng=this.EM=0;this.aS=!1;this.N2=0;}Object.defineProperty(b,"__esModule",{value:!0});b.VAa=void 0;l=a(15);c.prototype.njb=function(a){a < this.EM && (this.ng+=this.EM);this.EM=a;this.u2=!0;};c.prototype.Fxb=function(){if(this.u2)return this.aS?this.N2 - this.M2:this.ng + this.EM - this.M2;};c.prototype.refresh=function(){var a;a=this.Qwb();l.qa(a) && this.njb(a);};c.prototype.KSb=function(){this.aS || (this.u2 && (this.N2=this.ng + this.EM),this.aS=!0);};c.prototype.aTb=function(){this.aS && (this.u2 && (this.M2+=this.ng + this.EM - this.N2),this.N2=0,this.aS=!1);};b.VAa=c;},function(d,b,a){var l,k,m,f;function c(a,b){this.ta=a;this.D1=this.ta.Ae.ca(m.ga) - 1;this.BFb=this.C3=0;this.id="" + b.Yz();}Object.defineProperty(b,"__esModule",{value:!0});b.uua=void 0;d=a(0);l=a(1);k=a(35);m=a(4);a=a(89);c.prototype.Bb=function(){var a,b;a=this.ta.Ae.ca(m.ga) - this.D1;if(a < this.C3){b=this.C3 + 1;this.D1-=b - a;a=b;}this.C3=a;return m.Nb(this.C3);};c.prototype.Pyb=function(){return this.BFb++;};ma.Object.defineProperties(c.prototype,{PE:{configurable:!0,enumerable:!0,get:function(){return m.Nb(this.D1);}}});f=c;f=d.__decorate([l.O(),d.__param(0,l.l(k.fh)),d.__param(1,l.l(a.Gv))],f);b.uua=f;},function(d,b,a){var l,k,m,f;function c(a,b){this.is=a;this.Wd=b;}Object.defineProperty(b,"__esModule",{value:!0});b.dwa=void 0;d=a(0);k=a(1);m=a(22);a=a(27);c.prototype.encode=function(a){var b,c;b=this;c="";this.Wd.jA(a,function(a,f){a=b.pOa(a) + "=" + b.pOa(f);c=c?c + ("," + a):a;});return c;};c.prototype.pOa=function(a){return this.is.cE(a)?this.is.Sh(a)?"" + a:this.is.Eo(a)?(a=a.replace(l.Lqa,this.Pna.bind(this)),!l.rNb.test(a) && l.XHb.test(a) && (a='"' + a + '"'),a):this.is.IP(a)?"" + a:this.is.Jea(a)?"NaN":"":"";};c.prototype.Pna=function(a){return l.map[a];};f=l=c;f.map={'"':'""',"\r":"","\n":" "};f.Lqa=/(?!^.+)["\r\n](?=.+$)/g;f.rNb=/["].*["]/g;f.XHb=/[", ]/;f=l=d.__decorate([k.O(),d.__param(0,k.l(m.He)),d.__param(1,k.l(a.rg))],f);b.dwa=f;},function(d,b,a){var l,k,m,f;function c(a,b,c){this.config=a;this.Sa=b;this.la=c.tb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.pwa=void 0;d=a(0);l=a(1);k=a(22);m=a(87);a=a(6);c.prototype.assert=function(){};c.prototype.nkb=function(a,b){this.assert(this.Sa.cE(a),b);};c.prototype.okb=function(a,b){this.assert(this.Sa.Qf(a),b);};c.prototype.tkb=function(a,b){this.assert(this.Sa.Eo(a),b);};c.prototype.wkb=function(a,b){this.assert(this.Sa.gn(a),b);};c.prototype.ukb=function(a,b){this.assert(this.Sa.Eo(a) || null === a || void 0 === a,b);};c.prototype.rkb=function(a,b){this.assert(this.Sa.Sh(a),b);};c.prototype.qkb=function(a,b){this.assert(this.Sa.kfa(a),b);};c.prototype.vkb=function(a,b){this.assert(this.Sa.KI(a),b);};c.prototype.skb=function(a,b){this.assert(this.Sa.JP(a),b);};c.prototype.mkb=function(a,b){this.assert(this.Sa.IP(a),b);};c.prototype.pkb=function(a,b){this.assert(this.Sa.WZ(a),b);};c.prototype.SCb=function(){this.assert(!1,"invalid operation, this method should not be called");};c.V5b=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var f;f={toString:function(){return "";}};a(f,c || b);return f.stack;}:function(){try{throw Error("capture stack");}catch(u){return u.stack;}};};f=c;f=d.__decorate([l.O(),d.__param(0,l.l(m.N8)),d.__param(1,l.l(k.He)),d.__param(2,l.l(a.zb))],f);b.pwa=f;},function(d,b,a){var l,k,m,f;function c(a){a=k.eN.call(this,a,"DebugConfigImpl") || this;a.Q4b=function(){debugger;};return a;}Object.defineProperty(b,"__esModule",{value:!0});b.owa=void 0;d=a(0);l=a(43);k=a(44);m=a(1);a=a(32);L(c,k.eN);ma.Object.defineProperties(c.prototype,{Hlb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});f=c;d.__decorate([l.config(l.Mc,"breakOnError")],f.prototype,"Hlb",null);f=d.__decorate([m.O(),d.__param(0,m.l(a.WV))],f);b.owa=f;},function(d,b,a){var l,k,m,f;function c(a){return k.eN.call(this,a,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Qva=void 0;d=a(0);l=a(43);k=a(44);m=a(1);a=a(32);L(c,k.eN);ma.Object.defineProperties(c.prototype,{m4a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});f=c;d.__decorate([l.config(l.Mc,"usePerformanceApi")],f.prototype,"m4a",null);f=d.__decorate([m.O(),d.__param(0,m.l(a.WV))],f);b.Qva=f;},function(d,b,a){var l,k,m,f;function c(a,b){this.za=a;this.entries=new Set();this.la=b.tb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Yba=void 0;d=a(0);l=a(1);k=a(18);m=a(4);a=a(6);c.prototype.mark=function(a,b,c){a={name:a,Yq:this.za.Bb()};b && (a.ea=b);c && (a.Fj=c);this.entries.add(a);return a;};c.prototype.uka=function(){var a;a=[];this.entries.forEach(function(b){return a.push(b);});return a;};c.prototype.OQa=function(a){return this.uka().filter(function(b){return b.ea === a;});};c.prototype.MQa=function(){var a;a={};try{a=this.uka().filter(function(a){return !a.ea;}).reduce(function(a,b){a[b.name]=b.Yq.ca(m.ga);return a;},{});}catch(q){this.la.error(" getMapOfCommonMarks exception",q);}return a;};c.prototype.b_a=function(a){var b;b=this;this.uka().forEach(function(c){c.ea === a && b.entries["delete"](c);});};f=c;f=d.__decorate([l.O(),d.__param(0,l.l(k.Fd)),d.__param(1,l.l(a.zb))],f);b.Yba=f;},function(d,b,a){var l,k,m,f,h,q,u,r,g;function c(a,b){this.za=a;this.config=b;}Object.defineProperty(b,"__esModule",{value:!0});b.rwa=void 0;d=a(0);k=a(1);m=a(18);f=a(40);h=a(2);q=a(13);u=a(4);r=a(10);a=a(330);c.prototype.oNa=function(a){var b,c,d,k,m,r,g,v,A;b=this;r=a.nb.value;d=a.fm.value;g=a.Ob.value;v=a.state.value;m={segmentId:a.Gka(),mediaTime:r,segmentTime:a.wA(),bufferingState:l.Plb[d],presentingState:l.DMb[g],playbackState:l.FLb[v],mseBuffersBusy:this.eAb(a),intBuffersBusy:this.Eyb(a),tabVisible:this.ZTb(),decodedFrameCount:this.Rrb(a),videoElementInDom:this.fXb(a),lastVideoSync:this.za.Bb().Fa(u.Nb(a.TU)).ca(u.ga)};A=g === q.sb.Zf?a.Va.Kj?this.config.uXa:this.config.tXa:this.config.XVa;d !== q.ge.wd?(d=h.K.i7a,this.qKa(m.mseBuffersBusy,m.intBuffersBusy) && (k=l.cva)):(g !== q.sb.Uc?d=h.K.k7a:(d=h.K.j7a,(g=a.Vf) && 0 === g.O1() && (k=l.bdb)),(g=a.Vf) && g.Gb.sourceBuffers.forEach(function(a){var c,f;c=l.De[a.I];m[c + "Ranges"]=a.K1();try{f=a.buffered();}catch(ha){f=void 0;}f && 0 !== f.length?(a=1E3 * f.end(0) - r,m[c + "Undecoded"]=a,1 < f.length && (k=l.c6a),r < 1E3 * f.start(0) || r > 1E3 * f.end(0)?k=l.d6a:a < A.ca(u.ga)?k=l.e6a:b.qKa(m.mseBuffersBusy,m.intBuffersBusy) && (k=l.cva)):(m[c + "Undecoded"]=0,k=l.b6a);}));a=a.o_a.ARa();g=r === (null === (c=a.repositionTrace) || void 0 === c?void 0:c[0].newMediaTime);m.lastRepositionCausedTimeout=g;Object.assign(m,a);c="";try{c=JSON.stringify(m);}catch(E){c="Cannot stringify details: " + E;}return new f.Bc(h.L.eBa,d,k,void 0,void 0,void 0,c,void 0);};c.prototype.eAb=function(a){var b;if(a.Gb){b={};a.Gb.sourceBuffers.forEach(function(a){b[0 === a.type?"audio":"video"]={updating:a.updating()};});return b;}};c.prototype.Eyb=function(a){var b;if(a.Gb){b={};a.Gb.sourceBuffers.forEach(function(a){b[0 === a.type?"audio":"video"]={updating:a.Yh()};});return b;}};c.prototype.ZTb=function(){return !r.Je.hidden;};c.prototype.Rrb=function(a){return (a=a.Vf) && (a=a.Gb.na) && void 0 !== a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};c.prototype.fXb=function(a){if(a=a.Vf)if(a=a.Gb.na)return r.Je.body.contains(a);return !1;};c.prototype.qKa=function(a,b){var c,f,d,h;return !((null === (c=a.audio) || void 0 === c?void 0:c.updating) === (null === (f=b.audio) || void 0 === f?void 0:f.updating) && (null === (d=a.video) || void 0 === d?void 0:d.updating) === (null === (h=b.video) || void 0 === h?void 0:h.updating));};g=l=c;g.b6a="1";g.c6a="2";g.d6a="3";g.cva="4";g.e6a="5";g.bdb="6";g.De=["Audio","Video"];g.Plb=["","NORMAL","BUFFERING","STALLED"];g.DMb=["","WAITING","PLAYING ","PAUSED","ENDED"];g.FLb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];g=l=d.__decorate([k.O(),d.__param(0,k.l(m.Fd)),d.__param(1,k.l(a.X$))],g);b.rwa=g;},function(d,b,a){var l,k,m,f;function c(a,b,c){var f;f=this;this.app=a;this.Ea=b;this.$_=c;this.Vx=function(a){f.Ai=void 0;f.sVb(a || f.$_);};this.VTa=m.Nb(-this.$_.ca(m.ga));}Object.defineProperty(b,"__esModule",{value:!0});b.uEa=void 0;d=a(0);l=a(1);k=a(18);m=a(4);a=a(42);c.prototype.bd=function(a){this.zra=a;this.Ai=this.Ai || this.Hc(this.Vx);};c.prototype.Tg=function(){this.Ai && this.Ai.cancel();this.Ai=void 0;};c.prototype.sVb=function(a){var b,c;b=this.app.Bb();if(this.zra){c=a.Fa(b.Fa(this.VTa));0 >= c.qk(m.lb)?(a=this.zra,this.zra=void 0,this.VTa=b,a()):this.Ai=this.Ai || this.Ea.zi(c,this.Vx.bind(this,a));}};c.prototype.Hc=function(a){return this.Ea.zi(m.lb,a);};f=c;f=d.__decorate([l.O(),d.__param(0,l.l(k.Fd)),d.__param(1,l.l(a.ph))],f);b.uEa=f;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.NCa=b.MCa=b.JX=void 0;b.JX="PrioritizedSetOfListsSymbol";b.MCa="PrioritizedSetOfListsFactorySymbol";b.NCa="PrioritizedSetOfSetsFactorySymbol";},function(d,b){function a(){this.searchParams={};}function c(b){this.Jo=b;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.OEa=void 0;c.prototype.toString=function(){return this.href;};ma.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Jo + this.searchParams.toString();}}});b.OEa=c;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(a,b,c){var f;f=N(b);b=f.next().value;f=f.next().value;return "" + a + (0 == c?"?":"&") + b + "=" + f;},"");};},function(d,b,a){var l,k,m,f,h;function c(a,b){this.Bj=this.Xub(a,b.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=b.ova=void 0;d=a(0);l=a(1);k=a(14);m=a(32);a=a(33);c.prototype.GAb=function(a,b){var c;b=this.HAb(b);if(b)switch(a){case h.NUa:c=0 < b.length?Number(b[0]):0;break;case h.FHb:c=1 < b.length?Number(b[1]):0;break;case h.LKb:c=2 < b.length?Number(b[2]):0;break;case h.Z5:c=3 < b.length?Number(b[3]):0;}return void 0 === c || isNaN(c)?0:c;};c.prototype.HAb=function(a){return null === a || void 0 === a?void 0:a.split(".");};c.prototype.$Cb=function(a){return this.Bj.name === a;};c.prototype.tTa=function(a){return this.Bj.sL.name === a;};c.prototype.Xub=function(a,b){return Object.assign(Object.assign({$Ra:this.Zub(a,b)},this.Wub(a,b)),{sL:this.$ub(a,b)});};c.prototype.Zub=function(a,b){return b && b.$Ra?b.$Ra:(/Android.*Chrome\/[.0-9]* Mobile/).test(a)?k.TW.gLb:(/Android.*Chrome\/[.0-9]* /).test(a)?k.TW.$Tb:k.TW.Ynb;};c.prototype.Wub=function(a,b){return b && b.name && b.version?{name:b.name,version:b.version}:(/OPR/).test(a)?{name:k.xv.opera,version:""}:(b=a.match(/Edge\/(\d*)\./))?{name:k.xv.Wr,version:b[1]}:(b=a.match(/Edg\/(\d*)\./))?{name:k.xv.Dtb,version:b[1]}:(b=a.match(/Chrome\/(\d*)\./))?{name:k.xv.chrome,version:b[1]}:(b=a.match(/Firefox\/(\d*)\./))?{name:k.xv.bPa,version:b[1]}:(a=a.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:k.xv.OPb,version:a[1]}:{name:k.xv.chrome,version:""};};c.prototype.$ub=function(a,b){return b && b.sL && b.sL.name && b.sL.version?{name:b.sL.name,version:b.sL.version}:(/CrOS/).test(a)?{name:k.Ht.jnb,version:""}:(/Tesla/).test(a)?{name:k.Ht.hUb,version:""}:(b=a.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:k.Ht.LUa,version:b[1] + "." + b[2] + "." + b[3]}:(/Windows NT/).test(a)?{name:k.Ht.Xta,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(a) || (/Android.*Chrome\/[.0-9]* /).test(a)?{name:k.Ht.bJa,version:""}:(/Linux/).test(a)?{name:k.Ht.LEb,version:""}:{name:k.Ht.Xta,version:""};};ma.Object.defineProperties(c.prototype,{lDb:{configurable:!0,enumerable:!0,get:function(){return this.$Cb(k.xv.bPa);}},sDb:{configurable:!0,enumerable:!0,get:function(){return this.tTa(k.Ht.LUa);}},WDb:{configurable:!0,enumerable:!0,get:function(){return this.tTa(k.Ht.Xta);}},Ilb:{configurable:!0,enumerable:!0,get:function(){return this.GAb(h.NUa,this.Bj.version);}}});f=c;f=d.__decorate([l.O(),d.__param(0,l.l(a.hca)),d.__param(1,l.l(m.UG))],f);b.ova=f;(function(a){a[a.NUa=0]="major";a[a.FHb=1]="minor";a[a.LKb=2]="patch";a[a.Z5=3]="revision";})(h=b.UEa || (b.UEa={}));},function(d,b,a){var l,k,m;function c(a,b,c){this.Ea=a;this.DUb=b;this.BE=c;}Object.defineProperty(b,"__esModule",{value:!0});b.CEa=void 0;d=a(0);l=a(42);k=a(1);m=a(4);c.prototype.iA=function(){this.Ai || (this.Ai=this.Ea.zi(m.Nb(this.DUb),this.BE));};c.prototype.Di=function(){this.Ai && this.Ai.cancel();this.Ai=void 0;};a=c;a=d.__decorate([k.O(),d.__param(0,k.l(l.ph))],a);b.CEa=a;},function(d,b,a){var l,k;function c(a,b){this.Ea=a;this.$_=b;}Object.defineProperty(b,"__esModule",{value:!0});b.nwa=void 0;d=a(0);l=a(1);a=a(42);c.prototype.bd=function(a){this.Tg();this.Ai=this.Ea.zi(this.$_,a);};c.prototype.Tg=function(){this.Ai && this.Ai.cancel();this.Ai=void 0;};k=c;k=d.__decorate([l.O(),d.__param(0,l.l(a.ph))],k);b.nwa=k;},function(d,b,a){var l,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.lxa=void 0;d=a(0);l=a(1);k=a(207);c.prototype.JJ=function(a,b){var c;c=this;a && Object.entries(b).forEach(function(b){var f,d,h;f=N(b);b=f.next().value;f=f.next().value;if(c.dDb(f)){d=N(f);f=d.next().value;h=d.next().value;d=a[f];Array.isArray(d)?(c.Xha(a,b,f),d.forEach(function(a){c.JJ(a,h);})):f === k.ez?Object.values(a).forEach(function(a){c.JJ(a,h);}):(c.Xha(a,b,f),"object" === typeof d && c.JJ(d,h));}else c.Xha(a,b,f);});};c.prototype.dDb=function(a){return Array.isArray(a);};c.prototype.Xha=function(a,b,c){a.hasOwnProperty(b) || b === c || Object.defineProperty(a,b,{get:function(){return a[c];},enumerable:!1});};a=c;a=d.__decorate([l.O()],a);b.lxa=a;},function(d,b,a){var l,k,m;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.eAa=void 0;d=a(0);l=a(14);k=a(12);a=a(1);c.prototype.fs=function(){return this.cDb()?k.Nwa:(/widevine/i).test(this.config().Ce)?k.c9:(/fps/i).test(this.config().Ce)?"fairplay":k.lW;};c.prototype.cDb=function(){return (/clearkey/i).test(this.config().Ce);};m=c;m=d.__decorate([a.O(),d.__param(0,a.l(l.Sc))],m);b.eAa=m;},function(d,b,a){var c,l,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.AUa=void 0;c=a(680);l=a(681);d=a(1);k=a(107);m=a(6);f=a(687);b.AUa=new d.Tc(function(a){a(m.zb).to(l.xza).Z();a(k.qC).to(c.yza).Z();a(m.s$).to(f.pza).Z();});},function(d,b,a){var l;function c(){this.w1a={};this.Mm=[];}Object.defineProperty(b,"__esModule",{value:!0});b.yza=void 0;d=a(0);a=a(1);c.prototype.K5=function(a,b){b && (this.w1a[a]=b,this.Mm=Object.values(this.w1a));};l=c;l=d.__decorate([a.O()],l);b.yza=l;},function(d,b,a){var l,k,m,f,h,q,u;function c(a,b,c){this.za=a;this.Mm=b;this.wna=c;}Object.defineProperty(b,"__esModule",{value:!0});b.xza=void 0;d=a(0);l=a(208);k=a(1);m=a(684);f=a(18);h=a(107);q=a(6);u=a(685);c.prototype.tb=function(a,b,c,f,d){c=void 0 === c?this.Mm:c;return b?new m.eCa(this.za,this.wna,c,b,a):d?new u.Gua(this.za,this.wna,c,a,f || "",d):new l.WG(this.za,this.wna,c,a);};a=c;a=d.__decorate([k.O(),d.__param(0,k.l(f.Fd)),d.__param(1,k.l(h.qC)),d.__param(2,k.l(q.s$))],a);b.xza=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ND=void 0;c=a(683);b.ND=function(a,b){var f;a=a.Oyb();for(var d=0;d < b.length;++d){f=b[d];void 0 != f && null != f && (f.Dh && (f=f.Dh),f.constructor === Uint8Array?a.wjb(f):"MediaRequest" === f.constructor.name?a.ljb(f):"string" === typeof f?a.vjb(f):"function" === typeof f?a.ejb(f):f instanceof Error?a.bjb(f):f instanceof c.EnumeratedErrorBase?a.ajb(f):f instanceof Object?a.mjb(f):a.xjb(f));}return a.Cj();};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.EnumeratedErrorBase=void 0;b.EnumeratedErrorBase=function(a,b,d,k){this.type=a;this.name=a.name;this.number=b;"string" === typeof d?this.message=d:void 0 !== d && (this.cause=d);void 0 !== k && (this.message=k);};},function(d,b,a){var l,k,m;function c(a,b,c,d,k){a=m.WG.call(this,a,b,c,k) || this;a.j=d;l.En(a,"playback");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.eCa=void 0;l=a(53);k=a(338);m=a(208);L(c,m.WG);c.prototype.tha=function(a){return new c(this.za,this.Lw,this.Mm,this.j,a);};c.prototype.Fz=function(a,b,c){a=new k.r$(a,this.kn,this.za.Bb(),b,c,this.j.index);b=N(this.Mm.Mm);for(c=b.next();!c.done;c=b.next()){c=c.value;c(a,this.j);}};b.eCa=c;},function(d,b,a){var l,k;function c(a,b,c,d,k,r){a=l.WG.call(this,a,b,c,d) || this;a.lla=k;Array.isArray(r)?a.prefix=r:r && "string" === typeof r && (a.prefix=[],a.prefix.push(r));return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Gua=void 0;l=a(208);k=a(686);L(c,l.WG);c.prototype.Fz=function(a,b,c){a=new k.Fua(a,this.kn,this.za.Bb(),b,c,this.prefix);b=N(this.Mm.Mm);for(c=b.next();!c.done;c=b.next()){c=c.value;c(a);}};c.prototype.tha=function(a){return new c(this.za,this.Lw,this.Mm,a,this.lla,this.prefix);};b.Gua=c;},function(d,b,a){var l,k;function c(a,b,c,d,k,l,g){this.level=a;this.kn=b;this.timestamp=c;this.message=d;this.fd=k;this.prefix=l;this.index=void 0 === g?0:g;}Object.defineProperty(b,"__esModule",{value:!0});b.Fua=void 0;l=a(4);k={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.e7=function(a,b){a=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (b?"":" " + this.xTb(! !a));return (this.timestamp.ca(l.ga) / 1E3).toFixed(3) + "|" + this.index + "|" + (k[this.level] || this.level) + "|" + this.kn + "| " + a;};c.prototype.xTb=function(a){var k;for(var b=this.fd.length,c="",d=0;d < b;++d){k=this.fd[d].Ns;d && c.length && (c+=" ");if("object" === typeof k){if(null === k)c+="null";else if(k instanceof Error)c+=this.wTb(k,a);else try{c+=JSON.stringify(k);}catch(r){c+=this.vTb(k);}}else c+=k;}return c;};c.prototype.wTb=function(a,b){return a.toString() + (a.stack && !b?"\n" + a.stack:"") + "\n";};c.prototype.vTb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object" === typeof c && null !== c){if(-1 !== b.indexOf(c))return "<cycle>";b.push(c);}return c;});};b.Fua=c;},function(d,b,a){var l,k,m,f;function c(a,b){this.oc=a;this.Wd=b;}Object.defineProperty(b,"__esModule",{value:!0});b.pza=void 0;d=a(0);l=a(1);k=a(688);m=a(41);a=a(27);c.prototype.Oyb=function(){return new k.qza(this.oc,this.Wd);};f=c;f=d.__decorate([l.O(),d.__param(0,l.l(m.Ki)),d.__param(1,l.l(a.rg))],f);b.pza=f;},function(d,b,a){var A,y,B,I;function c(a,b){this.oc=a;this.Wd=b;this.fd=[];}function l(a){return g.call(this,a,function(a){return {Details:a};}) || this;}function k(a){return g.call(this,a,function(a){return JSON.parse(a.toJSON());}) || this;}function m(a,b){b=g.call(this,b,function(b){return {Base64:a.encode(b)};}) || this;b.oc=a;return b;}function f(a,b){b=g.call(this,b,function(a){return a();}) || this;b.Wd=a;return b;}function h(a,b){return u.call(this,a,b,function(a){var b;b=y.reduce(a,function(a,b){var c;a.name=void 0 !== a.name?a.name + ("-" + b.name):b.name;c="";c="undefined" !== typeof b.type && "undefined" !== typeof b.type.prefix?c + b.type.prefix:c + b.name;"undefined" !== typeof b.number && (c+=b.number);a.errorCode=void 0 !== a.errorCode?a.errorCode + ("-" + c):c;h.Lnb(b,a,"stack","message");return a;},{});return Object.assign(Object.assign({},a),b);}) || this;}function q(a){return g.call(this,a,function(a){return {Exception:a.message || "" + a,StackTrace:a.stack || "nostack"};}) || this;}function u(a,b,c){b=g.call(this,b,c) || this;b.Wd=a;return b;}function r(a){return g.call(this,a,function(a){return {Details:a};}) || this;}function g(a,b){this.Ns=a;this.value=b?b(a):a;}Object.defineProperty(b,"__esModule",{value:!0});b.qza=b.E8a=void 0;d=a(0);A=a(1);y=a(689);B=a(27);a=a(41);g.prototype.eR=function(a){return this.Ns === a;};L(r,g);r.prototype.kG=function(a,b){return b?"":"\r\n" + this.Ns;};L(u,g);u.prototype.kG=function(){var a;a="";this.Wd.jA(this.value,function(b,c){try{a+=", " + b + ": " + c;}catch(R){try{a+=", " + b + ": " + JSON.stringify(c);}catch(U){a+=", error stringifying " + b;}}});return a.replace(/[\r\n]+ */g," ");};L(q,g);q.prototype.kG=function(a){var b;b="\r\n" + this.Ns.message;a || (b+="\r\n" + this.Ns.stack);return b;};L(h,u);h.Lnb=function(a,b,c){var h,k;for(var f=[],d=2;d < arguments.length;++d){f[d - 2]=arguments[d];}for(d=0;d < f.length;++d){h=a[f[d]];if(void 0 !== h){k="" + f[d];b[k]=b[k] || [];b[k].push(h);}}};b.E8a=h;L(f,g);f.prototype.kG=function(){var a;a="";this.Wd.jA(this.value,function(b,c){a+=", " + b + ": " + c;});return a.replace(/[\r\n]+ */g," ");};L(m,g);m.prototype.kG=function(a,b){return this.Ns && !b?"\r\n" + this.oc.encode(this.Ns):"";};L(k,g);k.prototype.kG=function(){return this.Ns?this.Ns.toJSON():"";};L(l,g);l.prototype.kG=function(){return ", " + (this.Ns.toString?"" + this.Ns.toString():"");};c.prototype.vjb=function(a){this.fd.push(new r(a));};c.prototype.mjb=function(a){this.fd.push(new u(this.Wd,a));};c.prototype.bjb=function(a){this.fd.push(new q(a));};c.prototype.ajb=function(a){this.fd.push(new h(this.Wd,a));};c.prototype.ejb=function(a){this.fd.push(new f(this.Wd,a));};c.prototype.wjb=function(a){this.fd.push(new m(this.oc,a));};c.prototype.ljb=function(a){this.fd.push(new k(a));};c.prototype.xjb=function(a){this.fd.push(new l(a));};c.prototype.Cj=function(){return this.fd;};I=c;I=d.__decorate([A.O(),d.__param(0,A.l(a.Ki)),d.__param(1,A.l(B.rg))],I);b.qza=I;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.reduce=void 0;b.reduce=function(a,b,d){for(;void 0 !== a;a=a.cause){d=b(d,a);}return d;};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.aWa=void 0;d=a(1);c=a(209);l=a(691);b.aWa=new d.Tc(function(a){a(c.iX).to(l.wAa).Z();});},function(d,b,a){var l,k,m;function c(a){this.Ea=a;}Object.defineProperty(b,"__esModule",{value:!0});b.wAa=void 0;d=a(0);l=a(1);k=a(692);a=a(42);c.prototype.rha=function(a,b){return new k.xAa(this.Ea,a,b);};m=c;m=d.__decorate([l.O(),d.__param(0,l.l(a.ph))],m);b.wAa=m;},function(d,b){function a(a,b,d){this.Ea=a;this.config=b;this.getTime=d;}Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;a.prototype.observe=function(a,b){var c;c=this;this.cancel();this.Ai=this.Ea.vra(this.config.Ika(),function(){c.getTime() >= a && (c.cancel(),b());});};a.prototype.cancel=function(){this.Ai && (this.Ai.cancel(),this.Ai=void 0);};b.xAa=a;},function(d,b,a){var c,l,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.Ja=void 0;d=a(1);c=a(210);l=a(339);k=a(694);m=a(697);f=a(342);h=a(698);b.Ja=new d.Tc(function(a){a(c.XX).to(k.GDa).Z();a(l.Iba).to(m.EDa).Z();a(f.$ba).to(h.EEa).Z();});},function(d,b,a){var l,k,m,f,h,q,u,r,g,A,y,B,I;function c(a,b,c,f,d,h,k,m,l,r){this.za=a;this.Af=b;this.cB=c;this.hXb=f;this.yT=d;this.Ea=h;this.MI=k;this.lj=m;this.Yia=l;this.Ed=r;}Object.defineProperty(b,"__esModule",{value:!0});b.GDa=void 0;d=a(0);l=a(1);k=a(18);m=a(6);f=a(209);h=a(116);q=a(340);u=a(341);r=a(695);g=a(696);A=a(91);y=a(42);B=a(336);a=a(27);c.prototype.Hqb=function(a,b){return new r.HDa(this.za,this.Af,this.cB,this.hXb,b,a,this.lj,this.yT,this.Ed,this.Yia);};c.prototype.cqb=function(a,b){return new g.nva(this.Af,a,b,this.cB,this.Ea,this.MI);};I=c;I=d.__decorate([l.O(),d.__param(0,l.l(k.Fd)),d.__param(1,l.l(m.zb)),d.__param(2,l.l(f.iX)),d.__param(3,l.l(u.kca)),d.__param(4,l.l(q.aba)),d.__param(5,l.l(y.ph)),d.__param(6,l.l(A.aN)),d.__param(7,l.l(h.EC)),d.__param(8,l.l(B.LG)),d.__param(9,l.l(a.rg))],I);b.GDa=I;},function(d,b,a){var f,h,q,u;function c(a,b,c,d,k,m,l,q,g,n){var r;r=this;this.za=a;this.cB=c;this.Npa=d;this.config=k;this.ey=m;this.lj=l;this.yT=q;this.Ed=g;this.Jub=Object.values(h.Vb).map(function(a){return {event:a,BE:function(b){return r.Jb.dc(a,b);}};});this.Jb=n.create();this.AF=[];this.log=b.tb("SegmentManager");new f.mo();this.uja=!0;this.Wf=this.Ed.createElement("div",u.vba);}function l(a,b,c,d,h,m,l,q,u,g){var r;r=this;this.log=a;this.config=b;this.ZIb=c;this.Npa=d;this.lj=h;this.yT=m;this.Ts=l;this.W=q;this.Wf=u;this.ey=g;this.$I=function(){r.gB && (r.gB.cancel(),r.gB=void 0);};this.nla=function(a){r.log.trace("Received the transition event",{movieId:a.u});r.ENb();};this.log.debug("Constructing session data",k(q));this.pna=new f.mo();this.FUb=new Promise(function(a){r.ENb=a;});}function k(a){return {movieId:a.u};}function m(a){return JSON.stringify({movieId:a.u,startPts:a.X,logicalEnd:a.Nj,params:a.fb?{trackingId:a.fb.qj,authParams:a.fb.bQ,sessionParams:a.fb.Tn,disableTrackStickiness:a.fb.hia,uiPlayStartTime:a.fb.n7,loadImmediately:a.fb.I3,playbackState:a.fb.playbackState?{currentTime:a.fb.playbackState.currentTime,volume:a.fb.playbackState.volume,muted:a.fb.playbackState.muted,playbackRate:a.fb.playbackState.playbackRate}:void 0,pin:a.fb.mYa,heartbeatCooldown:a.fb.Ala,uiLabel:a.fb.Dd,uxLabels:a.fb.z7}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.HDa=void 0;f=a(134);h=a(13);q=a(4);u=a(12);l.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",k(this.W));this.P=this.Npa.Qqb(this.config,this.yT,this.lj,this.W,this.ey);this.P.addEventListener(h.Vb.pK,function(a){b.log.trace("Segment is inactive",k(b.W));b.Ts.close(b.lj(a.errorCode));});this.P.addEventListener(h.Vb.closed,this.$I);if(a)(this.log.debug("Pausing background segment",k(this.W)),this.P.addEventListener(h.Vb.Dma,this.nla),this.P.pause());else {this.Wf.appendChild(this.P.cp());c=function(a){b.nla(a);b.P.removeEventListener(h.Vb.loaded,c);};this.P.addEventListener(h.Vb.loaded,c);}};l.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",m(this.W));if(this.gB)this.log.trace("Segment is currently observing",k(this.W));else if(this.W.fb && this.W.fb.I3)this.pna.next(this);else {b=this.ZIb.rha(this.config,function(){var b;if(a.P){b=a.P.j.nb.value;if(b)return b;}return 0;});c=this.fmb(this.W);this.log.trace("Adding a moment to watch",{time:c});b.observe(c,function(){a.log.trace("Segment has reached its loading point",k(a.W));a.pna.next(a);a.$I();});}};l.prototype.close=function(a){this.log.info("Closing segment",{segment:m(this.W),error:a});return this.P?(this.P.removeEventListener(h.Vb.Dma,this.nla),this.P.close(a)):Promise.resolve();};l.prototype.fmb=function(a){var b,c;b=a.Nj;a=a.fb?a.fb.I3:!1;c=0;b && !a && (c=b - this.config.KQa(),c < this.config.NQa() && (a=b - this.config.NQa(),c=b - a / 2));return c;};c.prototype.Lzb=function(){return this.Te && this.Te.P?this.Te.P.isReady():!1;};c.prototype.cp=function(){return this.Wf;};c.prototype.ni=function(){if(!this.Te || !this.Te.P)throw Error("Player not ready");return this.Te.P;};c.prototype.aWb=function(a){var b,c;c=this.lja(a);c?this.X3a(c,a):(this.log.Qea("xid",null === (b=this.Te.P) || void 0 === b?void 0:b.jK()),this.log.error("Tried to update a non-existent segment",{segment:m(a),currentMovieId:this.Te.W.u,queuedMovieIds:this.AF.map(function(a){return a.W.u;})}));};c.prototype.cq=function(a){var b;this.log.info("Adding segment",m(a));this.uja?(this.log.trace("First segment, loading",k(a)),b=this.qUa(a),this.uja=!1):(this.log.trace("Subsequent segment, caching",k(a)),(b=this.lja(a))?this.X3a(b,a):(b=this.nn(a),this.AF.push(b),this.Te.observe()));return b?b.FUb:null;};c.prototype.transition=function(a){var b;if(this.Tx && this.Tx.P){b=this.Tx;this.Tx=void 0;this.log.info("Transitioning segment",m(b.W));b && b.P && b.P.e1a(this.za.Bb().ca(q.ga));return this.n3a(b,a);}this.log.info("Transitioning to next segment failed. Session not available.");return Promise.reject();};c.prototype.close=function(a){var b;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(k(this.Te.W)),nextSession:this.Tx?JSON.stringify(k(this.Tx.W)):void 0});a=[this.Te.close(a)];this.Tx && a.push(this.Tx.close());return Promise.all(a).then(function(){b.Tx=void 0;b.AF=[];b.uja=!0;});};c.prototype.addListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.X3a=function(a,b){this.qKb(a.W,b);this.log.trace("Overwrote existing segment data",m(a.W));};c.prototype.qUa=function(a){var b,c;b=this;this.log.info("Loading the next episode",k(a));this.Te?(this.config.Vja()[a.u]=a.X,c=this.lja(a)):c=this.nn(a);if(c)return (this.log.trace("Found the next session",k(a)),c.pna.subscribe(function(a){b.tUb(a);}),this.Te?(this.log.trace("Subsequent playback, caching player and pausing",k(a)),this.Tx=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",k(a)),c.load(!1),this.n3a(c)),c);this.log.warn("Unable to find the session, make sure to add it before loading",k(a));};c.prototype.n3a=function(a,b){var c,f;b=void 0 === b?{}:b;this.log.trace("Playing episode",k(a.W));c=this.Te;this.Te=a;if(this.Te.P){this.Te.P.I0a(!1);this.CV(this.Te.P,c?c.P:void 0);if(c && c.P){f=c.P.cp();a=this.Te.P.cp();f.style.display="none";c=c.close();this.Wf.appendChild(a);c.then(function(){f.parentElement && f.parentElement.removeChild(f);});if(this.Te.P)if((a.style.display="block",this.Te.P.getError()))this.Te.P.close();else return (this.Te.P.xu().YVb(b),this.Te.P.GU(),this.Te.P.play(),c);return Promise.reject();}return Promise.resolve();}return Promise.reject();};c.prototype.tUb=function(a){var b,c,f,d;if(this.AF.length && a.P){a=a.P.j.nb.value;b=this.AF[0];c=this.Te.W.Nj;f=this.Te.W.fb?this.Te.W.fb.I3:!1;if(c || f){f?d=0:c && (d=c - this.config.KQa());null !== a && a >= d && (this.log.info("Got a time change, loading the next player",k(b.W)),this.qUa(b.W),this.AF.splice(0,1));}}};c.prototype.lja=function(a){return this.Te.W.u === a.u?this.Te:this.AF.find(function(b){return b.W.u === a.u;});};c.prototype.qKb=function(a,b){a.X=b.X || a.X;a.Nj=b.Nj || a.Nj;a.fb=b.fb || a.fb;a.pa=b.pa || a.pa;};c.prototype.nn=function(a){return new l(this.log,this.config,this.cB,this.Npa,this.lj,this.yT,this,a,this.Wf,this.ey);};c.prototype.CV=function(a,b){this.Jub.forEach(function(c){b && b.removeEventListener(c.event,c.BE);a.addEventListener(c.event,c.BE);});this.Jb.dc(h.FC.kU);};b.HDa=c;},function(d,b,a){var m,f,h,q;function c(a,b,c,f,d,k){var m;m=this;this.P=b;this.j=c;this.cB=f;this.Ea=d;this.MI=k;this.$I=function(){m.gB && (m.gB.cancel(),m.gB=void 0);};this.log=a.tb("SegmentManager",this.j);this.Ja=new Map();this.j.Va.Kj && (this.j.addEventListener(h.V.LF,function(a){return m.hB(a);}),this.j.addEventListener(h.V.closed,this.$I));}function l(a,b){this.id=a;this.Ega=b;}function k(a,b,c,d){return f.Bc.call(this,a,c,void 0,void 0,void 0,b,void 0,d) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nva=void 0;m=a(2);f=a(40);h=a(13);q=a(4);L(k,f.Bc);k.prototype.toString=function(){return this.code + "-" + this.vd + " : " + this.message + "\n" + JSON.stringify(this.data);};l.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.Ac,contentEndPts:this.zd};};ma.Object.defineProperties(l.prototype,{Ac:{configurable:!0,enumerable:!0,get:function(){return this.Ega.startTimeMs;}},zd:{configurable:!0,enumerable:!0,get:function(){return this.Ega.endTimeMs;}},Sx:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Ega.next);}}});c.prototype.hB=function(a){var b;b=this;!1;0 === this.Ja.size && Object.entries(this.j.wR()).forEach(function(a){var c;c=N(a);a=c.next().value;c=c.next().value;b.Ja.set(a,new l(a,c));});this.ha=this.Ja.get(a.segmentId);};c.prototype.play=function(a){this.bv && (this.bv=void 0);this.$I();this.log.trace("Playing segment",a);return this.rTa(a)?this.xLb(a):this.vT(a);};c.prototype.Cl=function(a){this.log.trace("Queueing segment",a);return this.rTa(a)?this.nNb(a):this.pNb(a);};c.prototype.Ii=function(a,b){var c,f;c=this;f=this.j.Ga;if(null === f || void 0 === f || !f.Vg())return Promise.reject(this.getError(m.L.bva,"ASE session manager is not yet initialized",m.K.f8,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(d,k){try{f.QB(a,b);c.j.fireEvent(h.V.Eta,{va:a,nWb:b});d();}catch(I){k(c.getError(m.L.bva,"updateNextSegmentWeights threw an exception",m.K.a6a,{segmentId:a,updates:b,error:I}));}});};c.prototype.rTa=function(a){return this.ha?void 0 !== this.j.wR()[this.ha.id].next[a]:!1;};c.prototype.Kka=function(){var a;a=this.j.Ga;if(null === a || void 0 === a?0:a.Vg())return a.vn().de;};c.prototype.Fzb=function(){var a;a=this.j.Ga;if(null === a || void 0 === a?0:a.Vg())return a.vn().id;};c.prototype.Bxb=function(a){var b;b=this.j.Ga;if(null === b || void 0 === b?0:b.Vg())return (a=b.uE(a)) && a.Hd;};c.prototype.xLb=function(a){var b,c,f;b=this;c=this.j.Ga;if(null === c || void 0 === c || !c.Vg())return Promise.reject(this.getError(m.L.dN,"ASE session manager is not yet initialized",m.K.f8,{id:a}));if(this.ha && 1 === this.ha.Sx.length)return this.vT(a);if(!this.j.Vf)return (this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(m.L.dN,"MediaPresenter is not initialized",m.K.Y5a,{id:a})));f=this.Bxb(a);return void 0 === f?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.vT(a)):new Promise(function(d,k){var v,A,y,B,n,p;function l(){!y && A && v && (p.cancel(),y=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:A,repositioned:v,completed:y}),c.ln(a,!1,!0)?(d(),y=!0):(y=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.vT(a).then(d)["catch"](k)));}function r(){v=!0;b.log.trace("Player is repositioned",{id:a,stopped:A,repositioned:v,completed:y});b.j.removeEventListener(h.V.El,r);l();}function u(){b.j.removeEventListener(h.V.DF,u);c.stop();}function g(){A=!0;b.log.trace("ASE is stopped",{id:a,stopped:A,repositioned:v,completed:y});c.removeEventListener("stop",g);l();}v=!1;A=!1;y=!1;B=b.Ja.get(a);if(b.j.u4a()){if((n=b.Kka(),void 0 === n))return (b.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:a}),b.vT(a));}else n=B.Ac + (f || 0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:n,currentSegment:b.ha,nextSegment:B},null,"  "));b.j.fireEvent(h.V.E4,{Sg:b.ha && b.ha.id,eT:a});c.addEventListener("stop",g);b.j.addEventListener(h.V.DF,u);b.j.addEventListener(h.V.El,r);p=b.Ea.zi(q.$g(10),function(){y=!0;p.cancel();k(b.getError(m.L.dN,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.K.X5a,{id:a,stopped:A,repositioned:v,completed:y}));});b.P.seek(n,h.xd.IC);});};c.prototype.vT=function(a){var b;b=this.Ja.get(a);return b?this.hU(b,m.L.dN):Promise.reject(this.getError(m.L.dN,"Unable to find the separated segment",m.K.ava,{id:a}));};c.prototype.nNb=function(a){var b;b=this.j.Ga;if(null === b || void 0 === b || !b.Vg())return Promise.reject(this.getError(m.L.AG,"ASE session manager is not yet initialized",m.K.f8,{id:a}));this.j.fireEvent(h.V.E4,{Sg:this.ha && this.ha.id,eT:a});if(b.ln(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(m.L.AG,"ASE chooseNextSegment failed",m.K.V5a,{id:a}));};c.prototype.pNb=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.u,srcsegment:this.Fzb()});if(this.bv)return Promise.reject(this.getError(m.L.AG,"Unable to queue a non-next segment because there is currently already a segment queued",m.K.$5a,{currentSegment:this.ha?this.ha.id:void 0,queuedSegment:this.bv.id,failedSegment:a}));if(!this.ha)return Promise.reject(this.getError(m.L.AG,"Unable to queue a non-next segment because there is no currently playing segment",m.K.W5a,{nextSegmentid:a}));c=this.Ja.get(a);if(!c)return Promise.reject(this.getError(m.L.AG,"Unable to find the separated segment",m.K.ava,{nextSegmentid:a,currentSegmentId:this.ha.id}));this.bv={id:a,Pq:new Promise(function(f,d){var h;b.gB=b.cB.rha({Ika:function(){return q.Nb(100);}},function(){return b.P.j.nb.value || 0;});h=b.Kka() - 500;b.log.trace("Adding moment for queued segment",{segment:a,pts:h});b.gB.observe(h,function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.ha.id,playerEndPts:b.Kka(),pts:h});b.bv=void 0;b.$I();b.hU(c,m.L.AG).then(f)["catch"](d);});})};this.bv.Pq["catch"](function(a){b.j.ed(a.code,a);});return Promise.resolve();};c.prototype.hU=function(a,b){var c;c=this;return new Promise(function(f,d){var k;try{k=a.Ac;!1;c.P.seek(k,h.xd.Nv);f();}catch(I){d(c.getError(b,"Seek threw an exception",m.K.Z5a,{id:a.id,error:I}));}});};c.prototype.getError=function(a,b,c,f){this.log.warn(b,f);return new k(a,b,c,f);};b.nva=c;},function(d,b,a){var k,m;function c(){}function l(a,b,c,d,k){this.debug=a;this.version=b;this.fEb=c;this.uLb=d;this.config=k;}Object.defineProperty(b,"__esModule",{value:!0});b.EDa=void 0;d=a(0);k=a(1);m=a(4);l.prototype.uyb=function(){return this.config().DA;};l.prototype.Vja=function(){return this.config().lKa;};l.prototype.Ika=function(){return m.Nb(this.config().RLb);};l.prototype.KQa=function(){return this.config().nFb;};l.prototype.NQa=function(){return this.config().eGb;};c.prototype.rA=function(a,b,c,d,k){return new l(a,b,c,d,k);};a=c;a=d.__decorate([k.O()],a);b.EDa=a;},function(d,b,a){var l,k;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.EEa=void 0;d=a(0);l=a(1);a=a(14);c.prototype.VMb=function(a,b,c){var f,d;if(this.config().IQb){f=a.metrics;if(void 0 !== f && f.segment !== f.srcsegment){d=a.playlistSegment || void 0;b.Eq.transition({isBranching:void 0 === d || void 0,isPlaygraph:d,mid:b.u,xid:b.ea,srcxid:c.ea,srcmid:c.u,segment:a.segmentId,srcsegment:f.srcsegment,srcsegmentduration:f.srcsegmentduration,srcoffset:f.srcoffset,seamlessRequested:f.seamlessRequested,transitionType:f.transitionType,delayToTransition:f.delayToTransition,durationOfTransition:f.durationOfTransition,atRequest:f.atRequest,atTransition:f.atTransition,discard:f.discard});}}};k=c;k=d.__decorate([l.O(),d.__param(0,l.l(a.Sc))],k);b.EEa=k;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.D4a=void 0;d=a(1);c=a(341);l=a(700);b.D4a=new d.Tc(function(a){a(c.kca).to(l.XEa).Z();});},function(d,b,a){var l,k,m,f,h,q,u,r,g,A,y,B;function c(a){this.$d=a;}Object.defineProperty(b,"__esModule",{value:!0});b.XEa=void 0;d=a(0);l=a(1);k=a(101);m=a(27);f=a(22);h=a(6);q=a(90);u=a(210);r=a(343);g=a(701);A=a(211);y=a(78);B=a(344);c.prototype.Qqb=function(a,b,c,d,k){return new g.Oya(this.$d.get(m.rg),this.$d.get(f.He),this.$d.get(h.zb),this.$d.get(q.s9),this.$d.get(u.XX),this.$d.get(A.FX),this.$d.get(y.pW),this.$d.get(B.Aaa),this.$d.get(r.U8),a,b,c,d,k);};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(k.Z9))],a);b.XEa=a;},function(d,b,a){var l,k,m,f,h,q;function c(a,b,c,f,d,h,m,l,q,g,n,p,V,E){var r;r=this;this.Wd=a;this.Sa=b;this.Jb=f;this.Gs=h;this.uQ=m;this.CPa=l;this.config=g;this.lj=p;this.W=V;this.ey=E;this.j=n.create(V.u,V.Mk,q,E,V.fb,V.id);this.j.background=!0;this.j.pa=V.pa;this.log=c.tb("VideoPlayer",this.j);this.hYa=[];this.ended=!1;this.CV();this.j.state.addListener(function(a){a.newValue === k.Db.wd && r.oe(k.Vb.Dma,{movieId:V.u});});this.j.Va.Kj && (this.TI=d.cqb(this,this.j),this.j.addEventListener(k.V.LF,function(a){r.oe(k.Vb.tQb,{segmentId:a.segmentId});}));}Object.defineProperty(b,"__esModule",{value:!0});b.Oya=void 0;l=a(2);k=a(13);m=a(4);f=a(10);h=a(78);q=a(23);c.prototype.isReady=function(){return this.j.state.value === k.Db.wd;};c.prototype.czb=function(){return this.j.u;};c.prototype.jK=function(){return this.j.ea;};c.prototype.cp=function(){return this.j.Wf;};c.prototype.xu=function(){return this.j;};c.prototype.OA=function(){return this.j.Hs.value;};c.prototype.ADb=function(){return this.j.paused.value;};c.prototype.iDb=function(){return this.ended;};c.prototype.Yh=function(){var a;a=this.j.fga.value;return a?{networkStalled:! !a.H6,stalled:! !a.H6,progress:a.yi,progressRollback:! !a.$Mb}:null;};c.prototype.getError=function(){var a;a=this.j.Hj;return a?a.cta():null;};c.prototype.qxb=function(){var a;a=(this.L1() || 0) + this.j.NPa();return Math.min(a,this.XPa());};c.prototype.L1=function(){return this.j.wA();};c.prototype.XPa=function(){return this.j.Nr.ca(m.ga);};c.prototype.JAb=function(){return this.j.SM?{width:this.j.SM.width,height:this.j.SM.height}:null;};c.prototype.bka=function(){var d;if(this.j.Pm){for(var a,b=0;b < this.j.Pm.length;b++){for(var c=this.j.Pm[b],f=0;f < c.xc.length;f++){d=c.xc[f];this.Sa.Sh(d.yha) && this.Sa.Sh(d.h0) && this.Sa.Sh(d.g0) && this.Sa.Sh(d.f0) && 0 < d.h0 && (d=d.f0 / d.g0,a=this.Sa.Sh(a)?Math.min(a,d):d);}}return a;}};c.prototype.Gxb=function(){return this.j.bka();};c.prototype.Lwb=function(a){var b,c;return (null === (b=this.j.pa) || void 0 === b?0:b.hj.DR("generateScreenshots"))?this.CPa.$o(this.log,this.j.pa.hj,a):(b=null === (c=this.j.Va) || void 0 === c?void 0:c.qp)?this.CPa.Oe(this.log,Object.assign({packageId:b},a)):Promise.reject("Unknown packageId");};c.prototype.Sxb=function(){return this.Txb(this.j.cia);};c.prototype.Ywb=function(){var a;a=this;return this.j.jn?this.j.jn.map(function(b){return a.zE(b);}).filter(function(a){return null !== a;}):[];};c.prototype.GRa=function(a){var b,c;b=this;c=a && this.j.jn.find(function(c){return b.zE(c) === a;}) || this.j.Zc.value;return null === c?[]:c.Kl.map(function(a){return b.zE(a);}).filter(function(a){return null !== a;});};c.prototype.wDb=function(){return this.j.muted.value;};c.prototype.MAb=function(){return this.j.volume.value;};c.prototype.Xwb=function(){return this.zE(this.j.Zc.value);};c.prototype.FRa=function(){return this.zE(this.j.Oc.value);};c.prototype.YCb=function(){return ! !this.j.background;};c.prototype.hRb=function(a){this.j.muted.set(! !a);};c.prototype.ERb=function(a){this.j.volume.set(this.QIb(a));};c.prototype.nRb=function(a){this.j.playbackRate.set(a);};c.prototype.un=function(){return this.j.playbackRate.value;};c.prototype.SQb=function(a){var b,c;b=this;c=this.j.jn.find(function(c){return b.zE(c) === a;});c?this.j.Zc.set(c):this.log.error("Invalid setAudioTrack call");};c.prototype.d1a=function(a){var f;if(null !== this.j.Zc.value){for(var b=this.j.Zc.value.Kl,c=0;c < b.length;c++){f=b[c];if(!a && null === f){this.j.Oc.set(null);return;}if(this.zE(f) === a){this.log.info("Setting Timed Text, profile: " + f.profile);this.j.Oc.set(f);return;}}this.log.error("Invalid setTimedTextTrack call");}};c.prototype.I0a=function(a){this.j.background=a;};c.prototype.GU=function(){this.j.GU();};c.prototype.addEventListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.qB=function(){};c.prototype.load=function(){var a;a=this;this.loaded || (this.loaded=!0,this.j.load(function(b,c){try{a.oe(k.Vb.rFb,void 0,!0);b.pa && (b.pa.Fc.S4a && a.oe(k.Vb.wXb,b.pa.Fc.S4a,!0),b.pa.Fc.Oo && a.oe(k.Vb.sQb,{segmentMap:b.pa.Fc.Oo},!0));c({ia:!0});}catch(A){c({ka:l.K.ei,Ab:a.Wd.Ue(A)});}}));};c.prototype.close=function(a){var b;b=this;this.wLa || (this.wLa=new Promise(function(c){a?b.j.SD(a,c):b.j.close(c);}));return this.wLa;};c.prototype.play=function(){this.j.kl?this.j.fireEvent(k.V.V_a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(k.V.s4a)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(k.V.OWb));};c.prototype.seek=function(a,b,c,f){this.j.Vf?this.j.Vf.seek(a,b,c,f):this.j.JD=a;};c.prototype.yLb=function(a){return this.TI?(this.log.trace("Playing a segment",a),this.TI.play(a)):Promise.resolve();};c.prototype.oNb=function(a){return this.TI?(this.log.trace("Queueing a segment",a),this.TI.Cl(a)):Promise.resolve();};c.prototype.Ii=function(a,b){return this.TI?(this.log.trace("Updating next segment weights",a,b),this.TI.Ii(a,b)):Promise.resolve();};c.prototype.iV=function(){this.j.iV();};c.prototype.k2=function(){var a;a=this.j.Fp.k2();return {bounds:a.jQ,margins:a.Hq,size:a.size,visibility:a.visibility};};c.prototype.wU=function(a){var b,c,f;b=a.bounds;c=a.margins;f=a.size;a=a.visibility;this.j.aV && (b && this.j.aV.dsa(b),c && this.j.aV.esa(c),"boolean" === typeof a && this.j.aV.fsa(a));this.j.Fp && f && this.j.Fp.yRb(f);};c.prototype.e1a=function(a){this.j.Ll=a;};c.prototype.wAb=function(a){return this.j.zy && this.j.zy.tyb(a) || null;};c.prototype.Rwb=function(){return this.Wd.YS({playerver:this.config.version,jssid:this.config.fEb,groupName:this.config.uyb(),xid:this.j.ea,pbi:this.j.index},this.config.uLb,{prefix:"pi_"});};c.prototype.vCb=function(a){this.j.ed(l.L.C8a,l.K.Ul,a);};c.prototype.gFb=function(a,b,c,f){if(!this.Sa.aJa(a))throw Error("invalid url");this.hYa.push({url:a,name:b,Ukb:c,options:f});this.cZa();};c.prototype.oRa=function(){var a,b,c,f,d,h,k,m;a={};b=this.j.S1a;try{if((this.j.Hj && (a.errorCode=this.j.Hj.B0,a.errorType=b?"endplay":"startplay"),a.playdelay=q.zk(this.j.lga()),a.xid=this.j.ea,this.j.pa && this.Sa.Eo(this.j.pa.Fc.qp) && (a.packageId=Number(this.j.pa.Fc.qp)),a.auth=this.j.axb(),b)){a.totaltime=this.j.Ln?this.jx(this.j.Ln.LR()):0;a.abrdel=this.j.Ln?this.j.Ln.JPa():0;c=this.j.Vf;f=c?c.vE():null;this.Sa.Sh(f) && (a.totdfr=f);f=c?c.yR():null;this.Sa.Sh(f) && (a.totcfr=f);d=c?c.Fyb():null;d && (a.rbfrs_decoder=d.o0,a.rbfrs_network=d.A4);a.rbfrs_delay=this.j.Ln?this.j.Ln.qma:0;a.init_vbr=this.j.V2;h=this.HR();this.Sa.cE(h) && (a.pdltime=h);k=this.j.Df.value;m=k && k.stream;m && (a.vbr=m.U,a.vdlid=m.Jd);a.bufferedTime=this.j.NPa();}}catch(D){this.log.error("error capturing session summary",D);}return a;};c.prototype.dR=function(a){this.j.Va.Tn && (this.j.Va.Tn.userEngageAction=1);return this.Sa.Sh(this.j.nb.value)?(a=Object.assign(Object.assign({},this.Gs.create(this.j)),{action:a}),this.uQ(h.Rm.dR).$o(this.log,this.j.pa.hj,a).then(function(){return {success:!0};})["catch"](function(a){return {success:!1,errorCode:a.code,errorSubCode:a.vd,errorExternalCode:a.Ug,errorData:a.data,errorDetails:a.bx};})):Promise.resolve({success:!1});};c.prototype.Txb=function(a){return {register:a.register.bind(a),notifyUpdated:a.TWa.bind(a),getModel:a.azb.bind(a),getGroups:a.T1.bind(a),addEventListener:a.addEventListener.bind(a),removeEventListener:a.removeEventListener.bind(a),getTime:a.getTime.bind(a)};};c.prototype.zE=function(a){var b;if(null !== a){b=a.eNb=a.eNb || ({trackId:a.Xa,bcp47:a.gm,displayName:a.displayName,trackType:a.co,channels:a.Lr});a.hp && (b.isImageBased=!0);this.CDb(a) && (b.isNative=a.isNative,b.surroundFormatLabel=a.W6);this.DDb(a) && (b.isNoneTrack=a.zK(),b.isForcedNarrative=a.i3());return b;}return null;};c.prototype.CDb=function(a){return "undefined" !== typeof a.isNative;};c.prototype.DDb=function(a){return "undefined" !== typeof a.zK && "undefined" !== typeof a.i3;};c.prototype.QIb=function(a){return 0 <= a?1 >= a?a:1:0;};c.prototype.jx=function(a){return this.Sa.Sh(a)?(a / 1E3).toFixed(0):"";};c.prototype.oe=function(a,b,c){b=b || ({});b.target=this;this.Jb.dc(a,b,!c);};c.prototype.CV=function(){var a;a=this;this.j.addEventListener(k.V.Vsa,function(){a.oe(k.Vb.lq);});this.j.addEventListener(k.V.c4,function(){a.oe(k.Vb.xKa);});this.j.addEventListener(k.V.El,function(){a.oe(k.Vb.xKa);});this.j.addEventListener(k.V.pK,function(b){a.oe(k.Vb.pK,{errorCode:b});});this.j.addEventListener(k.V.Ifa,function(b){a.oe(k.Vb.Vkb,b.j);});this.j.addEventListener(k.V.kl,function(b){a.oe(k.Vb.Wkb,b);});this.j.Hs.addListener(function(){a.oe(k.Vb.PLb);});this.j.paused.addListener(function(){a.oe(k.Vb.PKb);});this.j.muted.addListener(function(){a.oe(k.Vb.VHb);});this.j.volume.addListener(function(){a.oe(k.Vb.pXb);});this.j.Ob.addListener(function(){a.Q3a();});this.j.state.addListener(function(){a.Q3a();});this.j.fga.addListener(function(b){a.oFb || a.j.state.value != k.Db.wd || b.newValue || (a.oFb=!0,a.oe(k.Vb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.oRa());}));a.oe(k.Vb.gga);});this.j.Zc.addListener(function(b){a.oe(k.Vb.$P);b.oldValue && b.newValue && b.oldValue.Kl == b.newValue.Kl || a.oe(k.Vb.iG);setTimeout(function(){var b;if(null !== a.j.Zc.value && null !== a.j.Oc.value){b=a.j.Zc.value.Kl;0 <= b.indexOf(a.j.Oc.value) || (a.log.info("Changing timed text track to match audio track"),a.j.Oc.set(b[0]));}},0);});this.j.Oc.addListener(function(b){b.oldValue && b.newValue && b.oldValue.Xa == b.newValue.Xa || a.oe(k.Vb.IM);});this.j.addEventListener(k.V.iG,function(){a.oe(k.Vb.iG);});this.j.addEventListener(k.V.gV,function(){a.oe(k.Vb.gV);});this.j.state.addListener(function(b){switch(b.newValue){case k.Db.wd:a.oe(k.Vb.Btb);a.oe(k.Vb.iXb);a.oe(k.Vb.LJa);a.oe(k.Vb.iG);a.oe(k.Vb.qFb);a.cZa();a.CXb();break;case k.Db.CLOSING:a.j.Hj && a.oe(k.Vb.error,a.j.Hj.cta());break;case k.Db.CLOSED:(a.oe(k.Vb.closed),a.Jb.Tg());}});};c.prototype.CXb=function(){var a;a=this;this.j.Fp.addEventListener("showsubtitle",function(b){a.oe(k.Vb.lSb,b,!0);});this.j.Fp.addEventListener("removesubtitle",function(b){a.oe(k.Vb.JOb,b,!0);});};c.prototype.cZa=function(){if(this.j.state.value == k.Db.wd){for(var a,b,c;b=this.hYa.shift();){a=this.j.Fp.Rea(b.url,b.name,b.options);b.Ukb && (c=a);}c && this.j.Oc.set(c);}};c.prototype.Q3a=function(){var a;a=this.j.state.value == k.Db.wd && this.j.Ob.value == k.sb.vt;this.ended !== a && (this.ended=a,this.j.bq("Ended changed: " + a),(a || this.j.state.value === k.Db.CLOSING) && this.oe(k.Vb.wub));};c.prototype.HR=function(){var a,b;try{a=/playercore.*js/;b=f.Et.getEntriesByType("resource").filter(function(b){return null !== a.exec(b.name);});if(b && 0 < b.length)return JSON.stringify(Math.round(b[0].duration));}catch(v){}};b.Oya=c;},function(d,b,a){var c,l,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.MB=void 0;d=a(1);c=a(703);l=a(704);k=a(705);m=a(346);f=a(345);h=a(212);b.MB=new d.Tc(function(a){a(h.Xba).to(c.wEa);a(m.v8).to(l.Lva).Z();a(f.Wba).ci(new k.vEa());a(h.fY).hf(function(a){return function(){return a.mb.get(h.Xba);};});});},function(d,b,a){var l,k,m,f;function c(a){this.config=a;this.psa=k.lb;this.oM=[];}Object.defineProperty(b,"__esModule",{value:!0});b.wEa=void 0;d=a(0);l=a(1);k=a(46);m=a(4);a=a(345);c.prototype.wn=function(){var b;for(var a;0 < this.oM.length;){a=this.oM.shift();this.uIa(a);}a=void 0 === this.SQ || void 0 === this.fE?m.lb:this.fE.Fa(this.SQ);b=a.HTa()?0:this.psa.ca(k.eC) / a.ca(m.ga);return {fG:Math.floor(b),lia:a.ca(m.ga)};};c.prototype.ZZ=function(a){this.psa=this.psa.add(a.size);this.oM.push(a.jtb);for(this.oM.sort(function(a,b){return a.start.qk(b.start);});this.oM.length > this.config.ktb;){a=this.oM.shift();this.uIa(a);}};c.prototype.uIa=function(a){void 0 === this.SQ && (this.SQ=a.start);void 0 !== this.fE && 0 > this.fE.qk(a.start) && (this.SQ=this.SQ.add(a.start.Fa(this.fE)));if(void 0 === this.fE || 0 > this.fE.qk(a.end))this.fE=a.end;};f=c;f=d.__decorate([l.O(),d.__param(0,l.l(a.Wba))],f);b.wEa=f;},function(d,b,a){var l,k;function c(a){this.XUb=a;this.a7={};}Object.defineProperty(b,"__esModule",{value:!0});b.Lva=void 0;d=a(0);l=a(1);a=a(212);c.prototype.zxb=function(){var a,b,c;a=[];for(b in this.a7){c=this.a7[b];a.push({Qz:Number(b),fG:c.wn().fG,lia:c.wn().lia});}return a;};c.prototype.ZZ=function(a){var b,c;b=a.Qz;c=this.a7[b];c || (c=this.XUb(),this.a7[b]=c);c.ZZ(a);};k=c;k=d.__decorate([l.O(),d.__param(0,l.l(a.fY))],k);b.Lva=k;},function(d,b,a){function c(a){this.ktb=void 0 === a?10:a;}Object.defineProperty(b,"__esModule",{value:!0});b.vEa=void 0;d=a(0);a=a(1);c=d.__decorate([a.O()],c);b.vEa=c;},function(d,b,a){var c,l,k,m,f,h,q,g,r,v,A,y,B,I,n,D,p,R,U,V,E,Z,t;Object.defineProperty(b,"__esModule",{value:!0});b.mm=void 0;d=a(1);c=a(29);l=a(14);k=a(707);m=a(136);f=a(117);h=a(708);q=a(213);g=a(709);r=a(347);v=a(348);A=a(710);y=a(214);B=a(10);I=a(354);n=a(714);D=a(355);p=a(715);R=a(216);U=a(716);V=a(356);E=a(33);Z=a(353);t=a(717);b.mm=new d.Tc(function(a){a(f.MC).to(h.UDa).Z();a(c.iC).to(k.vwa).Z();a(q.c$).to(g.Pya).Z();a(v.s8).to(A.Fva).Z();a(q.Qaa).ci({isTypeSupported:B.dH && B.dH.isTypeSupported});a(y.UV).ci("undefined" !== typeof cast?cast:null);a(r.u9).NB(function(a){return {lyb:function(){return a.mb.get(E.lH);}};});a(m.GG).NB(function(a){return a.mb.get(l.Sc);});a(I.M$).to(n.bAa).Z();a(Z.K$).to(t.aAa).Z();a(D.L$).to(p.cAa).Z();a(R.t9).to(U.uxa).Z();a(V.pba).ci(ka);});},function(d,b,a){var l,k,m,f,h,q;function c(a,b,c){this.config=a;this.RKa=b;this.tLb=c;this.WMb=this.Yqb();}Object.defineProperty(b,"__esModule",{value:!0});b.vwa=void 0;d=a(0);l=a(29);k=a(136);m=a(1);f=a(56);h=a(347);a=a(348);c.prototype.BRa=function(){return this.HPa().CRa();};c.prototype.DRa=function(a){return this.zu().CRa(a);};c.prototype.HPa=function(){this.Afa && this.Afa.type == this.config().Bfa || (this.Afa=this.RKa.bqb(this.config().Bfa));return this.Afa;};c.prototype.zu=function(){this.D7 && this.D7.type == this.config().E7 || (this.D7=this.RKa.hrb(this.config().E7),this.D7.Sea(this.tLb.lyb()));return this.D7;};c.prototype.yyb=function(a){var f;if(!a || !a.length)return l.Od.xW;a=this.Ovb(a);for(var b=[l.Od.mO,l.Od.xW,l.Od.tH,l.Od.Ev,l.Od.gr,l.Od.zG,l.Od.dz,l.Od.sj],c=b.length;c--;){f=b[c];if((0,this.WMb[f])(a))return f;}return l.Od.mO;};c.prototype.mv=function(a){return this.zu().mv(a);};c.prototype.Pw=function(a){return this.zu().Pw(a);};c.prototype.nx=function(){return this.zu().nx();};c.prototype.PU=function(){return this.zu().PU();};c.prototype.NU=function(){return this.HPa().NU();};c.prototype.V6=function(){return this.zu().V6();};c.prototype.QU=function(){return this.zu().QU();};c.prototype.VJ=function(a){return this.zu().VJ(a);};c.prototype.cK=function(){return this.zu().cK();};c.prototype.b2=function(){return this.zu().b2();};c.prototype.Ovb=function(a){var b;b={};a.filter(function(a){return "video" === a.type;}).forEach(function(a){b[a.vg]="";});return Object.keys(b);};c.prototype.Yqb=function(){var a;a={};a[l.Od.sj]=function(a){return a.some(function(a){return -1 < a.indexOf("av1");});};a[l.Od.zG]=function(a){return a.some(function(a){return -1 < a.indexOf("hpl");});};a[l.Od.dz]=function(a){return a.some(function(a){return -1 < a.indexOf("vp9");});};a[l.Od.gr]=function(a){return a.some(function(a){return -1 < a.indexOf("hevc-dv");});};a[l.Od.Ev]=function(a){return a.some(function(a){return -1 < a.indexOf("hevc-hdr");});};a[l.Od.tH]=function(a){return a.some(function(a){return -1 < a.indexOf("hevc-main10-L") || -1 < a.indexOf("hevc-main-L");});};a[l.Od.xW]=(function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=N(b);for(b=a.next();!b.done;b=a.next()){if(c[b.value])return !0;}return !1;}).bind(null,[f.T.OG]);a[l.Od.mO]=function(){return !0;};return a;};q=c;q=d.__decorate([m.O(),d.__param(0,m.l(k.GG)),d.__param(1,m.l(a.s8)),d.__param(2,m.l(h.u9))],q);b.vwa=q;},function(d,b,a){var l,k,m,f,h,q,g,r;function c(a,b,c){this.mm=a;this.Sa=b;this.h2a=c;this.Dib="video/mp4;codecs={0}";this.ydb="audio/mp4;codecs={0}";a=this.mm.VJ(k.Od.gr);this.Cib=f.Gd.DMa(a);}Object.defineProperty(b,"__esModule",{value:!0});b.UDa=void 0;d=a(0);k=a(29);m=a(1);f=a(137);h=a(22);q=a(327);g=a(349);r=a(12);c.prototype.GQ=function(a){a=this.mm.yyb(a);a=this.Sa.cE(a)?a:k.Od.mO;return this.h2a.format(this.Dib,this.Cib[a]);};c.prototype.BQ=function(a){if(0 === a.length)return this.h2a.format(this.ydb,f.Gd.FV);a=g.c8[a[0].vg] || l.dua;return a === l.dua?r.rC:a === l.v5a?r.Hza:r.Gza;};a=l=c;a.dua="AAC";a.v5a="XHEAAC";a=l=d.__decorate([m.O(),d.__param(0,m.l(k.iC)),d.__param(1,m.l(h.He)),d.__param(2,m.l(q.Rba))],a);b.UDa=a;},function(d,b,a){var l,k,m,f,h,q;function c(a,b,c){this.config=a;this.$Ma=b;this.cast=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Pya=void 0;d=a(0);l=a(1);k=a(213);m=a(136);f=a(29);h=a(214);q=a(215);c.prototype.vMa=function(){switch(this.config().E7){case f.Vl.t8:return h.u8.oha(this.$Ma,this.cast);case f.Vl.yC:return q.Sy.oha(this.config);default:return this.$Ma;}};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(m.GG)),d.__param(1,l.l(k.Qaa)),d.__param(2,l.l(h.UV))],a);b.Pya=a;},function(d,b,a){var l,k,m,f,h,q,g,r,v,A,y,B,I,n,D,p,R,U;function c(a,b,c,f,d,h,k,m,l,q,r){this.CTa=a;this.cast=b;this.config=c;this.Ea=f;this.ta=d;this.is=h;this.Ek=k;this.Dq=m;this.platform=l;this.oc=q;this.Ku=r;}Object.defineProperty(b,"__esModule",{value:!0});b.Fva=void 0;d=a(0);l=a(1);k=a(29);m=a(213);f=a(136);h=a(214);q=a(711);g=a(712);r=a(159);v=a(352);A=a(42);y=a(35);B=a(22);I=a(713);n=a(75);D=a(6);p=a(31);R=a(41);a=a(353);c.prototype.bqb=function(a){var b;b=this.CTa.vMa();switch(a){case k.Hy.yC:return new q.uAa(this.config,b,this.is,this.platform,this.Ku);default:return new v.hW(this.config,b,this.Ku);}};c.prototype.hrb=function(a){var b;b=this.CTa.vMa();switch(a){case k.Vl.t8:a=new h.u8(this.config,b,this.is,this.cast,this.Ku);break;case k.Vl.w8:a=new I.Ova(this.config,b,this.is,this.Ek,this.Dq,this.ta,this.Ku);break;case k.Vl.yC:a=new g.Nza(this.config,b,this.is,this.Ea,this.ta,this.Dq,this.oc,this.Ku);break;default:a=new r.Mp(this.config,b,this.is,this.Ku);}return a;};U=c;U=d.__decorate([l.O(),d.__param(0,l.l(m.c$)),d.__param(1,l.l(h.UV)),d.__param(2,l.l(f.GG)),d.__param(3,l.l(A.ph)),d.__param(4,l.l(y.fh)),d.__param(5,l.l(B.He)),d.__param(6,l.l(n.nr)),d.__param(7,l.l(D.zb)),d.__param(8,l.l(p.vj)),d.__param(9,l.l(R.Ki)),d.__param(10,l.l(a.K$))],U);b.Fva=U;},function(d,b,a){var l,k,m,f,h;function c(a,b,c,d,h){a=f.hW.call(this,a,b,h) || this;a.is=c;a.platform=d;a.type=l.Hy.yC;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.uAa=void 0;l=a(29);k=a(56);m=a(131);f=a(352);h=a(215);L(c,f.hW);c.prototype.NU=function(){return Promise.resolve(this.config().GJ && this.Pz(m.Wb.Jt,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.ZD=function(){var a;a={};a[k.kf.IN]="mp4a.40.2";a[k.kf.FW]="mp4a.40.5";a[k.kf.JN]="mp4a.40.2";"browser" === this.platform.Dsb?this.config().GJ && (a[k.kf.qN]={wh:"avc1",Xg:m.Wb.Jt,cf:["audio-endpoint-codec=DD+JOC"]},a[k.kf.rN]={wh:"avc1",Xg:m.Wb.Jt,cf:["audio-endpoint-codec=DD+JOC"]}):(this.config().Aia && (a[k.kf.qN]="ec-3"),this.config().zia && (a[k.kf.YV]="ec-3"),this.config().GJ && (a[k.kf.rN]={wh:"avc1",Xg:m.Wb.Jt,cf:["audio-endpoint-codec=DD+JOC"]}));return a;};c.prototype.POa=function(a){var b;b=this;a=a.filter(function(a){var c,d;for(var c=N(b.Yu),f=c.next();!f.done;f=c.next()){if(f.value.test(a))return !0;}c=N(b.Fm);for(f=c.next();!f.done;f=c.next()){if(f.value.test(a))return !1;}a=b.oqa[a];c=[];d=m.Wb.Jt;if(a)return (b.is.Eo(a)?f=a:(c=a.cf,f=a.wh,d=a.Xg),b.Pz(d,f,c));});return Promise.resolve(a);};c.prototype.Pz=function(a,b,c){a=h.Sy.c0(a,b,c);return this.Pw(a);};b.uAa=c;},function(d,b,a){var l,k,m,f,h,q,g,r,v,A,y,B,I,n,D,p,R,U,V,E;function c(a,b,c,f,d,h,l,q){a=k.Mp.call(this,a,b,c,q) || this;a.Ea=f;a.ta=d;a.Dq=h;a.oc=l;a.Ku=q;a.type=m.Vl.yC;a.nN="hvc1";a.H6a="avc1";a.tYa={};a.log=a.Dq.tb("MicrosoftVideoCapabilityDetector");a.OSb();a.OU && a.config().cHb?a.rtb=a.tqb():(a.rtb=Promise.resolve(""),a.config().eHb?a.zqb():a.config().dHb && a.yqb());return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Nza=void 0;l=a(56);k=a(159);m=a(29);d=a(105);f=a(131);h=a(134);q=a(4);g=a(325);r=a(137);v=a(215);A=a(103);y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");B=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");I=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");n=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");D=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");p=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");R=["hdcp=1"];U=["hdcp=2"];V=new d.Zy();E=new g.h8();L(c,k.Mp);c.prototype.VJ=function(a){return a === m.Od.gr && this.config().zWb?r.Gd.BN:k.Mp.prototype.VJ.call(this,a);};c.prototype.mv=function(a){switch(a){case m.Mi.pC:return this.r2a();case m.Mi.zt:return this.HT;default:return Promise.resolve(!1);}};c.prototype.nx=function(){return this.OU?this.WBb?this.r2a().then(function(a){return Promise.resolve(a?f.Wb.lf:f.Wb.fO);}):Promise.resolve(f.Wb.fO):this.QTb?Promise.resolve(f.Wb.fO):Promise.resolve(f.Wb.Jt);};c.prototype.PU=function(){return Promise.resolve({result:this.q2a(),reason:"is-type-supported"});};c.prototype.QU=function(){return this.OU && this.t2a()?this.HT:Promise.resolve(!1);};c.prototype.V6=function(){return Promise.resolve(this.p2a()).then(function(a){return {result:a,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Sea=function(a){this.Kn=a;Object.assign(this.Kn,this.tYa);a.itshwdrm=this.OU;a.itsqhd=this.s2a();a.itshevc=this.t2a();a.itshdr=this.q2a();a.itsdv=this.p2a();return a;};c.prototype.QP=function(a,b){(this.Kn?this.Kn:this.tYa)[a]=b;};c.prototype.cK=function(){var a;a=this;return this.mv(m.Mi.zt).then(function(b){return b?a.DQ(m.Mi.zt):a.mv(m.Mi.pC).then(function(b){return b?a.DQ(m.Mi.pC):a.DQ(void 0);});});};c.prototype.b2=function(){return this.nx().then(function(a){return a === f.Wb.lf?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.PJ=function(a){var b,c,d;a=this.oqa[a];c=[];d=f.Wb.Jt;return a?(this.is.Eo(a)?b=a:(c=a.cf,b=a.wh,d=a.Xg),a=this.Pz(d,b,c),Promise.resolve(a)):Promise.resolve(!1);};c.prototype.ZD=function(){var a;a=k.Mp.prototype.ZD.call(this);a[l.T.uH]="vp09.00.11.08.02";a[l.T.vH]="vp09.00.11.08.02";a[l.T.wO]="vp09.00.11.08.02";a[l.T.IW]=a[l.T.HW]={wh:"hev1.2.6.L90.B0",Xg:f.Wb.lf,cf:y};a[l.T.KW]=a[l.T.JW]={wh:"hev1.2.6.L93.B0",Xg:f.Wb.lf,cf:y};a[l.T.MW]=a[l.T.LW]={wh:"hev1.2.6.L120.B0",Xg:f.Wb.lf,cf:y};a[l.T.OW]=a[l.T.NW]={wh:"hev1.2.6.L123.B0",Xg:f.Wb.lf,cf:y};a[l.T.PW]=a[l.T.QG]={wh:"hev1.2.6.L150.B0",Xg:f.Wb.lf,cf:y};a[l.T.QW]=a[l.T.RG]={wh:"hev1.2.6.L153.B0",Xg:f.Wb.lf,cf:y};a[l.T.yW]=a[l.T.DN]={wh:"hev1.2.6.L90.B0",Xg:f.Wb.lf,cf:I};a[l.T.zW]=a[l.T.EN]={wh:"hev1.2.6.L93.B0",Xg:f.Wb.lf,cf:I};a[l.T.AW]=a[l.T.PG]={wh:"hev1.2.6.L120.B0",Xg:f.Wb.lf,cf:I};a[l.T.BW]=a[l.T.FN]={wh:"hev1.2.6.L123.B0",Xg:f.Wb.lf,cf:n};a[l.T.DW]=a[l.T.GN]={wh:"hev1.2.6.L150.B0",Xg:f.Wb.lf,cf:n};a[l.T.EW]=a[l.T.HN]={wh:"hev1.2.6.L153.B0",Xg:f.Wb.lf,cf:n};a[l.T.$V]=a[l.T.sN]={wh:"hev1.2.6.L90.B0",Xg:f.Wb.lf,cf:D};a[l.T.aW]=a[l.T.tN]={wh:"hev1.2.6.L93.B0",Xg:f.Wb.lf,cf:D};a[l.T.bW]=a[l.T.EG]={wh:"hev1.2.6.L120.B0",Xg:f.Wb.lf,cf:D};a[l.T.cW]=a[l.T.uN]={wh:"hev1.2.6.L123.B0",Xg:f.Wb.lf,cf:p};a[l.T.dW]=a[l.T.vN]={wh:"hev1.2.6.L150.B0",Xg:f.Wb.lf,cf:p};a[l.T.fW]=a[l.T.eW]={wh:"hev1.2.6.L153.B0",Xg:f.Wb.lf,cf:p};return a;};c.prototype.Pz=function(a,b,c){a=v.Sy.c0(a,b,c);return this.Pw(a);};c.prototype.s2a=function(){return this.Pz(f.Wb.lf,this.nN,y);};c.prototype.q2a=function(){return this.Pz(f.Wb.lf,this.nN,I);};c.prototype.p2a=function(){return this.Pz(f.Wb.lf,this.nN,D);};c.prototype.t2a=function(){return this.Pz(f.Wb.lf,this.nN,B);};c.prototype.r2a=function(){var a;a=this;return this.HT.then(function(b){return b?Promise.resolve(b):a.fZa;});};c.prototype.lV=function(){this.Kn && (this.Kn.itshdcp=JSON.stringify({hdcp1:this.jSa,time1:this.K2a - this.O1a,hdcp2:this.kSa,time2:this.L2a - this.P1a}));};c.prototype.OSb=function(){var a;a=this;this.OU?(this.Upa=new h.mo(),this.Vpa=new h.mo(),this.fZa=h.Eb.from(this.Upa).$s().then(function(a){return "probably" === a;}),this.HT=h.Eb.from(this.Vpa).$s().then(function(a){return "probably" === a;}),this.m1a(this.Vpa,this.config().gHb),this.IYa(this.wyb.bind(this),this.Vpa),this.HT.then(function(b){b || (a.m1a(a.Upa,a.config().fHb),a.IYa(a.vyb.bind(a),a.Upa));})):(this.fZa=Promise.resolve(!0),this.HT=Promise.resolve(!1));};c.prototype.IYa=function(a,b){h.Eb.wy(0,this.config().hHb).map(function(){return a();}).EU(function(a){return "maybe" === a;}).map(function(a){b.next(a);b.complete();}).YU(h.Eb.from(b)).$s();};c.prototype.m1a=function(a,b){this.Ea.zi(q.Nb(b),function(){a.next("timeout");a.complete();});};c.prototype.vyb=function(){var a;a=v.Sy.c0(f.Wb.fO,this.H6a,R).split("|");this.jSa=v.Sy.Lsa(a[0],a[1]);this.K2a=this.ta.Ae.ca(q.ga);this.O1a=this.O1a || this.K2a;this.lV();return this.jSa;};c.prototype.wyb=function(){var a;a=v.Sy.c0(f.Wb.lf,this.nN,U).split("|");this.kSa=v.Sy.Lsa(a[0],a[1]);this.L2a=this.ta.Ae.ca(q.ga);this.P1a=this.P1a || this.L2a;this.lV();return this.kSa;};c.prototype.tqb=function(){var a;a=this;return this.sha(f.Wb.lf,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0">' + ("<ServerCert>" + A.oaa + "</ServerCert>") + "</DriverInfo></PlayReadyCDMData>").then(function(b){a.log.debug("DriverInfo: " + b);return b;})["catch"](function(b){a.QP("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};c.prototype.yqb=function(){var a;a=this;this.sha(f.Wb.Jt,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.oc.decode(b));a.QP("itsHardwareInfo",c);a.log.debug("HardwareInfo: " + c);return b;})["catch"](function(b){a.QP("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};c.prototype.zqb=function(){var a;a=this;this.sha(f.Wb.Jt,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.oc.decode(b));a.QP("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: " + c);return b;})["catch"](function(b){a.QP("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};c.prototype.sha=function(a,b){var c;c=this;return new Promise(function(f,d){var g,u,v;function h(a){try{l(a.target,"Unexpectedly got an mskeyerror event: 0x" + E.pR(a && a.target && a.target.error && a.target.error.X8b || 0,4));}catch(Ca){l(a.target,Ca);}}function k(a){l(a.target,"Unexpectedly got an mskeyadded event");}function m(a){var b;try{b=c.cja(a.message,"PlayReadyKeyMessage","Challenge");r(a.target);f(b);}catch(Wa){l(a.target,Wa);}}function l(a,f){c.log.error("PlayReadyChallenge error",{cdmData:b});r(a);d(f);}function r(a){a.removeEventListener("mskeymessage",m);a.removeEventListener("mskeyadded",k);a.removeEventListener("mskeyerror",h);g && g.cancel();}try{u=new Uint8Array(V.tTb(b));v=new ka.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),u);v.addEventListener("mskeymessage",m);v.addEventListener("mskeyadded",k);v.addEventListener("mskeyerror",h);g=c.Ea.zi(q.Nb(1E3),function(){l(v,Error("timeout"));});}catch(ja){d(ja);}});};c.prototype.cja=function(a,b){var c,f,d,h;for(var c=1;c < arguments.length;++c){;}c="";d=a.length;for(f=0;f < d;f++){h=a[f];0 < h && (c+=String.fromCharCode(h));}d="\\s*(.*)\\s*";for(f=arguments.length - 1;0 < f;f--){h=arguments[f];if(0 > c.search(h))return;h="(?:[^:].*:|)" + h;d="[\\s\\S]*<" + h + "[^>]*>" + d + "</" + h + ">[\\s\\S]*";}if(c=c.match(new RegExp(d)))return c[1];};ma.Object.defineProperties(c.prototype,{WBb:{configurable:!0,enumerable:!0,get:function(){return this.config().Utb && (!this.config().iHb || this.s2a());}},OU:{configurable:!0,enumerable:!0,get:function(){try{return this.Pw(f.Wb.lf + '|video/mp4;codecs="' + r.Gd.NG + '"');}catch(Z){return !1;}}},QTb:{configurable:!0,enumerable:!0,get:function(){try{return this.Pw(f.Wb.fO);}catch(Z){return !1;}}}});b.Nza=c;c.qG='video/mp4;codecs="{0},mp4a";';},function(d,b,a){var l,k,m,f;function c(a,b,c,f,d,m,g){a=l.Mp.call(this,a,b,c,g) || this;a.Ek=f;a.Dq=d;a.ta=m;a.Ku=g;a.type=k.Vl.w8;a.log=a.Dq.tb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Ova=void 0;l=a(159);k=a(29);m=a(4);f=a(103);L(c,l.Mp);c.prototype.mv=function(a){switch(a){case k.Mi.zt:return this.PTb;default:return Promise.resolve(!1);}};c.prototype.cK=function(){var a;a=this;return this.mv(k.Mi.zt).then(function(a){return a?k.Mi.zt:void 0;}).then(function(b){return a.DQ(b);});};c.prototype.Sea=function(a){return this.Kn=a;};c.prototype.VDb=function(a){var b;return !(null === (b=a.getConfiguration().videoCapabilities) || void 0 === b || !b.some(function(a){return (null === a || void 0 === a?void 0:a.robustness) === f.SW;}));};c.prototype.lV=function(){var a;if(this.Kn){a=this.lSa && this.nSa && this.lSa.Fa(this.nSa).ca(m.ga);this.Kn.itshdcp=JSON.stringify({hdcp2:this.ls,time2:a});}};ma.Object.defineProperties(c.prototype,{Am:{configurable:!0,enumerable:!0,get:function(){this.HVa || (this.HVa=this.Ek.wu().then(function(a){return a.createMediaKeys();}));return this.HVa;}},PTb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.Msa || (this.config().Vtb?this.Msa=Promise.all([this.Ek.wu(),this.Am]).then(function(b){var c;c=N(b);b=c.next().value;c=c.next().value;if(!a.VDb(b))return (a.ls="not HW_SECURE_DECODE",a.log.trace("hdcpStatus: " + a.ls),!1);if(c && c.getStatusForPolicy)return (a.nSa=a.ta.Ae,c.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.lSa=a.ta.Ae;a.ls=b;a.log.trace("hdcpStatus: " + a.ls);return "usable" === a.ls;}));a.ls="not available";a.log.trace("hdcpStatus: " + a.ls);return !1;})["catch"](function(b){a.ls="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.ls},b);return !1;}).then(function(b){a.lV();return b;}):(this.ls="not enabled",this.log.trace("hdcpStatus: " + this.ls),this.lV(),this.Msa=Promise.resolve(!1)));return this.Msa;}}});b.Ova=c;},function(d,b,a){var l,k;function c(a){this.navigator=a;this.EVa=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.bAa=void 0;d=a(0);l=a(1);a=a(33);c.prototype.gja=function(a){return this.EVa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.U,framerate:a.z1}}).then(function(a){return {V8b:a.supported,CSb:a.smooth,XLb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};k=c;k=d.__decorate([l.O(),d.__param(0,l.l(a.zC))],k);b.bAa=k;},function(d,b,a){var l,k,m;function c(a,b){this.DVa=a;this.log=b.tb("MediaCapabilities");}Object.defineProperty(b,"__esModule",{value:!0});b.cAa=void 0;d=a(0);l=a(354);k=a(6);a=a(1);c.prototype.gja=function(a){var b,c,f;b=this;c={Yb:void 0};if(this.DVa.EVa){f={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,U:1E3 * a.U,z1:24};this.DVa.gja(f).then(function(a){return c.Yb=Object.assign(Object.assign({},a),f);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};m=c;m=d.__decorate([a.O(),d.__param(0,a.l(l.M$)),d.__param(1,a.l(k.zb))],m);b.cAa=m;},function(d,b,a){var l,k,m;function c(a){this.AMb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.uxa=void 0;d=a(0);l=a(1);k=a(216);a=a(356);c.prototype.lvb=function(){var a,b;a={hR:k.Ly.Rcb};b=this.AMb.PresentationRequest;b && (new b("https://netflix.com").getAvailability() || Promise.reject()).then(function(b){var c;a.hR=b.value?k.Ly.KCa:k.Ly.mua;if(a.hR === k.Ly.mua){c=function(){b.value && (a.hR=k.Ly.KCa);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.hR=k.Ly.Error;});return a;};m=c;m=d.__decorate([l.O(),d.__param(0,l.l(a.pba))],m);b.uxa=m;},function(d,b,a){var l,k,m,f,h,q,g;function c(a,b,c,f){this.config=a;this.navigator=b;this.Dq=c;this.ioa=f;this.type=k.Vl.pcb;this.KJa={};this.C4a={};this.log=this.Dq.tb("MediaCapabilityDetector");this.KJa=this.aqb();this.C4a=this.grb();}Object.defineProperty(b,"__esModule",{value:!0});b.aAa=void 0;d=a(0);l=a(1);k=a(29);m=a(56);f=a(6);h=a(33);q=a(75);a=a(136);c.prototype.PJ=function(a){var b;b=this;return this.ioa.wu().then(function(c){return b.yvb(a,c);});};c.prototype.nDb=function(a){return ! !a.colorGamut || ! !a.hdrMetadataType || ! !a.transferFunction;};c.prototype.vma=function(){return ka.matchMedia("(dynamic-range: high)").matches;};c.prototype.yvb=function(a,b){var c,f,d,h;c=this;try{f={type:"media-source"};d=this.KJa[a];h=this.C4a[a];if(d)f.audio=d;else if(h){f.video=h;if(this.nDb(h) && !this.vma())return Promise.resolve(!1);b && (f.keySystemConfiguration=this.Yyb(b));}else return Promise.resolve(!1);return this.navigator.mediaCapabilities.decodingInfo(f).then(function(a){var b;a.configuration || (a.configuration=f);b=c.isSupported(f,a);b?c.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(a)):c.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(a));return b;})["catch"](function(a){c.log.error("mediaCapabilities.decodingInfo failed",a);return !1;});}catch(J){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",J),Promise.resolve(!1));}};c.prototype.Yyb=function(a){return {keySystem:a.keySystem};};c.prototype.aqb=function(){var a,b;a={};b={contentType:"audio/mp4;codecs=mp4a.40.2"};a[m.kf.IN]=b;a[m.kf.Nxa]=b;a[m.kf.JN]=b;a[m.kf.xO]=b;a[m.kf.FW]={contentType:"audio/mp4;codecs=mp4a.40.5"};b={contentType:"audio/mp4;codecs=ec-3"};a[m.kf.qN]=b;a[m.kf.YV]=b;a[m.kf.rN]=b;return a;};c.prototype.grb=function(){var a,b,c,f,d,h,k,l,q,g,u,n,p;a={};b={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};c={contentType:'video/mp4; codecs="dvh1.05.04"'};f={width:1920,height:1080};d={width:3840,height:2160};h=Object.assign(Object.assign({},f),{bitrate:12E6,framerate:30});k=Object.assign(Object.assign({},f),{bitrate:2E7,framerate:60});f=Object.assign(Object.assign({},d),{bitrate:25E6,framerate:30});d=Object.assign(Object.assign({},d),{bitrate:4E7,framerate:60});l={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};q={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};g=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),h);a[m.T.vW]=g;a[m.T.wW]=g;a[m.T.B9]=g;g=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),h);a[m.T.uH]=g;a[m.T.vH]=g;a[m.T.wO]=g;g=Object.assign(Object.assign({},b),h);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),k);n=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),f);p=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),d);a[m.T.HW]=g;a[m.T.JW]=g;a[m.T.LW]=g;a[m.T.NW]=u;a[m.T.QG]=n;a[m.T.RG]=p;a[m.T.IW]=g;a[m.T.KW]=g;a[m.T.MW]=g;a[m.T.OW]=u;a[m.T.PW]=n;a[m.T.QW]=p;g=Object.assign(Object.assign(Object.assign({},b),h),l);u=Object.assign(Object.assign(Object.assign({},b),k),l);n=Object.assign(Object.assign(Object.assign({},b),f),l);b=Object.assign(Object.assign(Object.assign({},b),d),l);a[m.T.DN]=g;a[m.T.EN]=g;a[m.T.PG]=g;a[m.T.FN]=u;a[m.T.GN]=n;a[m.T.HN]=b;a[m.T.yW]=g;a[m.T.zW]=g;a[m.T.AW]=g;a[m.T.BW]=u;a[m.T.DW]=n;a[m.T.EW]=b;h=Object.assign(Object.assign(Object.assign({},c),h),q);k=Object.assign(Object.assign(Object.assign({},c),k),q);f=Object.assign(Object.assign(Object.assign({},c),f),q);c=Object.assign(Object.assign(Object.assign({},c),d),q);a[m.T.sN]=h;a[m.T.tN]=h;a[m.T.EG]=h;a[m.T.uN]=k;a[m.T.vN]=f;a[m.T.eW]=c;a[m.T.$V]=h;a[m.T.aW]=h;a[m.T.bW]=h;a[m.T.cW]=k;a[m.T.dW]=f;a[m.T.fW]=c;return a;};c.prototype.isSupported=function(a,b){return a.video && this.config().YLb?b.supported && b.powerEfficient:b.supported;};g=c;g=d.__decorate([l.O(),d.__param(0,l.l(a.GG)),d.__param(1,l.l(h.zC)),d.__param(2,l.l(f.zb)),d.__param(3,l.l(q.nr))],g);b.aAa=g;},function(d,b,a){var c,l,k,m,f,h,q,g,r,v,A,y,B,n,J,D,p;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;d=a(1);c=a(357);l=a(63);k=a(160);m=a(719);f=a(360);h=a(720);q=a(359);g=a(161);r=a(721);v=a(723);A=a(724);y=a(725);B=a(63);n=a(361);J=a(727);D=a(362);p=a(728);b.storage=new d.Tc(function(a){a(k.baa).hf(function(){return function(){return ka.localStorage;};});a(k.T9).hf(function(){return function(){return ka.indexedDB;};});a(n.S$).to(J.sAa).Z();a(B.mt).to(y.tua).Z();a(f.n$).to(h.kza).Z();a(c.QN).to(v.Hya).Z();a(g.Y9).to(r.Iya).Z();a(l.Qba).to(m.$va).Z();a(g.S9).to(r.hya).Z();a(g.YW).to(r.Jya).Z();a(q.z8).to(A.awa).Z();a(D.V8).to(p.Bwa).Z();});},function(d,b,a){var l,k,m,f,h;function c(a,b,c){this.Gm=b;this.config=c;this.la=a.tb(f.$X);}Object.defineProperty(b,"__esModule",{value:!0});b.$va=void 0;d=a(0);l=a(1);k=a(6);m=a(62);f=a(358);a=a(359);c.prototype.ht=function(a){return this.config.enabled?this.config.timeout?this.Gm.Ap(this.config.timeout,this.BNa(a)):this.BNa(a):Promise.resolve();};c.prototype.BNa=function(a){var b;b=this;return new Promise(function(c,f){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(d){"true" !== d.value && f();b.la.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.la.error("Failed to remove testValue");c();});});})["catch"](function(a){return f(a);});});};h=c;h=d.__decorate([l.O(),d.__param(0,l.l(k.zb)),d.__param(1,l.l(m.Xy)),d.__param(2,l.l(a.z8))],h);b.$va=h;},function(d,b,a){var l,k,m;function c(a){this.by=a;}Object.defineProperty(b,"__esModule",{value:!0});b.kza=void 0;d=a(0);l=a(1);k=a(2);a=a(160);c.prototype.load=function(a){var b;b=this;return new Promise(function(c,f){var d,h;try{d=b.by.getItem(a);if(d){h=d;if("{" === d[0])try{h=JSON.parse(d) || d;}catch(A){}c({key:a,value:h});}else f({ka:k.K.Yy});}catch(A){f({ka:k.K.tDa,cause:A});}});};c.prototype.save=function(a,b,c){var f;f=this;return new Promise(function(d,h){if(c && f.by.getItem(a))d(!1);else try{"string" === typeof b?f.by.setItem(a,b):f.by.setItem(a,JSON.stringify(b));d(!0);}catch(A){h({ka:k.K.uDa,cause:A});}});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,f){try{b.by.removeItem(a);c();}catch(r){f({ka:k.K.Eba,cause:r});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.zS=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};m=c;m=d.__decorate([l.O(),d.__param(0,l.l(a.EAa))],m);b.kza=m;},function(d,b,a){var m,f,h,q,g,r,v,A,y,B,n,J;function c(a,b,c,f,d,h){this.config=b;this.KQ=c;this.Uk=f;this.$Wb=d;this.Vj=h;this.la=a.tb(r.$X);}function l(a,b){this.config=a;this.wy=b;}function k(a,b,c,f,d){this.config=b;this.wy=c;this.Vj=d;this.la=a.tb(r.$X);this.KQ=new Promise(function(a,b){var c;try{c=f();c?a(c):b({ka:g.K.iya});}catch(ha){b({ka:g.K.XW,cause:ha});}});}Object.defineProperty(b,"__esModule",{value:!0});b.Jya=b.Iya=b.hya=void 0;d=a(0);m=a(1);f=a(6);h=a(722);q=a(160);g=a(2);r=a(358);v=a(357);A=a(62);y=a(63);B=a(65);n=a(161);J=a(77);k.prototype.create=function(){this.Hha || (this.Hha=this.hJ());return this.Hha;};k.prototype.mq=function(a){var b;b=this;this.Hha=null;return this.wy.Ap(this.config.timeout,new Promise(function(c,f){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){f(a);});}))["catch"](function(a){return a instanceof A.oo?Promise.reject({ka:g.K.XW}):a.ka?Promise.reject(a):Promise.reject({ka:g.K.XW,cause:a});});};k.prototype["delete"]=function(a){var b;b=this;return this.wy.Ap(this.config.timeout,new Promise(function(c,f){b.KQ.then(function(b){var d;d=b.deleteDatabase(a);d.onsuccess=function(){c();};d.onerror=function(){f({ka:g.K.XW,cause:d.error});};})["catch"](function(a){f(a);});}));};k.prototype.hJ=function(){var a,b;a=this;return this.wy.Ap(this.config.timeout,new Promise(function(c,f){if(a.config.nsa)return f({ka:a.config.nsa});a.KQ.then(function(d){a.Vj.mark(J.Qi.v9a);b=d.open(a.config.name,a.config.version);if(!b)return f({ka:g.K.jya});b.onblocked=function(){a.Vj.mark(J.Qi.s9a);f({ka:g.K.o9a});};b.onupgradeneeded=function(){var c;a.Vj.mark(J.Qi.C9a);c=b.result;try{c.createObjectStore(a.config.iF,{keyPath:"name"});}catch(Z){a.la.error("Exception while creating object store",Z);}};b.onsuccess=function(h){var k,m;a.Vj.mark(J.Qi.B9a);try{k=h.target.result;m=k.objectStoreNames.length;a.la.trace("objectstorenames length ",m);if(0 === m){a.la.error("invalid indexedDb state, deleting");a.Vj.mark(J.Qi.u9a);try{k.close();}catch(ha){}d.deleteDatabase(a.config.name);setTimeout(function(){f({ka:g.K.n9a});},1);return;}}catch(ha){a.la.error("Exception while inspecting indexedDb objectstorenames",ha);}c(b.result);};b.onerror=function(){a.Vj.mark(J.Qi.t9a);a.la.error("IndexedDB open error",b.error);f({ka:g.K.p9a,cause:b.error});};})["catch"](function(a){f(a);});}))["catch"](function(c){if(c instanceof A.oo){try{b && b.readyState && a.Vj.mark("readyState-" + b.readyState);}catch(U){}if(a.config.h_ && b && "done" === b.readyState){if(a.VWb(b))return (a.Vj.mark(J.Qi.z9a),Promise.resolve(b.result));a.Vj.mark(J.Qi.y9a);}a.Vj.mark(J.Qi.x9a);return Promise.reject({ka:g.K.r9a});}if(c.ka)return Promise.reject(c);a.Vj.mark(J.Qi.w9a);a.la.error("IndexedDB open exception occurred",c);return Promise.reject({ka:g.K.q9a,cause:c});});};k.prototype.VWb=function(a){try{return 0 < a.result.objectStoreNames.length;}catch(T){this.Vj.mark(J.Qi.A9a);this.la.error("failed to check open request state",T);}return !1;};a=k;a=d.__decorate([m.O(),d.__param(0,m.l(f.zb)),d.__param(1,m.l(v.QN)),d.__param(2,m.l(A.Xy)),d.__param(3,m.l(q.T9)),d.__param(4,m.l(B.az))],a);b.hya=a;l.prototype.create=function(a){return Promise.resolve(new h.Gya(this.config,this.wy,a));};a=l;a=d.__decorate([m.O(),d.__param(0,m.l(v.QN)),d.__param(1,m.l(A.Xy))],a);b.Iya=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.EQ || (this.EQ=this.hJ(this.$Wb));return this.EQ;};c.prototype.hJ=function(a){var b;a=void 0 === a?[]:a;b=this;return new Promise(function(c,f){b.Vj.mark(J.Qi.icb);b.KQ.create().then(function(d){b.Uk.create(d).then(function(h){Promise.all(a.map(function(a){return a.ht(h);})).then(function(){b.storage=h;c(b.storage);})["catch"](function(a){b.la.debug("DB validation failed, cause: " + a);b.config.fPa?(b.la.debug("Fixing corrupt DB"),b.KQ.mq(d).then(function(){b.la.error("Invalid database deleted, creating new database.");b.hJ().then(function(a){b.la.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.la.error("Couldn't delete invalid database.");f(a);})):(b.la.debug("Ignoring invalid DB due to config"),b.storage=h,c(b.storage));});})["catch"](function(a){f(a);});})["catch"](function(a){f(a);});});};a=c;a=d.__decorate([m.O(),d.__param(0,m.l(f.zb)),d.__param(1,m.l(v.QN)),d.__param(2,m.l(n.S9)),d.__param(3,m.l(n.Y9)),d.__param(4,m.cF(y.Qba)),d.__param(5,m.l(B.az))],a);b.Jya=a;},function(d,b,a){var k,m,f;function c(a,b,c){this.config=a;this.Gm=b;this.by=c;}function l(a,b){this.reason=a;this.cause=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Gya=b.ZCa=void 0;k=a(2);m=a(62);(function(a){a[a.faa=0]="NoData";a[a.Error=1]="Error";a[a.QC=2]="Timeout";})(f=b.ZCa || (b.ZCa={}));c.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.$0("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=k.K.tDa;switch(a.reason){case f.faa:b=k.K.Yy;break;case f.QC:b=k.K.jcb;}d({ka:b,cause:a.cause});});});};c.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(h,m){d.$0(c?"add":"put",!0,{name:a,data:b}).then(function(){h(!c);})["catch"](function(a){var b;b=k.K.uDa;switch(a.reason){case f.QC:b=k.K.mcb;}m({ka:b,cause:a.cause});});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.$0("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=k.K.Eba;switch(a.reason){case f.QC:b=k.K.sDa;}d({ka:b,cause:a.cause});});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.$0("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=k.K.Eba;switch(a.reason){case f.QC:b=k.K.sDa;}c({ka:b,cause:a.cause});});});};c.prototype.loadAll=function(){var a;a=this;return this.Gm.Ap(this.config.timeout,new Promise(function(b,c){var d,h,k;if(a.config.BU)c(new l(a.config.BU));else {d=[];h=a.by.transaction(a.config.iF,"readonly");k=h.objectStore(a.config.iF).openCursor();h.onerror=function(){c(new l(f.Error,k.error));};k.onsuccess=function(a){if(a=a.target.result)try{d.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(B){c(new l(f.Error,B));}else b(d);};k.onerror=function(){c(new l(f.Error,k.error));};}}))["catch"](function(a){return a instanceof m.oo?Promise.reject(new l(f.QC,a)):a instanceof l?Promise.reject(a):Promise.reject(new l(f.Error,a));});};c.prototype.zS=function(a){var b;b=this;return this.Gm.Ap(this.config.timeout,new Promise(function(c,d){var h,k,m;if(b.config.BU)d(new l(b.config.BU));else {h={};k=b.by.transaction(b.config.iF,"readonly");m=k.objectStore(b.config.iF).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);k.onerror=function(){d(new l(f.Error,m.error));};m.onsuccess=function(b){var k,m;try{k=b.target.result;if(k){m=k.key;a && 0 !== m.indexOf(a)?c(h):(h[m]=void 0,k["continue"]());}else c(h);}catch(D){d(new l(f.Error,D));}};m.onerror=function(){d(new l(f.Error,m.error));};}}))["catch"](function(a){return a instanceof m.oo?Promise.reject(new l(f.QC,a)):a instanceof l?Promise.reject(a):Promise.reject(new l(f.Error,a));});};c.prototype.$0=function(a,b,c){var d;d=this;return this.Gm.Ap(this.config.timeout,new Promise(function(h,k){var m,q;m=d.by.transaction(d.config.iF,b?"readwrite":"readonly");q=m.objectStore(d.config.iF)[a](c);m.onerror=function(){k(new l(f.Error,q.error));};q.onsuccess=function(b){var c;if("get" == a)try{c=b.target.result;c?h(c.data):k(new l(f.faa));}catch(D){k(new l(f.faa,D));}else h(void 0);};q.onerror=function(){k(new l(f.Error,q.error));};}))["catch"](function(a){return a instanceof m.oo?Promise.reject(new l(f.QC,a)):a instanceof l?Promise.reject(a):Promise.reject(new l(f.Error,a));});};b.Gya=c;},function(d,b,a){var l,k,m,f,h;function c(a,b){a=m.Se.call(this,a,"IndexedDBConfigImpl") || this;a.config=b;a.version=1;a.iF="namedatapairs";return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Hya=void 0;d=a(0);l=a(1);k=a(43);m=a(44);f=a(36);a=a(32);L(c,m.Se);ma.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.lu?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Csa;}},h_:{configurable:!0,enumerable:!0,get:function(){return this.config.h_;}},nsa:{configurable:!0,enumerable:!0,get:function(){return 0;}},BU:{configurable:!0,enumerable:!0,get:function(){return 0;}},fPa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});h=c;d.__decorate([k.config(k.Cy,"simulateIdbOpenError")],h.prototype,"nsa",null);d.__decorate([k.config(k.Cy,"simulateIdbLoadAllError")],h.prototype,"BU",null);d.__decorate([k.config(k.Mc,"fixInvalidDatabase")],h.prototype,"fPa",null);h=d.__decorate([l.O(),d.__param(0,l.l(a.ck)),d.__param(1,l.l(f.Rl))],h);b.Hya=h;},function(d,b,a){var l,k;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.awa=void 0;d=a(0);l=a(1);a=a(36);ma.Object.defineProperties(c.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Csa;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.A2a;}}});k=c;k=d.__decorate([l.O(),d.__param(0,l.l(a.Rl))],k);b.awa=k;},function(d,b,a){var k,m,f,h,q,g,r;function c(a,b,c,f){this.la=a;this.config=b;this.XBb=c;this.noa=f;this.Uz={mem:{storage:this.noa,key:"mem"}};this.GB=this.config.GB;}function l(a,b,c,f){this.Af=a;this.Uk=b;this.noa=c;this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.R7=b.tua=void 0;d=a(0);k=a(1);m=a(2);f=a(161);h=a(6);q=a(361);g=a(726);a=a(36);l.prototype.create=function(){this.EQ || (this.EQ=this.hJ());return this.EQ;};l.prototype.hJ=function(){this.Ujb=new c(this.Af.tb("AppStorage"),this.config,this.Uk,this.noa);return this.Ujb.create();};r=l;r=d.__decorate([k.O(),d.__param(0,k.l(h.zb)),d.__param(1,k.l(f.YW)),d.__param(2,k.l(q.S$)),d.__param(3,k.l(a.Rl))],r);b.tua=r;c.prototype.create=function(){var a;a=this;return this.Aqb().then(function(b){if(!a.ymb(b,a.config.O2))throw a.pIb(b);return a;});};c.prototype.load=function(a){var b;b=this;return new Promise(function(c,f){b.xR(a).storage.load(a).then(function(a){c(a);})["catch"](function(a){f(a);});});};c.prototype.save=function(a,b,c){var f;f=this;return new Promise(function(d,h){f.xR(a).storage.save(a,b,c).then(function(a){d(a);})["catch"](function(a){h(a);});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,f){b.xR(a).storage.remove(a).then(function(){c();})["catch"](function(a){f(a);});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.WZa("mem").then(function(){return a.WZa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.la.error("remove all failed");c(b);});});};c.prototype.loadAll=function(){var a,b;a=this;b=[];return this.nUa("mem").then(function(c){b=b.concat(c);return a.nUa("idb");})["catch"](function(b){a.MDb(b) || a.la.error("IndexedDb.LoadAll exception",b);return [];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.la.error("load all failed",b);throw b;});};c.prototype.zS=function(a){var b;b=this;return new Promise(function(c,f){var d;d=b.Uz.idb;d?d.storage.zS(a).then(function(a){c(a);})["catch"](function(a){b.la.error("loadKeys failed",a);f(a);}):f("Storage is not available");});};c.prototype.Aqb=function(){var a;a=this;return this.XBb.create().then(function(b){a.Uz.idb={storage:b,key:"idb"};})["catch"](function(b){a.la.error("idb failed to load",b);return b || ({ka:m.K.Ul});});};c.prototype.ymb=function(a,b){return !a || a && b?!0:!1;};c.prototype.pIb=function(a){var b;b="";a && (b+=a.ka);return {ka:b};};c.prototype.WZa=function(a){return (a=this.Uz[a])?a.storage.removeAll():Promise.resolve();};c.prototype.nUa=function(a){return (a=this.Uz[a])?a.storage.loadAll():Promise.resolve([]);};c.prototype.Gvb=function(a){for(var b in this.GB){if(a.startsWith(b))return this.GB[b];}return this.GB[g.gwa];};c.prototype.xR=function(a){var b,c;b=this;this.Gvb(a).every(function(a){return b.Uz[a]?(c=b.Uz[a],!1):!0;});c || (this.la.error("component not found for storageKey",{eTb:a,Y3b:Object.keys(this.Uz),rules:this.GB}),c=this.Uz.mem);this.la.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};c.prototype.MDb=function(a){return (a && (a.ka || a.errorSubCode)) === m.K.Yy;};b.R7=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gwa=void 0;b.gwa="__default_rule_key__";},function(d,b,a){var l,k,m;function c(a){this.Af=a;this.fB={};this.la=this.Af.tb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.sAa=void 0;d=a(0);l=a(1);k=a(2);a=a(6);c.prototype.load=function(a){var b;if(this.fB.hasOwnProperty(a)){b=this.fB[a];this.la.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.la.debug("Storage entry not found",{key:a});return Promise.reject({ka:k.K.Yy});};c.prototype.save=function(a,b,c){if(c && this.fB.hasOwnProperty(a))return Promise.resolve(!1);this.fB[a]=b;return Promise.resolve(!0);};c.prototype.remove=function(a){delete this.fB[a];return Promise.resolve();};c.prototype.loadAll=function(){var a;a=Object.entries(this.fB).map(function(a){var b;b=N(a);a=b.next().value;b=b.next().value;return {key:a,value:b};});return Promise.resolve(a);};c.prototype.zS=function(a){var b;b=Object.keys(this.fB).reduce(function(b,c){a && 0 !== c.indexOf(a) || (b[c]=void 0);return b;},{});return Promise.resolve(b);};c.prototype.removeAll=function(){this.fB={};return Promise.resolve();};m=c;m=d.__decorate([l.O(),d.__param(0,l.l(a.zb))],m);b.sAa=m;},function(d,b,a){var k,m,f;function c(a,b,c){var f;f=this;this.la=a;this.valid=!0;this.xk=!1;this.context=c.context;this.size=c.size;this.vm=b.create().then(function(a){f.storage=a;return a.zS("mediacache").then(function(a){f.keys=a;});});}function l(a,b){this.Af=a;this.Uk=b;this.zJ={};}Object.defineProperty(b,"__esModule",{value:!0});b.k8a=b.Bwa=void 0;d=a(0);k=a(1);m=a(6);a=a(63);l.prototype.b0=function(a){this.zJ[a.context]=new c(this.Af.tb("DiskStorageContext"),this.Uk,a);return this.zJ[a.context];};l.prototype.mNa=function(a){delete this.zJ[a.context];};f=l;f=d.__decorate([k.O(),d.__param(0,k.l(m.zb)),d.__param(1,k.l(a.mt))],f);b.Bwa=f;c.prototype.create=function(a,b,c,f){var d,h,k;d=this;h=this.getKey(a,b);k=Date.now();this.vm.then(function(){d.keys[h]=void 0;return d.storage.save(h,c,!1).then(function(){d.la.trace("create succeeded for " + h + ", " + (Date.now() - k) + " ms");f(d.j2(a,b));});})["catch"](function(c){d.la.trace("create failed",c);f(d.sA(a,b,c));});};c.prototype.append=function(a,b,c,f){c=this.getKey(a,b);this.la.trace("append " + c);f(this.sA(a,b,"append is not supported"));};c.prototype.remove=function(a,b,c){var f,d,h;f=this;d=this.getKey(a,b);h=Date.now();this.vm.then(function(){if(f.keys.hasOwnProperty(d))return (delete f.keys[d],f.storage.remove(d).then(function(){f.la.trace("remove succeeded for " + d + ", " + (Date.now() - h) + " ms");c(f.j2(a,b));}));c(f.j2(a,b));})["catch"](function(d){f.la.trace("remove failed",d);c(f.sA(a,b,d));});};c.prototype.read=function(a,b,c,f,d){var h,k,m;h=this;k=this.getKey(a,b);m=Date.now();0 !== c || -1 != f?d(this.sA(a,b,"byteStart/byteEnd combination is not supported")):this.vm.then(function(){if(h.keys.hasOwnProperty(k))return h.storage.load(k).then(function(l){h.la.trace("read succeeded for " + k + ", " + (Date.now() - m) + " ms");d(Object.assign(h.j2(a,b),{value:l.value,b4b:c,end:f}));});d(h.sA(a,b,"Item doesn't exist"));})["catch"](function(c){h.la.trace("read failed",c);d(h.sA(a,b,c));});};c.prototype.info=function(a){var b;b=this;this.la.trace("info ");this.vm.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.rpa(c);a[c.JQ] || (a[c.JQ]={});a[c.JQ][c.PA]={size:0};return a;},{}),total:b.size,w9b:0};a(c);})["catch"](function(c){b.la.trace("info failed",c);a(b.sA(void 0,void 0,c));});};c.prototype.query=function(a,b,c){var f,d;f=this;d=this.getKey(a,b || "");this.vm.then(function(){var a;a=Object.keys(f.keys).filter(function(a){return 0 === a.indexOf(d);}).reduce(function(a,b){a[f.rpa(b).PA]={size:0};return a;},{});f.la.trace("query succeeded for prefix " + b,a);c(a);})["catch"](function(a){f.la.trace("query failed",a);c({});});};c.prototype.ht=function(a){var b;b=this;this.la.trace("validate");this.vm.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.rpa(c).PA]={size:0};return a;},{});a(c);})["catch"](function(c){b.la.trace("validate failed",c);a(b.sA(void 0,void 0,c));});};c.prototype.getKey=function(a,b){return ["mediacache",this.context,a,b].join(".");};c.prototype.j2=function(a,b){return {ia:!0,JQ:void 0 === a?"":a,key:void 0 === b?"":b,LWb:0,Ak:this.size};};c.prototype.sA=function(a,b,c){return {ia:!1,error:c,JQ:void 0 === a?"":a,key:void 0 === b?"":b,LWb:0,Ak:this.size};};c.prototype.rpa=function(a){var b,c;a=a.slice(a.indexOf(".") + 1);b=a.slice(a.indexOf(".") + 1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c + 1);return {JQ:a,PA:b};};b.k8a=c;},function(d,b,a){var c,l,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.eu=void 0;d=a(1);c=a(217);l=a(363);k=a(364);m=a(730);f=a(731);h=a(732);b.eu=new d.Tc(function(a){a(c.QV).to(m.iva).Z();a(l.m8).to(f.gva).Z();a(k.l8).to(h.hva).Z();});},function(d,b,a){var l,k,m,f,h,q,g;function c(a,b,c,f,d){this.w_=b;this.Sa=c;this.wlb=f;this.config=d;this.la=a.tb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.iva=void 0;d=a(0);l=a(1);k=a(363);m=a(364);f=a(6);h=a(22);q=a(4);a=a(14);c.prototype.QIa=function(a){var b,c;b=a.Va.playbackState && a.Va.playbackState.currentTime;c=this.Dxb(a.u);b=this.Sa.cE(b)?q.Nb(b):c;if(this.Sa.Qf(b))(this.la.info("Overriding bookmark",{From:a.PB.ca(q.ga),To:b.ca(q.ga)}),a=Object.assign({},a,{PB:b}));else if(this.bCb(a))return (this.la.trace("Ignoring bookmark because it's too close to beginning"),q.$g(0));return a.PB.zma()?(this.la.trace("Ignoring bookmark because it's negative"),q.$g(0)):this.aCb(a)?(this.la.trace("Ignoring bookmark because it's too close to end"),q.$g(0)):this.$Bb(a)?(this.la.trace("Ignoring bookmark because it's too close to the end to start decoding"),q.$g(0)):a.PB;};c.prototype.bCb=function(a){return 0 > a.PB.qk(this.jka(a));};c.prototype.jka=function(a){return this.mKa(this.w_.jka(),a.xT);};c.prototype.aCb=function(a){return 0 < a.PB.qk(this.kka(a));};c.prototype.kka=function(a){var b;b=a.Va.Kj?this.w_.Ayb():this.w_.kka();return a.xT.Fa(this.mKa(b,a.xT));};c.prototype.$Bb=function(a){return 0 < a.PB.qk(this.iyb(a));};c.prototype.iyb=function(a){var b;b=a.Va.Kj?this.config().sXa:this.config().lF;return a.xT.Fa(q.Nb(b));};c.prototype.Dxb=function(a){var b;a=this.w_.Vja()[a];b=-1;this.Sa.Eo(a)?b=parseInt(a):this.Sa.Sh(a) && (b=a);if(this.Sa.KI(b))return q.Nb(b);};c.prototype.mKa=function(a,b){return this.wlb.uTb(a,b);};g=c;g=d.__decorate([l.O(),d.__param(0,l.l(f.zb)),d.__param(1,l.l(k.m8)),d.__param(2,l.l(h.He)),d.__param(3,l.l(m.l8)),d.__param(4,l.l(a.Sc))],g);b.iva=g;},function(d,b,a){var l,k;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.gva=void 0;d=a(0);l=a(1);a=a(14);c.prototype.jka=function(){return this.rA().xlb;};c.prototype.kka=function(){return this.rA().ylb;};c.prototype.Ayb=function(){return this.rA().zlb;};c.prototype.Vja=function(){return this.rA().lKa;};c.prototype.rA=function(){return this.config();};k=c;k=d.__decorate([l.O(),d.__param(0,l.l(a.Sc))],k);b.gva=k;},function(d,b,a){var l,k,m;function c(a){this.Sa=a;}Object.defineProperty(b,"__esModule",{value:!0});b.hva=void 0;d=a(0);l=a(1);k=a(22);m=a(4);c.prototype.uTb=function(a,b){var c,f;c=parseFloat(a);f=0;"%" === a[a.length - 1] && this.Sa.Sh(c)?f=Math.round(c * b.ca(m.ga) / 100):(a=parseInt(a),this.Sa.KI(a) && (f=a));return m.Nb(Math.min(f,b.ca(m.ga)));};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(k.He))],a);b.hva=a;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.KKa=void 0;d=a(1);c=a(365);l=a(734);b.KKa=new d.Tc(function(a){a(c.r8).to(l.sva).Z();});},function(d,b,a){var l,k,m,f,h,q,g,r,v;function c(a,b,c,f,d,h){this.config=a;this.eB=c;this.profile=f;this.j7=d;this.pQ=h;this.log=b.tb("CDMAttestedDescriptor");this.TPa(r.Dt.hO);}Object.defineProperty(b,"__esModule",{value:!0});b.sva=void 0;d=a(0);l=a(1);k=a(14);m=a(6);f=a(162);h=a(218);q=a(101);g=a(152);r=a(36);v=a(61);c.prototype.TPa=function(a){var b;b=this;return this.j7.z6(a)?this.config().Qtb?this.RPa().then(function(a){if(a)return (!1,Promise.resolve(void 0));b.hUa || (!1,b.hUa=b.pQ.Tka(v.ih.Hv));return b.hUa;})["catch"](function(a){b.log.error("Failed to generate challenge",a);}).then(function(a){null === a || void 0 === a?void 0:a.Fb.close().subscribe();return null === a || void 0 === a?void 0:a.wga;}).then(function(a){return Promise.all([Promise.resolve(a),b.RPa()]);}).then(function(a){var b;a=N(a);b=a.next().value;if(a.next().value)!1;else return b;}):this.eB().then(function(a){a.x4.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.RPa=function(){var a;a=this;return this.eB().then(function(b){return (b=b.x4.getServiceTokens(a.profile)) && b.find(function(a){return "cad" === a.name;});});};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(k.Sc)),d.__param(1,l.l(m.zb)),d.__param(2,l.l(f.UN)),d.__param(3,l.l(q.iO)),d.__param(4,l.l(h.sO)),d.__param(5,l.l(g.oN))],a);b.sva=a;},function(d,b,a){var c,l,k,m,f,h,q,g,r,v,A,y,B,n;Object.defineProperty(b,"__esModule",{value:!0});b.WUa=void 0;d=a(1);c=a(366);l=a(736);k=a(367);m=a(766);f=a(377);h=a(165);q=a(379);g=a(767);r=a(380);v=a(768);A=a(166);y=a(769);B=a(382);n=a(770);b.WUa=new d.Tc(function(b){b(k.F$).to(m.Rza).Z();b(c.G$).to(l.Sza).Z();b(f.fba).ci(function(b){for(var c=[],f=0;f < arguments.length;++f){c[f - 0]=arguments[f];}f=a(224).PC;return new (Function.prototype.bind.apply(f,[null].concat(X(c))))();});b(h.qO).ci(function(b){for(var c=[],f=0;f < arguments.length;++f){c[f - 0]=arguments[f];}f=a(443).Dva;return new (Function.prototype.bind.apply(f,[null].concat(X(c))))();});b(q.I$).hf(function(){return function(a){return new g.Wza(a);};});b(r.H$).to(v.Vza).Z();b(A.ZG).to(y.Qza).Z();b(B.D$).to(n.Pza).Z();});},function(d,b,a){var l,k,m,f,h,q,g,r,v,A,y,B;function c(a,b,c,f,d){this.Af=a;this.config=b;this.Rpa=c;this.mta=f;this.OB=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Sza=void 0;d=a(0);l=a(1);k=a(6);m=a(367);f=a(737);h=a(762);q=a(763);g=a(764);r=a(765);v=a(223);A=a(377);y=a(165);a=a(378);c.prototype.create=function(a){var b,c;b=this.Af.tb("ManifestParser",a);c=new f.Kva(b,this.config);return new q.Tza(c,new h.tEa(b,this.config,a,c,this.Rpa),new g.KEa(b,a,this.mta),new r.Yua(b,this.config,a,this.OB),new v.kY(b,this.OB));};B=c;B=d.__decorate([l.O(),d.__param(0,l.l(k.zb)),d.__param(1,l.l(m.F$)),d.__param(2,l.l(A.fba)),d.__param(3,l.l(a.bca)),d.__param(4,l.l(y.qO))],B);b.Sza=B;},function(d,b,a){var l;function c(a,b){this.log=a;this.config=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Kva=void 0;l=a(118);c.prototype.MXa=function(a,b,c){var f,d,k,m,g;f=this;d=this.config.tga;k=this.config.sga;a=N(l.Es(function(a){return (!d.length || 0 <= d.indexOf(a.id)) && 0 > k.indexOf(a.id);},a || []));m=a.next().value;a.next().value.forEach(function(a){return f.log.warn("Cdn is not allowed",{Id:a.id});});g=m.map(function(a){var c;c=(b?b.find(function(b){return b.key === a.key;}):void 0) || ({});return {id:a.id,name:a.name,jg:a.jg,type:a.type,rna:a.key,u6b:a.JUa,location:{id:c.key,jg:c.jg,level:c.level,weight:c.weight,nk:[]}};});g.sort(function(a,b){return a.jg - b.jg;});g.forEach(function(a){return a.location.nk=g.filter(function(b){return b.rna === a.rna;});});this.log.trace("Transformed cdns",{Count:g.length});if(c && !g.length)throw Error("no valid cdns");return g;};b.Kva=c;},function(d,b,a){var c;b=a(163);c=a(739);a=b(function(a,b,d){return c(function(b,c,d){return a(c,d);},b,d);});d.exports=a;},function(d,b,a){var c,l;b=a(163);c=a(368);l=a(740);a=b(function m(a,b,d){return l(function(b,f,d){return c(f) && c(d)?m(a,f,d):a(b,f,d);},b,d);});d.exports=a;},function(d,b,a){var c;b=a(163);c=a(219);a=b(function(a,b,d){var f,h;f={};for(h in b){c(h,b) && (f[h]=c(h,d)?a(h,b[h],d[h]):b[h]);}for(h in d){c(h,d) && !c(h,f) && (f[h]=d[h]);}return f;});d.exports=a;},function(d,b,a){var c;b=a(369);c=a(750);a=a(760);a=c([b,a]);d.exports=a;},function(d){d.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(d){d.exports=function(b,a){for(var c=0,d=a.length,k=[];c < d;){b(a[c]) && (k[k.length]=a[c]);c+=1;}return k;};},function(d,b,a){var c,l;b=a(119);c=a(371);l=a(745);a=b(function(a){return c(a)?!0:!a || "object" !== typeof a || l(a)?!1:1 === a.nodeType?! !a.length:0 === a.length?!0:0 < a.length?a.hasOwnProperty(0) && a.hasOwnProperty(a.length - 1):!1;});d.exports=a;},function(d){d.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(d){var b;b=(function(){function a(a){this.qq=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,b){return this.qq(a,b);};return a;})();d.exports=function(a){return new b(a);};},function(d,b,a){var c;c=a(221);b=a(54)(function(a,b){return c(a.length,function(){return a.apply(b,arguments);});});d.exports=b;},function(d,b,a){var c,l;b=a(54);c=a(372);l=(function(){function a(a,b){this.EV=b;this.qq=a;}a.prototype["@@transducer/init"]=c.$a;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.qq(b)?this.EV["@@transducer/step"](a,b):a;};return a;})();a=b(function(a,b){return new l(a,b);});d.exports=a;},function(d,b,a){var c,l;c=a(219);l=Object.prototype.toString;d.exports=function(){return "[object Arguments]" === l.call(arguments)?function(a){return "[object Arguments]" === l.call(a);}:function(a){return c("callee",a);};};},function(d,b,a){var c;b=a(119);c=a(751);a=b(function(a){return c(function(){return Array.prototype.slice.call(arguments,0);},a);});d.exports=a;},function(d,b,a){var c,l,k,m,f;b=a(54);c=a(374);l=a(375);k=a(753);m=a(754);f=a(759);a=b(function(a,b){return l(f(k,0,m("length",b)),function(){var f,d;f=arguments;d=this;return a.apply(d,c(function(a){return a.apply(d,f);},b));});});d.exports=a;},function(d,b,a){var l,k;function c(a,b,d){return function(){var A;for(var f=[],h=0,m=a,g=0;g < b.length || h < arguments.length;){g < b.length && (!k(b[g]) || h >= arguments.length)?A=b[g]:(A=arguments[h],h+=1);f[g]=A;k(A) || --m;g+=1;}return 0 >= m?d.apply(this,f):l(m,c(a,f,d));};}l=a(221);k=a(164);d.exports=c;},function(d,b,a){b=a(54)(function(a,b){return b > a?b:a;});d.exports=b;},function(d,b,a){var c,l;b=a(54);c=a(755);l=a(757);a=b(function(a,b){return c(l(a),b);});d.exports=a;},function(d,b,a){var c,l,k,m,f,h;b=a(54);c=a(370);l=a(374);k=a(220);m=a(756);f=a(375);h=a(373);a=b(c(["fantasy-land/map","map"],m,function(a,b){switch(Object.prototype.toString.call(b)){case "[object Function]":return f(b.length,function(){return a.call(this,b.apply(this,arguments));});case "[object Object]":return k(function(c,f){c[f]=a(b[f]);return c;},{},h(b));default:return l(a,b);}}));d.exports=a;},function(d,b,a){var c,l;b=a(54);c=a(372);l=(function(){function a(a,b){this.EV=b;this.qq=a;}a.prototype["@@transducer/init"]=c.$a;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.EV["@@transducer/step"](a,this.qq(b));};return a;})();a=b(function(a,b){return new l(a,b);});d.exports=a;},function(d,b,a){var c;b=a(54);c=a(758);a=b(function(a,b){return c([a],b);});d.exports=a;},function(d,b,a){b=a(54)(function(a,b){for(var c=0;c < a.length;){if(null == b)return;b=b[a[c]];c+=1;}return b;});d.exports=b;},function(d,b,a){b=a(163);a=a(220);a=b(a);d.exports=a;},function(d,b,a){var c,l;c=a(761);b=a(54);l=a(369);a=b(function(a,b){return l(c(a),b);});d.exports=a;},function(d){d.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(d,b,a){var l,k,m,f;function c(a,b,c,f,d){this.log=a;this.config=b;this.j=c;this.uga=f;this.Rpa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.tEa=void 0;l=a(56);k=a(10);m=a(138);f=a(222);c.prototype.IKb=function(a){var b;b=this;a=a.map(function(a){var c,f,d;c=b.aVb(a);!1 !== a.AK || c.length || b.log.error("track without downloadables",b.LQa(a));!0 !== a.uma || c.length || b.log.error("forced track without downloadables",b.LQa(a));f={};d=[];if(0 < c.length){f=c[0];d=f.profile;if(d == l.Tl.bH || d == l.Tl.oX)(f=b.vQb(c),!1);d=b.uga.MXa(a.Lmb,void 0,!1);}a=b.Rpa(b.j,a.Cs,a.id,f.Jd,f.Ge || ({}),d,a.language,a.w3,m.gY[a.co.toLowerCase()] || m.po.jH,a.NT.toUpperCase(),f.profile,b.Zyb(f) || ({}),a.AK,a.uma,a.m3,a.ms);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};c.prototype.yUb=function(a){var b,c;b=this;c=this.config.Dja;if(c){if(a=N(a.filter(function(a){return a.gm == c || a.Xa == c;})).next().value)return a;}else if(this.j.s1 && (a=N(a.filter(function(a){return a.Xa == b.j.s1;})).next().value))return a;};c.prototype.aVb=function(a){var b,c;b=this;c=a.ntb;a=Object.entries(a.wVb || ({})).map(function(a){var f;f=N(a);a=f.next().value;f=f.next().value;return {Jd:c[a],profile:a,size:f.size || 0,Ud:b.$xb(a,f),offset:f.roa || 0,lLb:f.width,oYa:f.height,Ge:f.dx};});a.sort(function(a,b){return a.Ud - b.Ud;});return a;};c.prototype.$xb=function(a,b){var c,f;c=this.config.nv.indexOf(a);b=b.size;f=this.config.HM;return a === l.Tl.F8 && 0 < f && b > f?this.config.nv.length + 1:0 <= c?c:this.config.nv.length;};c.prototype.Zyb=function(a){if(a.profile === l.Tl.bH || a.profile === l.Tl.oX)return {offset:a.offset,length:a.size,U5:{width:a.lLb,height:a.oYa}};};c.prototype.vQb=function(a){var b,c;b=this.config.Sla || f.dY.Jka();c=N(a.filter(function(a){return a.profile === l.Tl.bH || a.profile === l.Tl.oX;}).filter(function(a){return a.oYa === b;})).next().value;if(c)return c;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:k.Ft.height,intendedResolution:b});return a[0];};c.prototype.LQa=function(a){return {isNone:a.AK,isForced:a.uma,bcp47:a.language,id:a.Cs};};b.tEa=c;},function(d,b){function a(a,b,d,m,f){this.uga=a;this.B2a=b;this.lVb=d;this.OJa=m;this.G4a=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Tza=void 0;a.prototype.DKb=function(a){var b,c,d,f,h,q,g,r,v,A,y,B,n,J,D;b=a.Fc;a=this.uga.MXa(b.Us,b.Dn,!0);c=this.B2a.IKb(b.BUb);d=this.lVb.JKb(b.oVb);f=this.OJa.vKb(b.QJa,b.media,c);h=this.G4a.tpa(b.jt);q=this.FKb(b,f,c);g=q[0];r=h[0];v=this.OJa.Okb(f) || g.Zc || f[0];g=this.B2a.yUb(v.Kl) || g.Oc || v.Kl[0];A=this.G4a.GKb(b.jt);y=b.ti;B=b.Anb;n=b.x2;J=b.nl;D=b.QJa.findIndex(function(a){return a.Cs == v.Xa;});b=b.jt.findIndex(function(a){return a.Cs == r.Xa;});return {Ms:A,nk:a,jn:f,Pm:h,Kl:c,Ay:d,ti:y,OQb:B,Dx:n,nl:J,YMa:D,bNa:b,r5:q,Vha:r,NQ:v,Uha:g};};a.prototype.FKb=function(a,b,d){var c,f;c=[];f=a.aNa[0];c.push({Zc:b.find(function(a){return a.xx === f.FD;}),Oc:d.find(function(a){return a.xx === f.GTb;}),f8b:0});return c;};b.Tza=a;},function(d,b){function a(a,b,d){this.log=a;this.j=b;this.mta=d;}Object.defineProperty(b,"__esModule",{value:!0});b.KEa=void 0;a.prototype.JKb=function(a){var b;b=this;a=(a || []).filter(function(a){return a.Ge && 0 < a.Ge.length;}).map(function(a){return b.mta(b.j,a.id,a.height,a.width,a.qLb,a.rLb,a.size,a.ms,{unknown:a.Ge[0]});});0 === a.length && this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size - b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};b.KEa=a;},function(d,b,a){var l,k,m,f,h;function c(a,b,c,f){a=k.TN.call(this,a,f) || this;a.config=b;a.j=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Yua=void 0;l=a(349);k=a(376);m=a(118);f=a(79);h=a(138);L(c,k.TN);c.prototype.vKb=function(a,b,c){var d,k,q,g;d=this;k=N(m.Es(function(a){return a.AK;},a));a=k.next().value;k=k.next().value;k=N(m.Es(function(a){return a.xc && 0 < a.xc.length;},k));q=k.next().value;k.next().value.forEach(function(a){return d.log.warn("Audio track is missing streams",d.NRa(a));});g=this.config.Ksa;k=N(m.Es(function(a){return 0 === g.length || 0 <= g.indexOf(a.co);},q));q=k.next().value;k.next().value.forEach(function(a){return d.log.warn("Audio track is not supported",d.NRa(a));});a=[].concat(X(q),X(a)).map(function(a){var k,m;m=a.co;m={type:f.jh.audio,Xa:a.Cs,xx:a.hta,co:h.gY[m.toLowerCase()] || h.po.jH,NT:m,gm:a.language,displayName:a.w3,Lr:a.Lr,t4b:a.Lr,Kl:d.Uwb(a.Cs,b,c),Dh:{Bcp47:a.language,TrackId:a.Cs},xc:[],isNative:a.isNative,zK:a.AK,W6:a.W6};m.xc=d.l3a(a.xc,m);d.log.trace("Transformed audio track",m,{StreamCount:m.xc.length,AllowedTimedTextTracks:m.Kl.length});m.Jnb=l.c8[null === (k=m.xc[0]) || void 0 === k?void 0:k.vg];return m;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};c.prototype.Okb=function(a){var b,c;b=this;c=this.config.Aja;if(c){if(a=N(a.filter(function(a){return a.gm == c || a.Xa == c;})).next().value)return a;}else if(this.j.r1 && (a=N(a.filter(function(a){return a.Xa == b.j.r1;})).next().value))return a;};c.prototype.NRa=function(a){return {language:a.w3,bcp47:a.language,type:a.co};};c.prototype.Uwb=function(a,b,c){return b.filter(function(b){return b.bh.AUDIO === a;}).map(function(a){return a.bh.Tba;}).map(function(a){return c.find(function(b){return b.Xa === a;});}).filter(Boolean);};b.Yua=c;},function(d,b,a){var l,k,m,f,h,q;function c(a,b){a=k.Se.call(this,a,"ManifestParserConfigImpl") || this;a.sn=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Rza=void 0;d=a(0);l=a(1);k=a(44);m=a(32);f=a(43);h=a(130);q=a(46);L(c,k.Se);ma.Object.defineProperties(c.prototype,{Ksa:{configurable:!0,enumerable:!0,get:function(){return [];}},Aja:{configurable:!0,enumerable:!0,get:function(){return "";}},tga:{configurable:!0,enumerable:!0,get:function(){return [];}},sga:{configurable:!0,enumerable:!0,get:function(){return [];}},Dja:{configurable:!0,enumerable:!0,get:function(){return "";}},Sla:{configurable:!0,enumerable:!0,get:function(){return 0;}},HM:{configurable:!0,enumerable:!0,get:function(){return this.sn.HM.ca(q.qt);}},nv:{configurable:!0,enumerable:!0,get:function(){return this.sn.nv;}}});a=c;d.__decorate([f.config(f.Q6,"supportedAudioTrackTypes")],a.prototype,"Ksa",null);d.__decorate([f.config(f.string,"forceAudioTrack")],a.prototype,"Aja",null);d.__decorate([f.config(f.uta,"cdnIdWhiteList")],a.prototype,"tga",null);d.__decorate([f.config(f.uta,"cdnIdBlackList")],a.prototype,"sga",null);d.__decorate([f.config(f.string,"forceTimedTextTrack")],a.prototype,"Dja",null);d.__decorate([f.config(f.Cy,"imageSubsResolution")],a.prototype,"Sla",null);d.__decorate([f.config(f.Cy,"timedTextSimpleFallbackThreshold")],a.prototype,"HM",null);d.__decorate([f.config(f.Q6,"timedTextProfiles")],a.prototype,"nv",null);a=d.__decorate([l.O(),d.__param(0,l.l(m.ck)),d.__param(1,l.l(h.kH))],a);b.Rza=a;},function(d,b){function a(a){this.wc=a;this.Ab=JSON.stringify(this.Tyb());}Object.defineProperty(b,"__esModule",{value:!0});b.Wza=void 0;a.prototype.Tyb=function(){var a;a=[];(!this.wc.nk || 0 >= this.wc.nk.length) && a.push({error:"No CDN."});this.wc.NQ || a.push({error:"No default audio track.",foundTracks:this.ika(this.wc.jn)});this.wc.Vha || a.push({error:"No default video track.",foundTracks:this.ika(this.wc.Pm)});this.wc.Uha || a.push({error:"No default subtitle track.",foundTracks:this.ika(this.wc.Kl)});return a;};a.prototype.ika=function(a){return a && 0 < a.length?a.map(function(a){return a.Xa;}):"No tracks found.";};b.Wza=a;},function(d,b,a){var l,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Vza=void 0;d=a(0);l=a(1);k=a(222);c.prototype.decode=function(a){var b,c;b=this.$zb(a.cdns);c=this.kyb(a);return {movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.tka(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position / 1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.Oxb(a),timedtexttracks:this.uAb(a.textTracks,b),media:this.Xyb(a.media),trickplays:this.yAb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:! !a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:c.gR,urlExpirationDuration:c.w4a,manifestExpirationDuration:c.w4a,initialHeader:void 0,steeringAdditionalInfo:null,viewableType:"",type:"standard"};};c.prototype.Oxb=function(a){var b,c,d;b=N(a.defaultMedia.split("|"));c=b.next().value;d=b.next().value;b=b.next().value;return [{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:d,subtitleTrackId:b,preferenceOrder:0}];};c.prototype.tka=function(a){return a?a.map(function(a){return {key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};c.prototype.$zb=function(a){return a?a.map(function(a){return {name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};c.prototype.PRa=function(a){return Object.entries(a).map(function(a){var b;b=N(a);a=b.next().value;b=b.next().value;return {cdn_id:Number(a),url:b};});};c.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return {type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.Wwb(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c && c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,isNoneTrack:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};c.prototype.Wwb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return {type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.PRa(a.urls),isDrm:! !a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate - b.bitrate;}),a):[];};c.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return {type:1,trackType:"PRIMARY",streams:c.IAb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",hasDrmProfile:!0,hasDrmStreams:! !b,hasClearProfile:!1,hasClearStreams:!b,drmHeader:b && b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length - 25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};c.prototype.IAb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return {type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.PRa(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate - b.bitrate;}),a):[];};c.prototype.uAb=function(a,b){var c;c=this;return a?a.map(function(a){return {type:"timedtext",trackType:"SUBTITLES" === a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47 || null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.pAb(a.downloadables),ttDownloadables:c.qAb(a.downloadables),isLanguageLeftToRight:! !a.isLanguageLeftToRight,cdnlist:b};}):[];};c.prototype.pAb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};c.prototype.Ezb=function(a){var b;b=k.dY.Jka();a=a.filter(function(a){return a.isImage;});return 0 === a.length?b:0 < a.filter(function(a){return a.pixHeight === b;}).length?b:Math.min.apply(Math,[].concat(X(a.map(function(a){return a.pixHeight;}))));};c.prototype.qAb=function(a){var b;if(a){b=this.Ezb(a);return a.reduce(function(a,c){c.isImage && c.pixHeight !== b || (a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return {};};c.prototype.Xyb=function(a){return a?a.map(function(a){return {id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return "AUDIO" === a.type;}).id,VIDEO:a.tracks.find(function(a){return "VIDEO" === a.type;}).id,TEXT:a.tracks.find(function(a){return "TEXT" === a.type;}).id}};}):[];};c.prototype.yAb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.values(a.urls),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return [];};c.prototype.kyb=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables && a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables && a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return {w4a:1E3 * b,gR:a.clientGenesis + 1E3 * b};};c.prototype.encode=function(){throw Error("encode not supported");};a=c;a=d.__decorate([l.O()],a);b.Vza=a;},function(d,b,a){var l,k,m,f,h,q,g,r;function c(a,b,c,f){this.ta=a;this.$Fb=b;this.KEb=c;this.WFb=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Qza=void 0;d=a(0);l=a(380);k=a(1);m=a(35);f=a(4);h=a(381);q=a(382);g=a(40);r=a(2);c.prototype.create=function(a){var b;if(this.xDb(a))throw g.Bc.FXb(r.L.MANIFEST,r.K.ncb,a);b=this.KEb();this.qDb(a)?(a.clientGenesis=a.clientGenesis || this.ta.Ae.ca(f.ga),a=this.$Fb.decode(a),b.hjb(a)):b.Uea(a.links);this.WFb.JJ(a);return {Fc:a,hj:b,oTa:!1};};c.prototype.xDb=function(a){return ("type" in a) && "muxed" === a.type;};c.prototype.qDb=function(a){return ("runtime" in a) && ! !a.runtime;};a=c;a=d.__decorate([k.O(),d.__param(0,k.l(m.fh)),d.__param(1,k.l(l.H$)),d.__param(2,k.l(h.Caa)),d.__param(3,k.l(q.D$))],a);b.Qza=a;},function(d,b,a){var l,k;function c(a){this.Aub=a;this.YFb={ju:"drmType",g5b:"drmVersion",gR:"expiration",y6b:"isUsingLegacyBatchingAPI",eu:"bookmark",u:"movieId",qp:"packageId",duration:"duration",ti:"playbackContextId",aNa:["defaultTrackOrderList",{UK:"mediaId",C9b:"videoTrackId",GTb:"subtitleTrackId",FD:"audioTrackId",e8b:"preferenceOrder"}],nl:"drmContextId",oBb:"hasDrmProfile",nBb:"hasClearProfile",x2:"hasDrmStreams",aSa:"hasClearStreams",Dn:["locations",{jg:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Us:["servers",{id:"id",name:"name",type:"type",jg:"rank",JUa:"lowgrade",Zsb:["dns",{host:"host",UCb:"ipv4",VCb:"ipv6",jwb:"forceLookup"}],key:"key"}],QJa:["audio_tracks",{type:"type",co:"trackType",Cs:"new_track_id",hta:"track_id",XMb:"profileType",YSb:"stereo",profile:"profile",Lr:"channels",language:"language",Tmb:"channelsFormat",W6:"surroundFormatLabel",w3:"languageDescription",$4b:"disallowedSubtitleTracks",U4b:"defaultTimedText",isNative:"isNative",AK:"isNoneTrack",xc:["streams",{mia:"downloadable_id",size:"size",xQ:"content_profile",co:"trackType",U:"bitrate",Du:"isDrm",Ge:["urls",{UKa:"cdn_id",url:"url"}],eIb:"new_stream_id",type:"type",Lr:"channels",Tmb:"channelsFormat",W6:"surroundFormatLabel",language:"language",W3b:"audioKey"}],Jnb:"codecName",NT:"rawTrackType",id:"id"}],jt:["video_tracks",{co:"trackType",Cs:"new_track_id",type:"type",hta:"track_id",oBb:"hasDrmProfile",nBb:"hasClearProfile",x2:"hasDrmStreams",aSa:"hasClearStreams",xc:["streams",{mia:"downloadable_id",size:"size",xQ:"content_profile",co:"trackType",U:"bitrate",Du:"isDrm",Ge:["urls",{UKa:"cdn_id",url:"url"}],eIb:"new_stream_id",type:"type",Y7b:"peakBitrate",Lsb:"dimensionsCount",Msb:"dimensionsLabel",qYa:"pix_w",pYa:"pix_h",nPb:"res_w",mPb:"res_h",orb:"crop_x",prb:"crop_y",nrb:"crop_w",mrb:"crop_h",swb:"framerate_value",rwb:"framerate_scale",Q8b:"startByteOffset",rb:"vmaf"}],XMb:"profileType",YSb:"stereo",profile:"profile",Lsb:"dimensionsCount",Msb:"dimensionsLabel",qia:["drmHeader",{ba:"bytes",hnb:"checksum",lp:"keyId"}],Ks:["prkDrmHeaders",{ba:"bytes",hnb:"checksum",lp:"keyId",U5:["resolution",{height:"height",width:"width"}]}],tq:"flavor",k6b:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",oLb:"pixelAspectX",pLb:"pixelAspectY",V6b:"maxCroppedWidth",U6b:"maxCroppedHeight",W6b:"maxCroppedX",X6b:"maxCroppedY",b7b:"max_framerate_value",a7b:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",n7b:"minCroppedWidth",m7b:"minCroppedHeight",o7b:"minCroppedX",p7b:"minCroppedY",pi:["license",{IEb:"licenseResponseBase64",j8b:"providerSessionToken",e5b:"drmSessionId",links:["links",{}]}]}],TKa:["cdnResponseData",{OF:"sessionABTestCell",nF:"pbcid"}],Oo:["choiceMap",{ff:"initialSegment",type:"type",fa:"viewableId",Ja:["segments",{ez:[k.ez,{Ac:"startTimeMs",zd:"endTimeMs",next:["next",{ez:[k.ez,{weight:"weight"}]}],yh:"defaultNext"}]}]}],DCb:["initialHeader",{$:["fragments",{sa:"endPts"}]}],media:["media",{id:"id",bh:["tracks",{AUDIO:"AUDIO",Tba:"TEXT",VIDEO:"VIDEO"}]}],BUb:["timedtexttracks",{co:"trackType",Cs:"new_track_id",type:"type",NT:"rawTrackType",w3:"languageDescription",language:"language",id:"id",AK:"isNoneTrack",uma:"isForcedNarrative",ntb:["downloadableIds",{}],Lmb:["cdnlist",{id:"id",name:"name",type:"type",jg:"rank",JUa:"lowgrade",Zsb:["dns",{host:"host",UCb:"ipv4",VCb:"ipv6",jwb:"forceLookup"}],key:"key"}],wVb:["ttDownloadables",{ez:[k.ez,{size:"size",Z8b:"textKey",d6b:"hashValue",c6b:"hashAlgo",t6b:"isImage",roa:"midxOffset",NVa:"midxSize",height:"height",width:"width",dx:["downloadUrls",{}]}]}],m3:"isLanguageLeftToRight",ms:"headIdentDuration"}],oVb:["trickplays",{mia:"downloadable_id",size:"size",Ge:"urls",id:"id",interval:"interval",rLb:"pixelsAspectY",qLb:"pixelsAspectX",width:"width",height:"height",ms:"headIdentDuration"}],S4a:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],d5b:"dpsid",Kj:"isBranching",D9b:"viewableType",type:"type",KE:"isSupplemental",Anb:"clientIpAddress",t9b:"urlExpirationDuration",O6b:"manifestExpirationDuration",R8b:["steeringAdditionalInfo",{S8b:"steeringId",R3b:"additionalGroupNames",T8b:["streamingClientConfig",{}]}]};}Object.defineProperty(b,"__esModule",{value:!0});b.Pza=void 0;d=a(0);l=a(1);k=a(207);c.prototype.JJ=function(a){this.Aub.JJ(a,this.YFb);};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(k.p9))],a);b.Pza=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.ac=b.zx=void 0;(function(a){a[a.ak=0]="STOPPED";a[a.cd=1]="BUFFERING";a[a.mf=2]="REBUFFERING";a[a.bk=3]="STREAMING";a[a.nO=4]="TRACK_SWITCH";})(a || (a={}));b.ac=a;b.zx=function(b){return b === a.cd || b === a.mf || b === a.nO;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(783),b);d.__exportStar(a(784),b);d.__exportStar(a(785),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.oa=void 0;d=a || (a={});d[d.oh=0]="STARTING";d[d.cd=1]="BUFFERING";d[d.mf=2]="REBUFFERING";d[d.Uc=3]="PLAYING";d[d.Qv=4]="STOPPING";d[d.ak=5]="STOPPED";d[d.uj=6]="PAUSED";b.oa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(805),b);d.__exportStar(a(806),b);d.__exportStar(a(807),b);d.__exportStar(a(808),b);d.__exportStar(a(809),b);d.__exportStar(a(810),b);d.__exportStar(a(811),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(813),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Pua=void 0;c=a(17);d=(function(){function a(a){this.config=a;}a.prototype.ol=function(a,b){return this.config.P6 || b !== c.ac.bk?a.filter(function(a){return a.pu;}):a;};return a;})();b.Pua=d;},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.wH=void 0;d=a(0);c=a(19);l=d.__importDefault(a(3));k=a(385);a=(function(){function a(a){this.console=a;this.ZMa=[];this.jKa={};this.pNa=!1;}a.prototype.Hl=function(a,b){this.ZMa=a;void 0 !== b?this.jKa[b]=a:this.pNa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.pNa=!0);};a.prototype.ol=function(a){var b,f,d,m,g;b=this;if(0 === a.length)return a;m=a[0].fa;if(void 0 === m)return (this.console.error("StreamFilters: Stream has undefined viewable id"),a);try{null === (f=l["default"].Pr) || void 0 === f?void 0:f.call(l["default"],m);}catch(A){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + A),a);}g=null !== (d=this.jKa[m]) && void 0 !== d?d:this.ZMa;c.ma && this.console.trace("VideoBitrateRangesFilter: filtering " + a.length + " streams with " + JSON.stringify(g));a=a.filter(function(a){return k.pfa(a.profile,a.U,g,b.console).inRange;});c.ma && this.console.trace("VideoBitrateRangesFilter: ... " + a.length + " streams in range");return a;};return a;})();b.wH=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rua=void 0;d=(function(){function a(a){var b;b=this;a.zM && a.zM.enabled && a.zM.profiles && a.zM.profiles.length && "keepLowest" === a.zM.action && (this.RTa={},a.zM.profiles.forEach(function(a){return b.RTa[a]=!0;}));}a.prototype.ol=function(a){var b,c;b={};c=this.RTa;return void 0 === c?a:a.filter(function(a){return !c[a.profile] || (b[a.profile]?!1:b[a.profile]=!0);});};return a;})();b.Rua=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nua=void 0;d=(function(){function a(a){this.config=a;}a.prototype.ol=function(a){var b;b=this.config;return a.filter(function(a){return !(void 0 !== a.rb && (a.rb < b.aF || a.rb > b.eVa) || (void 0 === a.rb || 0 >= b.aF) && a.U < b.soa || (void 0 === a.rb || Infinity === b.eVa) && a.U > b.mGb);});};return a;})();b.Nua=d;},function(d,b,a){var l;function c(a,b){b=Math.max(a,b);return isNaN(b)?a || -Infinity:b;}Object.defineProperty(b,"__esModule",{value:!0});b.zua=void 0;l=a(17);d=(function(){function a(a){this.config=a;this.PT=0;this.state=l.ac.ak;this.ZVa=c(a.soa,a.k4);this.zoa=c(a.aF,a.SS);}a.prototype.ol=function(a,b){var c;c=this;if(b !== this.state){this.state=b;if(b === l.ac.cd || b === l.ac.nO)return a;b === l.ac.mf && this.EZa();}return a.filter(function(a){return !(void 0 !== a.rb && a.rb < c.zoa || (void 0 === a.rb || 0 > c.zoa) && a.U < c.ZVa);});};a.prototype.EZa=function(){++this.PT;this.zoa=c(this.config.aF,this.config.SS - this.config.pHb * this.PT);this.ZVa=this.config.soa || -Infinity;};return a;})();b.zua=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Mua=void 0;c=a(34);d=(function(){function a(a){this.config=a;}a.prototype.TRb=function(a){return a % 100 + 1 <= this.config.Bpa;};a.prototype.ol=function(a){var b,f,d,k,l,g,v,A,y,B,n;v=Number(null === (b=a[0]) || void 0 === b?void 0:b.u);if(!(this.config.R0 && this.TRb(v) && 0 < this.config.W5.length))return a;b=a.length;A=null !== (f=a[b - 1].V5) && void 0 !== f?f:0;if(f=c.Pg(this.config.W5,function(a){return a.p8b >= A && a.G_a <= A;})){for(v=0;v < b;v++){y=a[Math.max(v - 1,0)];B=a[v];if(!((null !== (d=B.V5) && void 0 !== d?d:0) < f.G_a || (null !== (k=y.V5) && void 0 !== k?k:0) < f.G_a)){n=null !== (l=B.rb) && void 0 !== l?l:Infinity;y=null !== (g=y.rb) && void 0 !== g?g:Infinity;if(!(y < f.s7b || y < f.r7b && B.U < f.ym || !n && B.U < f.T6b))break;}}return a.slice(0,v);}return a;};return a;})();b.Mua=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.y$=b.d8=void 0;c=a(34);b.d8={ol:function(a){return a.filter(function(a){return a.Cu && !a.FA;});}};b.y$={ol:function(a){return (a=c.Pg(a,function(a){return ! !a.Cu && !a.FA;}))?[a]:[];}};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.NC=void 0;c=a(386);d=(function(){function a(a,b){void 0 === b && (b=!1);this.wmb=b;this.filters=[];Array.isArray(a)?a.forEach(this.and.bind(this)):this.and(a);}a.prototype.and=function(a){a !== c.AC && this.filters.push({filter:a,VLa:!0});return this;};a.prototype.Yx=function(a){this.filters.push({filter:a,VLa:!1});return this;};a.prototype.ol=function(a,b){return this.filters.reduce(function(c,d){d.VLa?c=d.filter.ol(c,b):0 === c.length && (c=d.filter.ol(a,b));return c;},a);};return a;})();b.NC=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.z$=void 0;b.z$={ol:function(a){return [a[0]];}};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.XD=b.WD=void 0;c=a(92);b.WD=function(a,b){b && (null === a || void 0 === a?0:a.DSa) && (b=new c.NC(b).Yx(c.AC));return new c.NC(c.d8).and(null !== b && void 0 !== b?b:c.AC).Yx(c.y$).Yx(c.z$);};b.XD=function(a,b){b && a.DSa && (b=new c.NC(b).Yx(c.AC));return new c.NC(c.d8).and(new c.Pua(a)).and(new c.Nua(a)).and(new c.zua(a)).and(new c.Rua(a)).and(a.R0?new c.Mua(a):c.AC).and(null !== b && void 0 !== b?b:c.AC).Yx(c.y$).Yx(c.z$);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.pua=void 0;c=a(0);d=(function(a){function b(c,f){c=a.call(this,b.Iwb(c,f)) || this;c.zeb=f;c.name="AggregateError";return c;}c.__extends(b,a);b.Iwb=function(a,b){return b.reduce(function(a,b){return a + "\n" + b;},a);};Object.defineProperties(b.prototype,{mu:{get:function(){return this.zeb;},enumerable:!1,configurable:!0}});return b;})(Error);b.pua=d;},function(d,b,a){var c,l,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.Oza=void 0;c=a(0);l=a(16);k=a(227);d=c.__importDefault(a(3));m=a(856);d=new d["default"].Console("ASEJS","media|asejs");d.trace.bind(d);f=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];d=(function(b){function d(a,c){var d;d=b.call(this) || this;d.H=a;d.jc=new m.eza(a,c);a.iE && d.ZLa(c);d.hg=new l.qg();f.forEach(function(a){d.hg.on(d.jc,a,function(b){return d.emit(a,b);});d.Vn && d.hg.on(d.Vn,a,function(b){return d.emit(a,b);});});return d;}c.__extends(d,b);Object.defineProperties(d.prototype,{kb:{get:function(){return this.jc.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{In:{get:function(){return this.jc.In;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Xq:{get:function(){return this.jc.Xq;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ry:{get:function(){return this.jc.ry;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Lma:{get:function(){return this.jc.Lma;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{DB:{get:function(){return this.jc.DB;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{We:{get:function(){return this.jc.We;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Tf:{get:function(){return this.jc.Tf;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Pla:{get:function(){return this.jc.Pla;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{i5:{get:function(){return this.jc.i5.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{AS:{get:function(){return this.jc.AS.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{DUa:{get:function(){return this.jc.DUa.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{c1a:{get:function(){return this.jc.c1a.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{G1:{get:function(){return this.jc.G1.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nRa:{get:function(){return this.jc.nRa.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{SE:{get:function(){return this.jc.SE.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nLa:{get:function(){return this.jc.nLa.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{C_:{get:function(){return this.jc.C_.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ow:{get:function(){var a;a=this;return function(){a.gra();a.jc.Ow();};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{iga:{get:function(){var a;a=this;return function(){a.gra();a.jc.iga();};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jga:{get:function(){return this.jc.jga.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Nw:{get:function(){var a;a=this;return function(){a.gra();a.jc.Nw();};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ho:{get:function(){var a;a=this;return function(b,c,f){var d;null === (d=a.We) || void 0 === d?void 0:d.Ho(b,c,f);};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{IKa:{get:function(){return this.jc.IKa.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{HKa:{get:function(){return this.jc.HKa.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{E0a:{get:function(){return this.jc.E0a.bind(this.jc);},enumerable:!1,configurable:!0}});d.prototype.ZLa=function(b){return this.Vn=new (a(980).LDa)(this.H,this.Nw,this.Ho,b);};d.prototype.$a=function(a,b,c,f,d,h){this.jc.$a(a,b,c,f,d,h);this.Vn?this.Vn.$a(a,b,c,f,d,h):this.YTa={Ikb:a,eXb:b,Xw:c,ry:f,DB:d,NGb:h};};d.prototype.uU=function(a,b,c){this.jc.uU(a,b,c);this.Vn?this.Vn.uU(a,b,c):this.bUa={pTb:a,ry:b,DB:c};};d.prototype.nn=function(a,b,c,d,h,k,l,m,g,q){var r,u,v,A,y;r=this;m || (m=this.jc.config);if(m.iE && !this.Vn){u=this.ZLa(this.jc.vy);f.forEach(function(a){r.hg.on(r.Vn,a,function(b){return r.emit(a,b);});});if(this.YTa){v=this.YTa;A=v.ry;y=v.DB;u.$a(v.Ikb,v.eXb,v.Xw,A,y,v.NGb);}this.bUa && (y=this.bUa,v=y.pTb,A=y.ry,y=y.DB,u.uU(v,A,y));}return this.Vn && m && m.Ml?(m.fq || m.gF || this.jc.Nw(),this.Vn.nn(a,b,c,d,h,k,l,m,g,q)):this.jc.nn(a,b,c,d,h,k,l,m,g,q);};d.prototype.addEventListener=function(a,b){this.addListener(a,b);return !0;};d.prototype.removeEventListener=function(a,b){this.removeListener(a,b);return !0;};d.prototype.Tb=function(){var a;this.hg.clear();this.jc.Tb();null === (a=this.Vn) || void 0 === a?void 0:a.Tb();k.DG.reset();};d.prototype.gra=function(){var a;this.H.fq || this.H.gF || (null === (a=this.Vn) || void 0 === a?void 0:a.Ga.iy.reset());};return d;})(l.EventEmitter);b.Oza=d;},function(d){function b(a,b,d,m){a.trace(":",d,":",m);b(m);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addListener=function(a,d,k,m){k=m?k.bind(m):k;if(a){this.console && (k=b.bind(null,this.console,k,d));if("function" === typeof a.addListener)a.addListener(d,k);else if("function" === typeof a.addEventListener)a.addEventListener(d,k);else throw Error("Emitter does not have a function to add listeners for '" + d + "'");this.listeners.push([a,d,k]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function" === typeof b.removeEventListener?b.removeEventListener(c,a):"function" === typeof b.removeListener && b.removeListener(c,a);});this.listeners=[];this.console && this.console.trace("removed",a,"listener(s)");};d.exports=a;},function(d,b,a){d.exports={Hbb:a(833),AYb:a(834)};},function(d,b,a){function c(a){this.data=a;this.right=this.left=null;this.red=!0;}function l(a){this.ue=null;this.Yl=a;this.size=0;}function k(a){return null !== a && a.red;}function m(a,b){var c;c=a.zg(!b);a.Cp(!b,c.zg(b));c.Cp(b,a);a.red=!0;c.red=!1;return c;}function f(a,b){a.Cp(!b,m(a.zg(!b),!b));return m(a,b);}b=a(387);c.prototype.zg=function(a){return a?this.right:this.left;};c.prototype.Cp=function(a,b){a?this.right=b:this.left=b;};l.prototype=new b();l.prototype.fp=function(a){var b,d,h,l,g,y,B,n,J;b=!1;if(null === this.ue)(this.ue=new c(a),b=!0,this.size++);else {d=new c(void 0);h=0;l=0;g=null;y=d;B=null;n=this.ue;for(y.right=this.ue;;){null === n?(n=new c(a),B.Cp(h,n),b=!0,this.size++):k(n.left) && k(n.right) && (n.red=!0,n.left.red=!1,n.right.red=!1);if(k(n) && k(B)){J=y.right === g;n === B.zg(l)?y.Cp(J,m(g,!l)):y.Cp(J,f(g,!l));}J=this.Yl(n.data,a);if(0 === J)break;l=h;h=0 > J;null !== g && (y=g);g=B;B=n;n=n.zg(h);}this.ue=d.right;}this.ue.red=!1;return b;};l.prototype.remove=function(a){var b,d,B,h,n,y,J;if(null === this.ue)return !1;b=new c(void 0);d=b;d.right=this.ue;for(var h=null,l,g=null,y=1;null !== d.zg(y);){B=y;l=h;h=d;d=d.zg(y);n=this.Yl(a,d.data);y=0 < n;0 === n && (g=d);if(!k(d) && !k(d.zg(y)))if(k(d.zg(!y)))(l=m(d,y),h.Cp(B,l),h=l);else if(!k(d.zg(!y)) && (n=h.zg(!B),null !== n))if(k(n.zg(!B)) || k(n.zg(B))){J=l.right === h;k(n.zg(B))?l.Cp(J,f(h,B)):k(n.zg(!B)) && l.Cp(J,m(h,B));B=l.zg(J);B.red=!0;d.red=!0;B.left.red=!1;B.right.red=!1;}else (h.red=!1,n.red=!0,d.red=!0);}null !== g && (g.data=d.data,h.Cp(h.right === d,d.zg(null === d.left)),this.size--);this.ue=b.right;null !== this.ue && (this.ue.red=!1);return null !== g;};d.exports=l;},function(d,b,a){function c(a){this.data=a;this.right=this.left=null;}function l(a){this.ue=null;this.Yl=a;this.size=0;}b=a(387);c.prototype.zg=function(a){return a?this.right:this.left;};c.prototype.Cp=function(a,b){a?this.right=b:this.left=b;};l.prototype=new b();l.prototype.fp=function(a){if(null === this.ue)return (this.ue=new c(a),this.size++,!0);for(var b=0,f=null,d=this.ue;;){if(null === d)return (d=new c(a),f.Cp(b,d),ret=!0,this.size++,!0);if(0 === this.Yl(d.data,a))return !1;b=0 > this.Yl(d.data,a);f=d;d=d.zg(b);}};l.prototype.remove=function(a){var b,f,d,g,l;if(null === this.ue)return !1;b=new c(void 0);f=b;f.right=this.ue;for(var d=null,k=null,l=1;null !== f.zg(l);){d=f;f=f.zg(l);g=this.Yl(a,f.data);l=0 < g;0 === g && (k=f);}return null !== k?(k.data=f.data,d.Cp(d.right === f,f.zg(null === f.left)),this.ue=b.right,this.size--,!0):!1;};d.exports=l;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Gt=b.Mbb=void 0;c=a(0);l=a(836);d=(function(){function a(a,b){this.o=a;this.rx=b?[b]:[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.addListener=function(a){-1 === this.rx.indexOf(a) && (this.rx=this.rx.slice(),this.rx.push(a));};a.prototype.removeListener=function(a){a=this.rx.indexOf(a);-1 !== a && (this.rx=this.rx.slice(),this.rx.splice(a,1));};return a;})();b.Mbb=d;d=(function(a){function b(b,c){return a.call(this,b,c) || this;}c.__extends(b,a);b.Q4a=function(a,b,c){return new l.TAa(a,b,c);};b.R4a=function(a,c,d){return b.Q4a(a,function(a){return a.every(function(a,b){return a === c[b];});},d);};Object.defineProperties(b.prototype,{value:{get:function(){return this.o;},set:function(a){this.set(a);},enumerable:!1,configurable:!0}});b.prototype.set=function(a){var b;b=this.o;b !== a && (this.o=a,this.rx.forEach(function(c){return c({oldValue:b,newValue:a});}));};return b;})(d);b.Gt=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.TAa=void 0;d=(function(){function a(a,b,d){var c;c=this;this.properties=a;this.aob=b;this.oQ=d;this.state=!1;this.kpa=function(){var a,b;a=c.state;b=c.properties.map(function(a){return a.value;});c.state=c.aob(b);a !== c.state && c.oQ(c.state);};a.forEach(function(a){return a.addListener(c.kpa);});this.kpa();}a.prototype.clear=function(){var a;a=this;this.properties.forEach(function(b){return b.removeListener(a.kpa);});};return a;})();b.TAa=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;c=a(34);l=a(5);d=(function(){function a(){this.data={};}Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{size:{get:function(){var a;a=this;return Object.keys(this.data).reduce(function(b,c){return b + a.data[c].length;},0);},enumerable:!1,configurable:!0}});a.prototype.get=function(a){var b;return null !== (b=this.data[a]) && void 0 !== b?b:[];};a.prototype.has=function(a,b){return (a=this.data[a])?void 0 === b?!0:-1 !== a.indexOf(b):!1;};a.prototype.count=function(a){return (a=this.data[a])?a.length:0;};a.prototype.keys=function(){return Object.keys(this.data);};a.prototype.values=function(){var a;a=this;return c.ru(this.keys().map(function(b){return a.data[b];}));};a.prototype.set=function(a,b){(this.data[a] || (this.data[a]=[])).push(b);return this;};a.prototype.clear=function(){this.data={};};a.prototype["delete"]=function(a,b){var c,d;c=this.data[a];if(void 0 === c)return !1;if(void 0 === b)return (l.assert(1 === arguments.length),delete this.data[a],!0);d=c.indexOf(b);if(-1 === d)return !1;1 === c.length?delete this.data[a]:c.splice(d,1);return !0;};a.prototype.forEach=function(a,b){var c;c=this;a=void 0 !== b?a.bind(b):a;this.keys().forEach(function(b){return c.data[b].forEach(function(d){return a(d,b,c);});});};a.prototype.reduce=function(a,b,c){var d,f;d=this;a=void 0 !== c?a.bind(c):a;f=b;this.forEach(function(b,c){f=a(f,b,c,d);});return f;};a.prototype.map=function(a,b){var d;d=this;a=void 0 !== b?a.bind(b):a;return c.ru(this.keys().map(function(b){return d.data[b].map(function(c){return a(c,b,d);});}));};a.prototype.filter=function(a,b){var d;d=this;a=void 0 !== b?a.bind(b):a;return c.ru(this.keys().map(function(b){return d.data[b].filter(function(c){return a(c,b,d);});}));};return a;})();b.BAa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.YOa=void 0;b.YOa=function(a,b){return a.filter(function(a){var c,d;a=null !== (d=null !== (c=a.Qj) && void 0 !== c?c:a.fS) && void 0 !== d?d:a.Tk;return ! !a && a.QE(b);}).pop();};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.QDa=b.PDa=void 0;c=a(34);d=(function(){function a(a){this.o=a;this.listeners=[];this.nT=[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.set=function(a){var b;this.o=a;b=this.nT;this.nT=[];this.listeners.forEach(function(b){return b(a);});b.forEach(function(b){return b(a);});};a.prototype.F_a=function(){this.o=void 0;};a.prototype.on=function(a){this.listeners=this.listeners.concat([a]);void 0 !== this.o && a(this.o);};a.prototype.once=function(a){void 0 !== this.o?a(this.o):this.nT.push(a);};a.prototype.oL=function(a){this.listeners=this.listeners.filter(function(b){return b !== a;});this.nT=this.nT.filter(function(b){return b !== a;});};return a;})();b.PDa=d;d=(function(){function a(){this.listeners=[];}a.prototype.on=function(a,b){this.listeners.push({D6:a,listener:b});a.on(b);};a.prototype.once=function(a,b){var c,d;c=this;if(void 0 === a.value){d=function(d){c.remove(a,b);b(d);};this.listeners.push({D6:a,listener:b,W4a:d});a.once(d);}else a.once(b);};a.prototype.oL=function(a,b){var d,h;h=c.Pg(this.listeners,function(c){return c.D6 === a && c.listener === b;});void 0 !== h && a.oL(null !== (d=h.W4a) && void 0 !== d?d:h.listener);this.remove(a,b);};a.prototype.removeAllListeners=function(){this.listeners.forEach(function(a){var b,c;b=a.listener;c=a.W4a;return a.D6.oL(null !== c && void 0 !== c?c:b);});this.listeners=[];};a.prototype.remove=function(a,b){this.listeners=this.listeners.filter(function(c){return c.D6 !== a || c.listener !== b;});};return a;})();b.QDa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kS=void 0;b.kS=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.WMa=void 0;b.WMa=function(a){return JSON.parse(JSON.stringify(a));};},function(d,b,a){var l;function c(a,b,d){var f,k,g,v;if(a === b || !d.qTb && a == b)return !0;if(typeof a !== typeof b)return !1;if(a && "object" === typeof a){for(var m in a){if(!c(a[m],b[m],d))return !1;}if(!d.Ymb){g=Object.keys(a);v=Object.keys(b).filter(function(a){return 0 > g.indexOf(a);});try{for(var A=l.__values(v),y=A.next();!y.done;y=A.next()){if((m=y.value,!c(a[m],b[m],d)))return !1;}}catch(B){f={error:B};}finally{try{y && !y.done && (k=A["return"]) && k.call(A);}finally{if(f)throw f.error;}}}return !0;}return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.Urb=void 0;l=a(0);b.Urb=function(a,b,d){void 0 === d && (d={});d=l.__assign({qTb:!1,Ymb:!1},d);return c(a,b,d);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZX=void 0;d=(function(){function a(){this.count=0;this.max=this.min=this.Ca=NaN;}Object.defineProperties(a.prototype,{Qq:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(a){this.count++;1 === this.count?this.Ca=this.min=this.max=a:(this.min=Math.min(a,this.min),this.max=Math.max(a,this.max),this.Ca+=(a - this.Ca) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Ca};};return a;})();b.ZX=d;},function(d,b,a){var l;function c(a){this.ZL=new Uint16Array(a.length);for(var b=0;b < a.length;++b){this.ZL[b]=a.charCodeAt(b);}}l=new (a(3)["default"].Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(a){var b,c;b=this.ZL.length;if(void 0 === this.ZL)l.warn("XORCiper.encrypt is called with undefined secret!");else {c="";for(var d=0;d < a.length;++d){c+=String.fromCharCode(this.ZL[d % b] ^ a.charCodeAt(d));}return encodeURIComponent(c);}};c.prototype.decrypt=function(a){var b,c;b="";c=this.ZL.length;a=decodeURIComponent(a);for(var d=0;d < a.length;d++){b+=String.fromCharCode(this.ZL[d % c] ^ a.charCodeAt(d));}return b;};d.exports=c;},function(d){function b(a,b){this.Ca=a;this.di=b;}b.prototype.Xpa=function(a){var m,f,d;a*=2;if(2 <= a)a=-100;else if(0 >= a)a=100;else {for(var b=1 > a?a:2 - a,d=Math.sqrt(-2 * Math.log(b / 2)),d=-.70711 * ((2.30753 + .27061 * d) / (1 + d * (.99229 + .04481 * d)) - d),k=0;2 > k;k++){m=Math.abs(d);f=1 / (1 + m / 2);m=f * Math.exp(-m * m - 1.26551223 + f * (1.00002368 + f * (.37409196 + f * (.09678418 + f * (-.18628806 + f * (.27886807 + f * (-1.13520398 + f * (1.48851587 + f * (-.82215223 + .17087277 * f)))))))));m=(0 <= d?m:2 - m) - b;d=d + m / (1.1283791670955126 * Math.exp(-(d * d)) - d * m);}a=1 > a?d:-d;}return this.Ca - Math.sqrt(2 * this.di) * a;};d.exports=b;},function(d,b,a){var k,m,f,h;function c(a,b,c){k.call(this,a,b,c);}function l(a,b){m.call(this,new c(a,b,!1));}k=a(847);m=a(848);f=a(108).cxb;h=a(108).FAb;c.prototype=Object.create(k.prototype);c.prototype.Ca=function(){return Math.floor(8 * f(this.qd) / this.dd);};c.prototype.di=function(){return Math.floor(64 * h(this.qd) / (this.dd * this.dd));};c.prototype.get=function(){return {Ca:this.Ca(),di:this.di(),h4b:this.qd.length};};c.prototype.toString=function(){return "bsw(" + this.EI + "," + this.dd + "," + this.Yi + ")";};l.prototype=Object.create(m.prototype);l.prototype.setInterval=function(a){this.PH.setInterval(a);};d.exports=l;},function(d){function b(a,b,d){this.EI=a;this.Yi=Math.floor((a + b - 1) / b);this.dd=b;this.phb=d;this.reset();}b.prototype.shift=function(){this.qd.shift();this.th.shift();};b.prototype.update=function(a,b){this.qd[a]+=b;};b.prototype.push=function(a){this.qd.push(0);this.th.push(a?a:0);this.eb+=this.dd;};b.prototype.add=function(a,b,d,k){var c,f;if(null === this.eb){c=Math.max(Math.floor((d - b + this.dd - 1) / this.dd),1);for(this.eb=b;this.qd.length < c;){this.push(k);}}for(;this.eb < d;){if((this.push(k),this.phb))for(;1 < this.qd.length && d + k - (this.eb - this.dd * this.qd.length + this.th[0]) > this.EI;){this.shift();}else this.qd.length > this.Yi && this.shift();}if(b > this.eb - this.dd)this.update(this.qd.length - 1,a);else if(b == d)(k=this.qd.length - Math.max(Math.ceil((this.eb - d) / this.dd),1),0 <= k && this.update(k,a));else for(k=1;k <= this.qd.length;++k){c=this.eb - k * this.dd;f=c + this.dd;if(!(c > d)){if(f < b)break;this.update(this.qd.length - k,Math.round(a * (Math.min(f,d) - Math.max(c,b)) / (d - b)));}}for(;this.qd.length > this.Yi;){this.shift();}};b.prototype.reset=function(){this.qd=[];this.th=[];this.eb=null;};b.prototype.setInterval=function(a){this.Yi=Math.floor((a + this.dd - 1) / this.dd);};d.exports=b;},function(d){function b(a){this.PH=a;this.ke=0;this.zI=null;}b.prototype.add=function(a,b,d){null !== this.zI && b > this.zI && (this.ke+=b - this.zI,this.zI=null);this.PH.add(a,b - this.ke,d - this.ke,this.ke);};b.prototype.stop=function(a){null === this.zI && (this.zI=a);};b.prototype.$pa=function(a,b){return this.PH.$pa(a,b);};b.prototype.get=function(){return this.PH.get();};b.prototype.reset=function(){this.PH.reset();};b.prototype.toString=function(){return this.PH.toString();};d.exports=b;},function(d,b,a){var l,k,m,f,h,g,u,r,v,A;function c(a){this.jeb=a;}b=a(390);l=b.j8a;k=b.h8a;m=a(230).i8a;f=a(230).Ycb;h=a(391);g=a(392);u=a(393).rEa;r=a(850);v=a(851);A=a(394);c.prototype.constructor=c;c.prototype.create=function(a,b){var c,d,q,y;d=this.jeb[a];q=b[a];y={};d && Object.keys(d).forEach(function(a){y[a]=d[a];});q && Object.keys(q).forEach(function(a){y[a]=q[a];});switch(y.type){case "slidingwindow":c=new m(y.mw);break;case "discontiguous-ewma":c=new k(y.mw);break;case "wssl":c=new f(y.mw,y.max_n);break;case "iqr":c=new h(y.mx,y.mn,y.bw,y.iv);break;case "tdigest":c=new g(y);break;case "discrete-ewma":c=new l(y.hl);break;case "tdigest-history":c=new u(y);break;case "iqr-history":c=new r(y);break;case "avtp":c=new A();break;case "entropy":c=new v(y);}c && (c.type=y.type);return c;};d.exports=c;},function(d,b,a){var l;function c(){this.Wi=void 0;this.xz=0;}l=a(8);c.prototype.rd=function(){return 0 !== this.xz && this.Wi?{p25:this.Wi.Jk,p50:this.Wi.kj,p75:this.Wi.Kk,c:this.xz}:null;};c.prototype.re=function(a){if(!(!l.ab(a) && l.has(a,"p25") && l.has(a,"p50") && l.has(a,"p75") && l.has(a,"c") && l.isFinite(a.p25) && l.isFinite(a.p50) && l.isFinite(a.p75) && l.isFinite(a.c)))return (this.Wi=void 0,this.xz=0,!1);this.Wi={Jk:a.p25,kj:a.p50,Kk:a.p75};this.xz=a.c;};c.prototype.get=function(){return {f5:this.Wi,tra:this.xz};};c.prototype.set=function(a,b){this.Wi=a;this.xz=b;};c.prototype.reset=function(){this.Wi=void 0;this.xz=0;};c.prototype.toString=function(){return "IQRHist(" + this.Wi + "," + this.xz + ")";};d.exports=c;},function(d,b,a){var l;function c(a){var b,c;b=a.sw;c=a.mw;this.DI=b;this.Fca={uhd:a.uhdl,hd:a.hdl};this.Yi=Math.max(Math.ceil(1 * b / c),1);this.Ufb=a.mins || 1;l.call(this,b,c);this.reset();}l=a(141);new (a(3)["default"].Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(l.prototype);c.prototype.flush=function(){this.qd.map(function(a,b){this.JIa(a,this.Oja(b));},this);};c.prototype.Ylb=function(){var a,b,c,d,l,g,r,B;a=this.Fca;for(b in a){if(a.hasOwnProperty(b)){c=a[b];d=this.yea[b];l=this.xea[b];if(d.first){g=d.first;r=d.vF;void 0 !== r && (l[g][r]+=1);d.first=void 0;}for(var d=[],g=0,c=r=c.length + 1,v=0;v < r;v++){for(var A=0,y=0;y < c;y++){A+=l[y][v];}g+=A;d.push(A);}A=-1;if(g > this.Ufb){for(v=A=0;v < r;v++){if(0 < d[v])for(y=0;y < c;y++){B=l[y][v];0 < B && (A-=B * Math.log(1 * B / d[v]));}}A/=g * Math.log(2);}this.fda[b]=A;}}return this.fda;};c.prototype.JIa=function(a,b){var c,l,m;for(var c=this.Yi,d=this.Fca;this.LY.length >= c;){this.LY.shift();}for(;this.MY.length >= c;){this.MY.shift();}this.LY.push(a);this.MY.push(b);a=this.LY.reduce(function(a,b){return a + b;},0);b=this.MY.reduce(function(a,b){return a + b;},0);if(0 < b){a=8 * a / b;for(var k in d){if(d.hasOwnProperty(k)){b=this.yea[k];c=this.xea[k];l=this.jNb(a,d[k]);m=b.vF;void 0 !== m?c[l][m]+=1:b.first=l;b.vF=l;}}}};c.prototype.jNb=function(a,b){for(var c=0;c < b.length && a > b[c];){c+=1;}return c;};c.prototype.shift=function(){this.JIa(this.qd[0],this.Oja(0));l.prototype.shift.call(this);};c.prototype.reset=function(){var a,b;this.yea={};this.LY=[];this.MY=[];this.xea={};this.fda={};a=this.Fca;for(b in a){if(a.hasOwnProperty(b)){for(var c=this.xea,d=b,g,u=void 0,r=Array(u),u=g=a[b].length + 1,v=0;v < u;v++){r[v]=Array(g);for(var A=0;A < g;A++){r[v][A]=0;}}c[d]=r;this.yea[b]={first:void 0,vF:void 0};this.fda[b]=0;}}l.prototype.reset.call(this);};d.exports=c;},function(d,b,a){var l,k;function c(a){this.H=a;this.aP();}l=a(8);k=a(3)["default"];new k.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var a;a=this.rd();k.storage.set("nh",a);};c.prototype.RSb=function(){this.vD || (this.vD=!0,this.iw=k.time.aa());};c.prototype.dTb=function(){var a;if(this.vD){a=k.time.aa();this.pw+=a - this.iw;this.iw=a;this.vD=!1;this.$O=null;}};c.prototype.eTa=function(a,b){this.vD && (b > this.iw && (this.pw+=b - this.iw,this.iw=b),null === this.$O || a > this.$O) && (a=b - a,this.bI.push([this.pw - a,a]),this.oib(),this.$O=b);};c.prototype.oib=function(){var a;a=this.pw - this.H.bIb;this.bI=this.bI.filter(function(b){return b[0] > a;});};c.prototype.aP=function(){var a;a=k.storage.get("nh");this.qea(a) || (this.iw=k.time.aa(),this.pw=0,this.vD=!1,this.$O=null,this.bI=[]);};c.prototype.qea=function(a){if(!(a && l.has(a,"t") && l.has(a,"s") && l.has(a,"i") && l.qa(a.t) && l.qa(a.s) && l.isArray(a.i)))return !1;this.iw=k.time.Voa(1E3 * a.t);this.pw=1E3 * a.s;this.vD=!1;this.bI=a.i.map(function(a){return [1E3 * a[0],a[1]];});this.$O=null;return !0;};c.prototype.rd=function(){return this.vD?{t:k.time.now() / 1E3 | 0,s:(this.pw + (k.time.aa() - this.iw)) / 1E3 | 0,i:this.bI.map(function(a){return [a[0] / 1E3 | 0,a[1]];})}:{t:k.time.Boa(this.iw) / 1E3 | 0,s:this.pw / 1E3 | 0,i:this.bI.map(function(a){return [a[0] / 1E3 | 0,a[1]];})};};d.exports=c;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.jxa=void 0;d=a(0);c=a(854);new (d.__importDefault(a(3))["default"].Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var C00;function a(a){var D00;D00=2;for(;D00 !== 4;){switch(D00){case 2:var G0g="1SI";G0g+="YbZ";G0g+="rNJC";G0g+="p";G0g+="9";this.Zla=a;this.gx={};G0g;D00=4;break;}}}C00=2;for(;C00 !== 7;){switch(C00){case 2:a.prototype.reset=function(){var E00;E00=2;for(;E00 !== 1;){switch(E00){case 2:this.LB=new c.Iva();E00=1;break;case 4:this.LB=new c.Iva();E00=5;break;E00=1;break;}}};a.prototype.EF=function(a,b){var F00;F00=2;for(;F00 !== 1;){switch(F00){case 2:b.ze && (this.Zla?this.LB.start(a,b.ze):1 === b.type && (this.gx[b.ze]?this.gx[b.ze].sV+=1:this.gx[b.ze]={ze:b.ze,sV:1,h1:!1},this.M3a(a)));F00=1;break;}}};a.prototype.GF=function(a,b){var G00,c;G00=2;for(;G00 !== 9;){switch(G00){case 7:G00=b.ze?0:1;break;G00=b.ze?1:9;break;case 2:G00=b.ze?1:9;break;case 1:G00=this.Zla?5:4;break;case 5:this.LB.stop(a,b.ze);G00=9;break;case 4:c=this.gx[b.ze];1 === b.type && c && (--c.sV,0 === c.sV && (c.h1 && this.LB.stop(a,b.ze),c.h1=!1,delete this.gx[b.ze]),this.M3a(a));G00=9;break;}}};a.prototype.$t=function(a,b,c,d){var H00;H00=2;for(;H00 !== 1;){switch(H00){case 2:d.ze && (this.Zla?this.LB.add(a,b,c,d.ze):this.OP === d.ze && this.LB.add(a,b,c,d.ze));H00=1;break;}}};a.prototype.wn=function(){var I00;I00=2;for(;I00 !== 1;){switch(I00){case 2:return this.LB.get();break;}}};a.prototype.M3a=function(a){var J00,b,c;J00=2;for(;J00 !== 5;){switch(J00){case 2:(b=Object.keys(this.gx),c=this.gx[b[0]]);1 === b.length && !1 === c.h1?(this.LB.start(a,c.ze),this.OP=c.ze):1 < b.length && this.OP && (b=this.gx[this.OP],this.LB.stop(a,this.OP),b.h1=!1,this.OP=void 0);J00=5;break;}}};C00=8;break;case 8:return a;break;}}})();b.jxa=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Iva=void 0;c=a(0).__importDefault(a(394));d=(function(){var K00;K00=2;function a(){var L00;L00=2;for(;L00 !== 5;){switch(L00){case 2:var d0g="1";d0g+="SI";d0g+="Y";d0g+="bZr";d0g+="NJCp9";this.pZ={};d0g;L00=5;break;}}}for(;K00 !== 9;){switch(K00){case 2:a.prototype.add=function(a,b,d,h){var M00,f;M00=2;for(;M00 !== 4;){switch(M00){case 2:var q0g="def";q0g+="au";q0g+="l";q0g+="t";f=this.pZ;void 0 === f[h] && (f[h]=new c[q0g]());f[h].add(a,b,d);M00=4;break;}}};a.prototype.start=function(a,b){var N00,d;N00=2;for(;N00 !== 4;){switch(N00){case 2:var X0g="def";X0g+="au";X0g+="lt";d=this.pZ;void 0 === d[b] && (d[b]=new c[X0g]());d[b].start(a);N00=4;break;}}};a.prototype.stop=function(a,b){var O00,c;O00=2;for(;O00 !== 5;){switch(O00){case 2:c=this.pZ;void 0 !== c[b] && c[b].stop(a);O00=5;break;}}};a.prototype.get=function(){var P00,a,b,c,d,l,g;P00=2;for(;P00 !== 8;){switch(P00){case 1:P00=d < b.length?5:9;break;case 2:(a=this.pZ,b=Object.keys(a),c=[],d=0);P00=1;break;case 5:(l=b[d],g=a[l].get());g && c.push({cdnid:l,avtp:g.Ca,tm:g.E0});P00=3;break;case 3:d++;P00=1;break;case 9:return c;break;}}};return a;break;}}})();b.Iva=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lBa=void 0;d=(function(){var Q00;Q00=2;for(;Q00 !== 3;){switch(Q00){case 2:a.prototype.reset=function(){var S00;S00=2;for(;S00 !== 5;){switch(S00){case 2:this.sT=[0,0];this.dV=[0,0];S00=5;break;}}};a.prototype.$t=function(a,b,d,m,f){var T00;T00=2;for(;T00 !== 5;){switch(T00){case 2:this.dV[m.type]+=a;f && (this.sT[m.type]+=a);T00=5;break;}}};a.prototype.a2=function(){var U00;U00=2;for(;U00 !== 1;){switch(U00){case 2:return {bytesRequestedPacingVideo:this.sT[1],bytesRequestedPacingAudio:this.sT[0],bytestotalVideo:this.dV[1],bytestotalAudio:this.dV[0]};break;}}};return a;break;}}function a(){var R00;R00=2;for(;R00 !== 4;){switch(R00){case 2:var h0g="1S";h0g+="IY";h0g+="bZr";h0g+="NJCp";h0g+="9";this.sT=[0,0];this.dV=[0,0];h0g;R00=4;break;}}}})();b.lBa=d;},function(d,b,a){var c,l,k,m,f,h,g,u,r,v,A,y,B,n,J,D,p;Object.defineProperty(b,"__esModule",{value:!0});b.eza=void 0;c=a(0);l=c.__importStar(a(8));d=a(16);k=c.__importDefault(a(25));m=c.__importDefault(a(857));f=c.__importDefault(a(3));h=f["default"].Promise;g=a(231);u=a(227);r=c.__importDefault(a(229));v=c.__importDefault(a(858));A=a(395);y=a(5);B=a(861);n=a(965);J=new f["default"].Console("ASEJS","media|asejs");D=J.trace.bind(J);p=J.warn.bind(J);d=(function(b){var V00;V00=2;for(;V00 !== 30;){switch(V00){case 15:d.prototype.G1=function(a,b,c){var r10;r10=2;for(;r10 !== 1;){switch(r10){case 2:return g.RQa(a,b,c);break;}}};d.prototype.nRa=function(){var s10;s10=2;for(;s10 !== 4;){switch(s10){case 2:s10=this.WO?1:5;break;case 9:s10=this.WO?8:2;break;s10=this.WO?1:5;break;case 5:var P0g="getSessionStatis";P0g+="tics: StreamingManager no";P0g+="t ";P0g+="initted";p(P0g);s10=4;break;case 1:return this.kb.Twb();break;case 8:return this.kb.Twb();break;s10=5;break;}}};V00=26;break;case 4:Object.defineProperties(d.prototype,{Xq:{get:function(){var Z00;Z00=2;for(;Z00 !== 1;){switch(Z00){case 4:return this.nea;break;Z00=1;break;case 2:return this.nea;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ry:{get:function(){var a10;a10=2;for(;a10 !== 1;){switch(a10){case 2:return this.AP;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Lma:{get:function(){var b10;b10=2;for(;b10 !== 1;){switch(b10){case 4:return -l.Y(this.XHa);break;b10=1;break;case 2:return !l.Y(this.XHa);break;}}},enumerable:!1,configurable:!0}});V00=8;break;case 23:d.prototype.iga=function(){var x10,a;x10=2;for(;x10 !== 5;){switch(x10){case 2:null === (a=this.Oh) || void 0 === a?void 0:a.gPa();x10=5;break;}}};d.prototype.jga=function(){var y10;y10=2;for(;y10 !== 1;){switch(y10){case 2:return this.Oh?this.Oh.list():[];break;case 4:return this.Oh?this.Oh.list():[];break;y10=1;break;}}};d.prototype.IKa=function(a){var z10,b;z10=2;for(;z10 !== 5;){switch(z10){case 2:null === (b=this.Oh) || void 0 === b?void 0:b.Yra(a);z10=5;break;}}};V00=35;break;case 2:c.__extends(d,b);Object.defineProperties(d.prototype,{kb:{get:function(){var X00;X00=2;for(;X00 !== 1;){switch(X00){case 2:return this.BY.kb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{In:{get:function(){var Y00;Y00=2;for(;Y00 !== 1;){switch(Y00){case 2:return this.BY.In;break;}}},enumerable:!1,configurable:!0}});V00=4;break;case 8:Object.defineProperties(d.prototype,{DB:{get:function(){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 4:return this.THa;break;c10=1;break;case 2:return this.THa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{We:{get:function(){var d10;d10=2;for(;d10 !== 1;){switch(d10){case 2:return this.Oh;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Tf:{get:function(){var e10;e10=2;for(;e10 !== 1;){switch(e10){case 4:return this.BY.Tf;break;e10=1;break;case 2:return this.BY.Tf;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Pla:{get:function(){var f10;f10=2;for(;f10 !== 1;){switch(f10){case 4:return this.qHa;break;f10=1;break;case 2:return this.qHa;break;}}},enumerable:!1,configurable:!0}});d.prototype.$a=function(a,b,c,d,f,h){var g10,k,g;g10=2;for(;g10 !== 11;){switch(g10){case 14:g10=g.NM || g.v7?13:12;break;case 2:(k=this,g=this.config);u.DG.reset();0 < g.As && (!l.Y(a) && a > g.As && (a=g.As),b > g.As && (b=g.As));l.Y(a) && (this.XHa=b);this.AP=d;g10=9;break;case 9:var T0g="d";T0g+="efa";T0g+="u";T0g+="l";T0g+="t";var J0g="d";J0g+="e";J0g+="f";J0g+="au";J0g+="lt";this.THa=f;m[J0g](g);this.BY=u.DG.ZQa(g,this.vy);this.nea=new v[T0g](g);g10=14;break;case 13:var w0g="m";w0g+="ed";w0g+="iaca";w0g+="c";w0g+="he";var S0g="cac";S0g+="heEvic";S0g+="t";var K0g="f";K0g+="lushe";K0g+="dBytes";var r0g="di";r0g+="scardedBy";r0g+="tes";var Y0g="p";Y0g+="rebuf";Y0g+="fs";Y0g+="tats";(b=new n.Zxa(this,g,c,h),a=function(a){var h10;h10=2;for(;h10 !== 1;){switch(h10){case 2:k.emit(a.type,a);h10=1;break;case 4:k.emit(a.type,a);h10=5;break;h10=1;break;}}},b.addListener(Y0g,a),b.addListener(r0g,a),b.addListener(K0g,a),b.addListener(S0g,a),(g.Mta || g.RB) && b.addListener(w0g,function(a){var i10;i10=2;for(;i10 !== 1;){switch(i10){case 2:var R0g="medi";R0g+="a";R0g+="c";R0g+="ach";R0g+="e";k.emit(R0g,a);i10=1;break;}}}),this.Oh=b);g10=12;break;case 12:this.WO=!0;g10=11;break;}}};d.prototype.uU=function(a,b,c){var j10;j10=2;for(;j10 !== 4;){switch(j10){case 2:this.XHa=a;this.AP=b || 0;this.THa=c || 0;j10=4;break;}}};d.prototype.i5=function(){var k10;k10=2;for(;k10 !== 1;){switch(k10){case 2:this.qHa=!0;k10=1;break;}}};V00=10;break;case 10:d.prototype.nn=function(a,b,c,d,h,m,g,q,r,u){var l10;l10=2;for(;l10 !== 4;){switch(l10){case 9:l10=this.WO?7:6;break;l10=this.WO?1:5;break;case 2:l10=this.WO?1:5;break;case 7:p("");l10=0;break;l10=4;break;case 1:var Q0g="de";Q0g+="fa";Q0g+="ult";var u0g="de";u0g+="f";u0g+="ault";return (q=q || this.config,this.kb.reset(),this.In.RSb(),this.nea.reset(),void 0 === m && (m=this.G1(a,b)),l.Y(this.AP) && (f[u0g].pl()[k[Q0g].Ta.VIDEO] <= q.vHb?this.AP=0:this.AP=q.ZT),a=new B.KDa(this,a,u,b,c,d,h,m,g,q,r),this.rD.push(a),a);break;case 5:var o0g="open: st";o0g+="reamingManager not ";o0g+="initted";p(o0g);l10=4;break;}}};d.prototype.AS=function(a,b){var m10;m10=2;for(;m10 !== 1;){switch(m10){case 2:return this.Oh && (a=this.Oh.AS(a,b))?a:!1;break;}}};d.prototype.DUa=function(a){var n10;n10=2;for(;n10 !== 1;){switch(n10){case 2:return this.Oh && (a=this.Oh.CUa(a))?a:!1;break;}}};d.prototype.SE=function(){var o10;o10=2;for(;o10 !== 1;){switch(o10){case 2:return this.Oh?this.Oh.SE():h.resolve([]);break;}}};d.prototype.uhb=function(a){var q10,b;q10=2;for(;q10 !== 4;){switch(q10){case 2:this.kb.tU(null);b=this.rD.indexOf(a);q10=5;break;case 5:var x0g="can't ";x0g+="find session";x0g+=" i";x0g+="n array, movieId:";l.Y(b)?p(x0g,a.Qd.N.u):(this.rD.splice(b,1),0 === this.rD.length && this.In.dTb(),this.In.save(),this.Tf.save());q10=4;break;}}};d.prototype.c1a=function(){};V00=15;break;case 26:d.prototype.nLa=function(a){var t10,b;t10=2;for(;t10 !== 3;){switch(t10){case 2:var I0g="def";I0g+="a";I0g+="u";I0g+="l";I0g+="t";b=this.Tf || new r[I0g](this.config,this.vy);b.xOa(a);b.save();this.kb && this.kb.reset();t10=3;break;}}};d.prototype.C_=function(a,b){var u10;u10=2;for(;u10 !== 1;){switch(u10){case 2:var t0g="c";t0g+="a";t0g+="t";t0g+="c";t0g+="h";this.Oh && (a=this.Oh.tMb(this,a),l.Y(b) || a.then(b),a[t0g](function(a){var v10;v10=2;for(;v10 !== 1;){switch(v10){case 2:var L0g="cachePrepar";L0g+="e caug";L0g+="ht er";L0g+="ror:";p(L0g,a);v10=1;break;}}}));u10=1;break;}}};d.prototype.Ow=function(){var w10,a;w10=2;for(;w10 !== 5;){switch(w10){case 2:null === (a=this.Oh) || void 0 === a?void 0:a.flush();w10=5;break;}}};V00=23;break;case 31:return d;break;case 35:d.prototype.Nw=function(){var A10,a;A10=2;for(;A10 !== 5;){switch(A10){case 2:null === (a=this.Oh) || void 0 === a?void 0:a.zsb();A10=5;break;}}};d.prototype.HKa=function(){var B10;B10=2;for(;B10 !== 1;){switch(B10){case 2:return this.Oh?this.Oh.O5():null;break;case 4:return this.Oh?this.Oh.O5():1;break;B10=1;break;}}};d.prototype.E0a=function(){var C10,a;C10=2;for(;C10 !== 3;){switch(C10){case 1:a=new A.UW(this.Xq.nw,this.config,J);C10=5;break;case 2:C10=this.WO?1:4;break;case 4:var U0g="sessionHistoryRepor";U0g+="t: as";U0g+="e-m";U0g+="anager not ";U0g+="initted";p(U0g);C10=3;break;case 5:return {SI:a.XJa,x7b:a.YJa,H8b:a.NQb};break;}}};d.prototype.Tb=function(){var D10;D10=2;for(;D10 !== 6;){switch(D10){case 2:var k0g="Attempted to destruct Man";k0g+="ager befo";k0g+="r";k0g+="e all Sessions remov";k0g+="ed";y.assert(0 === this.rD.length,k0g);this.WO=!1;delete this.BY;D10=4;break;case 7:u.DG.reset();D10=6;break;case 4:delete this.nea;delete this.vy;this.Nw();delete this.Oh;D10=7;break;}}};V00=31;break;}}function d(c,d){var W00,f;W00=2;for(;W00 !== 13;){switch(W00){case 2:f=b.call(this) || this;W00=1;break;case 1:var D0g="D";D0g+="E";D0g+="B";D0g+="UG";D0g+=":";var a0g="nf-a";a0g+="se v";a0g+="ersion";a0g+=":";f.config=c;f.vy=d;c=a(433);D(a0g,c,D0g,!1);f.WO=!1;f.qHa=!1;f.rD=[];W00=6;break;case 6:var e0g="1";e0g+="S";e0g+="IY";e0g+="b";e0g+="ZrNJCp9";e0g;return f;break;}}}})(d.EventEmitter);b.eza=d;},function(d,b,a){var l,k,m,f;function c(a){var b;b=nrdp.li.O8b.match(/android-(\d*)/);b?23 < b[1]?a.Jsa=!1:(b=nrdp.li.V1b.hu.platform.b8b.match(/(\d*)\.(\d*).(\d*)/),a.Jsa=b?6 < b[1] || 6 == b[1] && 1 < b[2] || 6 == b[1] && 1 == b[2] && 1 <= b[3]?!0:!1:!1):a.Jsa=!1;a.U6=!1;}l=a(5).assert;a(110);k=a(3)["default"];m=k.Um;f=k.bab;d.exports=function(){var a,b,d;new k.Console("ASEJSMONKEY","media|asejs");if(!k.Um.Yb){a=function(a){this.Mfb=a;};b=f.prototype.appendBuffer;k.MediaSource.Yb || (k.MediaSource.Yb={});"undefined" !== typeof nrdp && nrdp.bJa && (c(k.MediaSource.Yb),k.MediaSource.Yb.yLa=!1,k.MediaSource.Yb.lWa=!1);k.Um.Yb={UL:{bua:!0,LC:!0,DAa:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.hib || this.heb;},set:function(a){this.heb=a;}});d=m.prototype.open;m.prototype.open=function(b,c,f,h,k,l,m){1 === f && (this.hib=new a(this));return d.call(this,b,c,f,h,k,l,m);};m.prototype.QT=function(){this.uI=void 0;};f.prototype.appendBuffer=function(c){if(c instanceof ArrayBuffer)return b.call(this,c);if(c instanceof a)return this.g_(c.Mfb);l(!1);};}};},function(d,b,a){var k,m;function c(){this.gw=this.MO=this.TY=this.fZ=this.PY=null;}function l(a){this.H=a;this.nw=[];this.Sp=new c();this.aP();}k=a(8);a(25);a(9);m=a(3)["default"];new m.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.re=function(a){var b;b=!1;a && k.has(a,"ens") && k.has(a,"lns") && k.has(a,"fns") && k.has(a,"d") && k.has(a,"t") && (this.PY=a.ens,this.fZ=a.lns,this.TY=a.fns,this.MO=a.d,this.gw=a.t,b=!0);return b;};c.prototype.rd=function(){var a;if(k.ab(this.PY) || k.ab(this.fZ) || k.ab(this.TY) || k.ab(this.MO) || k.ab(this.gw))return null;a={d:this.MO,t:this.gw};a.ens=this.PY;a.lns=this.fZ;a.fns=this.TY;return a;};c.prototype.get=function(){var a,b;a=this.rd();if(a){b=new Date(this.gw);a.dateint=1E4 * b.getFullYear() + 100 * (b.getMonth() + 1) + b.getDate();a.hour=b.getHours();}return a;};l.prototype.aP=function(){var a;a=m.storage.get("sth");a && this.re(a);};l.prototype.re=function(a){var b,d;b=null;d=this.H;a.forEach(function(a){var d;d=new c();d.re(a)?(b=!0,this.nw.push(d)):k.ab(b) && (b=!1);},this);this.nw=this.nw.filter(function(a){return a.MO >= d.q4;});this.nw.sort(function(a,b){return a.gw - b.gw;});return k.ab(b)?!0:b;};l.prototype.qda=function(){var a;a=[];this.nw.forEach(function(b){a.push(b.rd());},this);return a;};l.prototype.save=function(){var a,b,d;a=this.qda();b=this.H;d=this.Sp.rd();d && d.d >= b.q4 && (a.push(d),this.nw.push(this.Sp));a.length > b.U3 && (a=a.slice(a.length - b.U3,a.length));this.Sp=new c();a && m.storage.set("sth",a);};l.prototype.reset=function(){this.Sp=new c();};l.prototype.Lxb=function(){return this.Sp.get();};l.prototype.aAb=function(){return this.nw.length + 1;};l.prototype.$ib=function(a){this.Sp.PY=a;this.Sp.gw=m.time.aa();};l.prototype.kjb=function(a){this.Sp.fZ=a;this.Sp.gw=m.time.aa();};l.prototype.djb=function(a,b){this.Sp.TY=a;this.Sp.gw=m.time.aa();this.Sp.MO=b;};d.exports=l;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zza=void 0;d=(function(){function a(a,b,d){this.lib=b;this.zdb=d;this.G=a;}a.prototype.$pa=function(a){a=this.HCb(a,this.lib) + this.zdb;return this.cea=isNaN(a)?NaN:this.msa(a);};a.prototype.tnb=function(a){return isNaN(this.cea)?0:this.cea > a?1:0;};a.prototype.HCb=function(a,b){var c;c=0;if(a.length !== b.length)c=NaN;else for(var d=0;d < a.length;d++){c+=a[d] * b[d];}return c;};a.prototype.msa=function(a){return 1 / (1 + Math.exp(-a));};return a;})();b.zza=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dO=void 0;d=(function(){function a(a){this.Wi={};this.Mda=a;this.rf=[];this.aq=!1;this.sD=void 0;}a.prototype.b_=function(a){this.rf.length === this.Mda && this.rf.shift();Array.isArray(a)?this.rf=this.rf.concat(a):this.rf.push(a);this.aq=!0;};a.prototype.dK=function(){return this.rf.length;};a.prototype.kga=function(){var a;a=this.rf;return 0 < a.length?a.reduce(function(a,b){return a + b;},0) / this.rf.length:void 0;};a.prototype.H_=function(){var a,b;a=this.rf;b=this.kga();if(0 < a.length && "undefined" !== typeof b)return (a=a.reduce(function(a,b){return a + b * b;},0) / a.length,Math.sqrt(a - b * b));};a.prototype.Kr=function(a){var b,c,d;if(this.aq || void 0 === this.sD)(this.sD=this.rf.slice(0).sort(function(a,b){return a - b;}),this.aq=!1);if(void 0 === this.Wi[a]){b=this.sD;c=Math.floor(a / 100 * (b.length - 1) + 1) - 1;d=(a / 100 * (b.length - 1) + 1) % 1;this.Wi[a]=c === b.length - 1?b[c]:b[c] + d * (b[c + 1] - b[c]);}return this.Wi[a];};return a;})();b.dO=d;},function(d,b,a){var c,l,k,m,f,h,g,u,r,v,A,y,B,n,J,D,p,R,U,V,E,t,ta,ha,aa,sa,fa,wa,Q,ca,O,xa;Object.defineProperty(b,"__esModule",{value:!0});b.KDa=void 0;d=a(0);c=a(16);l=d.__importStar(a(8));k=a(140);m=a(862);f=a(231);h=a(17);g=a(225);u=a(245);r=a(172);v=a(903);A=a(905);y=d.__importDefault(a(3));B=y["default"].Promise;n=y["default"].MediaSource;J=a(9);D=a(5);p=a(168);R=a(411);U=a(907);V=a(908);E=a(412);d=a(38);t=a(909);ta=a(910);ha=a(413);aa=a(949);sa=a(424);fa=a(955);wa=a(429);Q=a(961);ca=a(962);O=a(963);xa=a(964);a=(function(){var E10;E10=2;for(;E10 !== 119;){switch(E10){case 48:a.prototype.nK=function(){var d30;d30=2;for(;d30 !== 1;){switch(d30){case 2:return this.P.xn(this.Qd.N);break;}}};a.prototype.JFa=function(a){var e30,b,c,d;e30=2;for(;e30 !== 14;){switch(e30){case 2:e30=a >= this.Xc.length?1:5;break;case 4:e30=!(a === this.iI + 1 && c.Pe.replace || b && d) || !this.P.xn(c)?3:9;break;case 1:return !1;break;case 3:return !1;break;case 5:(b=this.Ba.pc.gd(0),c=this.Ba.pc.gd(1),b=!b || b.hh,d=!c || c.hh,c=this.Xc[a].N);e30=4;break;case 9:a=c.Ag[0];b=c.Ag[1];b=!this.Nl || b && b.stream.pe;return (!this.gq || a && a.stream.pe) && b?!0:!1;break;}}};a.prototype.SZ=function(){var f30;f30=2;for(;f30 !== 1;){switch(f30){case 2:this.RZ(this.iI + 1);f30=1;break;}}};a.prototype.RZ=function(a){var g30,b;g30=2;for(;g30 !== 6;){switch(g30){case 1:return !1;break;case 3:return !1;break;case 2:g30=!this.JFa(a)?1:5;break;case 5:b=this.Xc[a];g30=4;break;case 4:g30=b.cvb || !b.N.Pe.replace?3:9;break;case 9:this.kib(a);this.uf.Xi();return !0;break;}}};a.prototype.kib=function(a){var h30,b,c,d,f,h,k;h30=2;for(;h30 !== 14;){switch(h30){case 4:[1,0].forEach(function(a){var i30;i30=2;for(;i30 !== 1;){switch(i30){case 2:b.N.Mb(a) && (k[a]=b.ap(a));i30=1;break;}}});f?this.Ba.QOb(c.N,b.N,k):d.h1a(b.N,k);h30=9;break;case 2:var b0g=",";b0g+=" ";var l0g=",";l0g+=" streamingPt";l0g+="s: ";var H0g="switchManif";H0g+="est ";H0g+="manifestIndex: ";(b=this.Xc[a],c=this.H,d=this.Ba.pc,f=d.Ua(0),f=f?f.$b:void 0,h=d.Ua(1),h=h?h.$b:void 0);c.zh && this.bb.yl(H0g + a + l0g + f + b0g + h);(c=this.Qd,f=c.N.Pe.Rf,k=[]);h30=4;break;case 9:this.SGa(a);b.Ooa();this.Km.jda();this.uf.Xi();h30=14;break;}}};a.prototype.epa=function(){var j30,a,b,c,d;j30=2;for(;j30 !== 6;){switch(j30){case 7:var F0g="onAudioTra";F0g+="ckSwitchStarted ignored, no audi";F0g+="o pipel";F0g+="in";F0g+="e";this.wb(F0g);j30=6;break;case 1:j30=b?5:7;break;case 2:(a=this.Ba.pc,b=a.Ua(0));j30=1;break;case 5:var z0g="onAudioTrackSw";z0g+="itchStarted but current ";z0g+="playing request not found";(c=this.P.Zd(),d=this.hb.Ye[b.I]);(a=this.Ba.cs(c,a,0))?b=a.Pa:(this.wb(z0g),b=b.Pa);this.ghb(b);j30=9;break;case 9:d.WM=!1;this.uf.Xi();j30=6;break;}}};a.prototype.$F=function(a){var k30,k,c,d,f,b;k30=2;for(;k30 !== 35;){switch(k30){case 4:k30=this.hb.Gw?3:9;break;case 15:k=this.Qd.ap(0).Xa;k30=27;break;case 19:a=a.FD;f=this.Qd.N.getTrackById(a);k30=17;break;case 12:k30=this.P.rd() === h.oa.Uc?11:19;break;case 17:k30=!f?16:15;break;case 8:var n0g="switchT";n0g+="racks rej";n0g+="ected, buffering";return (this.wb(n0g),!1);break;case 7:c=this.hb.Ye[0];k30=6;break;case 13:d=this.Ba.pc;k30=12;break;case 10:k30=f < b.m4?20:19;break;case 14:var m0g="switchTracks rejected, previous switch stil";m0g+="l waiting";m0g+=" ";m0g+="to start";return (this.wb(m0g),!1);break;case 21:return !0;break;case 11:f=this.Ba.gu(d,1);k30=10;break;case 25:var s7g=" ";s7g+="to:";s7g+=" ";var v7g="switchTra";v7g+="ck";v7g+="s current: ";b.zh && this.bb.yl(v7g + k + s7g + f.Xa);c.C4={Xa:a};b=d.Ua(0);this.cib(b);k30=21;break;case 16:var p7g="sw";p7g+="itchTrac";p7g+="ks can";p7g+="'t find";p7g+=" trackId:";return (this.wb(p7g,a),!1);break;case 9:k30=this.P.gg()?8:7;break;case 3:var M7g="switchTracks rejected, previous swi";M7g+="tch s";M7g+="till in progress: ";return (this.wb(M7g + JSON.stringify(this.hb.Gw)),!1);break;case 2:b=this.H;k30=1;break;case 20:var g7g="switc";g7g+="hTracks rejected, buff";g7g+="erLevelMs";return (this.wb(g7g,f,"<",b.m4),!1);break;case 26:return !1;break;case 1:k30=!this.gq?5:4;break;case 6:k30=c.WM?14:13;break;case 5:var i7g="switchTracks rejected, ";i7g+="audi";i7g+="o disabled";return (this.wb(i7g),!1);break;case 27:k30=k === f.Xa?26:25;break;}}};a.prototype.Hl=function(a,b){var l30;l30=2;for(;l30 !== 1;){switch(l30){case 2:this.hb.Hl(a,b);l30=1;break;}}};a.prototype.cs=function(a,b,c){var m30;m30=2;for(;m30 !== 1;){switch(m30){case 2:return this.Ba.cs(a,this.Ba.xi,b,c);break;}}};a.prototype.Rg=function(a){var n30;n30=2;for(;n30 !== 1;){switch(n30){case 2:return this.Km.Rg(a);break;}}};E10=59;break;case 32:a.prototype.AL=function(){};a.prototype.close=function(){var z20;z20=2;for(;z20 !== 4;){switch(z20){case 2:this.F0a.Tb();this.Xc.forEach(function(a){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:a.close();A20=1;break;}}});z20=5;break;case 7:this.Lj.close();z20=0;break;z20=4;break;case 5:this.Lj.close();z20=4;break;}}};a.prototype.f_a=function(){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 4:this.Ib.uhb(this);B20=3;break;B20=1;break;case 2:this.Ib.uhb(this);B20=1;break;}}};a.prototype.cc=function(){var C20,a;C20=2;for(;C20 !== 20;){switch(C20){case 2:this.Jf.oJb();this.zY();this.Ba.Tb();C20=3;break;case 6:this.Xc.forEach(function(a){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 2:a.cc();E20=1;break;}}});this.Xc=[];this.dg.clear();a=this.Nf;C20=11;break;case 3:this.TQ.meb();null === (a=this.Xv) || void 0 === a?void 0:a.reset();this.Xt.forEach(function(a){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 4:a.reset();D20=5;break;D20=1;break;case 2:a.reset();D20=1;break;}}});this.P.re(h.oa.ak);C20=6;break;case 11:var C7g="Error o";C7g+="n MediaSource ";C7g+="d";C7g+="es";C7g+="troy: ";this.Nf=void 0;l.Y(a) || a.mq() || this.wb(C7g,a.error);C20=20;break;}}};a.prototype.suspend=function(){var F20;F20=2;for(;F20 !== 1;){switch(F20){case 2:this.Lj.suspend();F20=1;break;}}};a.prototype.resume=function(){var G20;G20=2;for(;G20 !== 1;){switch(G20){case 2:this.Lj.resume();G20=1;break;}}};a.prototype.Zl=function(){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 4:return this.Lj.Zl();break;H20=1;break;case 2:return this.Lj.Zl();break;}}};a.prototype.Zhb=function(){var I20,a;I20=2;for(;I20 !== 8;){switch(I20){case 2:a=this.H;this.Cz && clearTimeout(this.Cz);this.Cz=setTimeout(this.GP.bind(this),a.r7);this.Wv || (this.Wv=setInterval(this.bb.eHa.bind(this.bb),a.KD));I20=3;break;case 3:this.KZ || (this.KZ=setInterval(this.bb.Cgb.bind(this.bb),a.Gsa));this.Sq && !this.pY && (this.pY=setInterval(this.bb.dHa.bind(this.bb),a.wfa));I20=8;break;}}};a.prototype.zY=function(){var J20;J20=2;for(;J20 !== 7;){switch(J20){case 9:this.dda && (clearTimeout(this.dda),this.dda=void 0);J20=8;break;case 2:this.Cz && (clearTimeout(this.Cz),this.Cz=void 0);this.Wv && (clearInterval(this.Wv),this.Wv=void 0);this.KZ && (clearInterval(this.KZ),this.KZ=void 0);this.pY && (clearInterval(this.pY),this.pY=void 0);this.HH && (clearTimeout(this.HH),this.HH=void 0);J20=9;break;case 8:this.uf.zY();J20=7;break;}}};a.prototype.play=function(){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 2:this.Lj.play();K20=1;break;}}};E10=39;break;case 104:a.prototype.PMb=function(a,b,c){var r40,d;r40=2;for(;r40 !== 6;){switch(r40){case 4:r40=a.N.C2?3:7;break;case 3:a.ap(0).md.some(function(a){var s40;s40=2;for(;s40 !== 4;){switch(s40){case 9:d=a.Jj();s40=4;break;s40=1;break;case 2:d=a.Jj();s40=1;break;case 5:return ! !d;break;case 7:return - ~d;break;s40=4;break;case 1:s40=!(d && d.stream && d.stream.$ && c < d.stream.$.oj(0))?5:4;break;}}});r40=8;break;case 2:k.Ql.ep(0);a=this.Xc[a];a.yta(b);r40=4;break;case 7:this.wP(0);r40=6;break;case 8:d?(a.N.Ag[0]=d,a.LT=!1,d.stream.pe && a.D_()):(a.N.Ag[0]=void 0,a.LT=!1,a.N.QL([a.ap(0)],!0,0));r40=7;break;}}};a.prototype.lhb=function(a,b){var t40,c;t40=2;for(;t40 !== 4;){switch(t40){case 2:c=this.ag[a.I];a=this.Ba.IT(a.Kb,a.I,b,this.Ib.ry || 0,function(a){var u40;u40=2;for(;u40 !== 1;){switch(u40){case 4:c.N5(a);u40=9;break;u40=1;break;case 2:c.N5(a);u40=1;break;}}});l.Y(a) || this.uf.Xi();t40=4;break;}}};a.prototype.bfb=function(a){var v40,b,c,d;v40=2;for(;v40 !== 8;){switch(v40){case 2:(b=a.mediaType,c=a.manifestIndex,d=a.streamId);a=this.Ba.pc.Ua(b);b=this.Xc[c].N.hs(b,d);this.Xhb(a,b);v40=3;break;case 3:this.H=this.eMa.rdb(b.vg,this.H);this.Xc.forEach(function(a,b){var w40,c;w40=2;for(;w40 !== 5;){switch(w40){case 2:c=a.N;c.C2 || 0 === b || c.QL([a.ap(0),a.ap(1)]);w40=5;break;}}});v40=8;break;}}};a.prototype.efb=function(a){var x40,b,c;x40=2;for(;x40 !== 8;){switch(x40){case 2:b=a.request;a=a.mediaType;c=b.Pa.Kb;c.fGb(a);b.n1 && this.bb.hgb(b);b.mp && this.bb.wgb(a,b.N.qb,c.W);x40=8;break;}}};a.prototype.Xhb=function(a,b){var y40;y40=2;for(;y40 !== 1;){switch(y40){case 2:this.hb.Mu[a.I].OE={id:b.Da,index:b.Xf,U:b.U,Ka:b.ib && b.ib.Pd && b.ib.Ka?b.ib.Ka.Ca:0,location:b.location};y40=1;break;}}};a.prototype.vK=function(a){var z40,b,c,d,f,h,k,l,m,g,q;z40=2;for(;z40 !== 11;){switch(z40){case 2:(h={},k=this.ag,l=this.Ba);z40=1;break;case 14:a && (h.a=null === g || void 0 === g?void 0:g.Pa.$.toJSON(),h.v=null === q || void 0 === q?void 0:q.Pa.$.toJSON());z40=13;break;case 1:z40=!l.pc.mk?5:12;break;case 5:(m=l.pc,g=m.gd(0),q=m.gd(1));z40=4;break;case 4:h.vspts=null !== (b=null === q || void 0 === q?void 0:q.$b) && void 0 !== b?b:0;h.aspts=null !== (c=null === g || void 0 === g?void 0:g.$b) && void 0 !== c?c:0;h.vbuflbytes=null !== (d=null === q || void 0 === q?void 0:q.Po.ba) && void 0 !== d?d:0;h.abuflbytes=null !== (f=null === g || void 0 === g?void 0:g.Po.ba) && void 0 !== f?f:0;h.vbuflmsec=l.gu(m,1);h.abuflmsec=l.gu(m,0);z40=14;break;case 13:a && k && (a=k[1],k=k[0],h.atoappend=null === a || void 0 === a?void 0:a.p6(),h.vtoappend=null === k || void 0 === k?void 0:k.p6());z40=12;break;case 12:return h;break;}}};a.prototype.uRa=function(a){var A40,b,c,d,f,h,k,l;A40=2;for(;A40 !== 3;){switch(A40){case 1:A40=c?5:3;break;case 2:(b=this.Ba.pc,c=b.Ua(a));A40=1;break;case 5:var W7g="def";W7g+="a";W7g+="ult";(d=this.hb.Mu[a],f=this.Ba.PD(b,a),d=d.OE?d.OE.U:0,h=c.Pa.upa,k=this.Ba.Hd,l=y[W7g].pl()[a]);return {type:a,availableMediaBuffer:l - f,completeBuffer:b.dj(a),incompleteBuffer:h,playbackBitrate:c.wYa,streamingBitrate:d,streamingTime:c.$b + k,usedMediaBuffer:f,toappend:c.tXb};break;}}};a.prototype.dPb=function(){var B40,a;B40=2;for(;B40 !== 5;){switch(B40){case 2:var B7g="d";B7g+="efa";B7g+="u";B7g+="l";B7g+="t";var c7g="request";c7g+="Gar";c7g+="bageCo";c7g+="l";c7g+="lection";a={type:c7g,time:y[B7g].time.aa()};J.Ma(this,a.type,a);B40=5;break;}}};a.prototype.zo=function(a,b,c,d,f,h){var C40;C40=2;for(;C40 !== 1;){switch(C40){case 2:var O7g="N";O7g+="FErr";O7g+="_MC_StreamingFailure";this.IZ || (l.Y(c) && (c=O7g),this.IZ=!0,this.bb.Agb(c,a,d,f,h,void 0 !== b?b:this.FT));C40=1;break;}}};a.prototype.vGa=function(){var D40;D40=2;for(;D40 !== 5;){switch(D40){case 2:var A7g="Networ";A7g+="k f";A7g+="ailu";A7g+="res r";A7g+="eset!";this.wb(A7g);this.uf.Xi();D40=5;break;}}};E10=94;break;case 39:a.prototype.stop=function(){var L20;L20=2;for(;L20 !== 1;){switch(L20){case 2:this.Lj.stop();L20=1;break;}}};a.prototype.Jm=function(a,b,c){var M20;M20=2;for(;M20 !== 5;){switch(M20){case 2:c && (D.assert(void 0 === b),b=this.W1(c));return this.Km.Jm(a,b);break;}}};a.prototype.seek=function(a,b){var N20;N20=2;for(;N20 !== 1;){switch(N20){case 2:return this.Km.seek(a,b);break;case 4:return this.Km.seek(a,b);break;N20=1;break;}}};a.prototype.Hp=function(a){var O20,b,c,d,f,k,R20;O20=2;for(;O20 !== 17;){switch(O20){case 7:var q7g="underf";q7g+="lo";q7g+="w";g.ie.forEach(function(d){var Q20,m,f,h,l;Q20=2;for(;Q20 !== 13;){switch(Q20){case 3:l=b.ag[d];m=b.Ba.PD(k,d);Q20=8;break;case 4:Q20=c.zh?3:7;break;case 2:h=k.gd(d);Q20=1;break;case 8:var d7g=", toAp";d7g+="pen";d7g+="d:";d7g+=" ";var G7g=",";G7g+=" fr";G7g+="a";G7g+="gm";G7g+="ents: ";var f7g=", c";f7g+="omplet";f7g+="eSt";f7g+="reamingP";f7g+="ts: ";var Z7g=", ";Z7g+="streamin";Z7g+="gPts:";Z7g+=" ";var V7g=", parti";V7g+="als:";V7g+=" ";var N7g=", comp";N7g+="leted";N7g+="B";N7g+="y";N7g+="tes: ";var y7g=", co";y7g+="mplete";y7g+="dMs";y7g+=":";y7g+=" ";var E7g=", ";E7g+="med";E7g+="i";E7g+="aType:";E7g+=" ";var j7g="underfl";j7g+="ow:";j7g+=" ";l=j7g + a + E7g + d + y7g + h.dJ + N7g + m + V7g + h.Pa.$x + Z7g + h.$b + f7g + h.Mr + G7g + JSON.stringify(h.Pa.$) + d7g + (l && l.p6());Q20=7;break;case 1:Q20=h?5:13;break;case 5:Q20=4;break;case 7:c.zh && b.bb.yl(l);h.Hga();null === (f=h.Gg) || void 0 === f?void 0:f.YOb();Q20=13;break;}}});this.Qd.N.Ik();this.emit(q7g);this.DZ(2);this.uf.Xi();O20=11;break;case 2:var J7g="branch";J7g+="Offset";J7g+=":";var P7g="entry.manife";P7g+="stOffse";P7g+="t:";var h7g="con";h7g+="te";h7g+="ntPt";h7g+="s";h7g+=":";var X7g="underfl";X7g+="o";X7g+="w: going to BUFFERING ";X7g+="at player pts:";(b=this,c=this.H,d=this.Qo(this.FT,a));this.wb(X7g,a,h7g,d,P7g,this.Qd.Gu,J7g,this.Ba.Hd);f=c.Px;this.ag.forEach(function(b){var P20;P20=2;for(;P20 !== 1;){switch(P20){case 2:f=Math.max(0,Math.min(f,b.qka - a));P20=1;break;}}});this.fea+=1;k=this.Ba.pc;k.Dta(d,this.H.Rsa);O20=7;break;case 11:O20=this.pq?10:20;break;case 20:d=this.Ib.kb.get();d=d.Pd?d.Ka.Ca:0;f > c.fvb && d > c.evb && this.rea();O20=17;break;case 10:try{R20=2;for(;R20 !== 1;){switch(R20){case 2:this.X0(h.oa.cd);R20=1;break;case 4:this.X0(h.oa.cd);R20=3;break;R20=1;break;}}}catch(La){var T7g="Hin";T7g+="dsight: Error when evaluat";T7g+="ing QoE at Bu";T7g+="ffering: ";a000.T9b(1);this.bb.Bm(a000.X9b(La,T7g));}O20=20;break;}}};a.prototype.Wn=function(a){var S20;S20=2;for(;S20 !== 1;){switch(S20){case 2:return this.Km.Wn(a);break;}}};a.prototype.ln=function(a,b,c){var T20;T20=2;for(;T20 !== 1;){switch(T20){case 2:return this.Km.ln(a,b,c);break;}}};a.prototype.SGa=function(a){var U20,b;U20=2;for(;U20 !== 3;){switch(U20){case 2:this.iI=a;b=this.Xc[a];this.bb.pgb(a,b);this.bb.fHa(b.N.zs);U20=3;break;}}};a.prototype.xw=function(a,b,c){var V20,r,h,k,q,u,d,f;V20=2;for(;V20 !== 31;){switch(V20){case 24:var R7g=",";R7g+=" ";var w7g=") l";w7g+="a";w7g+="stSt";w7g+="reamAp";w7g+="pended: (";var S7g=",";S7g+=" ";var K7g=" ";K7g+="st";K7g+="reamCo";K7g+="unt: ";K7g+="(";var r7g=" play";r7g+="e";r7g+="rS";r7g+="t";r7g+="ate: ";var Y7g="addManife";Y7g+="st,";Y7g+=" curre";Y7g+="ntPt";Y7g+="s: ";b=this.hb.Mu[0].OE;c=this.hb.Mu[1].OE;f.zh && this.bb.yl(Y7g + this.P.Zd() + r7g + this.P.rd() + K7g + a.ap(0).md.length + S7g + a.ap(1).md.length + w7g + b + R7g + c + ")");V20=21;break;case 12:a=m.E$.create({qb:h,pa:a,Bl:c,t0a:b.WUb || [this.Qd.N1(0),this.Qd.N1(1)],Rf:!1,pTa:! !b.replace,Vh:! !b.Vh,De:g.i4(! !b.q_,! !b.QM),X:k,sa:q,bb:this.bb,wq:this.vGa.bind(this),Fb:this,config:this.H,G:this.G,uf:this.uf,Km:this.Km,We:this.lIa?this.Ib.We:void 0,JA:this.JA});r=a.N;(b.u_ || this.xFa) && this.hb.Hl(b.u_ || this.xFa,r.fa);V20=20;break;case 4:b || (b={});(h=this.Ba.pc.gd(0),k=this.Ba.pc.gd(1));V20=9;break;case 1:V20=this.Zl()?5:4;break;case 32:return !0;break;case 7:var u7g="addManifest in fastpla";u7g+="y but not";u7g+=" drm manifest, lea";u7g+="ving ";u7g+="space for it";b.tF && (this.nZ=!0);h=this.Xc.length;b.replace && 1 !== h?h=1:this.Qd.N.Pe.Rf && !b.replace && 1 === h && (this.wb(u7g),h=this.Xc[0].clone(),this.Xc.push(h),h=this.Xc.length);(k=b.X || 0,q=b.sa);V20=12;break;case 20:var o7g="video_t";o7g+="rack";o7g+="s";var Q7g="audi";Q7g+="o_t";Q7g+="ra";Q7g+="ck";Q7g+="s";c=[Q7g,o7g];u=this.PQa();b.replace && c.forEach(function(a,b){var W20,f,c;W20=2;for(;W20 !== 3;){switch(W20){case 7:W20=c?1:9;break;W20=c?5:3;break;case 5:f=d.Xc[0].N;Object.keys(c).forEach(function(a){var X20,d;X20=2;for(;X20 !== 5;){switch(X20){case 2:d=f.hs(b,a);d && d.pe && (c[a].a0(d),a=r.zs,a[b] > u[b] && (u[b]=a[b]));X20=5;break;}}});W20=3;break;case 1:W20=c?5:3;break;case 2:c=r.yE(b);W20=1;break;}}});V20=17;break;case 8:var x7g="addManifest ignored, pipelines alr";x7g+="eady s";x7g+="e";x7g+="t EOS:";this.wb(x7g,h.Np,k.Np);V20=31;break;case 9:V20=!b.cCb && (this.gq && h.Np || this.Nl && k.Np)?8:7;break;case 17:var t7g="b";t7g+="o";t7g+="olean";c.forEach(function(a,b){var Y20,c;Y20=2;for(;Y20 !== 5;){switch(Y20){case 2:c=r.yE(b);c && Object.keys(c).forEach(function(a){var Z20,d;Z20=2;for(;Z20 !== 5;){switch(Z20){case 2:var I7g="defa";I7g+="u";I7g+="lt";d=y[I7g].pl()[b];c[a].N3a(d,r.yx()?f.mVa:0);Z20=5;break;}}});Y20=5;break;}}});a.UP=t7g === typeof b.VJa?b.VJa:!0;this.Xc[h] && this.Xc[h].cc();this.Xc[h]=a;a.MKa();b.replace || this.Ba.tjb(r,k,q);V20=24;break;case 21:V20=this.gq && l.Y(b) || this.Nl && l.Y(c)?35:34;break;case 5:var L7g="addManifest";L7g+=": pip";L7g+="elines already shutdown";this.wb(L7g);V20=31;break;case 35:return !0;break;case 34:a.N.QL([a.ap(0),a.ap(1)]);this.SZ();V20=32;break;case 2:(d=this,f=this.H);V20=1;break;}}};a.prototype.MP=function(a){var a30;a30=2;for(;a30 !== 1;){switch(a30){case 4:return this.Km.MP(a);break;a30=1;break;case 2:return this.Km.MP(a);break;}}};a.prototype.Vr=function(a,b){var b30,c,d,f,h;b30=2;for(;b30 !== 7;){switch(b30){case 2:d=this.H;b30=1;break;case 1:b30=!this.Zl()?5:7;break;case 5:var e7g="d";e7g+="rmRea";e7g+="d";e7g+="y";var D7g=" rea";D7g+="dyS";D7g+="ta";D7g+="te:";D7g+=" ";var a7g=" for";a7g+=" movieId:";a7g+=" ";var k7g=",";k7g+=" ";var U7g="drmReady at str";U7g+="eaming p";U7g+="ts: ";l.Y(b) && (b=!0);(f=this.Ba.pc.gd(0),h=this.Ba.pc.gd(1));d.zh && this.bb.yl(U7g + (f?f.$b:null) + k7g + (h?h.$b:null) + a7g + a + D7g + b);a000.J9b(1);this.P.rU(a000.X9b("",a),b);b && (this.ag.forEach(function(a){var c30;c30=2;for(;c30 !== 5;){switch(c30){case 2:d.q1 && a.kPa();a.Vr();c30=5;break;}}}),d.I7 && this.wP(),this.Qd.N.Pe.Rf && this.RZ(this.Km.uz?this.Km.uz.qb:this.iI + 1),d.fq || (null === (c=this.Lg) || void 0 === c?0:c.EA()) || this.Tv.Gz || this.FP(e7g),this.Km.jda());b30=7;break;}}};E10=48;break;case 72:a.prototype.DZ=function(a,b){var B30,c,d,f,k,l;B30=2;for(;B30 !== 19;){switch(B30){case 3:var H7g="s";H7g+="tartB";H7g+="u";H7g+="ffering";this.bb.fgb(b);this.Xv.reset();this.Qd.N.fpa();this.emit(H7g);B30=6;break;case 2:(c=this,d=this.H,f=this.hb.Ye[0] || ({}),k=this.hb.Ye[1] || ({}),l=this.hb.ty[1] || ({}));(this.hb.ty[0] || ({})).nQ=void 0;l.nQ=void 0;this.P.re(2 === a?h.oa.mf:h.oa.cd);B30=3;break;case 10:this.P.gg() && (this.HH=setTimeout(function(){var E30;E30=2;for(;E30 !== 1;){switch(E30){case 2:c.hb.Yv();E30=1;break;}}},d.fy));this.uf.Xi();B30=19;break;case 6:var l7g="de";l7g+="fa";l7g+="u";l7g+="l";l7g+="t";g.ie.forEach(function(b){var C30;C30=2;for(;C30 !== 5;){switch(C30){case 2:C30=(b=c.Ba.pc.gd(b))?1:5;break;case 1:(b.aga=0,b.seeking=0 === a || 1 === a,b.Hga());C30=5;break;}}});this.Hca=y[l7g].time.aa();f.lk=k.lk=this.Hca;0 === a && (!this.Nl || 0 < k.Is) && (!this.gq || 0 < f.Is) && this.hb.Yv();B30=11;break;case 11:d.bR && (this.dda=setTimeout(function(){var D30;D30=2;for(;D30 !== 1;){switch(D30){case 2:c.yhb();D30=1;break;case 4:c.yhb();D30=2;break;D30=1;break;}}},d.yia));B30=10;break;}}};a.prototype.FP=function(a){var F30,b;F30=2;for(;F30 !== 3;){switch(F30){case 5:b=this.H;b.gF || (b.zh && this.bb.yl(a),this.Ib.Nw(),this.Lg && (this.Lg=void 0));F30=3;break;case 2:var F7g="Adopti";F7g+="ngDa";F7g+="t";F7g+="a still has lock:";var b7g="wipeH";b7g+="eaderC";b7g+="ache:";a000.J9b(1);a=a000.X9b(a,b7g);this.Tv.Gz && this.nf(F7g + a);F30=5;break;}}};a.prototype.IFa=function(a){var G30,h,c,d,f;function b(a,b){var H30,d,f,h,k,m,g,q;H30=2;for(;H30 !== 10;){switch(H30){case 12:b.a_(f.xq,!b.Pe.Rf && !b.Vh && 1 === d,!0) && (void 0 !== a.pF && a.SF(a.pF),h=b.Jj(d,k).stream.$.qm(a.$b,void 0,!0),b=m.ej(h),m=b.X,a.isa() && (b=b.j1(a.$b)) && 0 < b.jd && (m=b.jd),a.$b !== m && (a.w6(m,h),c.oea(d,m)),h=c.kdb(a,f.data).then(function(){var I30;I30=2;for(;I30 !== 1;){switch(I30){case 2:return k;break;}}}),g.Yvb=!0,0 === d && c.Jf.iM(f.xq.U));H30=11;break;case 2:(d=a.I,f=b[d],h=B.resolve(void 0));H30=1;break;case 5:(k=f.Da,m=f.xq.stream,g=c.hb.Ye[d],q=c.hb.ty[d]);l.Y(b.ns) || c.Jf.R0a(b.ns,b.rl,b.sl);q.Aq=b.Aq;q.sq=b.sq;H30=8;break;case 1:H30=f?5:11;break;case 8:H30=!a.aXb(k)?7:6;break;case 6:H30=!f.xq?14:13;break;case 14:var z7g="adoptPipe";z7g+="line no header fo";z7g+="r s";z7g+="treamId:";return (a.nf(z7g,k),h);break;case 7:return h;break;case 13:b=c.Qd.N;H30=12;break;case 11:return h;break;}}}G30=2;for(;G30 !== 13;){switch(G30){case 3:G30=!this.Aib || !this.Ib.We?9:8;break;case 8:var n7g="c";n7g+="heckF";n7g+="orH";n7g+="cdStart";this.bb.xj(n7g);this.Xc.forEach(function(b){var J30;J30=2;for(;J30 !== 1;){switch(J30){case 2:b.N.u === a && (h=b);J30=1;break;}}});G30=14;break;case 2:var m7g="Previously adopted request list s";m7g+="till retained w";m7g+="as unexpected";c=this;(null === (d=this.Lg) || void 0 === d?0:d.EA()) && this.nf(m7g);this.Lg=void 0;f=this.H;G30=3;break;case 9:return (this.Ib.iga(),B.resolve());break;case 14:var i3g="c";i3g+="a";i3g+="t";i3g+="ch";return this.Ib.We.JFb(a,h?h.N:void 0).then(function(a){var K30,d,h;K30=2;for(;K30 !== 8;){switch(K30){case 4:var v3g="ad";v3g+="optHcd";v3g+="Sta";v3g+="rt";(d=c.Ba.pc.gd(0),h=c.Ba.pc.gd(1));c.bb.xj(v3g);return c.Tv.U4a(function(){var L30,l,k;L30=2;for(;L30 !== 7;){switch(L30){case 5:var s3g="ado";s3g+="pt";s3g+="HcdEnd";l=B.resolve();!c.gq || f.pSa && !k || (l=f.pSa?k.then(function(c){var M30;M30=2;for(;M30 !== 1;){switch(M30){case 2:return c?b(d,a):B.resolve();break;case 4:return c?b(d,a):B.resolve();break;M30=1;break;}}}):b(d,a));c.BGa=a;c.bb.xj(s3g);return B.all([k,l]);break;case 2:k=B.resolve();c.Nl && (k=b(h,a));L30=5;break;}}});break;case 2:var p3g="c";p3g+="he";p3g+="ckFor";p3g+="HcdE";p3g+="nd";c.bb.xj(p3g);K30=1;break;case 1:K30=l.Y(a)?5:4;break;case 5:var M3g="headerC";M3g+="a";M3g+="cheDataNot";M3g+="Found";return (f.fq || c.Tv.Gz || c.FP(M3g),B.resolve());break;}}}).then(function(){var N30,a;N30=2;for(;N30 !== 5;){switch(N30){case 2:var g3g="adopte";g3g+="dCompletedRe";g3g+="quest";g3g+="s";f.fq || (null === (a=c.Lg) || void 0 === a?0:a.EA()) || c.Tv.Gz || !c.P.xn(c.Qd.N) || c.FP(g3g);N30=5;break;}}})[i3g](function(a){var O30;O30=2;for(;O30 !== 1;){switch(O30){case 2:var C3g="hea";C3g+="derCache:lookupD";C3g+="ataPromise caught e";C3g+="rror:";c.wb(C3g,a);O30=1;break;}}});break;}}};a.prototype.kdb=function(a,b){var P30,c,d,f,h,k,m,g;P30=2;for(;P30 !== 9;){switch(P30){case 2:c=this;P30=1;break;case 7:c=this;P30=7;break;P30=1;break;case 6:P30=1 !== b.length?0:2;break;P30=0 === b.length?5:4;break;case 1:P30=0 === b.length?5:4;break;case 14:return B.resolve();break;P30=4;break;case 4:(d=a.H3,f=d.W,h=Math.min(this.Xc[0].sa || Infinity,d.Pb || Infinity),k=a.I,m=this.hb.Ye[k]);return this.Tv.U4a(function(){var Q30,q;Q30=2;for(;Q30 !== 3;){switch(Q30){case 8:q=[];Q30=4;break;Q30=1;break;case 2:q=[];Q30=1;break;case 1:Q30=0 < b.length?5:4;break;case 7:Q30=2 <= b.length?0:6;break;Q30=0 < b.length?5:4;break;case 14:return B.all(q);break;Q30=3;break;case 4:return B.all(q);break;case 5:d();Q30=1;break;}}function d(){var R30,d;R30=2;for(;R30 !== 5;){switch(R30){case 2:var c3g="adoptData, not adopting fai";c3g+="led mediaRequ";c3g+="est:";var W3g="ad";W3g+="optD";W3g+="a";W3g+="ta, no";W3g+="t adopting aborted mediaRequest:";d=b.shift();7 === d.readyState?a.wb(W3g,d.toString()):6 === d.readyState?(a.wb(c3g,d.toString()),c.yD(d,!1)):a.$b >= d.Qb && a.$b < d.Pb && (a.$b < h || !l.qa(h))?(q.push(c.ldb(a,d).then(function(){var S30;S30=2;for(;S30 !== 1;){switch(S30){case 2:d.complete && c.WRa(d);S30=1;break;}}})),a.iRb(d.Pb),l.qa(h) && a.$b >= h && c.bb.Uda(f,d.Pb),0 === k && c.Jf.iM(d.U),d.complete?(m.Is+=d.duration,d.pFb && (m.BT+=d.duration),g=d):(c.Lg || (c.Lg=new ta.oua(c.G)),c.Lg.push(d))):c.yD(d,!1);R30=5;break;}}}}).then(function(){var T30,b,f;T30=2;for(;T30 !== 8;){switch(T30){case 2:g && a.XRa(g);T30=5;break;case 5:T30=g || (null === (b=c.Lg) || void 0 === b?0:b.EA())?4:8;break;case 4:b=c.Xc[d.N.qb];f=a.jja(a.$b);void 0 !== f?(a.xl=f,a.Sf=b.N.Ag[k].stream.ej(a.xl)):a.xl=a.Bg?a.Bg.index + 1:a.xl + 1;T30=8;break;}}});break;case 5:return B.resolve();break;}}};a.prototype.ldb=function(a,b){var U30,c,d;U30=2;for(;U30 !== 3;){switch(U30){case 2:var j3g="c";j3g+="a";j3g+="t";j3g+="c";j3g+="h";var A3g=", p";A3g+="t";A3g+="s";A3g+=":";A3g+=" ";var O3g=",";O3g+=" st";O3g+="at";O3g+="e";O3g+=": ";var B3g="adoptM";B3g+="ediaReque";B3g+="st: type: ";(c=this,d=a.I);this.H.zh && this.bb.yl(B3g + d + O3g + b.readyState + A3g + b.Qb);this.oea(d,b.Qb);return a.Pa.Hjb(b)[j3g](function(a){var V30;V30=2;for(;V30 !== 1;){switch(V30){case 2:var E3g="Error adoptin";E3g+="g reque";E3g+="sts";c.nf(E3g,a);V30=1;break;}}});break;}}};a.prototype.jea=function(a,b,c){var W30,d;W30=2;for(;W30 !== 9;){switch(W30){case 2:d=this;void 0 === b && (b=ha.kO.Lfa);(c || this.Ba.pc).fra(a,b);this.Xv.reset();(void 0 === a?g.ie:[a]).forEach(function(a){var X30;X30=2;for(;X30 !== 1;){switch(X30){case 2:d.Mb(a) && (d.Xt[a].reset(),d.Khb(a),d.Jf.BJb(a));X30=1;break;}}});W30=9;break;}}};a.prototype.Bsa=function(a){var Y30,b;Y30=2;for(;Y30 !== 5;){switch(Y30){case 2:b=this;(void 0 === a?g.ie:[a]).forEach(function(a){var Z30,c;Z30=2;for(;Z30 !== 5;){switch(Z30){case 2:null === (c=b.Xt[a]) || void 0 === c?void 0:c.stop();Z30=5;break;}}});Y30=5;break;}}};a.prototype.XF=function(a){var a40,b;a40=2;for(;a40 !== 4;){switch(a40){case 2:b=this;(void 0 === a?g.ie:[a]).forEach(function(a){var b40,c;b40=2;for(;b40 !== 5;){switch(b40){case 2:null === (c=b.Xt[a]) || void 0 === c?void 0:c.resume();b40=5;break;}}});return B.resolve();break;}}};a.prototype.wP=function(a){var c40,b,c;c40=2;for(;c40 !== 3;){switch(c40){case 2:b=this;a=void 0 === a?g.ie:[a];null === (c=this.Xv) || void 0 === c?void 0:c.reset();a.forEach(function(a){var d40,c;d40=2;for(;d40 !== 5;){switch(d40){case 2:null === (c=b.Xt[a]) || void 0 === c?void 0:c.resume();d40=5;break;}}});c40=3;break;}}};a.prototype.Khb=function(a){var e40,b;e40=2;for(;e40 !== 3;){switch(e40){case 4:b.BT=0;e40=3;break;case 2:b=this.hb.Ye[a];this.hb.Mu[a].cna=void 0;b.Is=0;e40=4;break;}}};E10=87;break;case 2:Object.defineProperties(a.prototype,{addEventListener:{get:function(){var K10;K10=2;for(;K10 !== 1;){switch(K10){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{removeEventListener:{get:function(){var L10;L10=2;for(;L10 !== 1;){switch(L10){case 2:return this.removeListener.bind(this);break;case 4:return this.removeListener.bind(this);break;L10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{UGb:{get:function(){var M10;M10=2;for(;M10 !== 1;){switch(M10){case 2:return this.Nf.Yb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gq:{get:function(){var N10;N10=2;for(;N10 !== 1;){switch(N10){case 2:return this.Mb(0);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nl:{get:function(){var O10;O10=2;for(;O10 !== 1;){switch(O10){case 2:return this.Mb(1);break;case 4:return this.Mb(4);break;O10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{attributes:{get:function(){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 2:return this.Bca;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hg:{get:function(){var Q10;Q10=2;for(;Q10 !== 1;){switch(Q10){case 4:return this.dg;break;Q10=1;break;case 2:return this.dg;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{FT:{get:function(){var R10;R10=2;for(;R10 !== 1;){switch(R10){case 2:return 0 <= this.cZ?this.cZ:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qd:{get:function(){var S10;S10=2;for(;S10 !== 1;){switch(S10){case 2:return this.Xc[this.iI];break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xq:{get:function(){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 4:return this.Ib.Xq;break;T10=1;break;case 2:return this.Ib.Xq;break;}}},enumerable:!1,configurable:!0}});E10=13;break;case 87:a.prototype.oea=function(a,b){var f40,d,f,c;f40=2;for(;f40 !== 8;){switch(f40){case 5:f40=c.Ua(a)?4:8;break;case 4:var y3g="pts";y3g+="cha";y3g+="n";y3g+="ged";(d=this.hb.Ye[a],f=this.hb.ty[a]);l.Y(d.dm) && (d.dm=b,1 === a && this.gq && (a=this.hb.Ye[0],l.Y(a.dm) && (c=c.Ua(0),c.SF(b)),this.emit(y3g,b)));l.Y(f.nQ) && (f.nQ=b);f40=8;break;case 2:c=this.Ba.pc;f40=5;break;}}};a.prototype.WRa=function(a){var g40;g40=2;for(;g40 !== 1;){switch(g40){case 2:this.Lg && (this.Lg.iGb(a),this.$Ka());g40=1;break;}}};a.prototype.s2=function(a){var h40;h40=2;for(;h40 !== 1;){switch(h40){case 2:this.Lg && (this.Lg.hGb(a),this.$Ka());h40=1;break;}}};a.prototype.$Ka=function(){var i40,a;i40=2;for(;i40 !== 4;){switch(i40){case 2:i40=this.Lg?1:4;break;case 9:i40=this.Lg?4:6;break;i40=this.Lg?1:4;break;case 1:var N3g="allCompl";N3g+="ete";N3g+="d";a=this.H;this.Lg.EA() || (this.Lg=void 0,a.fq || this.Tv.Gz || this.FP(N3g));i40=4;break;}}};a.prototype.GP=function(){var j40,a,b,c,d,f,k,m,g;j40=2;for(;j40 !== 7;){switch(j40){case 2:(a=this,b=this.H,c=this.FT,d=this.Xc[c],f=this.Ba.pc,k=this.P.Zd() || 0,m=this.Qo(c,k),g=b.r7);this.Ib.We && void 0 !== d.hF && d.hF - k <= b.QVa && this.Ib.We.Ho(!0,this.al.sessionId);this.P.rd() === h.oa.Uc && ([1,0].forEach(function(b){var k40,d,h,q,r,u,v,c;k40=2;for(;k40 !== 33;){switch(k40){case 21:a.lhb(r,k);a.Ba.cNb();k40=33;break;case 20:k40=!a.Nl || 1 === b?19:26;break;case 2:k40=a.Mb(b)?1:33;break;case 22:l.Y(u) || u == c.wYa || (c.wYa=u);k40=21;break;case 4:r=c.Pa;c.bJ(k);(u=a.Ba.cs(k,f,b)) && !u.ye && (u=a.ag[b].qEb);k40=7;break;case 15:m=a.Qo(h,k);k40=26;break;case 34:var V3g="Unable to find request pre";V3g+="sentin";V3g+="g at ";V3g+="player";V3g+="Pts:";c.wb(V3g,k);k40=21;break;case 18:a.cZ=h;v=0 < h?h - 1:null;a.bb.ngb(d,k,u.Nn,null !== v?a.Xc[v].N.u:null,v);k40=15;break;case 1:c=f.Ua(b);k40=5;break;case 6:r=u.de - k;r < g && (g=r);q=a.hb.Mu[b];d=u.N;h=d.qb;r=u.Pa;k40=20;break;case 7:k40=u?6:34;break;case 26:q.zEb=u.Nn;d=u.Da;d != q.cna && (q.cna=d,b=a.Xc[h].N.hs(b,d),h=a.Qo(h,u.Rc),a.bb.ygb(b,u.Rc,h,b.N.qb));u=u.U;k40=22;break;case 27:a.hI && u.Nn != q.zEb && a.bb.Dgb(u.Nn);k40=26;break;case 5:k40=c?4:33;break;case 19:k40=(a.Ba.GIb(u,u.Nn),h > a.cZ)?18:27;break;}}}),this.Ba.et(k,m));this.uf.Xi();j40=3;break;case 3:g=Math.max(g,1);this.Cz && clearTimeout(this.Cz);this.Cz=setTimeout(this.GP.bind(this),g);j40=7;break;}}};a.prototype.CY=function(a){var l40;l40=2;for(;l40 !== 1;){switch(l40){case 2:return this.uf.CY(a);break;}}};a.prototype.Xi=function(){var m40;m40=2;for(;m40 !== 1;){switch(m40){case 2:return this.uf.Xi();break;}}};a.prototype.yD=function(a,b){var n40,c,d,f;n40=2;for(;n40 !== 13;){switch(n40){case 2:c=a.Pa;n40=1;break;case 7:this.ag[d].N5(a);!0 === b && this.uf.Xi();return f;break;case 5:var Z3g="a";Z3g+="bortRequest";Z3g+=" wit";Z3g+="h no reque";Z3g+="stManagaer:";return (this.wb(Z3g,a),!1);break;case 4:(d=a.I,f=a.abort());a.cc();a.dg && a.dg.clear();c.N5(a);n40=7;break;case 1:n40=!c?5:4;break;}}};a.prototype.cib=function(a){var o40,b,c;o40=2;for(;o40 !== 5;){switch(o40){case 2:(b=a.I,c=this.hb.Ye[b]);o40=1;break;case 1:var f3g="no ne";f3g+="w";f3g+="AudioTr";f3g+="ack set";l.Y(c.C4)?a.wb(f3g):(this.ag[b].pause(),c.WM=!0,a=this.Qd.ap(0),c=this.Qd.N.getTrackById(c.C4.Xa),this.bb.cgb(a,c));o40=5;break;}}};a.prototype.ghb=function(a){var p40,h,k,l,m,b,c,d,f;p40=2;for(;p40 !== 27;){switch(p40){case 20:c=this.iI;p40=19;break;case 7:c=this.Ib.G1(h.N.pa,[l],0);this.Bca[0]=c[0];this.TQ.FHa(0,a.N);f.C4=void 0;this.Jf.iM(null);this.jea(0,ha.kO.rPa,a);this.Ba.M0a(a,!0);p40=20;break;case 8:var G3g="audi";G3g+="oS";G3g+="witch";(this.Lg.LOb(function(a){var q40;q40=2;for(;q40 !== 5;){switch(q40){case 2:q40=0 === a.I?1:5;break;case 1:return (b.yD(a,!1),!0);break;}}}),this.Lg.EA() || (this.Lg=void 0,d.fq || this.Tv.Gz || this.FP(G3g)));p40=7;break;case 4:this.hb.Gw=f.C4;(h=this.Qd,k=h.N.getTrackById(this.hb.Gw.Xa),l=k.KM,m=this.P.Zd() - a.Hd);p40=9;break;case 2:(b=this,d=this.H);a=a.Kb;f=this.hb.Ye[0];p40=4;break;case 18:this.PMb(c,l,m);p40=17;break;case 9:p40=(null === (c=this.Lg) || void 0 === c?0:c.EA())?8:7;break;case 16:a.PZa(k,m);this.XF(0);p40=27;break;case 19:p40=c < this.Xc.length?18:16;break;case 17:++c;p40=19;break;}}};E10=104;break;case 13:Object.defineProperties(a.prototype,{Sq:{get:function(){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 2:return this.Dhb;break;case 4:return this.Dhb;break;U10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{BS:{get:function(){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return this.hI;break;case 4:return this.hI;break;V10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tF:{get:function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 4:return this.nZ;break;W10=1;break;case 2:return this.nZ;break;}}},enumerable:!1,configurable:!0}});a.prototype.Mb=function(a){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 4:return this.jib[a];break;X10=1;break;case 2:return this.jib[a];break;}}};a.prototype.vR=function(){var Y10;Y10=2;for(;Y10 !== 1;){switch(Y10){case 2:var d3g="de";d3g+="fa";d3g+="u";d3g+="l";d3g+="t";return y[d3g].time.aa() - this.Hca;break;case 4:return y[""].time.aa() % this.Hca;break;Y10=1;break;}}};a.prototype.PQa=function(){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 2:return (this.Xc || []).reduce(function(a,b){var a20,c;a20=2;for(;a20 !== 4;){switch(a20){case 1:g.ie.forEach(function(b){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:c.zs[b] > a[b] && (a[b]=c.zs[b]);b20=1;break;}}});a20=5;break;case 2:c=b.N;a20=1;break;case 5:return a;break;}}},[0,0]);break;}}};a.prototype.QK=function(){var c20,a;c20=2;for(;c20 !== 4;){switch(c20){case 2:a=0;l.forEach(this.Qd.N.pa.audio_tracks,function(b){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:l.forEach(b.streams,function(b){var e20;e20=2;for(;e20 !== 1;){switch(e20){case 2:a=Math.max(a,b.bitrate);e20=1;break;}}});d20=1;break;}}});return a;break;}}};a.prototype.yg=function(a){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:return this.Xc[a];break;case 4:return this.Xc[a];break;f20=1;break;}}};a.prototype.Dyb=function(){var g20,a;g20=2;for(;g20 !== 5;){switch(g20){case 2:a=this.Xc[0];return a.N.Pe.Rf?this.Xc[1]:a;break;}}};a.prototype.$J=function(){var h20;h20=2;for(;h20 !== 1;){switch(h20){case 4:return this.Xc.length;break;h20=1;break;case 2:return this.Xc.length;break;}}};E10=27;break;case 27:a.prototype.sma=function(a,b){var i20;i20=2;for(;i20 !== 9;){switch(i20){case 2:i20=a === b?1:5;break;case 1:return !0;break;case 6:return +1;break;i20=5;break;case 5:a=this.Xc[a];b=this.Xc[b];i20=3;break;case 3:return a.N.Pe.Rf && b.N.Pe.LS || b.N.Pe.Rf && a.N.Pe.LS;break;}}};a.prototype.uE=function(a){var j20;j20=2;for(;j20 !== 5;){switch(j20){case 1:return {id:a.W.id,Hd:a.Hd,Rc:a.Ppa,de:a.de,Qb:a.i6,Pb:a.Pb};break;case 2:j20=(a=this.Ba.xi.children[a])?1:5;break;}}};a.prototype.vn=function(){var k20,a;k20=2;for(;k20 !== 5;){switch(k20){case 2:a=this.Ba.xi;return {id:a.W.id,Hd:a.Hd,Rc:a.Ppa,de:a.de,Qb:a.i6,Pb:a.Pb};break;}}};a.prototype.QB=function(a,b){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 4:return this.Ba.QB(a,b);break;l20=1;break;case 2:return this.Ba.QB(a,b);break;}}};a.prototype.open=function(){var m20,q,b,c,d,f,h,g,k,m,a;m20=2;for(;m20 !== 33;){switch(m20){case 24:var h3g="s";h3g+="tar";h3g+="tpl";h3g+="ay";var X3g="l";X3g+="o";X3g+="gd";X3g+="a";X3g+="ta";this.bb.fHa(c);q=function(){var s20;s20=2;for(;s20 !== 5;){switch(s20){case 2:var q3g="shutdown de";q3g+="te";q3g+="cted ";q3g+="befor";q3g+="e startRequests";a.bb.rgb();a.Zl()?a.wb(q3g):a.dib();s20=5;break;}}};b.fsb?setTimeout(function(){var t20;t20=2;for(;t20 !== 1;){switch(t20){case 2:a.IFa(d).then(q);t20=1;break;case 4:a.IFa(d).then(q);t20=2;break;t20=1;break;}}},0):this.IFa(d).then(function(){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 2:setTimeout(q,0);u20=1;break;}}});c={type:X3g,target:h3g,fields:{audiogapconfig:b.$K,audiogapdpi:this.Nf.Yb && this.Nf.Yb.$K,aseApiVersion:this.CD}};this.emit(c.type,c);m20=33;break;case 10:m20=1 === g.readyState?20:34;break;case 4:var P3g="h";P3g+="ea";P3g+="ders";(b=this.H,c=this.Qd.N,d=c.u,f=[],h=[P3g]);this.Nl && (f.push(1),h.push(1));this.gq && (f.push(0),h.push(0));m20=8;break;case 8:this.TQ.lfb();m20=7;break;case 12:var J3g="createMedia";J3g+="SourceStar";J3g+="t";this.bb.xj(J3g);g=new n(this.P.RD);m20=10;break;case 1:m20=!l.qa(this.EZ) || 0 > this.EZ?5:4;break;case 7:k=b.fq;this.Ib.We && this.Ib.We.Ho(k,this.al.sessionId);m=this.TQ.$db(h,c);h.forEach(function(b,c){var n20;n20=2;for(;n20 !== 1;){switch(n20){case 2:var T3g="he";T3g+="a";T3g+="der";T3g+="s";T3g === b?a.UO=m[c]:a.hb.Ye[b].Zg=m[c];n20=1;break;}}});m20=12;break;case 16:var Y3g="E";Y3g+="r";Y3g+="ror";Y3g+=":";throw (this.ik(Y3g,g.error),g.error);m20=15;break;case 17:m20=!g.c_(f)?16:15;break;case 34:var S3g="NFEr";S3g+="r";S3g+="_MC_StreamingInitF";S3g+="ai";S3g+="lure";var K3g="excep";K3g+="ti";K3g+="on";K3g+=" in init";var r3g="Er";r3g+="r";r3g+="o";r3g+="r";r3g+=":";(this.ik(r3g,g.error),this.zo(K3g,void 0,S3g));m20=33;break;case 5:var R3g="NF";R3g+="Err_M";R3g+="C_S";R3g+="treamingInitF";R3g+="ailure";var w3g="startPts m";w3g+="ust be a pos";w3g+="itiv";w3g+="e number, n";w3g+="ot ";this.zo(w3g + this.EZ,void 0,R3g);m20=33;break;case 20:var u3g="crea";u3g+="teMed";u3g+="iaSourceEnd";this.bb.xj(u3g);g.Yb || (g.Yb=n.Yb);this.Nf=g;m20=17;break;case 2:a=this;m20=1;break;case 15:g.sourceBuffers.forEach(function(c){var o20,d,f;o20=2;for(;o20 !== 13;){switch(o20){case 2:var x3g="er";x3g+="ro";x3g+="r";var o3g="re";o3g+="q";o3g+="ue";o3g+="stAppended";var Q3g="he";Q3g+="ad";Q3g+="erAppended";(d=c.I,f=a.hb.Ye[d]);c=new r.q8(f.G,d,g,c,b,a.P,a.yg.bind(a));f=new aa.$ya(c,d,a.Ba,a.H,f.G);c.addListener(Q3g,a.bfb.bind(a));c.addListener(o3g,a.efb.bind(a));c.addListener(x3g,function(b){var p20;p20=2;for(;p20 !== 1;){switch(p20){case 2:var I3g="NFErr";I3g+="_M";I3g+="C_St";I3g+="re";I3g+="amingFailure";a.zo(b.errorstr,void 0,I3g);p20=1;break;}}});o20=8;break;case 8:var L3g="mana";L3g+="gerd";L3g+="ebuge";L3g+="ven";L3g+="t";var t3g="l";t3g+="og";t3g+="d";t3g+="a";t3g+="ta";c.addListener(t3g,function(b){var q20;q20=2;for(;q20 !== 1;){switch(q20){case 4:J.Ma(a,b.type,b);q20=2;break;q20=1;break;case 2:J.Ma(a,b.type,b);q20=1;break;}}});b.zh && c.addListener(L3g,function(b){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:J.Ma(a,b.type,b);r20=1;break;}}});a.ag[d]=c;a.Xt[d]=f;o20=13;break;}}});this.Xv=new t.kCa(this.Xt,this.vI.bind(this),this.P.Zd.bind(this.P));this.Sq && this.bb.agb();c=this.PQa();m20=24;break;}}};Object.defineProperties(a.prototype,{CD:{get:function(){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 2:var U3g="1";U3g+=".";U3g+="0";return U3g;break;}}},enumerable:!1,configurable:!0}});a.prototype.Lka=function(){};a.prototype.flush=function(){var w20;w20=2;for(;w20 !== 1;){switch(w20){case 2:this.Lj.flush();w20=1;break;}}};a.prototype.paused=function(){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 2:this.P.paused();x20=1;break;case 4:this.P.paused();x20=6;break;x20=1;break;}}};a.prototype.Ey=function(){var y20;y20=2;for(;y20 !== 1;){switch(y20){case 4:this.P.Ey();y20=7;break;y20=1;break;case 2:this.P.Ey();y20=1;break;}}};E10=32;break;case 59:a.prototype.X0=function(a,b){var o30,p30,c,d;o30=2;for(;o30 !== 6;){switch(o30){case 3:o30=b?9:8;break;case 8:b=d.uxb();try{p30=2;for(;p30 !== 1;){switch(p30){case 4:this.bb.kgb(b);p30=8;break;p30=1;break;case 2:this.bb.kgb(b);p30=1;break;}}}catch(Ta){var a3g="]";a3g+=" ";a3g+="[";var k3g="ex";k3g+="cept";k3g+="io";k3g+="n: [";this.G.error(k3g + Ta.message + a3g + Ta.P8b + "]");}o30=6;break;case 2:c=this.hb;a=c.hja(a,b);d=this.Jf.tqa;a && !a.LI && d.Via(a);o30=3;break;case 9:c.era();o30=6;break;}}};a.prototype.YI=function(a,b,c,d){var q30;q30=2;for(;q30 !== 4;){switch(q30){case 2:d && (D.assert(void 0 === b),b=this.W1(d));a000.T9b(2);D.assert(a000.X9b(b,0));return this.Xc[b].omb(a,c || !1);break;}}};a.prototype.Qo=function(a,b,c){var r30,d;r30=2;for(;r30 !== 8;){switch(r30){case 2:c && (D.assert(void 0 === a),a=this.W1(c),D.assert(void 0 !== a));void 0 === a && (a=this.FT);r30=4;break;case 4:(c=this.Ba.Bvb(b,a))?d=c.Hd:(c=this.Ba.ija(a),0 < c.length && (c=c[0],d=c.Hd));l.qa(d) || (d=this.Xc[a].Gu);a000.J9b(3);return a000.X9b(b,d);break;}}};a.prototype.Ww=function(a,b,c){var s30,d;s30=2;for(;s30 !== 8;){switch(s30){case 9:a000.T9b(1);return a000.P9b(d,b);break;case 1:void 0 === a && (a=this.FT);(c=this.Ba.Avb(b,a))?d=c.Hd:(c=this.Ba.ija(a),0 < c.length && (c=c[0],d=c.Hd));l.qa(d) || (d=this.Xc[a].Gu);s30=9;break;case 2:c && (D.assert(void 0 === a),a=this.W1(c),D.assert(void 0 !== a));s30=1;break;}}};a.prototype.vI=function(){var t30,a;t30=2;for(;t30 !== 4;){switch(t30){case 2:a=this.P.gg();t30=1;break;case 9:a=this.P.gg();t30=4;break;t30=1;break;case 5:(a && this.bb.Tda(),this.GP(),this.P.re(h.oa.Uc),this.uf.Xi());t30=4;break;case 1:t30=a || this.hb.Gw?5:4;break;}}};a.prototype.rea=function(){var u30,a,b;u30=2;for(;u30 !== 3;){switch(u30){case 2:(a=this,b=this.P.gg());this.Ba.pc.s6(b,function(b){var v30;v30=2;for(;v30 !== 1;){switch(v30){case 2:return a.ag[b]?a.ag[b].p6():"";break;}}});this.HH && (clearTimeout(this.HH),this.HH=void 0);this.Xv.jGb();u30=3;break;}}};a.prototype.PHa=function(a){var w30,x30,b;w30=2;for(;w30 !== 7;){switch(w30){case 8:try{x30=2;for(;x30 !== 1;){switch(x30){case 2:this.X0(h.oa.Qv,{sa:a.Pb});x30=1;break;}}}catch(Ca){var D3g="Hindsi";D3g+="ght:";D3g+=" Error evaluating QoE at endOfStream: ";a000.J9b(1);this.bb.Bm(a000.X9b(Ca,D3g));}w30=7;break;case 3:this.hb.Yv();w30=9;break;case 9:w30=this.pq && 1 === a.I?8:7;break;case 2:a.hh=!0;a.Np=!1;b=this.P.Zd() || 0;a.bJ(b);w30=3;break;}}};a.prototype.yhb=function(){var y30,a;y30=2;for(;y30 !== 5;){switch(y30){case 2:a=this.Ib.kb;a && (a=a.get()) && a.avtp && this.Xq.$ib({avtp:a.avtp.Ca});y30=5;break;}}};a.prototype.dib=function(){var z30,a,b,c;z30=2;for(;z30 !== 4;){switch(z30){case 2:var l3g="startup, playe";l3g+="rState no";l3g+=" longer STARTI";l3g+="NG:";var H3g="fail";H3g+="ed ";H3g+="to start";H3g+=" audio pip";H3g+="eline";var e3g="faile";e3g+="d to start video ";e3g+="pipeline";this.P.re(h.oa.oh);(a=this.Ba.pc,b=a.gd(0),c=a.gd(1));this.Nl && !this.UHa(c)?this.wb(e3g):this.gq && !this.UHa(b)?this.wb(H3g):(this.pHa=!0,this.Xc[0].N.C2=!0,b=this.hb.Ye[1],c=this.hb.Ye[0],(b && 0 < b.Is || c && 0 < c.Is) && this.bb.igb(String(a.N.u),c?c.Is:0,b?b.Is:0,c?c.BT:0,b?b.BT:0),this.P.ATa()?(this.DZ(0),this.gq && (a=this.Qd.N1(0),b=this.Qd.ap(0).Xa,this.bb.lgb(a,b))):this.wb(l3g,this.P.rd()));z30=4;break;}}};a.prototype.UHa=function(a){var A30,b,c;A30=2;for(;A30 !== 14;){switch(A30){case 1:A30=l.Y(c)?5:4;break;case 2:(b=a.I,c=this.hb.Zzb(a));A30=1;break;case 8:c=this.Qd.N;A30=7;break;case 3:A30=a.Jj()?9:8;break;case 5:var F3g="NFErr_MC_StreamingI";F3g+="nitF";F3g+="ailure";var b3g="star";b3g+="tPipel";b3g+="ine faile";b3g+="d";return (this.Zl() || this.zo(b3g,a.Kb.N.qb,F3g),!1);break;case 9:return !0;break;case 4:a=a.track.md[c];A30=3;break;case 7:a.N.qMa(a,{offset:0,gA:!c.Pe.Rf && !c.Vh && 1 === b,ou:!this.hb.Ye[b].Yvb});return !0;break;}}};E10=72;break;case 94:a.prototype.ffb=function(a,b){var E40;E40=2;for(;E40 !== 5;){switch(E40){case 9:this.Bca[a.I]=b;E40=9;break;E40=5;break;case 3:b=f.SQa(b);E40=5;break;E40=1;break;case 2:b=f.SQa(b);E40=1;break;case 1:this.Bca[a.I]=b;E40=5;break;}}};Object.defineProperties(a.prototype,{Gw:{set:function(a){var F40;F40=2;for(;F40 !== 1;){switch(F40){case 2:this.hb.Gw=a;F40=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.W1=function(a){var G40,b;G40=2;for(;G40 !== 4;){switch(G40){case 2:this.Xc.some(function(c){var H40;H40=2;for(;H40 !== 1;){switch(H40){case 2:return c.N.Bl === a?(b=c.N.qb,!0):!1;break;}}});return b;break;}}};return a;break;}}function a(a,b,d,f,h,k,l,q,r,B,n){var F10,D,T,t,ta,I;F10=2;for(;F10 !== 74;){switch(F10){case 8:var z3g="b";z3g+="r";z3g+="anchin";z3g+="g";this.nf=this.G.error.bind(this.G);this.wb=this.G.warn.bind(this.G);this.ik=this.G.trace.bind(this.G);D=new xa.LAa(this,this.G);this.bb=D;this.eMa=new R.y8(this.G);(T=!(!b || !b.choiceMap || z3g !== b.choiceMap.type),t=T?{$Q:!1,pq:!1}:A.zQa(B));F10=10;break;case 55:F10=this.pq?77:75;break;case 22:this.hI=k.BS;this.vZ=void 0;F10=35;break;case 36:T && B.FJ && !B.Mtb && (B.set?B.set({enableAdaptiveParallelStreaming:!1}):B.FJ=!1);0 === Math.floor(1E6 * Math.random()) % B.VP && (this.Dhb=new v.eDa(B));this.Xt=[];this.ag=[];this.F0a=new u.aX(b,this.Ib.kb,this.Ib.Tf,this.H,void 0);F10=50;break;case 19:this.fv=B.fv;this.Lj=new O.jza(this,this.G,this.Mb.bind(this),t);F10=17;break;case 39:var n3g="ma";n3g+="n";n3g+="agerde";n3g+="bugev";n3g+="ent";this.dg.on(this.Ib.We,n3g,function(a){var G10;G10=2;for(;G10 !== 1;){switch(G10){case 2:J.Ma(I,a.type,a);G10=1;break;}}});F10=38;break;case 10:this.$Q=t.$Q;this.pq=t.pq;F10=19;break;case 65:this.Xc=[b];this.Jf=new fa.qua(this,this.G,a,this.Ib.kb,B,this.QK(),h,this.Mb.bind(this),t);F10=63;break;case 50:a=this.F0a.hAb();h=null;B.bR && (h=this.Ib.Xq.nw);p.wv.yf().reset();b=m.E$.create({qb:0,pa:b,Bl:d,t0a:f,Rf:! !k.Rf,pTa:!1,Vh:! !k.Vh,De:g.i4(! !k.q_,! !k.QM),X:0,sa:k.sa,bb:this.bb,wq:this.vGa.bind(this),Fb:this,config:this.H,G:this.G,uf:this.uf,Km:this.Km,We:this.lIa?this.Ib.We:void 0,JA:this.JA});b.UP=!0;F10=65;break;case 63:F10=B.Dia && this.Jf.k3?62:59;break;case 60:this.Jf.Bta(this.H);F10=59;break;case 38:F10=(B.Mta || B.RB) && this.Ib.We?37:36;break;case 75:n && this.hb.Hl(n,Z.fa);F10=74;break;case 35:this.P=new V.Eua(r);this.EZ=h || 0;this.iI=0;this.Bca=q;F10=31;break;case 62:B=B.FBb;for(var Z in B){d=B[Z];B.hasOwnProperty(Z) && d && (this.H[Z]=d);}F10=60;break;case 37:var m3g="me";m3g+="diaca";m3g+="ch";m3g+="e";this.dg.on(this.Ib.We,m3g,function(a){var H10;H10=2;for(;H10 !== 1;){switch(H10){case 2:var v1g="media";v1g+="ca";v1g+="che";J.Ma(I,v1g,a);H10=1;break;}}});F10=36;break;case 31:this.IZ=!1;this.UO=void 0;this.cZ=-1;this.fea=0;F10=44;break;case 25:this.nZ=k.tF;this.lIa=! !k.NM;this.Aib=! !k.v7;F10=22;break;case 76:this.P.addListener(function(a){var I10,J10;I10=2;for(;I10 !== 1;){switch(I10){case 2:try{J10=2;for(;J10 !== 1;){switch(J10){case 2:ta.hb.XVb.bind(ta.hb)(a);J10=1;break;}}}catch(Mb){var s1g="Hindsight: Error when add";s1g+="ing updateP";s1g+="laySegment Listener: ";a000.J9b(1);ta.bb.Bm(a000.X9b(Mb,s1g));}I10=1;break;}}});F10=75;break;case 77:ta=this;F10=76;break;case 59:Z=b.N;this.Ba=new sa.p8(this,this.bb,this.G,this.rea.bind(this),Z,this.EZ,this.H,this.uf,this.P,this.vR.bind(this));B={BS:this.BS,Sq:this.Sq,Nl:this.Nl,tF:this.tF};this.hb=new wa.$Da(this.G,this.Jf,this.H,this.Mb.bind(this),this.P,B,this.Ib.kb,this.bb,this.uf,this.Ba,t);F10=55;break;case 40:F10=B.zh && this.Ib.We?39:38;break;case 17:this.jib=[!k.QM,!k.q_];this.Mb(0) && this.Mb(1);this.Ib=a;F10=27;break;case 27:this.al=l;this.H=B=this.eMa.sFa(b,B);F10=25;break;case 44:this.dg=new c.qg();this.Km=new Q.CDa(this,this.G,this.Mb.bind(this),D);this.uf=new ca.Gwa(this,this.G,this.Mb.bind(this));this.TQ=new U.Fwa(this,this.G,D);F10=40;break;case 2:var i1g="media|";i1g+="a";i1g+="s";i1g+="e";i1g+="js";var g1g="A";g1g+="S";g1g+="E";g1g+="J";g1g+="S";var M1g="de";M1g+="f";M1g+="ault";var p1g="1SIYbZ";p1g+="rNJ";p1g+="Cp9";I=this;this.Tv=new E.aDa();this.xFa=[];this.JA={St:[Object.create(null),Object.create(null)]};p1g;this.G=new y[M1g].Console(g1g,i1g,"(" + l.sessionId + ")");F10=8;break;}}}})();b.KDa=a;d.Ze(c.EventEmitter,a);},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.E$=void 0;c=a(16);l=a(9);k=a(232);d=(function(){function a(a,b,c,d,k,l,m,g,B,n,J,D){void 0 === c && (c=0);this.Ec=a;this.zZ=b;this.X=c;this.sa=d;this.I1=k;this.yg=l;this.$J=m;this.config=g;this.G=B;this.bb=n;this.cvb=J;this.hg=D;this.Gu=0;}a.create=function(b){var f,m,g,v,A,y,B,n,J,D,p,R,U,V,E;function d(a){l.Ma(n,a.type,a);}f=b.qb;m=b.pa;g=b.t0a;v=b.X;A=b.sa;y=b.wq;B=b.bb;n=b.Fb;J=b.config;D=b.G;p=b.uf;R=b.Km;U=b.We;V=b.JA;E=new k.NV(Number(m.movieId),{qb:f,pa:m,Bl:b.Bl,doa:{h3:b.Rf,Ema:! !b.pTa},Vh:b.Vh,De:b.De,config:J,yla:{bd:p.Xi.bind(p),We:U,JA:V,Cm:d,e3:function(a){return a === n.Ba.pc.N;},KR:function(a,b,c,d,f){a=n.hb.Ye[a];return !b || c || d || f?n.UO:a.Zg;},vA:function(a){return n.hb.Mu[a];},yg:n.yg.bind(n)},lL:function(a){n.emit("requestComplete",{timestamp:a.sd,mediaRequest:a});},tR:function(){return n.Jf;},kb:n.Ib.kb,Tf:n.Ib.Tf,Sia:{wq:y,Fg:function(a,b,c,d,h){n.zo(a,f,b,c,d,h);},zn:function(){return n.IZ;},BK:n.P.gg.bind(n.P),Cm:d},HF:void 0,EB:{da:n.Ib.ry,ba:n.Ib.DB}});J.hA && E.RF({nF:n.al.nF,ea:n.al.ea,cx:n.al.cx,Bm:B.Bm.bind(B)});b=new c.qg();b.addListener(E.IA,"onHeaderFragments",function(a){var b,c,d,h,k;b=a.I;c=a.Da;d=a.stream.$;h=n.yg(f);if(h){if(E.Ag[b] && a !== E.Ag[b])a.ou && (h=E.Ag[b],a=a.stream,k=h && h.stream,D.warn("first header received for non-current track (trackId " + a.Xa + "streamId " + a.Da + "), expected track " + (k && k.Xa) + ", stream " + (k && k.Da) + ", " + h));else {E.Ag[b]=a;a=n.Ba.pc;if(0 === f){k=E.Mb(1)?a.Ua(1).$b:a.Ua(0).$b;a.G_(k,E);}h.LT=!1;h.D_();n.SZ();}R.jda();B.sgb(f,b,c,E.u,d);p.Xi();}else D.warn("addFragments for stale manifestIndex:",f);});b.addListener(E.IA,"onHeaderRequestComplete",function(a){var b,c;a.xk?n.SZ():a.gA && (D.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),n.Vr(a.u));b=a.I;c=Object.getOwnPropertyNames(V.St[b]);n.ag[b].LWa(a.stream,1 === c.length && c[0] === a.Da);p.XFa();n.dPb();});b.addListener(E.IA,"onHeaderFromCache",function(a){var b;b=a.xq;a=a.Zvb;b.xk && n.SZ();a && B.jgb(b.u,b.Da);});return new a(E,g,v,A,function(){return n.Ba;},n.yg.bind(n),n.$J.bind(n),J,D,B,!1,b);};Object.defineProperties(a.prototype,{N:{get:function(){return this.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qb:{get:function(){return this.N.qb;},enumerable:!1,configurable:!0}});a.prototype.ap=function(a){return this.Ec.MRa(a,this.N1(a));};a.prototype.N1=function(a){return this.zZ[a];};a.prototype.close=function(){this.hg.clear();this.N.close();};a.prototype.cc=function(){this.Ec.cc();delete this.Ec;};a.prototype.clone=function(){return new a(this.N,this.zZ,this.X,this.sa,this.I1,this.yg,this.$J,this.config,this.G,this.bb,!0,this.hg);};a.prototype.yta=function(a){this.G.trace("updateAudioTrack:",this.zZ[0],"->",a);this.zZ[0]=a;};a.prototype.FQa=function(){return void 0 !== this.hF?this.hF:this.sa?this.sa:this.Ec.duration;};a.prototype.omb=function(a,b){var c,d,f,h;c=this.Ec.Ag[1];if(c && c.stream.pe){if(this.ix && this.ix[1] && this.ix[1].X <= a && this.ix[1].sa > a)return this.ix[1].Rc;d=c.stream.$;f=d.qm(a,void 0,!0);h=void 0;b && (a=c.stream.ej(f).j1(a)) && (h=a.jd);void 0 === h && (h=d.oj(f));return h;}};a.prototype.D_=function(){var a,b;if(!this.LT && this.hSa()){this.Ooa();b=[0,0];0 === this.qb || this.Ec.Pe.LS || this.Ec.Pe.replace || (a=this.yg(this.qb - 1),a=this.Ec.u === a.Ec.u,b=this.I1().pc,a=b.G_(this.X,this.N,b,a),b=a.GL);this.X=b[1];this.GL=b;this.ix=a && a.ix;this.MKa();a=this.Ec.Mb(1)?this.Ec.Ag[1].stream.$.sa:this.Ec.Ag[0].stream.$.sa;this.bb.ogb(this.qb,this.Gu,this.X,this.hF,a);this.LT=!0;for(a=this.qb + 1;a < this.$J();++a){b=this.yg(a);b.LT=!1;b.D_();}}};a.prototype.MKa=function(){var a;if(0 === this.qb || this.Ec.Pe.replace)this.Gu=0;else {a=this.yg(this.qb - 1);this.Gu=a.Gu + a.FQa() - this.X;}};a.prototype.Ooa=function(){var a,b,c,d,k,l,m,g;if(this.hSa()){k=this.I1().pc;l=this.sa || Infinity;m=this.Ec.Mb(1);g=k.kR(l,this.N);this.hF=m?g[1].sa:g[0].sa;k=m?this.Ec.Ag[1].stream.$.sa:this.Ec.Ag[0].stream.$.sa;m=Math.min(null !== (b=null === (a=g[1]) || void 0 === a?void 0:a.sa) && void 0 !== b?b:Infinity,null !== (d=null === (c=g[0]) || void 0 === c?void 0:c.sa) && void 0 !== d?d:Infinity);this.bb.qgb(this.qb,this.hF,k,m);a=this.I1().ija(this.qb);0 < a.length && a.forEach(function(a){a.RVb(g,l);});}};a.prototype.hSa=function(){var a,b,c,d;a=this.Ec.Mb(0);b=this.Ec.Mb(1);c=this.Ec.Ag[0];d=this.Ec.Ag[1];c=c && c.stream.pe;d=d && d.stream.pe;return (!a || c) && (!b || d);};return a;})();b.E$=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.NDa=void 0;d=a(0);c=a(9);a=d.__importDefault(a(3));l=a["default"].Um;new a["default"].Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function a(a,b,d){this.Bm=d;this.Hib=new c.fFa(a);this.ea=b.ea;this.Ddb=1E3 * b.EGb / b.Llb;this.Xsb=b.cx;this.rJa=!1;}a.prototype.Qr=function(a){var b,d;b={s_xid:this.ea,dl:this.Xsb?1:0};a.UI && (b.bs=c.N_(Math.floor(a.UI / this.Ddb) + 1,1,5));a.G4 && (b.limit_rate=a.G4);a.kKa && (b.bb_reason=a.kKa);a.X2a && (b.tm=a.X2a);if(a.gJ){d=Object.keys(a.gJ).every(function(b){return 0 === a.gJ[b];});if(!d || d && this.rJa)(b.cpr_ss=a.gJ.AQ,b.cpr_ca=a.gJ.AQ,b.cpr_rec=a.gJ.nha,this.rJa=d?!1:!0);}a.Tfa && (b.br="" + a.Tfa.start + "+" + a.Tfa.size);return this.Egb(b);};a.prototype.Kra=function(a,b){var c,d;try{c=new l(void 0,"notification");d=this.Qr({kKa:a});b && d && c.open(b,void 0,2,void 0,void 0,void 0,d);}catch(u){this.Bm("SideChannel: Error when sending sendBlackBoxNotification. Error: " + u);}};a.prototype.Egb=function(a){var b;try{b=this.Uhb(a);return this.Hib.encrypt(b);}catch(h){this.Bm("SideChannel: Error when obfuscating msg. Error: " + h);}};a.prototype.Uhb=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b) + "=" + encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;})();b.NDa=a;},function(d,b,a){var l,k,m,f,h,g;function c(a,b){var c,d;c=Math.floor(1E3 * a / b);d=1E3 * Math.round(c / 1E3);return new k.S(d,Math.abs(Math.floor(1001 * a / b) - d) > Math.abs(c - d)?1E3:1001);}Object.defineProperty(b,"__esModule",{value:!0});b.Qua=void 0;l=a(396);k=a(21);m=a(5);f=a(9);h=a(233);g=a(397);d=(function(){function a(b,d,h){this.H=d;this.G=h;this.kz=new f.PDa();this.zGa=!1;this.Mx=b.Mx;this.N=b.N;this.I=b.I;this.KM=b.KM;this.zD=b.zD;1 === this.I && (d=this.Mx.streams[0],void 0 !== d.framerate_value && void 0 !== d.framerate_scale && (this.Kda=c(d.framerate_value,d.framerate_scale).MZa()));this.gl=(this.ZH=this.Kda) && this.ZH.R;this.rda=this.YFa=!1;this.Fla=-Infinity;this.IUa=Infinity;b=a.beb(this,b.Rf);d=b.ym;h=b.md;this.QR=b.QR;this.ym=d;this.md=h;this.gib=h.reduce(function(a,b){a[b.Da]=b;return a;},{});!1;}a.beb=function(a,b){var c,d,f,h,k;c=a.H;d=1 === a.I;f=!1;h=0;k=[];a.Mx.streams.forEach(function(l,m){var q,r,u;r=l.bitrate;u=!0;d && (q=-1 === l.content_profile.indexOf("none"),u=b && !q || !b && q,f=f || q);u && r > h && (h=r);l=new g.Oua({Lx:l,Xf:m,track:a,Cu:u},c,a.G);k.push(l);});return {QR:f,ym:h,md:k};};Object.defineProperties(a.prototype,{Eoa:{get:function(){return !this.pe && !this.zGa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pe:{get:function(){return ! !this.Om && ! !this.kz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ria:{get:function(){return this.YFa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return String(this.N.u);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xa:{get:function(){return this.Mx.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wa:{get:function(){return this.ZH;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.gl;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fL:{get:function(){return this.Xfb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Om:{get:function(){return this.Dc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{eS:{get:function(){return this.kz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ija:{get:function(){return this.wa.R;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hja:{get:function(){return this.wa.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sja:{get:function(){return this.kz;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{KS:{get:function(){return this.md.some(function(a){var b;return 1 < ((null === (b=a.Ch) || void 0 === b?void 0:b.length) || 0);});},enumerable:!1,configurable:!0}});a.prototype.hs=function(a){return this.yE()[a];};a.prototype.yE=function(){return this.gib;};a.prototype.equals=function(a){return this.u === a.u && this.I === a.I && this.Xa === a.Xa;};a.prototype.hpa=function(){this.zGa=!0;};a.prototype.Q4=function(a,b,c,d,f){if(d && void 0 !== d.Sk && (this.pe || void 0 !== d.Yd && d.Yd.length)){if((a.Du && (this.YFa=!0),this.pe))!this.rda && d.Yd && d.Yd.length > this.Om.length && (this.Dc=new l.Zba(this.I,this.wa,d,f),this.kz.F_a(),this.Fla=-Infinity,this.rda=!0);else {this.RHa(b);if(c=c || this.Kda)(this.QHa(c || this.Kda),void 0 === this.R && this.SHa(c.R));this.Dc=new l.Zba(this.I,this.wa,d,f);a.Du && (this.rda=!0);}}else this.G && this.G.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.wJb=function(a){void 0 === this.kz.value && this.kz.set(a);};a.prototype.wob=function(a){this.pe || (this.SHa(a.R),this.RHa(a.fL),this.QHa(a.wa),this.Dc=a.Om,a.sja.value?this.kz.set(a.sja.value):this.kz.F_a());};a.prototype.tn=function(a,b,c,d){m.assert(this.eS);return h.tn(this.I,a,this.eS,b,c,d);};a.prototype.qE=function(a,b,c){m.assert(this.eS);return h.qE(this.I,a,this.eS,b,c);};a.prototype.toJSON=function(){return {movieId:this.u,mediaType:this.I,trackId:this.Xa};};a.prototype.toString=function(){return (0 === this.I?"a":"v") + ":" + this.Xa;};a.prototype.SHa=function(a){this.gl=a;};a.prototype.RHa=function(a){this.Xfb=a;};a.prototype.QHa=function(a){this.ZH=a;};return a;})();b.Qua=d;},function(d,b,a){var c,l,k,m,f,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.bEa=b.vcb=void 0;c=a(0);l=a(94);k=a(5);d=c.__importDefault(a(3));m=a(405);a=a(396);f=new d["default"].Console("FRAGMENTS","media|asejs");try{h=!0;}catch(u){h=!1;}g=(function(a){function b(b,c){c=a.call(this,b.Om,c) || this;c.tD=b;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{ba:{get:function(){return this.tD.xSb(this.wj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{offset:{get:function(){return this.tD.Eh(this.wj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Coa:{get:function(){return this.tD.eL && this.tD.eL[this.wj];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zi:{get:function(){return this.tD.Swb(this.wj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rb:{get:function(){return this.tD.UB && this.tD.UB[this.wj];},enumerable:!1,configurable:!0}});b.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Za,contentEndTicks:this.xb,durationTicks:this.oq,timescale:this.R,startPts:this.X,endPts:this.sa,duration:this.duration,additionalSAPs:this.Zi};};return b;})(a.DEa);b.vcb=g;d=(function(){function a(a,b,c,d,h,k){this.nI=128;this.Dc=a;this.ke=b.offset;this.Co=b.sizes;this.IH=this.GO=this.th=this.dIa=this.sea=void 0;this.Wfb=c;this.zca=d && d.Eh;this.nIa=h;this.Le=Math.min(this.Dc.length,this.Co.length);this.Ifb=this.gmb();this.Om.Up.length !== this.Co.length && f.error("Mis-matched stream duration (" + this.Om.Up.length + "," + this.Co.length + ") for movie id " + k);this.Om.d_ && !this.zca && f.error("Mis-matched additional SAPs information for movie id " + k);}a.H4b=function(a,b){var c,d;b=b.R;c=b / 1E3;d=new DataView(a);a=Math.floor(a.byteLength / 16);return {R:b,Sk:d.getUint32(4) * c,offset:65536 * d.getUint32(8) + d.getUint16(12),sizes:l.e8a.gK(d,0,a,16),Yd:l.eca.from(Uint32Array,{length:a},function(a,b){return d.getUint16(16 * b + 14) * c;})};};Object.defineProperties(a.prototype,{I:{get:function(){return this.Dc.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.Le;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Sk:{get:function(){return this.Dc.Sk;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Iia:{get:function(){return this.Dc.Iia;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.Dc.X;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return this.Dc.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vna:{get:function(){return this.Dc.Vna;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{W3:{get:function(){return this.Ifb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wa:{get:function(){return this.Dc.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Dc.R;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Fi:{get:function(){return this.dIa || this.Kca();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{eL:{get:function(){return this.Wfb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{MIa:{get:function(){return this.zca;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{UB:{get:function(){return this.nIa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Om:{get:function(){return this.Dc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mM:{get:function(){return this.sea || this.aeb();},enumerable:!1,configurable:!0}});a.prototype.xSb=function(a){if(this.Co)return this.Co[a];f.error("sizesByIndex _sizes is undefined");return -1;};a.prototype.oj=function(a){return this.Dc.oj(a);};a.prototype.Jia=function(a){return this.Dc.oj(a) + this.Dc.Yd(a);};a.prototype.Eh=function(a){if(this.GO !== a || void 0 === this.IH){if(0 === a)return this.ke;if(this.GO === a - 1 && void 0 !== this.IH)(this.IH+=this.Co[this.GO],++this.GO);else {for(var b=this.th || this.Ldb(),c=Math.floor(a / this.nI),d=c * this.nI,b=b[c];d < a;++d){b+=this.Co[d];}this.GO=a;this.IH=b;}}return this.IH;};a.prototype.Yd=function(a){return this.Dc.Yd(a);};a.prototype.get=function(a){return new g(this,a);};a.prototype.Swb=function(a){var b,c,d;k.assert(0 <= a);b=this.Om.d_;c=this.Om.NIa;d=this.zca;if(!d || !b || !c || a >= b.length)return [];for(var f=[],h=a === b.length - 1?c.length:b[a + 1],b=b[a];b < h;++b){f.push({Pn:c[b],jd:this.oj(a) + this.wa.dF(c[b]).da,offset:d[b]});}return f;};a.prototype.DRb=function(a){this.nIa=a;};a.prototype.qm=function(a,b,c){return this.Dc.qm(a,b,c);};a.prototype.i1=function(a,b,c){return this.Dc.i1(a,b,c);};a.prototype.mha=function(a,b){return this.Dc.mha(a,b);};a.prototype.dmb=function(a,b,c,d,f){var h,k,l,m,g,q,r,u,v;h=!0;k=0;m=this.Dc.Up;g=this.Co;a=Math.floor(a * this.R / 1E3);q=Math.floor(c * this.R / 1E3);r=0;u=0;v=0;if(this.Dc.xta && this.Dc.wta)for(k=this.Dc.xta;k <= this.Dc.wta;++k){r+=m[k];u+=g[k];}if(u > b)h=!1;else for(;k < this.length && (!f || k < f);){l=g[k];c=m[k];if(u + l > b){for(;1 < k - v && u + l > b && (r - m[v] >= q || u - g[v] > d);){r-=m[v];u-=g[v];++v;}if(r < a || u + l > b){h=!1;this.Dc.xta=v;this.Dc.wta=k;break;}}r+=c;u+=l;++k;}return h;};a.prototype.subarray=function(b,c){k.assert(void 0 === b || 0 <= b && b < this.length);k.assert(void 0 === c || c > b && c <= this.length);return new a(this.Dc.subarray(b,c),{offset:this.Eh(b),sizes:this.Co.subarray(b,c)},this.eL && this.eL.subarray(b,c),this.MIa && ({Eh:this.MIa}));};a.prototype.forEach=function(a){for(var b=0;b < this.length;++b){a(this.get(b),b,this);}};a.prototype.map=function(a){for(var b=[],c=0;c < this.length;++c){b.push(a(this.get(c),c,this));}return b;};a.prototype.reduce=function(a,b){for(var c=0;c < this.length;++c){b=a(b,this.get(c),c,this);}return b;};a.prototype.toJSON=function(){return {length:this.length};};a.prototype.dump=function(){var b;f.trace("StreamFragments: " + this.length);for(var a=0;a < this.length;++a){b=this.get(a);f.trace("StreamFragments: " + a + ": [" + b.X + "-" + b.sa + "] @ " + b.offset + ", " + b.ba + " bytes");}};a.prototype.gmb=function(){var a,b,c,d,f;b=0;c=this.Dc.lVa;d=this.Dc.Up;f=this.Co;if(void 0 === c || c >= this.length){for(var h=0;h < this.length;++h){a=f[h] / d[h];a > b && (b=a,c=h);}void 0 === this.Dc.lVa && (this.Dc.lVa=c);}else b=f[c] / d[c];return Math.floor(b * this.R / 125);};a.prototype.Kca=function(){for(var a=0,b=0;b < this.length;++b){a+=this.Co[b];}return this.dIa=a;};a.prototype.aeb=function(){return this.sea=new m.Jba(this.Dc.Up,this.Co,this.Dc.R);};a.prototype.Ldb=function(){var a;if(!this.th){a=h?new Float64Array(Math.ceil(this.length / this.nI)):Array(Math.ceil(this.length / this.nI));for(var b=this.ke,c=0;c < a.length;++c){a[c]=b;for(var d=0;d < this.nI;++d){b+=this.Co[c * this.nI + d];}}this.th=a;}return this.th;};return a;})();b.bEa=d;d.prototype.Q1a=a.DS(d.prototype.oj);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.mg();this.fd=1 === this.version?this.ev([{uk:"int64"},{modificationTime:"int64"},{R:"int32"},{duration:"int64"}]):this.ev([{uk:"int32"},{modificationTime:"int32"},{R:"int32"},{duration:"int32"}]);return !0;};b.af="mvhd";b.Ic=!1;return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.af="trak";b.Ic=!0;return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.mg();a=1 === this.version?[{uk:"int64"},{modificationTime:"int64"},{Xa:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{uk:"int32"},{modificationTime:"int32"},{Xa:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{E6b:"int16"},{T3b:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.fd=this.ev(a);this.fd.h9b=! !(this.Xh & 1);this.fd.i9b=! !(this.Xh & 2);this.fd.j9b=! !(this.Xh & 4);this.fd.l9b=! !(this.Xh & 8);this.M.console.trace("Finished parsing track box");return !0;};b.af="tkhd";b.Ic=!1;return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.mg();this.fd=this.ev(1 === this.version?[{vPa:"int64"}]:[{vPa:"int32"}]);return !0;};b.af="mehd";b.Ic=!1;return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.fd=this.ev([{i6b:"int32"},{z9b:"int32"}]);return !0;};b.af="pasp";b.Ic=!1;return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.fd=this.ev([{i4b:"int32"},{ym:"int32"},{Zkb:"int32"}]);return !0;};b.af="btrt";b.Ic=!1;return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.M.uB();this.M.uB();for(this.Tga=[];this.M.offset <= this.byteOffset + this.byteLength - 4;){this.Tga.push(this.M.uB());}return !0;};b.af="ftyp";b.Ic=!1;return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(80);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.mg();this.fd=this.ev([{d8b:"int32"},{ZRa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.fd.ZRa=l.hz(this.fd.ZRa);return !0;};b.af="hdlr";b.Ic=!1;return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c,l,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(95);k=a(235);m=a(169);d=a(28);f=a(96);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.mg();this.Vo=this.M.Ub();return !0;};b.prototype.QJ=function(a){var b;b=Object.keys(this.$c);b.length && (b=b[0],this.$c[b].length && (b=this.$c[b][0],b instanceof m["default"]?this.wa=new k.S(b.y1,b.X_a):b instanceof f["default"] && (b=b.$c[l.Z$]) && b.length && (b=b[0].fd,1E3 !== b.x0 && 1001 !== b.x0 || 0 !== b.$oa % 1E3?this.M.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + b.$oa + "/" + b.x0):this.wa=new k.S(b.x0,b.$oa)),this.wa && (a.wa=this.wa)));return !0;};b.prototype.e_a=function(a){void 0 !== this.$c[a] && 0 !== this.$c[a].length && (this.ob.cr(this.Vo - 1,this.byteOffset + 12),a=this.$c[a][0],this.Dl(a.byteLength,a.byteOffset));};b.af="stsd";b.Ic=!0;return b;})(d.pg);b["default"]=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.Cwb=this.M.kg(2);this.Jlb=this.M.kg(5);this.Klb=this.M.kg(3);this.Oib=this.M.kg(3);this.M.kg(1);this.M.kg(5);this.M.kg(5);return !0;};b.af="dac3";return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var b;this.PIb=this.M.Hh() & 7;this.DTb=[];for(var a=0;a < this.PIb;a++){b={Cwb:this.M.kg(2),Jlb:this.M.kg(5),Klb:this.M.kg(5),Oib:this.M.kg(3),G6b:this.M.kg(1),OIb:this.M.kg(4)};0 < b.OIb?b.s4b=this.M.kg(9):this.M.kg(1);this.DTb.push(b);}return !0;};b.af="dec3";return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(28);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.mg();this.b0a=this.M.uB();l.ma && this.M.console.trace("SchemeTypeBoxTranslator: " + this.b0a);"cenc" === this.b0a && (this.M.offset-=4,l.ma && this.M.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.M.offset),this.ob.X4a("piff"));this.M.Ub();return !0;};b.af="schm";b.Ic=!1;return b;})(l.pg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.M.Nd();this.F5a=this.M.Nd();this.M.Nd();this.M.Nd();this.M.Nd();this.H1a=this.eea(this.M.Nd() & 31);this.eea(this.M.Nd());this.z5=this.H1a.length?this.H1a[0][0]:this.F5a;this.xHa=this.M.offset;this.startOffset + this.length < this.M.offset && (100 === this.z5 || 110 === this.z5 || 122 === this.z5 || 144 === this.z5) && (this.M.Nd(),this.M.Nd(),this.eea(this.M.Nd()));a=this.startOffset + this.length - this.xHa;0 < a && this.Dl(a,this.xHa);return !0;};b.prototype.eea=function(a){var d;for(var b=[],c=0;c < a;++c){d=this.M.Hh();b.push(this.M.F5(d));}return b;};b.af="avcC";b.Ic=!1;return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.QJ=function(){var a;a=this.nA("esds");if(a=a && a.B8a.nA(5))this.y1=a.y1;return !0;};b.af="mp4a";b.Ic=!0;return b;})(a(169)["default"]);b["default"]=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(237);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.mg();this.B8a=l.Ywa.vZa(this.M);return !0;};b.af="esds";b.Ic=!1;return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(95);a=a(28);l=d.Z$;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.mg();this.fd=this.ev([{$oa:"int32"},{x0:"int16"}]);return !0;};b.af=l;b.Ic=!1;return b;})(a.pg);b["default"]=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a,b,c,d,k;this.mg();a=this.ev([{gta:"int32"},{cNa:"int32"},{t0:"int32"},{v0:"int32"},{u0:"int32"}]);b=a.gta;c=a.cNa;d=a.t0;k=a.u0;a=a.v0;this.fd={Xa:b,R4b:c,s0:d,S4b:k,T4b:a};this.gta=b;this.cNa=c;this.t0=d;this.v0=a;this.u0=k;return !0;};b.af="trex";b.Ic=!1;return b;})(a(28).pg);b["default"]=d;},function(d,b,a){var c,l,k,m,f,h,g,u,r,v,A,y;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(884);k=a(241);m=a(142);f=a(235);h=a(28);d=a(400);g=a(401);u=a(403);r=a(143);v=a(234);A=a(95);y=a(404);a=(function(){function a(a,b,c,d,f,h){this.console=a;this.stream=b;this.Ss=d;this.yjb=f;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);this.config=h || ({});this.tBb=r.Uxb();}a.path=function(a,b){return b.reduce(function(a,b){return a && a.$c[b] && a.$c[b][0];},a);};a.Wyb=function(a){return a && a.Tga && -1 !== a.Tga.indexOf("mcl0")?"mcl0":void 0;};a.Ivb=function(a,b){var c;m.assert("mcl0" === a,"Unsupported McClearen brand");c=b.$;a=c.Yd;b=new f.S(120,1).Fe(c.R).ub;for(var d=0,c=c.Sk;d < a.length && c < b;){c+=a[d++];}return d;};a.prototype.parse=function(a){var b;b=this.YPb();if(!b.done){if(b.pWa)return {iB:!1,zjb:b.pWa};this.console.error("Scan error: " + b.error);return {iB:!1,parseError:b.error || "unknown mp4 scan error"};}b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + b.offset);this.view=new DataView(b);a=this.xKb(a);return a.done?this.kob():(this.console.error("Parse error: " + a.error),{iB:!1,parseError:a.error || "unknown mp4 parse error"});};a.prototype.pE=function(a){return h.pg.pE(this,a);};a.prototype.nA=function(a){return h.pg.nA(this,a);};a.prototype.YPb=function(){var b,d;b=new y.k9a(this.Ss,this.yjb?[A.nX,A.mX]:[],this.config && this.config.Y8b || ["moof",A.CAa],this.config && this.config.ZXa);d=c.__assign(c.__assign({},this.config),{spa:!1});return new u.n8(a.ura,b,this.view,this.console,d).parse();};a.prototype.xKb=function(a){var b,d,f;b=new y.uwa(this.view.byteLength);d=Object.create(v.gL.$c);this.config && ((this.config.XXa || this.config.o3a || this.config.F6) && l(v.gL.rra,d),this.config.lta && l(v.gL.fVb,d),this.config.o3a && l(v.gL.p3a,d));f=c.__assign(c.__assign({},this.config),{spa:!0});this.Yg=new u.n8(d,b,this.view,this.console,f);a=this.Yg.parse(a);a.done && (this.$c=this.Yg.$c);return a;};a.prototype.kob=function(){var b,c,d,h,l,m;b={iB:!0};c=a.path(this,["moov"]);d=a.path(c,["trak","mdia","minf","stbl","stsd"]);if(this.config.XXa)if(d)(b.wa=d.wa,b.x8b=d.$c);else return {iB:!1,parseError:"Missing sample descriptions"};h=a.path(d,["encv","sinf","schi"]);h && (h=a.path(h,["tenc"]) || a.path(h,[A.dBa])) && (b.uub={F4b:h.lp,Rma:h.Rma,z6b:!1});if(h=a.path(c,["trak","mdia","mdhd"]))b.R=h.R;if(h=a.path(c,["mvex","trex"]))b.s0=h && h.fd.s0;b.s0 && b.R && (b.wa=new f.S(b.s0,b.R));if(h=a.path(this,["sidx"])){l=a.path(this,[A.nX]);l=l && l.GGb;m=a.path(this,[A.mX]);m=m && m.Zi;b.$=h.$;b.eL=l;b.Zi=m;}if(l=this.$c.vmaf && this.$c.vmaf[0])b.UB=l.UB;if(this.config.EPb)if(c)(this.trim(c.byteOffset + c.byteLength),this.config.F6 && d && 1 < d.Vo && h && (b.Ch=this.F6(d,h)),void 0 === b.Ch && (c=this.Yg.M0?k.concat(this.Yg.xa()):this.view.buffer,b.Ch=[{xg:0,data:c}]));else return {iB:!1,parseError:"Missing movie box"};b.iB=!0;b.a5=this.Yg.offset;return b;};a.prototype.trim=function(a){var b;b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(a,this.view.byteLength));this.Yg.trim(a);this.view=new DataView(b);};a.prototype.F6=function(b,c){var d,f,h;d=Object.keys(b.$c);f=d.filter(function(a){return "encv" !== a;});if(!(2 > d.length || f.length === d.length || 0 === f.length)){d=a.path(this,["ftyp"]);h=a.Wyb(d);if(h)return (d=[],this.Yg.iNb(),b.e_a("encv"),d.push({xg:0,xk:!1,data:k.concat(this.Yg.xa())}),this.Yg.SLb(),b.e_a(f[0]),b=a.Ivb(h,c),d.push({xg:b,xk:!0,data:k.concat(this.Yg.xa())}),d);}};a.ura={};return a;})();b.Uy=a;a.ura[A.$$]=d["default"];a.ura[A.aaa]=g["default"];},function(d){d.exports=function a(c,d){var k;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,d);Object.getOwnPropertyNames(c).forEach(function(a){k=Object.getOwnPropertyDescriptor(c,a);void 0 !== k && Object.defineProperty(d,a,k);});};},function(d,b,a){var c,l,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(142);k=a(241);m=a(80);d=a(886);f=(function(){function a(a){a?(this.Xn=a.Xn.slice(),this.dr=a.dr.slice(),this.Eh=a.Eh.slice(),this.trim=a.trim):(this.Xn=[],this.dr=[],this.Eh=[]);}Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.Xn.length && 0 === this.dr.length && 0 === this.Eh.length;},enumerable:!0,configurable:!0}});return a;})();d=(function(a){function b(b,c,d){b=a.call(this,b,c,d) || this;b.RNa=[];b.Kd=new f();return b;}c.__extends(b,a);b.bkb=function(a,b){if(b.offset + b.size <= a.byteLength)switch(b.size){case 1:a.setUint8(b.offset,b.value);break;case 2:b.AU?a.setInt16(b.offset,b.value):a.setUint16(b.offset,b.value);break;case 4:b.AU?a.setInt32(b.offset,b.value):a.setUint32(b.offset,b.value);break;case 8:l.assert(!b.AU);a.setUint32(b.offset,Math.floor(b.value / 4294967296));a.setUint32(b.offset + 4,b.value & 4294967295);break;default:l.assert(!1);}};Object.defineProperties(b.prototype,{M0:{get:function(){return !this.Kd.empty;},enumerable:!0,configurable:!0}});b.prototype.L7=function(a,b){this.Kd.dr.push({offset:void 0 !== b?b:this.offset,value:a,size:1});void 0 === b && (this.offset+=1);};b.prototype.JXb=function(a){this.Kd.dr.push({offset:!1,value:a,size:2,AU:!1});};b.prototype.cr=function(a,b){this.Kd.dr.push({offset:void 0 !== b?b:this.offset,value:a,size:4,AU:!1});void 0 === b && (this.offset+=4);};b.prototype.KXb=function(a,b){this.Kd.dr.push({offset:void 0 !== b?b:this.offset,value:a,size:8,AU:!1});void 0 === b && (this.offset+=8);};b.prototype.X4a=function(a){this.cr(m.LFa(a));};b.prototype.Zta=function(a,b){this.Kd.Eh.push({offset:this.offset,Jo:a,value:b});this.offset+=4;};b.prototype.Dl=function(a,b,c){this.Kd.Xn.push({offset:b,remove:a,mb:c});};b.prototype.UT=function(a,b,c,d){this.Kd.Xn.push({offset:c,remove:a,replace:b,mb:d});};b.prototype.trim=function(a){this.Kd.trim=a;};b.prototype.iNb=function(){this.RNa.push(new f(this.Kd));};b.prototype.SLb=function(){this.Kd=this.RNa.pop() || new f();};b.prototype.xa=function(){var a,c,d,f,h,k,l;a=this;if(0 === this.Kd.Xn.length && 0 === this.Kd.dr.length && 0 === this.Kd.Eh.length)return [void 0 === this.Kd.trim?this.view.buffer:this.view.buffer.slice(0,this.Kd.trim)];this.Kd.Xn.sort(function(a,b){return a.offset - b.offset;});this.Kd.dr.sort(function(a,b){return a.offset - b.offset;});this.tPb();c=this.Cvb();d=this.view.buffer.slice(0,c);f=new DataView(d);this.Kd.dr.forEach(b.bkb.bind(void 0,f));this.OVb(f);this.NVb(f);h=[];k=void 0 !== this.Kd.trim?Math.min(this.Kd.trim,this.view.byteLength):this.view.byteLength;l=0;this.Kd.Xn.filter(function(a){return a.offset <= k;}).forEach(function(b){b.offset > l && (h.push(f.buffer.slice(l,b.offset)),b.offset > f.byteLength && f !== a.view && (f=a.view,h.push(f.buffer.slice(c,b.offset))));b.replace && h.push(b.replace);l=b.offset + b.remove;});l < c && h.push(d.slice(l));l < k && h.push(this.view.buffer.slice(Math.max(d.byteLength,l),k));return h;};b.prototype.Cvb=function(){var a,b,c;a=[];b=this.Kd.dr[this.Kd.dr.length - 1];c=this.Kd.Eh[this.Kd.Eh.length - 1];b && a.push(b.offset + b.size);c && a.push(c.offset + 4);this.Kd.Xn.filter(function(a){return a.mb;}).forEach(function(b){return a.push(b.mb.byteOffset + 4);});b=Math.max.apply(void 0,a);return void 0 !== this.Kd.trim?Math.min(b,this.Kd.trim):b;};b.prototype.tPb=function(){this.Kd.Xn=this.Kd.Xn.reduce(function(a,b){var c,d;if(0 === a.length)return (a.push(b),a);c=a[a.length - 1];d=c.offset + c.remove;b.offset >= d?a.push(b):b.offset + b.remove > d && (l.assert(c.mb === b.mb),c.remove+=b.offset + b.remove - d,b.replace && (c.replace=c.replace?k.concat(c.replace,b.replace):b.replace));return a;},[]);};b.prototype.OVb=function(a){var b;b=this;this.Kd.Eh.forEach(function(c){var d,f,h,k;d=a;f=c.offset;b.Kd.Xn.some(function(a){return a.offset <= c.offset && a.replace && a.offset + a.replace.byteLength >= c.offset + 4?(d=new DataView(a.replace),f=c.offset - a.offset,!0):!1;});h=c.Jo + (void 0 !== c.value?c.value:d.getInt32(f));k=b.Kd.Xn.reduce(function(a,b){return b.offset > c.Jo && b.offset < h?a + (b.remove - (b.replace?b.replace.byteLength:0)):a;},0);d.setInt32(f,h - c.Jo - k);});};b.prototype.NVb=function(a){this.Kd.Xn.forEach(function(b){var c;c=(b.remove || 0) - (b.replace?b.replace.byteLength:0);if(0 !== c)for(b=b.mb;b;){a.setUint32(b.byteOffset,a.getUint32(b.byteOffset) - c);b=b.parent;}});};return b;})(d.Vcb);b.Ucb=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(143);a(143);l=a(80);d=(function(){function a(a,b,c){this.view=a;this.console=b;this.config=c;this.view=a;this.console=b;this.eF=this.hQ=this.offset=0;}a.prototype.Nxb=function(a){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,a);};a.prototype.kg=function(a){for(;this.eF < a;){this.hQ=(this.hQ << 8) + this.Nd();this.eF+=8;}this.eF-=a;return this.hQ >>> this.eF & (1 << a) - 1;};a.prototype.Nd=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.Hh=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.Ub=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.Bqa=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.WKb=function(a,b){var c;c=this.view.getUint32(this.offset + (a?4:0),a);a=this.view.getUint32(this.offset + (a?0:4),a);b || 0 === (c & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * c + a;};a.prototype.Sj=function(a,b){a=this.WKb(a,b);this.offset+=8;return a;};a.prototype.YKb=function(){var a,b;a=this.view.getInt32(this.offset + 0,void 0);b=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < a?a:-a) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * a + b;};a.prototype.CNb=function(){var a;a=this.YKb();this.offset+=8;return a;};a.prototype.uB=function(){return l.hz(this.Ub());};a.prototype.H5=function(){var b,c,d,k,l,g;function a(a,b){return ("000000" + a.toString(16)).slice(2 * -b);}b=this.Ub(!0);c=this.Hh(!0);d=this.Hh(!0);k=this.Hh();l=this.Hh();g=this.Ub();return [a(b,4),a(c,2),a(d,2),a(k,2),a(l,2) + a(g,4)].join("-");};a.prototype.wNb=function(){var a;a=this.view.byteOffset + this.offset;return this.view.buffer.slice(a,a + 16);};a.prototype.vNb=function(a){var b;b=[];if(0 === a)return "";a=a || Number.MAX_SAFE_INTEGER;for(var c=this.Nd();0 !== c && 0 <= --a;){b.push(c);c=this.Nd();}return String.fromCharCode.apply(null,b);};a.prototype.F5=function(a){var b,d;void 0 === b && (b=1);void 0 === d && (d=!0);return this.Qk(this.config.OM && c.BAb || c.hK,1,a,b,d);};a.prototype.uNb=function(a){var b,d,k;d=10;k=!1;void 0 === d && (d=2);void 0 === k && (k=!0);void 0 === b && (b=!1);return this.Qk(this.config.OM && c.zAb || c.l2,2,a,d,k,b);};a.prototype.E5=function(a,b,d){var f;void 0 === b && (b=4);void 0 === d && (d=!0);void 0 === f && (f=!1);return this.Qk(this.config.OM && c.AAb || c.gK,4,a,b,d,f);};a.prototype.yNb=function(){for(var a=this.Nd(),b=a & 127;a & 128;){a=this.Nd();b=b << 7 | a & 127;}return b;};a.prototype.Qk=function(a,b,c,d,k,l){void 0 === k && (k=!0);void 0 === l && (l=!1);a=a(this.view,this.offset,c,d,l);this.offset=k || !d || d === b?this.offset + c * (d || b):this.offset + b;return a;};return a;})();b.Vcb=d;},function(d,b,a){var k,g,f,h;function c(a,b,c,d){g.call(this,a,b,c,d);}function l(a,b,c){g.call(this,a,b,c,void 0);}k=a(95);g=a(242).aH;f=a(402);h=a(80).LFa;c.prototype=Object.create(g.prototype);l.prototype=Object.create(c.prototype);l.prototype.Xeb=function(a,b){return "string" === typeof b?f[b]:b?f.reset[a] || f.JSb[a]:f.JSb[a];};l.prototype.a_a=function(a,b,c){return this.xa(a,b,!1,c,void 0);};l.prototype.h_a=function(a,b,c){return this.xa(a,b,!0,c,void 0);};l.prototype.xa=function(a,b,c,d,f){var l,g,m,q,r,u,v,A,n,p,t,ha,aa,sa;function h(a){g=l[a];m=g.dt("traf");if(void 0 === m || void 0 === m.Iw)return !1;q=m.dt("tfdt");if(void 0 === q)return !1;r=m.dt("trun");return void 0 === r?!1:!0;}if(!this.parse().done)return !1;l=this.$c.moof;if(!l || 0 === l.length)return !1;if(void 0 !== a)for((u=a,a=0);a < l.length;++a){if(!h(a))return !1;if(r.Ee > u || c && r.Ee === u)break;u-=r.Ee;}else if((a=c?l.length - 1:0,!h(a)))return !1;if(c && a < l.length - 1){v=l[a + 1];this.Yg.Dl(this.P4b - v.startOffset,v.startOffset);}else !c && 0 < a && this.Yg.Dl(g.startOffset,0);v=m.dt("tfhd");if(void 0 === v)return !1;q=m.dt("tfdt");A=r.Ee;n=m.dt("saiz");p=m.dt("saio");t=m.dt(k.cBa);ha=m.dt("sbgp");if(!(!n && !p || n && p))return !1;aa=m.dt("sdtp");if(this.$c.mdat && a < this.$c.mdat.length)sa=this.$c.mdat[a];else if(a !== l.length - 1)return !1;void 0 === u && (u=c?r.Ee:0);if(r.xa(m,v,sa || this.Yg,b,u,m.Iw,c))r.M0 && (!c && q && q.xa(r.zSb),n && p && (n.xa(r.nM,c),p.xa(t?0:n.qra,m.Iw,c)),t && t.xa(r.nM,c),aa && aa.xa(r.nM,A,c),ha && ha.xa(r.nM,c));else if(!c){if(a === l.length - 1)return !1;this.Yg.Dl(l[a + 1].startOffset - g.startOffset,g.startOffset);}else if(0 === r.nM)return !1;d && (b=this.Xeb(this.stream.profile,f)) && r.SOb(m,v,sa,c,d,b);c=this.Yg.xa();d=c.reduce(function(a,b){return a + b.byteLength;},0);c={Sd:c,length:d,mF:this.Yg.view.byteLength};r.M0 && !sa && (c.OL=m.Iw + r.OL,c.Qs=r.Qs);return c;};d.exports={Ty:l,FS:function(a){var b,c;b=new ArrayBuffer(8);c=new DataView(b);c.setUint32(0,a + 8);c.setUint32(4,h("mdat"));return b;}};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(242);l=a(241);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.xa=function(a){var b,c,d,f;b=this;if(!this.parse().done)return !1;c=this.$c.moov;if(!c || 0 === c.length)return !1;d=c[0].nA("tenc");if(!d)return !1;f=new Uint8Array(d.lp);a.forEach(function(a){for(var c=a.from,h=!0,k=0;k < c.length;k++){if(f[k] !== c[k]){h=!1;break;}}h && b.Yg.UT(a.from.length,a.to,d.Rma);});return l.concat(this.Yg.xa());};return b;})(d.aH);b.i$=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=b.or || (b.or={});d[d.AUDIO=0]="AUDIO";d[d.VIDEO=1]="VIDEO";},function(d,b,a){var c,l,k,g,f,h,q,u,r,v,A,y,B,n,J;Object.defineProperty(b,"__esModule",{value:!0});b.nxa=void 0;d=a(0);c=a(16);l=d.__importStar(a(8));k=d.__importDefault(a(3));g=new k["default"].Console("ASEJS_ERROR_DIRECTOR","asejs");f=d.__importDefault(a(25));h=d.__importDefault(a(891));q=k["default"].Um;u=q.nW;r={};v={};a=[f["default"].Jg.Kv,!1];d=[f["default"].Jg.Kv,!0];A=[f["default"].Jg.KC,!1];y=[f["default"].Jg.KC,!0];B=[f["default"].Jg.URL,!0];n=[-1,!1];J=[f["default"].Jg.KC,!1];r[u.TXb]=A;r[u.UNKNOWN_ERROR]=A;r[u.x0b]=A;r[u.K7a]=A;r[u.kwa]=A;r[u.W7a]=A;r[u.O7a]=y;r[u.M6a]=y;r[u.wva]=J;r[u.uva]=J;r[u.N6a]=n;r[u.O6a]=J;r[u.P6a]=J;r[u.J6a]=A;r[u.L6a]=A;r[u.vva]=a;r[u.K6a]=A;r[u.I6a]=J;r[u.OYb]=y;r[u.g9a]=J;r[u.Vxa]=J;r[u.Uxa]=J;r[u.Rxa]=J;r[u.Sxa]=J;r[u.f9a]=B;r[u.N9]=y;r[u.P9]=B;r[u.O9]=d;r[u.Yxa]=y;r[u.i9a]=B;r[u.RW]=J;r[u.Wxa]=y;r[u.h9a]=y;r[u.R7a]=y;r[u.L7a]=A;r[u.fcb]=A;r[u.B7a]=A;r[u.C7a]=A;r[u.D7a]=A;r[u.E7a]=A;r[u.F7a]=A;r[u.G7a]=A;r[u.H7a]=A;r[u.I7a]=A;r[u.J7a]=A;r[u.M7a]=A;r[u.N7a]=A;r[u.P7a]=A;r[u.Q7a]=A;r[u.S7a]=A;r[u.T7a]=A;r[u.U7a]=A;r[u.V7a]=A;r[u.X7a]=A;r[u.Y7a]=A;r[u.ecb]=J;r[u.TIMEOUT]=a;v[u.wva]=!0;v[u.Vxa]=!0;v[u.Uxa]=!0;v[u.Sxa]=!0;v[u.kwa]=!0;a=(function(){var I40;function a(a,b,d,f){var J40;J40=2;for(;J40 !== 10;){switch(J40){case 5:this.iBb=d;this.wq=f;this.events=new c.EventEmitter();J40=9;break;case 9:var c1g="de";c1g+="fau";c1g+="lt";var W1g="netwo";W1g+="rkF";W1g+="ai";W1g+="led";var C1g="1S";C1g+="IYbZ";C1g+="rNJ";C1g+="Cp";C1g+="9";this.hg=new c.qg();C1g;r[u.Rxa]=b.VBb?y:J;this.hg.addListener(this.vl,W1g,this.bBb.bind(this));this.HK=k[c1g].time.aa();this.Sr=0;this.Wsa={};J40=11;break;case 11:var B1g="d";B1g+="e";B1g+="fau";B1g+="l";B1g+="t";this.hqa=new h[B1g](a,f,b);J40=10;break;case 2:this.vl=a;this.config=b;J40=5;break;}}}I40=2;for(;I40 !== 12;){switch(I40){case 2:a.prototype.Tb=function(){var K40;K40=2;for(;K40 !== 1;){switch(K40){case 4:this.hg.clear();K40=8;break;K40=1;break;case 2:this.hg.clear();K40=1;break;}}};a.prototype.RF=function(a){var L40;L40=2;for(;L40 !== 1;){switch(L40){case 2:this.C6=a;L40=1;break;}}};a.prototype.Rq=function(a,b,c,d){var M40,B,I,p,D,h,k,m,u,y;M40=2;for(;M40 !== 17;){switch(M40){case 4:var A1g="cr";A1g+="iticalNetw";A1g+="orkError";var O1g="cr";O1g+="it";O1g+="icalNe";O1g+="tworkE";O1g+="rror";B=r[c];this.Ex={DE:b,wg:c,KOa:m,ri:d};v[c] && (++this.Sr,this.events.emit(O1g,{type:A1g,wg:c}));M40=8;break;case 14:I && (k[I]=[a.url]);M40=13;break;case 8:M40=B !== n?7:17;break;case 6:I=y.A0a(a.url);M40=14;break;case 20:var j1g="Invalid ";j1g+="af";j1g+="fecte";j1g+="d for network fa";j1g+="ilure";g.error(j1g);M40=19;break;case 13:(p=B[0],D=B[1]);u.Ls?l.forEach(k,function(k,l){var N40;N40=2;for(;N40 !== 5;){switch(N40){case 2:var y1g="er";y1g+="r";y1g+="o";y1g+="r";B === J || B === A?h.hqa.KMb({url:void 0 !== a.url?a.url:k[0],Zb:l},{RIa:l,jV:B,DE:b,wg:c,KOa:m,ri:d}):k.some(function(a){var O40;O40=2;for(;O40 !== 5;){switch(O40){case 2:var E1g="def";E1g+="a";E1g+="u";E1g+="lt";y.Rq(p,D,a);return p === f[E1g].Jg.KC;break;}}});!h.C6 || 0 !== b && void 0 !== b || (k=void 0 !== a.url?a.url:k[0]) && h.C6.Kra(y1g,k);N40=5;break;}}}):l.forEach(k,function(c,d){var P40;P40=2;for(;P40 !== 5;){switch(P40){case 2:P40=B !== J || h.WOb(d)?1:5;break;case 1:var V1g="e";V1g+="r";V1g+="r";V1g+="o";V1g+="r";(c.some(function(a){var Q40;Q40=2;for(;Q40 !== 5;){switch(Q40){case 2:var N1g="defau";N1g+="l";N1g+="t";y.Rq(p,D,a);return p === f[N1g].Jg.KC;break;}}}),!h.C6 || 0 !== b && void 0 !== b || (c=void 0 !== a.url?a.url:c[0]) && h.C6.Kra(V1g,c));P40=5;break;}}});M40=17;break;case 10:k=y.LQb(a.host,a.port);M40=13;break;case 11:M40=void 0 !== a.host && void 0 !== a.port?10:20;break;case 2:var G1g=" ";G1g+=": critica";G1g+="l e";G1g+="rror c";G1g+="ount = ";var f1g=" ";f1g+="o";f1g+="n";f1g+=" ";var Z1g="F";Z1g+="a";Z1g+="il";Z1g+="ur";Z1g+="e ";(h=this,k=q.nW.name,m=c?k[c]:void 0,k={},u=this.config,y=this.vl);g.warn(Z1g + m + f1g + JSON.stringify(a) + G1g + this.Sr);M40=5;break;case 5:M40=c && l.isArray(r[c])?4:18;break;case 7:M40=void 0 !== a.url?6:11;break;case 18:var d1g="Unmapped fai";d1g+="lure code in JSASE err";d1g+="or director : ";a000.J9b(1);g.error(a000.X9b(c,d1g));M40=17;break;case 19:return;break;}}};I40=4;break;case 14:a.prototype.sLa=function(){var Z40;Z40=2;for(;Z40 !== 1;){switch(Z40){case 2:var q1g="Cleare";q1g+="d ";q1g+="underflow timeout";this.kV && (clearTimeout(this.kV),this.kV=void 0,g.info(q1g));Z40=1;break;}}};return a;break;case 8:a.prototype.o7=function(a){var V40,b;V40=2;for(;V40 !== 9;){switch(V40){case 2:var P1g="u";P1g+="pdating";P1g+="Las";P1g+="tSuccessEven";P1g+="t";var h1g="updatingLastSuc";h1g+="ce";h1g+="ssEv";h1g+="en";h1g+="t";var X1g="d";X1g+="e";X1g+="f";X1g+="aul";X1g+="t";b=this.config;this.HK=Math.max(a.timestamp || k[X1g].time.aa(),this.HK);this.sLa();b.Ls && this.hqa.o7(a);this.events.emit(h1g,{type:P1g});V40=9;break;}}};a.prototype.fpa=function(){var W40;W40=2;for(;W40 !== 1;){switch(W40){case 2:this.Sr=0;W40=1;break;}}};a.prototype.Ik=function(){var X40,a,b,c;X40=2;for(;X40 !== 4;){switch(X40){case 2:var J1g="def";J1g+="a";J1g+="u";J1g+="lt";(a=this,b=this.config,c=b.S3);this.HK=Math.max(k[J1g].time.aa(),this.HK);X40=5;break;case 5:var Y1g="m";Y1g+="s";var T1g="Setting ";T1g+="u";T1g+="nderflow timeout in ";b.h4a && !this.kV && (g.info(T1g + c + Y1g),this.kV=setTimeout(function(){var Y40;Y40=2;for(;Y40 !== 4;){switch(Y40){case 2:var S1g="de";S1g+="f";S1g+="a";S1g+="u";S1g+="lt";var K1g="ms, sin";K1g+="ce underflow ";K1g+="with no succ";K1g+="ess";var r1g="Forcing perman";r1g+="e";r1g+="nt network failure after ";a000.J9b(4);g.info(a000.X9b(c,r1g,K1g));a.kV=void 0;a.vl.Rq(f[S1g].Jg.Kv,!0);Y40=4;break;}}},c));X40=4;break;}}};I40=14;break;case 4:a.prototype.WOb=function(a){var R40,b,c,d;R40=2;for(;R40 !== 7;){switch(R40){case 5:R40=d.oi < this.HK?4:3;break;case 1:R40=d?5:8;break;case 2:var w1g="defa";w1g+="u";w1g+="lt";(b=k[w1g].time.aa(),c=this.config,d=this.Wsa[a]);R40=1;break;case 9:return d.ly=!0;break;case 8:this.Wsa[a]={oi:b,count:1};R40=7;break;case 4:(d.oi=b,d.count=1);R40=7;break;case 3:R40=!(d.oi >= b - c.Y6 || d.ly || (d.oi=b,++d.count,d.count < c.X3))?9:7;break;}}};a.prototype.bBb=function(a){var S40,b,c,d,f,h,l,m;S40=2;for(;S40 !== 8;){switch(S40){case 2:var I1g=" ms";I1g+=" ";I1g+="ago";var x1g=" las";x1g+="t ";x1g+="success was ";var o1g="Network has ";o1g+="fai";o1g+="l";o1g+="ed ";var Q1g="tempo";Q1g+="ra";Q1g+="rily";var u1g="p";u1g+="erman";u1g+="ently";var R1g="def";R1g+="a";R1g+="ul";R1g+="t";(b=this,c=k[R1g].time.aa() - this.HK,d=a,m=this.config);a000.J9b(5);g.warn(a000.P9b(a?u1g:Q1g,o1g,x1g,c,I1g));!a && c > m.Goa && (d=!0);S40=4;break;case 4:var L1g="t";L1g+="emporar";L1g+="yNetwo";L1g+="rkError";var t1g="tem";t1g+="p";t1g+="oraryNetworkErr";t1g+="or";this.Ex && (f=this.Ex.wg,h=this.Ex.DE,l=this.Ex.ri);a || this.events.emit(t1g,{type:L1g,errorCode:f,httpCode:h,nativeCode:l});d?(this.SL && (clearTimeout(this.SL),this.SL=void 0),this.sLa(),this.hqa.reset(),this.iBb({BDb:a,gKb:f,hKb:h,iKb:l})):this.SL || (this.SL=setTimeout(function(){var T40;T40=2;for(;T40 !== 5;){switch(T40){case 2:b.SL=void 0;b.S5();T40=5;break;}}},m.Hoa));S40=8;break;}}};a.prototype.S5=function(){var U40;U40=2;for(;U40 !== 1;){switch(U40){case 2:this.SL || (this.vl.S5(),this.Wsa={},this.wq());U40=1;break;}}};I40=8;break;}}})();b.nxa=a;},function(d,b,a){var l,k,g;function c(a,b,c){this.bP=a;this.bD=0 === Math.floor(1E6 * Math.random()) % c.wF;this.groupId=1;this.config=c;this.hx={};this.sB={};this.wq=b;}l=a(8);k=a(3)["default"];new k.Console("ASEJS_PROBE_MANAGER","asejs");g=a(892).Lua;c.prototype.constructor=c;c.prototype.KMb=function(a,b){var c,d,f,h,g,m,B,n,p,D,t;c=this.bP;d=a.Zb;f=c.b2a(a.url);h=c.J3(a.url);g=this.config;m=k.time.aa();n=b;p=[];D=f.Dn[0];t=!1;B=this.hx[d];if(!B)B=this.hx[d]={count:0,oi:m,ly:!1,error:b,Tra:[],jqa:{}};else if(B.oi >= m - g.Y6)return;B.ly || (D && h.id === D.id && (a.isPrimary=!0),B.oi=m,B.ly=!1,B.error=b,++B.count,f && f.Ge && 0 !== f.Ge.length && (l.forEach(f.Ge,function(b){var c,f,h;c=b.Nc.id;f=c + "-" + d;h=this.sB[f];if(void 0 === h || void 0 === h.y5)(h && h.ao && clearTimeout(h.ao),b=this.uMa(b.url,a,c),this.sB[f]={ia:!1,count:0,y5:b.Bk()},p.push(b.Bk()),t=!0);-1 === B.Tra.indexOf(c) && B.Tra.push(c);},this),this.bD && 0 < p.length && (f={type:"logdata",target:"endplay",fields:{}},b=n,n={ts:k.time.aa(),es:b.RIa,fc:b.wg,fn:b.KOa,nc:b.ri,pb:p,gid:this.groupId},b.DE && (n.hc=b.DE),f.fields.errpb={type:"array",value:n,adjust:["ts"]},c.Cm(f)),t && this.groupId++));};c.prototype.uMa=function(a,b,c){var d,f,h;d=this.bP.J3(b.url);d && d.ib && d.ib.ps && d.ib.ps.Ca || Math.random(0,1);d=new g(this);f=a.split("?");h="random=" + parseInt(1E7 * Math.random(),10);d.bKb(1 < f.length?a + "&" + h:a + "?" + h,b,c);return d;};c.prototype.LMb=function(a,b){var c,d,f,h,l,g,m,n;c=this.bP;d=this.config;f=b.Zb;h=this.hx[f];g=a.url;m=this.sB[a.Zb + "-" + f];if(h && (l=h.error,m)){m && m.ao && clearTimeout(m.ao);m.ia=!0;m.count=0;m.y5=void 0;h.jqa[a.Zb]=!0;(m=this.hx[a.Zb]) && !0 === m.ly && d.Bw && (c.E_a(a.Zb,m.error.jV[1]),this.bD && (m={type:"logdata",target:"endplay",fields:{}},m.fields.errst={type:"array",value:{ts:k.time.aa(),id:a.requestId,servid:b.Zb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Cm(m)),this.hx[a.Zb]=void 0,this.wq());if(g !== b.url){n=this.sB[f + "-" + f];n && n.ia || (f=(f=c.J3(g)) && f.ib && f.ib.ps && f.ib.ps.Ca || Math.random(0,1) * d.T3,f=Math.min(f,d.T3),setTimeout((function(){var d;if(!(!1 !== h.ly || n && n.ia) && (h.ly=!0,c.Rq(l.jV[0],l.jV[1],b.url,l),this.bD)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:k.time.aa(),id:a.requestId,servid:b.Zb,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.Cm(d);}}).bind(this),f));}this.bD && (m={type:"logdata",target:"endplay",fields:{}},m.fields.pbres={type:"array",value:{ts:k.time.aa(),id:a.requestId,result:1,servid:a.Zb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Cm(m));}};c.prototype.IMb=function(a,b){var c,d,f,h,g,m,n,I,p,D;c=this.bP;d=parseInt(b.Zb,10);f=this.hx[d];h=parseInt(a.Zb,10);g=this.sB[h + "-" + d];m=0;p=this.config;if(g && f){g.ia=!1;g.y5=void 0;f.jqa[h]=!1;I=f.Tra;if(p.Bw && h === d && b.isPrimary){D=c.J3(b.url);D=D && D.ib && D.ib.ps && D.ib.ps.Ca || 300 * Math.random(0,1);D=D * Math.pow(2,g.count);D=Math.min(D,12E4);D=D + Math.random(0,1) * (1E4 > D?100:1E4);g.ao=setTimeout((function(){var c;g.ao=void 0;c=this.uMa(a.url,b,h);c.dRb(a.groupId);g.y5=c.Bk();}).bind(this),D);}++g.count;h === d && (m=0,I.forEach(function(a){!1 === f.jqa[a] && m++;}),I.length === m && f.count >= p.X3 && (n=f.error,f.ly=!0,l.forEach(c.b2a(b.url).Ge,function(a){var b;c.Rq(n.jV[0],n.jV[1],a.url,n);if(this.bD){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:k.time.aa(),id:-1,servid:a.Nc.id},adjust:["ts"]};c.Cm(b);}},this)));this.bD && (d={type:"logdata",target:"endplay",fields:{}},d.fields.pbres={type:"array",value:{ts:k.time.aa(),id:a.requestId,result:0,servid:a.Zb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Cm(d));}};c.prototype.o7=function(a){var b,c,d;b=a.url || a.mediaRequest.url;if(b){a=this.bP;b=a.A0a(b);c=this.hx[b];d=this.sB[b + "-" + b];c && c.ly && this.config.Bw && (a.E_a(c.error.RIa,!1),this.bD && (c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:k.time.aa(),id:-1,servid:b},adjust:["ts"]},a.Cm(c)),this.hx[b]=void 0,d && d.ao && clearTimeout(d.ao));}};c.prototype.reset=function(){var a,b,c;a=this.sB;for(c in a){a.hasOwnProperty(c) && (b=a[c + "-" + c]) && b.ao && clearTimeout(b.ao);}this.sB={};this.hx={};};d.exports=c;},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Lua=void 0;c=a(0);l=a(16);k=c.__importDefault(a(3))["default"].Kt;d=(function(a){function b(b){var c;c=a.call(this) || this;c.vHa=b;c.XY=b.groupId;c.dg=new l.qg();c.dg.on(c,k.he.ZN,c.gP);c.dg.on(c,k.he.BC,c.oI);return c;}c.__extends(b,a);b.prototype.bKb=function(a,b,c){k.prototype.open.call(this,a,b,c);};b.prototype.dRb=function(a){this.XY=a;};Object.defineProperties(b.prototype,{groupId:{get:function(){return this.XY;},enumerable:!1,configurable:!0}});b.prototype.cc=function(){this.dg && this.dg.clear();k.prototype.cc.call(this);};b.prototype.gP=function(a){this.vHa.LMb(a.probed,a.affected);this.cc();};b.prototype.oI=function(a){this.vHa.IMb(a.probed,a.affected);this.cc();};return b;})(k);b.Lua=d;},function(d,b,a){var c,l,k,g,f,h,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.$xa=void 0;c=a(0);l=a(140);k=a(406);g=a(17);f=c.__importDefault(a(3));d=a(93);h=a(409);q=a(5);u=a(121);a=(function(a){function b(b,c,d,f,h,k,l,g,m,q,r){var v;v=a.call(this,b) || this;v.Ec=b;v.G=c;v.H=d;v.Cm=f;v.vA=k;v.e3=l;v.Oh=g;v.NHa=m;v.yg=q;v.KGa=[void 0,void 0];v.Hea=[];v.TO=null !== r && void 0 !== r?r:{St:[Object.create(null),Object.create(null)]};h?v.KR=h:(v.Og=u.fo.yf.Rr("headers","" + v.Ec.fa,!0,!1,{},v.H),v.Og.$a());return v;}c.__extends(b,a);Object.defineProperties(b.prototype,{St:{get:function(){return this.TO.St;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{iz:{get:function(){return this.TO.iz;},set:function(a){this.TO.iz=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{QH:{get:function(){return this.TO.QH;},set:function(a){this.TO.QH=a;},enumerable:!1,configurable:!0}});b.prototype.cc=function(){var a;a=this;this.St.forEach(function(b,c){for(var d in b){b[d].cc();a.Yha(c,d);}});this.Og && u.fo.yf.wJ(this.Og);this.Og=void 0;};b.prototype.Jj=function(a,b){return this.St[a][b];};b.prototype.w2=function(){return !(!this.iz || !this.iz.length);};b.prototype.Jga=function(){this.iz=void 0;};b.prototype.jM=function(a){this.iz=a;};b.prototype.rta=function(){var a,b;if(!this.w2() || this.QH)return !1;for(l.Ql.ep(1);0 < this.iz.length;){a=this.iz.shift();b=this.Ec.hs(1,a);if(b && !this.rBb(a) && b.ss)return (this.QH=a,this.k7(b,{offset:0,pM:!0}));}return !1;};b.prototype.Hta=function(a,b){var c;c=this;b.forEach(function(b){var d;d=c.Jj(a,b.Da);d && !b.pe && (d.stream.pe?b.a0(d.stream):(d.qT || (d.qT=[]),d.qT.push(c.Ec)));});};b.prototype.QL=function(a,b,c){var d,f,k;d=this;k=this.Ec;g.ie.forEach(function(f){var l,g,m,r,u;if(k.Mb(f) && (void 0 === c || f === c)){r=a[f];q.assert(r && k.getTrackById(r.Xa) === r);r=r.md;if(k.fj)d.G.warn("requestHeadersFromManifest, shutdown detected");else if(k.vl.MM(k.fa,r)){u=null !== (m=null === (g=null === (l=d.vA(f)) || void 0 === l?void 0:l.OE) || void 0 === g?void 0:g.U) && void 0 !== m?m:0;l=h.kja(r,u);void 0 === l && d.G.warn("Unable to find stream for bitrate " + u);l=r[l];(g=k.Jj(f,l.Da)) && g.stream.$?k.PVb(f,g):(f={offset:0,pM:!1,gA:1 === f,ou:!0,hL:!d.e3(k)},k.qMa(l,f,b));}else d.G.warn("requestHeadersFromManifest, unable to update urls");}});k.C2=!0;null === (f=this.yg) || void 0 === f?void 0:f.call(this,k.qb).D_();};b.prototype.oG=function(a,b){var c,d,h,k;c=this.H;d=this.Jj(a.I,a.Da);if(d)return (d.stream.$ || d.pM && this.qLa(d),!1);d=this.vfb;h=this.wfb;if(void 0 !== c.xoa && void 0 !== d && void 0 !== h){k=f["default"].time.aa();if(k - d < c.xoa || k - h < c.xoa)return !1;}a=this.k7(a,{url:a.url,offset:0},void 0,void 0,b);this.wfb=f["default"].time.aa();return a;};b.prototype.k7=function(a,b,d,f,h){var k,g,m,r,u;m=a.I;l.Ql.ep(m);r=a.Da;if(this.Odb(r,! !b.ou))return (null === (k=this.NHa) || void 0 === k?void 0:k.call(this),!1);if(k=this.Jj(m,r))a=!1;else {k=c.__assign(c.__assign({},b),{ba:this.Aeb(a)});r=! !k.gA;u=! !k.hL;this.KR?h=this.KR(m,! !k.ou,r,u,! !d):h || (h=this.Og);q.assert(h);a.url && (this.vA(m).fna=a.url);k=a=this.Uca(a,h,k);if(!a.Tu())return (this.Ec.Fg("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);a=!0;}b.ou && f && (this.Ec.Ag[m]=k);null === (g=this.NHa) || void 0 === g?void 0:g.call(this);return a;};b.prototype.$q=function(){var a,b;a=this;b=[];this.St.forEach(function(c,d){var h;l.Ql.ep(d);for(var f in c){d=c[f];h=d.u7();1 === h?b.push(d):2 === h && a.Ec.Fg("swapUrl failure");}});return b;};b.prototype.Oj=function(a){var b,c;b=a.I;c=l.Ql.ep(b);this.Ec.fj?c.warn("header onrequestcomplete ignored, session shutdown:",a.toString()):(this.Cm({type:"logdata",target:"startplay",fd:{usedNativeDataView:a.KWb}}),a.a5 > a.eKb && (this.KGa[b]=a.a5),a.pM && this.qLa(a),this.dfb(a),this.vfb=f["default"].time.aa(),this.Ec.IA.emit("onHeaderRequestComplete",a));this.ds(a);};b.prototype.a_=function(a,b,c){var d;d=a.I;l.Ql.ep(d);d=this.Ec.hs(d,a.Da);if(b !== ! !a.xk)return !1;this.xIa(a);a.Gjb(d);this.lFa(a);this.Ec.IA.emit("onHeaderFromCache",{xq:a,Zvb:c});return !0;};b.prototype.KP=function(a,b){var c,d,f,h;c=[];d=this.St[a];for(f in d){h=d[f];h && !h.stream.$ && h.Cl === b && (this.Yha(a,f),c.push({stream:h.stream,offset:h.offset,ba:h.ba,gA:h.gA,ou:h.ou,hL:h.hL,vpa:h.vpa}),h.cc());}return c;};b.prototype.X5=function(a){var b;b=this;a.forEach(function(a){b.k7(a.stream,a);});};b.prototype.xIa=function(a){this.St[a.I][a.Da]=a;};b.prototype.rBb=function(a){return ! !this.Jj(1,a);};b.prototype.dfb=function(a){var b,c,d,f,k;b=this.H;c=l.Ql.ep(a.I);d=a.stream.$;if(b.Jha){f=d.length;c.trace("fragment count:",f);for(var h=0;h < f;++h){k=d.get(h);c.trace("fragment: " + h + ", startPts: " + k.X + ", duration: " + k.duration + ", offset: " + k.offset);}}this.lFa(a);if(b.jB && b.jB.enabled && void 0 === d.UB && b.jB.simulatedFallback){f=d.length;b=[];for(h=0;h < f;++h){b[h]=Math.max(0,a.stream.rb + this.nhb(h));}d.DRb(b);}};b.prototype.lFa=function(a){var b,c;b=a.I;c=a.Da;l.Ql.ep(b);a.qT && (a.qT.forEach(function(d){(d=d.hs(b,c)) && d !== a.stream && !d.pe && d.a0(a.stream);}),a.qT=void 0);this.Ec.$Ab(a);};b.prototype.Uca=function(a,b,c){var d,f;d=this;f=l.Ql.ep(a.I);a=new k.X7(a,this.H,b,c,this,!1,f);a.addListener("headerRequestCancelled",function(a){d.cfb(a.request);});a.$a(void 0);this.xIa(a);return a;};b.prototype.Odb=function(a,b){return this.Oh && (a=this.Oh.AS(this.Ec.u,a)) && this.a_(a,!1,b)?!0:!1;};b.prototype.Aeb=function(a){var b,c,d;b=a.Ws;c=a.N;d=this.H;return c.Pe.Rf?d.e1?d.e1:d.B2:d.p4a && b?b.offset + b.size:(a=this.KGa[a.I])?a + 128:2292 + 12 * Math.ceil(c.duration / 2E3);};b.prototype.cfb=function(a){this.Yha(a.I,a.Da);};b.prototype.Yha=function(a,b){delete this.St[a][b];};b.prototype.qLa=function(a){this.QH === a.Da && (this.QH=void 0);};b.prototype.nhb=function(a){var b;b=this.H.jB.fallbackBound;void 0 === this.Hea[a] && (this.Hea[a]=Math.floor(2 * Math.random() * b) - b);return this.Hea[a];};return b;})(d.vv);b.$xa=a;},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.kDa=void 0;c=a(0);l=a(16);k=c.__importDefault(a(3))["default"].Promise;d=(function(a){function b(b,c,d,f){var h;h=a.call(this) || this;h.G=b;h.track=c;h.pn=!1;h.vda=!1;h.hg=new l.qg();h.hg.on(c,"networkfailing",function(){h.emit("networkfailing");});h.hg.on(c,"error",function(){h.G.warn("requestQueue got error");h.emit("error");});if(d)(h.pn=!0,k.resolve().then(function(){return h.emit("created");}));else h.hg.on(c,"created",function(){h.pn=!0;h.emit("created");});h.vda=f;return h;}c.__extends(b,a);Object.defineProperties(b.prototype,{d1:{get:function(){return this.track.d1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wg:{get:function(){return this.track.wg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ri:{get:function(){return this.track.ri;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jR:{get:function(){return this.track.jR;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});b.prototype.$a=function(){var a,b;this.vda || (null === (b=(a=this.track).$a) || void 0 === b?void 0:b.call(a),this.vda=!0);};b.prototype.ip=function(){return this.track.ip();};b.prototype.O5=function(){return this.track.O5();};b.prototype.toString=function(){return this.track.toString();};b.prototype.toJSON=function(){return this.track;};b.prototype.mq=function(){this.hg.clear();};return b;})(l.EventEmitter);b.kDa=d;},function(d,b,a){var q,u,r,v,A,y,n;function c(a){var b,d,f;a=a.parent;b=!1;if(a && a.children){d={};d[y.Yk]=[];d[y.Zj]=[];d[y.TEMPORARY]=[];f=a.children;f.forEach(function(a){a && d[a.Be].push(a);});0 < d[y.Yk].length || (d[y.Zj].length === f.length?a.Be !== y.Zj && (a.Be=y.Zj,A.error("PERM failing :",r["default"].Jg.name[a.jE] + " " + a.id),b=!0):(a.Be === y.Yk && (a.Be=y.TEMPORARY,A.error("TEMP failing :",r["default"].Jg.name[a.jE] + " " + a.id),b=!0),d[y.TEMPORARY].forEach(function(a){a.Be=y.Yk;})),b && c(a));}}function l(a){var c;for(var b=[];a;a=a.parent){switch(a.jE){case r["default"].Jg.KC:c=a;b.unshift(c.id + "(" + c.name + ")");break;case r["default"].Jg.Xya:b.unshift(a.id);break;case r["default"].Jg.URL:b.unshift("<url for " + a.stream.U + ">");}}return b.length?"/" + b.join("/"):"";}function k(a){var b;if((a=a.parent) && 0 < a.children.length && a.Be !== y.Yk){b={};b[y.Yk]=[];b[y.Zj]=[];b[y.TEMPORARY]=[];a.children.forEach(function(a){a && b[a.Be].push(a);});0 < b[y.Yk].length && (a.Be=y.Yk,k(a));}}function g(a){return a.Be !== y.Yk;}function f(a){switch(a.Be){case y.Yk:return "OK";case y.Zj:return "FAILED PERMANENTLY";case y.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function h(a,b){if(a.Be === y.TEMPORARY || a.Be === y.Zj && b)a.Be=y.Yk;a.children && a.children.forEach(function(a){a && h(a,b);});}Object.defineProperty(b,"__esModule",{value:!0});b.aX=void 0;q=a(0);u=q.__importStar(a(8));d=a(16);r=q.__importDefault(a(25));v=q.__importDefault(a(3));A=new v["default"].Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.Yk=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.Zj=2]="PERMANENT";})(y || (y={}));(function(a){a[a.Pv=0]="STARTUP";a[a.Jbb=1]="REBUFFER";})(n || (n={}));a=(function(a){function b(b,c,d,f,h){var b50,k;b50=2;for(;b50 !== 27;){switch(b50){case 7:k.Dn={};k.Us={};k.Ge={};k.xc={};b50=12;break;case 3:k.mgb=h;k.OMb=n.Pv;k.xs=void 0;b50=7;break;case 12:var a1g="d";a1g+="ef";a1g+="a";a1g+="ult";var k1g="d";k1g+="ef";k1g+="ault";var U1g="netwo";U1g+="r";U1g+="k";k.Rx=[];k.z4=!1;k.Hn={id:U1g,jE:r[k1g].Jg.Kv,Be:y.Yk,Xu:void 0,parent:void 0,children:k.Rx};k.gZ=null;k.cM=null;k.dM=r[a1g].JC.Pv;k.xw(b);b50=16;break;case 2:k=a.call(this) || this;k.kb=c;k.Tf=d;k.config=f;b50=3;break;case 16:var D1g="1";D1g+="SIYbZrNJC";D1g+="p9";D1g;return k;break;}}}var a50;a50=2;for(;a50 !== 25;){switch(a50){case 2:q.__extends(b,a);b.prototype.hAb=function(){var c50;c50=2;for(;c50 !== 1;){switch(c50){case 4:return this.Rx[6].ib;break;c50=1;break;case 2:return this.Rx[0].ib;break;}}};b.prototype.tka=function(){var d50;d50=2;for(;d50 !== 1;){switch(d50){case 2:return this.Rx;break;case 4:return this.Rx;break;d50=1;break;}}};b.prototype.rq=function(){var e50;e50=2;for(;e50 !== 1;){switch(e50){case 2:return g(this.Hn);break;}}};b.prototype.A0a=function(a){var f50;f50=2;for(;f50 !== 5;){switch(f50){case 2:f50=(a=this.Ge[a]) && a.parent?1:5;break;case 1:return a.parent.id;break;case 9:return a.parent.id;break;f50=5;break;}}};a50=9;break;case 9:b.prototype.J3=function(a){var g50;g50=2;for(;g50 !== 5;){switch(g50){case 1:return a.Nc.location;break;case 2:g50=(a=this.Ge[a]) && a.Nc?1:5;break;}}};b.prototype.b2a=function(a){var h50;h50=2;for(;h50 !== 5;){switch(h50){case 2:h50=(a=this.Ge[a])?1:5;break;case 3:h50=(a=this.Ge[a])?5:2;break;h50=(a=this.Ge[a])?1:5;break;case 1:return a.stream;break;}}};b.prototype.xw=function(a){var i50,b;i50=2;for(;i50 !== 11;){switch(i50){case 6:a.forEach(function(a){var s50;s50=2;for(;s50 !== 1;){switch(s50){case 2:a.Us.sort(function(a,b){var t50;t50=2;for(;t50 !== 1;){switch(t50){case 2:return a.jg - b.jg;break;case 4:return a.jg / b.jg;break;t50=1;break;}}});s50=1;break;}}});this.Rx=a;this.Hn.children=a;this.dump();i50=11;break;case 3:a.servers.forEach(function(a){var l50,c,d,f;l50=2;for(;l50 !== 6;){switch(l50){case 1:l50=!b.Us[c]?5:6;break;case 2:c=a.id;l50=1;break;case 4:l50=d?3:6;break;case 5:d=b.Dn[a.key];l50=4;break;case 3:var e1g="de";e1g+="fa";e1g+="ult";f=[];a={id:c,jE:r[e1g].Jg.KC,Be:y.Yk,Xu:void 0,parent:d,children:f,Ge:f,name:a.name,type:a.type,jg:a.rank,location:d};b.Us[a.id]=a;d.children.push(a);l50=6;break;}}});a.audio_tracks.forEach(function(a){var m50;m50=2;for(;m50 !== 1;){switch(m50){case 4:b.$Ya(a);m50=0;break;m50=1;break;case 2:b.$Ya(a);m50=1;break;}}});a.video_tracks.forEach(function(a){var n50;n50=2;for(;n50 !== 1;){switch(n50){case 2:b.$Ya(a);n50=1;break;}}});a=this.Rx.filter(function(a){var o50,c;o50=2;for(;o50 !== 4;){switch(o50){case 2:c=a.Us.every(function(a){var q50;q50=2;for(;q50 !== 1;){switch(q50){case 2:return 0 === a.Ge.length;break;}}});c && (a.Us.forEach(function(a){var r50;r50=2;for(;r50 !== 1;){switch(r50){case 2:b.Us[a.id]=void 0;r50=1;break;}}}),b.Dn[a.id]=void 0,a.parent=void 0,a.children.length=0,a.xc={});return !c;break;}}});i50=6;break;case 2:var l1g="d";l1g+="e";l1g+="fa";l1g+="ul";l1g+="t";b=this;a.locations.forEach(function(a){var j50,c,d,f,h;j50=2;for(;j50 !== 8;){switch(j50){case 2:c=a.key;j50=1;break;case 5:var H1g="d";H1g+="e";H1g+="fau";H1g+="l";H1g+="t";(d=[],f=b.Tf.get(c),h=b.Hn);a={id:c,jE:r[H1g].Jg.Xya,Be:y.Yk,jg:a.rank,level:a.level,weight:a.weight,Xu:void 0,parent:h,children:d,Us:d,xc:{},ib:f};b.Dn[a.id]=a;h.children.push(a);j50=8;break;case 1:j50=!b.Dn[c]?5:8;break;}}});this.gZ=v[l1g].time.aa();this.Rx.sort(function(a,b){var k50;k50=2;for(;k50 !== 1;){switch(k50){case 2:return a.level - b.level || a.jg - b.jg;break;}}});i50=3;break;}}};a50=6;break;case 6:b.prototype.MM=function(a,b){var u50,c,d,f,h,k,l;u50=2;for(;u50 !== 19;){switch(u50){case 5:u50=g(this.Hn)?4:3;break;case 2:var F1g="def";F1g+="a";F1g+="u";F1g+="lt";var b1g="d";b1g+="ef";b1g+="au";b1g+="l";b1g+="t";(c=this,d=this.config,f=this.kb.get(),h=0);v[b1g].Pr && v[F1g].Pr(a);u50=5;break;case 3:var n1g="d";n1g+="efa";n1g+="ul";n1g+="t";var z1g="d";z1g+="ef";z1g+="ault";k=r[z1g].$e.lC;d.bT && (k=r[n1g].$e.kC);this.kb.location && f.Pd >= k && (a=this.Dn[this.kb.location]) && (a.ib=f);u.ab(this.cM) && (this.cM=this.SVb());u50=6;break;case 4:return !1;break;case 6:u50=!this.cM?14:13;break;case 13:l=this.cM;u50=12;break;case 12:u50=!l.length?11:10;break;case 14:var m1g="d";m1g+="efa";m1g+="ul";m1g+="t";return (this.Rq(r[m1g].Jg.Kv,!1),!1);break;case 11:var v6g="d";v6g+="e";v6g+="fau";v6g+="lt";return (this.Rq(r[v6g].Jg.Kv,!1),!1);break;case 10:var f6g="d";f6g+="efa";f6g+="ul";f6g+="t";var Z6g="(emp";Z6g+="ty stre";Z6g+="a";Z6g+="m lis";Z6g+="t)";var V6g="Did";V6g+=" n";V6g+="o";V6g+="t find a URL for ANY s";V6g+="tream...";var N6g="n";N6g+="etwork";N6g+="F";N6g+="a";N6g+="iled";var y6g="Network has failed, not";y6g+=" updating";y6g+=" stream sele";y6g+="c";y6g+="tion";b.forEach(function(a,b){var v50,m;v50=2;for(;v50 !== 5;){switch(v50){case 2:var E6g=" ";E6g+="K";E6g+="bps)";var j6g=" ";j6g+="(";var A6g="]";A6g+=" ";var O6g="Fa";O6g+="ili";O6g+="ng stream [";m=a.id;l.some(function(b){var w50,c,h;w50=2;for(;w50 !== 8;){switch(w50){case 5:return !1;break;case 1:w50=!c?5:4;break;case 9:return c.nV[b.id].some(function(c){var x50,m;x50=2;for(;x50 !== 12;){switch(x50){case 1:return (c.Nc.Be === y.TEMPORARY && (a.Be=y.TEMPORARY),d.Ls && a.Nc === c.Nc.id && c.Nc.Xu && (a.Xu=c.Nc.Xu),!1);break;case 5:x50=g(c)?4:3;break;case 4:return !1;break;case 2:x50=g(c.Nc)?1:5;break;case 3:var B6g="d";B6g+="e";B6g+="fau";B6g+="lt";var c6g="d";c6g+="ef";c6g+="ault";var W6g="d";W6g+="e";W6g+="f";W6g+="a";W6g+="ult";var C6g="lo";C6g+="cationf";C6g+="ai";C6g+="lo";C6g+="ver";var i6g="se";i6g+="rverfailov";i6g+="er";var g6g="pe";g6g+="rf";g6g+="ormance";var M6g="d";M6g+="e";M6g+="fa";M6g+="ul";M6g+="t";var p6g="d";p6g+="efa";p6g+="u";p6g+="lt";var s6g="u";s6g+="nk";s6g+="no";s6g+="w";s6g+="n";m=s6g;a.location !== b.id && (d.Ls?a.Nma=b.id === h.id:m=b !== l[0]?"" + r[p6g].JC.e8:void 0 === a.location?"" + r[M6g].JC.Pv:u.Y(a.ZTa) || a.ZTa === b.id?u.Y(a.aUa) || a.aUa === c.Nc.id?g6g:i6g:C6g,a.location=b.id,a.tna=b.level,a.Vq=m);a.url=c.url;a.Nc=c.Nc.id;a.NF=c.Nc.name;a.ib=d.Sfa?b.ib.Pd >= r[W6g].$e.kC || f.Pd < k?b.ib:f:f.Pd === r[c6g].$e.HAVE_NOTHING || b.ib.Pd >= r[B6g].$e.kC?b.ib:f;return !0;break;}}});break;case 2:c=b.xc[m];w50=1;break;case 4:h=c.Dn[0];void 0 === a.v5 && (a.v5=h.id,a.gqa=c.nV[h.id][0].Nc.id);w50=9;break;}}})?(a.FA=!1,a.Be=void 0,a.Cu && ++h):a.Be && a.Be === y.TEMPORARY?c.Hn.Be=y.TEMPORARY:a.FA || (A.warn(O6g + b + A6g + m + j6g + a.U + E6g),a.ynb(),a.FA=!0);v50=5;break;}}});return g(this.Hn)?(A.warn(y6g),this.z4=!0,this.emit(N6g,this.Hn.Be === y.Zj),!1):h?!0:(A.warn(V6g + (b.length?"":Z6g)),this.Rq(r[f6g].Jg.Kv,!0),!1);break;}}};b.prototype.LQb=function(a,b){var y50,c,d;y50=2;for(;y50 !== 4;){switch(y50){case 2:(c={},d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);u.forEach(this.Ge,function(f,h){var z50,g,m,l,k;z50=2;for(;z50 !== 8;){switch(z50){case 4:var d6g="8";d6g+="0";var G6g="4";G6g+="4";G6g+="3";(g="s" === l[1],m=l[2],l=l[3]);l.length || (l=g?G6g:d6g);u.gf(m) && u.gf(l) && m === a && l == b && (k?k.push(h):c[f]=[h]);z50=8;break;case 5:z50=l && 4 === l.length?4:8;break;case 2:f=f.parent?f.parent.id:"";(k=c[f],l=h.match(d));z50=5;break;}}});return c;break;}}};b.prototype.Rq=function(a,b,d,h){var A50,B50,k,m,q;A50=2;for(;A50 !== 25;){switch(A50){case 6:k.Be=q;c(k);this.z4=this.z4 || g(this.Hn);a=this.Hn.Be;A50=11;break;case 5:k=k.parent;A50=1;break;case 4:A50=k?3:26;break;case 19:var q6g="de";q6g+="fa";q6g+="ult";h && (this.dM=r[q6g].JC.ubb,k.Xu=h);this.dump();A50=25;break;case 3:A50=q !== k.Be?9:25;break;case 27:var X6g="Invalid ";X6g+="fai";X6g+="lure sta";X6g+="te";throw Error(X6g);A50=6;break;case 8:B50=k.Be;A50=B50 === y.Zj?7:17;break;case 1:A50=k && k.parent && k.jE !== a?5:4;break;case 11:var J6g="de";J6g+="f";J6g+="a";J6g+="u";J6g+="lt";var P6g="ne";P6g+="two";P6g+="rkF";P6g+="a";P6g+="iled";var h6g="Em";h6g+="itting netwo";h6g+="rkFailed, perma";h6g+="nent =";a > m && (A.warn(h6g,a === y.Zj),this.emit(P6g,a === y.Zj));this.cM=null;this.dM=r[J6g].JC.ERROR;A50=19;break;case 2:var T6g="d";T6g+="e";T6g+="faul";T6g+="t";(k=a !== r[T6g].Jg.Kv && d?this.Ge[d]:this.Hn,m=this.Hn.Be,q=b?y.Zj:y.TEMPORARY);A50=1;break;case 7:return;break;case 17:A50=B50 === y.TEMPORARY?6:16;break;case 16:A50=B50 === y.Yk?6:15;break;case 15:A50=27;break;case 9:var R6g=" ";R6g+=":";R6g+=" w";R6g+="a";R6g+="s ";var w6g=" a";w6g+="t";w6g+=" ";var S6g="d";S6g+="ef";S6g+="a";S6g+="ult";var K6g=" fai";K6g+="lure";K6g+=" repo";K6g+="rt";K6g+="ed for ";var r6g="T";r6g+="E";r6g+="M";r6g+="P";var Y6g="P";Y6g+="E";Y6g+="R";Y6g+="M";A.warn((b?Y6g:r6g) + K6g + r[S6g].Jg.name[a] + w6g + l(k) + R6g + f(k));A50=8;break;case 26:var u6g="Unable ";u6g+="to find failur";u6g+="e entity f";u6g+="or URL ";a000.T9b(1);A.warn(a000.P9b(d,u6g));A50=25;break;}}};a50=12;break;case 19:b.prototype.Tb=function(){var G50;G50=2;for(;G50 !== 1;){switch(G50){case 2:this.config.uFb && this.eLb();G50=1;break;}}};b.prototype.$Ya=function(a){var H50,b;H50=2;for(;H50 !== 5;){switch(H50){case 2:b=this;a.streams.forEach(function(a){var I50,c,d,f;I50=2;for(;I50 !== 7;){switch(I50){case 2:(c=a.downloadable_id,d=b.xc[c]);I50=1;break;case 3:a.urls.forEach(function(a){var J50,c,f,h;J50=2;for(;J50 !== 14;){switch(J50){case 2:(c=a.url,f=b.Ge[c]);J50=1;break;case 5:var Q6g="def";Q6g+="au";Q6g+="lt";(h=a.location,f={id:c,jE:r[Q6g].Jg.URL,Be:y.Yk,Xu:void 0,parent:a,children:[],url:c,Nc:a,stream:d});b.Ge[c]=f;a.children.push(f);d.Ge.push(f);0 === d.Dn.filter(function(a){var K50;K50=2;for(;K50 !== 1;){switch(K50){case 2:return a.id === h.id;break;}}}).length && d.Dn.push(h);J50=7;break;case 1:J50=u.Y(f) && (a=b.Us[a.cdn_id])?5:14;break;case 7:h.xc[d.id]=d;(c=d.nV[h.id])?c.push(f):d.nV[h.id]=[f];J50=14;break;}}});u.me(d.nV,function(a){var L50;L50=2;for(;L50 !== 1;){switch(L50){case 2:a.sort(function(a,b){var M50;M50=2;for(;M50 !== 1;){switch(M50){case 2:return a.Nc.jg - b.Nc.jg;break;}}});L50=1;break;}}});d.Dn=d.Dn.sort(function(a,b){var N50;N50=2;for(;N50 !== 1;){switch(N50){case 2:return a.level - b.level || a.jg - b.jg;break;}}});I50=7;break;case 5:var o6g="n";o6g+="o";o6g+="ne";o6g+="-";(f=a.content_profile,d={id:c,U:a.bitrate,rb:a.vmaf,type:a.type,profile:f,clear:0 === f.indexOf(o6g),Cu:!0,Ge:[],nV:{},Dn:[]});I50=4;break;case 1:I50=u.Y(d)?5:3;break;case 4:b.xc[d.id]=d;I50=3;break;}}});H50=5;break;}}};b.prototype.SVb=function(){var O50,a,b,c,d;O50=2;for(;O50 !== 13;){switch(O50){case 2:(a=this,b=this.config,c=this.Rx.filter(function(a){var P50;P50=2;for(;P50 !== 1;){switch(P50){case 4:return +g(a) || 1 == a.level;break;P50=1;break;case 2:return !g(a) && 0 !== a.level;break;}}}));O50=1;break;case 4:var x6g="de";x6g+="f";x6g+="au";x6g+="lt";d=v[x6g].time.aa();O50=3;break;case 5:return null;break;case 9:(c.forEach(function(b){var Q50;Q50=2;for(;Q50 !== 1;){switch(Q50){case 2:b.id !== a.kb.location && (b.ib=a.Tf.get(b.id));Q50=1;break;}}}),this.gZ=d);O50=8;break;case 3:O50=null === this.gZ || this.gZ + b.sna < d?9:8;break;case 1:O50=0 === c.length?5:4;break;case 8:b=this.dM;c.sort(function(a,b){var R50;R50=2;for(;R50 !== 1;){switch(R50){case 2:return a.level - b.level || a.jg - b.jg;break;}}});this.xs || u.ab(b) || (this.xs=!0);return c;break;}}};a50=16;break;case 12:b.prototype.E_a=function(a,b){var C50;C50=2;for(;C50 !== 3;){switch(C50){case 2:C50=(a=this.Us[a])?1:5;break;case 5:var I6g="d";I6g+="ef";I6g+="aul";I6g+="t";this.cM=null;this.dM=r[I6g].JC.taa;C50=3;break;case 8:C50=(a=this.Us[a])?7:7;break;C50=(a=this.Us[a])?1:5;break;case 1:(h(a,b),k(a));C50=5;break;}}};b.prototype.S5=function(){var D50;D50=2;for(;D50 !== 1;){switch(D50){case 4:h(this.Hn,~9);D50=3;break;D50=1;break;case 2:h(this.Hn,!1);D50=1;break;}}};b.prototype.Cm=function(a){var E50,b;E50=2;for(;E50 !== 5;){switch(E50){case 2:null === (b=this.mgb) || void 0 === b?void 0:b.call(this,a);E50=5;break;}}};b.prototype.Ik=function(){var F50;F50=2;for(;F50 !== 1;){switch(F50){case 2:this.aPb(n.Jbb);F50=1;break;}}};a50=19;break;case 16:b.prototype.aPb=function(a){var S50,b;S50=2;for(;S50 !== 3;){switch(S50){case 5:this.OMb=a;this.Rx.forEach(function(a){var T50;T50=2;for(;T50 !== 1;){switch(T50){case 2:var L6g="d";L6g+="e";L6g+="f";L6g+="au";L6g+="lt";var t6g="de";t6g+="f";t6g+="a";t6g+="u";t6g+="lt";a.id !== b && a.ib && a.ib.Pd > r[t6g].$e.lC && (a.ib.Pd=r[L6g].$e.lC);T50=1;break;}}});S50=3;break;case 2:b=this.kb.location;this.xs=!1;S50=5;break;}}};b.prototype.eLb=function(){var U50,a;U50=2;for(;U50 !== 5;){switch(U50){case 2:a=this;this.z4 || this.Rx.forEach(function(b){var V50;V50=2;for(;V50 !== 1;){switch(V50){case 2:var U6g="de";U6g+="f";U6g+="a";U6g+="ult";b.Be === y.TEMPORARY && a.Tf.fail(b.id,v[U6g].time.aa());V50=1;break;}}});U50=5;break;}}};b.prototype.dump=function(){};return b;break;}}})(d.EventEmitter);b.aX=a;},function(d,b,a){var c,l,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.ADa=void 0;d=a(0);c=a(172);l=a(173);k=d.__importDefault(a(25));g=a(21);a=(function(){function a(a,b){this.H=a;this.G=b;this.Qda=this.Lda=this.Vv=g.S.lb;this.iZ=this.hZ=void 0;this.ik=this.G.trace.bind(this.G);this.Woa=new f(a,b);}a.prototype.eU=function(a,b,c,d,f,h,l,m,n,p){var q,r,u,v,A,y,B,J;q=!1;a=a === k["default"].Ta.AUDIO && ! !b.xa && this.Phb(b.stream);r=g.S.lb;u=b.console;if(a){v=b.stream.wa;A=this.Teb(b.profile,v);y=this.Ueb(b.profile,v);B=b.Xs + b.Nn;if(b.mp)(q=new g.S(b.sa - B,1E3),(q=this.Vv.add(q).ql(A)) || !l || this.sdb(b,l) || (n=l.Xs + l.Nn,b=new g.S(B - (b.sa - 1E3 * v.ub / v.R),1E3),n=new g.S(n - l.X,1E3),this.Vv.Fa(b).add(n).olb(y,A) && (q=!0)));else if(void 0 !== c){J=b.Qj;new g.S(B - b.X,1E3);l=this.Vv.add(c.Fa(J)).Fa(this.Woa.urb);if(J.add(v).QE(c) || l.ql(A))(q=!0,J.add(v),l=l.Fa(v));A=y.Fa(g.S.zl.dF(2));l.I4(this.Vv) && l.lessThan(A)?(q=a=!1,this.Woa.reset(),this.Vv=g.S.lb,A=d.add(f),n(A),u.error("Unexpected seamless audio sync " + l.toString() + " at content pts " + b.Qb + " in stream " + b.stream.Da + " following " + h.Pb)):(A=d.add(l).add(f),A=this.Woa.round(b,m,A,q),n(A),l.I4(this.Vv) && (this.Lda=g.S.max(this.Lda,l),this.Qda=g.S.min(this.Qda,l),p(this.Lda,this.Qda),r=l.Fa(this.Vv),this.Vv=l));}}return {eU:a,sia:q,Gfa:r};};a.prototype.Phb=function(a){void 0 === this.xP && (this.xP=l.ifa(this.H,a));return this.xP;};a.prototype.Teb=function(a,b){void 0 === this.hZ && ("object" === typeof this.H.XL && this.H.XL[a]?(a=new g.S(this.H.XL[a],1E3).Fe(b.R).add(new g.S(1,b.R)),this.hZ=g.S.min(b,a)):this.hZ=b);return this.hZ;};a.prototype.Ueb=function(a,b){var c;if(void 0 === this.iZ)if("object" === typeof this.H.YL && this.H.YL[a]){c=new g.S(-Math.floor(b.da / 2),b.R);a=new g.S(this.H.YL[a],1E3).Fe(b.R).Fa(new g.S(1,b.R));this.iZ=g.S.max(c,a);}else this.iZ=new g.S(-12,1E3);return this.iZ;};a.prototype.sdb=function(a,b){return a.Qb <= b.Qb && a.Pb >= b.Qb && a.stream.track.equals(b.stream.track);};return a;})();b.ADa=a;f=(function(){function a(a,b){this.H=a;this.G=b;this.Bz=0;}Object.defineProperties(a.prototype,{urb:{get:function(){return g.S.zl.dF(this.Bz);},enumerable:!1,configurable:!0}});a.prototype.round=function(a,b,c,d){this.H.Rs || (a=this.Kdb(a,c,d),b=b.Fa(a),b.ql(g.S.zl.dF(2))?(c=c.Fa(g.S.zl),++this.Bz):b.lessThan(g.S.lb)?(c=c.add(g.S.zl),--this.Bz):0 < this.Bz && b.lessThan(g.S.zl)?(c=c.add(g.S.zl),--this.Bz):0 > this.Bz && b.greaterThan(g.S.zl) && (c=c.Fa(g.S.zl),++this.Bz));return c;};a.prototype.reset=function(){this.Bz=0;};a.prototype.Kdb=function(a,b,d){var f;f=a.xh;this.H.$i && a.stream.Bd && (f=f.Fa(a.stream.Bd));d && (f=f.add(a.stream.wa));return c.op(f).add(c.op(b));};return a;})();},function(d,b,a){var c,l,k,g,f,h,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.pAa=void 0;c=a(21);l=a(5);k=a(410);g=a(898);f=a(899);h=a(900);q=a(901);u=a(902);d=(function(){function a(a,b,c,d){this.config=a;this.I=b;this.Yb=c;this.console=d;}a.prototype.append=function(a,b){var d,f,h,k;f=b.endOfStream;h=b.h4;k=b.Joa;void 0 === this.track?this.tK(a.stream):this.track !== a.stream.track && (l.assert(this.track.wa),l.assert(a.stream.track.wa),l.assert(1 === this.I || this.track.wa.equal(a.stream.track.wa)),this.track=a.stream.track);l.assert(void 0 !== this.hu);b={Sd:a,offset:null !== (d=a.B5) && void 0 !== d?d:c.S.lb};b=this.hu.reduce(function(a,b){return b.append(a,{endOfStream:f,h4:h,Joa:k});},b);d=b.Sd;b=b.offset;d.xa && a.bi(d.xa);return b;};a.prototype.reset=function(){this.hu=this.track=void 0;};a.prototype.tK=function(a){var b,d;this.track=a.track;this.hu=[];if(0 === this.I){this.hu.push(new f.zDa(this.config,a.track,this.console));d=this.F_(a);d.equal(c.S.lb)?this.config.$i && a.Bd && this.Y2(a.N.fa) && this.hu.push(new u.Mya(this.config)):this.hu.push(new k.KX(d));this.config.g4 || (this.console.log("MediaSplicer: NegativePtsGuard: " + d.Ad() + ", " + ("" + (null === (b=a.Bd) || void 0 === b?void 0:b.Ad()))),this.hu.push(new h.FAa(this.config,a,this.console)));this.yDb() && (this.hu.push(new g.MAa(this.config,a,this.console)),this.fSb(a) && (l.assert(a.wa),this.hu.push(this.mob(a.Bd || c.S.lb,a.wa,d))));}};a.prototype.Y2=function(a){return this.config.Y2 || this.config.Z2 && -1 !== this.config.Z2.indexOf(a);};a.prototype.F_=function(a){return k.KX.F_(this.config,a.Bd,this.Yb,this.console);};a.prototype.yDb=function(){return !this.config.Rs;};a.prototype.fSb=function(a){return this.config.pVb && this.config.$i && ! !a.Bd;};a.prototype.mob=function(a,b,c){return new q.NEa(a.Fa(c),b,this.console);};return a;})();b.pAa=d;},function(d,b,a){var l,k,g,f;function c(a){return a.toString() + " (nrdp: " + a.JF + "ms)";}Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;l=a(21);k=a(172);g=a(19);f=a(5);d=(function(){function a(a,b,c){this.console=c;this.offset=l.S.lb;this.Bd=a.$i?b.Bd:void 0;f.assert(b.wa);this.wa=b.wa;}a.prototype.append=function(a){var b,c;b=a.Sd;c=a.offset;void 0 !== this.WTa && (f.assert(void 0 !== this.Uma),b.xh.add(a.offset).equal(this.WTa)?(a=this.jmb(b,c.add(this.offset)).da - this.Uma,0 > a?this.offset=this.offset.add(l.S.zl):0 === a?this.offset.lessThan(l.S.lb) && (this.offset=this.offset.add(l.S.zl)):1 === a?this.offset.greaterThan(l.S.lb) && (this.offset=this.offset.Fa(l.S.zl)):this.offset=this.offset.Fa(l.S.zl)):this.offset=l.S.lb);this.Uma=this.imb(b,c.add(this.offset)).da;this.WTa=b.jm.add(c);return {Sd:b,offset:c.add(this.offset)};};a.prototype.jmb=function(a,b){var d,f;a=this.OIa(a.xh);d=k.op(a).add(k.op(b));f=a.add(b).Fa(d);g.ma && this.console.trace("NrdpRounding: content start " + c(a) + ", timestamp offset: " + c(b) + ", start rounding error: " + k.op(a).toString() + ", offset rounding error: " + k.op(b).toString() + ", total error: " + d.toString() + ", expected nrdp value:" + f.Ad() + ", (" + a.JF + b.JF + "ms), last fragment end nrdp: " + this.Uma);return f;};a.prototype.imb=function(a,b){var d,f,h;d=this.wa;a=this.OIa(a.jm);f=k.op(a.Fa(d)).add(k.op(d)).add(k.op(b));h=a.add(b).Fa(f);g.ma && this.console.trace("NrdpRounding: content end: start of last frame:" + c(a.Fa(d)) + ", frame duration: " + c(d) + ", offset: " + c(b) + ", timestamp rounding error: " + k.op(a.Fa(d)).toString() + ", frame duration rouding error: " + k.op(d).toString() + ", offset rounding error: " + k.op(b).toString() + ", total rounding error: " + f.toString() + ", expected nrdp value: " + h.Ad() + ", (" + a.Fa(d).JF + d.JF + b.JF + "ms)");return h;};a.prototype.OIa=function(a){return this.Bd?a.Fa(this.Bd):a;};return a;})();b.MAa=d;},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.zDa=void 0;c=a(21);l=a(5);k=a(19);d=(function(){function a(a,b,d){this.config=a;this.console=d;this.cu=c.S.lb;l.assert(b.wa);this.wa=b.wa;a=b.md[0].profile;this.XS=this.$yb(a,this.wa);this.a4=this.Vyb(a,this.wa);}a.prototype.append=function(a,b){var d,f,h;f=a.Sd;a=a.offset;h=b.h4;b=b.Joa;!f.mp || null !== (d=f.xa) && void 0 !== d && d.start?this.Apa && (d=this.GHb(f,this.Apa),f.xa && this.Jfa(d)?(f.WQ(1),this.cu=d):(this.cu=d.add(this.wa),this.WJa(this.cu) || (k.ma && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + f.Qj.Ad() + " error would be " + this.cu.Ad() + " (editing " + (f.xa?"":"not ") + "allowed)"),this.cu=c.S.lb)),this.Apa=void 0):(l.assert(h,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),f.xa && (d=this.HHb(f,h,b),d.ql(this.XS) && f.tia(1)));f.mp && (l.assert(h,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),this.Apa=h);l.assert(this.WJa(this.cu));this.Yma=f.vi;return {Sd:f,offset:a.add(this.cu)};};a.prototype.HHb=function(a,b,c){var d;c?d=this.cu.add(a.vi.Fa(c)).Fa(this.wa):(d=a.vi.Fa(b),d=this.cu.add(d).Fa(this.wa));k.ma && this.console.trace("SeamlessAudio: fragment end: " + a.vi.Ad() + ", splice " + b.Ad() + ", next start " + (null === c || void 0 === c?void 0:c.Ad()) + ", error " + d.add(this.wa).Ad() + ", error with frame drop " + d.Ad() + ", is" + (this.Jfa(d)?"":" not") + " within bounds of [" + this.XS.Ad() + " and " + this.a4.Ad() + ")");return d;};a.prototype.GHb=function(a,b){var c;l.assert(this.Yma);c=this.cu.add(this.Yma.Fa(a.Qj)).Fa(this.wa);k.ma && this.console.trace("SeamlessAudio: fragment start: " + a.Qj.Ad() + ", splice " + b.Ad() + ", last fragment end: " + this.Yma.Ad() + ", error " + c.add(this.wa).Ad() + ", error with frame drop " + c.Ad() + ", is" + (this.Jfa(c)?"":" not") + " within bounds of [" + this.XS.Ad() + " and " + this.a4.Ad() + ")");return c;};a.prototype.Jfa=function(a){return a.lessThan(this.a4) && a.ql(this.XS);};a.prototype.WJa=function(a){return a.lessThan(this.a4.add(c.S.zl)) && a.ql(this.XS.Fa(c.S.zl));};a.prototype.Vyb=function(a,b){return "object" === typeof this.config.XL && void 0 !== this.config.XL[a]?(a=new c.S(this.config.XL[a],1E3).Fe(b.R).add(new c.S(1,b.R)),c.S.min(b,a)):b;};a.prototype.$yb=function(a,b){var d;if("object" === typeof this.config.YL && void 0 !== this.config.YL[a]){d=b.So(-2);a=new c.S(this.config.YL[a],1E3).Fe(b.R).Fa(new c.S(1,b.R));return c.S.max(d,a);}return new c.S(-12,1E3);};return a;})();b.zDa=d;},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.FAa=void 0;c=a(21);l=a(5);k=a(19);d=(function(){function a(a,b,d){var f;this.console=d;this.YT=!1;l.assert(b.wa,"NegativePtsGuard: stream.frameDuration must exist.");this.wa=b.wa;this.$i=a.$i;this.Bd=null !== (f=b.Bd) && void 0 !== f?f:c.S.lb;}a.prototype.append=function(a){var b,d,f;if(this.YT)return a;b=a.Sd;a=a.offset;if(b.xa){d=b.xh.Fa(this.$i?this.Bd:c.S.lb).add(a);if(d.lessThan(c.S.lb)){f=Math.ceil(d.dF(-1).So(this.wa));k.ma && this.console.trace("NegativePtsGuard: dropping " + f + " frames on first fragment to avoid nagative pts, " + ("profile offset " + this.Bd.Ad() + ", ") + ("request content start " + b.xh.Ad() + ", ") + ("current timestamp offset " + a.Ad() + " => ") + ("firstPlatformTimestamp " + d.Ad() + "."));b.WQ(f);}}this.YT=!0;return {Sd:b,offset:a};};return a;})();b.FAa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.NEa=void 0;c=a(19);d=(function(){function a(a,b,c){this.Bd=a;this.wa=b;this.console=c;}a.prototype.append=function(a,b){var d,h,k;d=a.Sd;a=a.offset;h=b.endOfStream;b=b.h4;if(h && b){h=d.xh.Fa(this.Bd).add(a);k=d.jm.Fa(this.Bd).add(a);c.ma && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + h.Ad() + "-" + k.Ad() + " vs media splice point at " + b.Ad());k.ql(b.add(this.wa)) && (b=Math.floor(k.Fa(b).So(this.wa)),d.xa?(c.ma && this.console.trace("TruncateEndOfStreamAudio: drop " + b + " frames"),d.tia(b)):(c.ma && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),d.utb()));}else h && c.ma && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");return {Sd:d,offset:a};};return a;})();b.NEa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mya=void 0;d=(function(){function a(a){this.YT=!1;this.rSb=a.dTa;}a.prototype.append=function(a){a.Sd.xa && (a.Sd.uRb(this.YT?0:this.rSb),this.YT=!0);return a;};return a;})();b.Mya=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.eDa=void 0;d=a(0);c=d.__importDefault(a(25));l=d.__importDefault(a(904));a=(function(){function a(a){this.LZ=[];this.LZ[c["default"].Ta.VIDEO]=new l["default"](a,c["default"].Ta.VIDEO);this.LZ[c["default"].Ta.AUDIO]=new l["default"](a,c["default"].Ta.AUDIO);}a.prototype.ujb=function(a,b,c){this.LZ[a].add(b,c);};a.prototype.jAb=function(){var a;a=[];this.LZ.forEach(function(b){var c;if(b){c=b.get();c && 0 < c.length && c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.qvb=function(a){var b;b=this.jAb();a.strmsel=b;return 0 < b.length;};return a;})();b.eDa=a;},function(d,b,a){var l;function c(a,b){this.Ygb=a.jB && a.jB.enabled;this.uD=void 0;this.Nfb=b;this.mea=[];this.Iea=[];this.lZ=[];this.Ke=[];}l=a(37).DK;c.prototype.reset=function(a){this.uD=void 0;this.mea=[];this.Iea=[];this.lZ=[];a && (this.Ke=[]);};c.prototype.add=function(a,b){var c,d,k;c=b.filter(function(b,c){return l(b) || c === a.Vd;});d=c.map(function(a){return a.U;});b=b[a.Vd];c=c.indexOf(b);if(this.uD && (this.uD.length !== d.length || this.uD.some(function(a,b){return a !== d[b];}))){k=this.ZPa();k && (this.Ke.push(k),this.reset(!1));}void 0 === this.uD && (this.uD=d);this.mea.push([c,a.sta,a.$b,a.dga,a.BKa,a.bMb,a.XIb,a.kB,a.hn,a.Wh,a.gUb - a.sta,a.LLb]);void 0 !== a.Ds && this.lZ.push([a.sta,a.Ds.AQ,a.Ds.jMa,a.Ds.nha]);this.Ygb && void 0 !== b.$ && (c=b.$.qm(a.Wh),-1 != c && (c=b.$.get(c),k=c.duration,b=c.rb || b.rb,void 0 !== b && this.Iea.push({X:c.X,duration:k,rb:b})));};c.prototype.oOa=function(a){for(var b=[],c=[],d=0;d < a.length;d++){for(var k=a[d],l=[],g=0;g < k.length;g++){l.push(k[g] - (c[g] || 0));}b.push(l);c=k;}return b;};c.prototype.ZPa=function(){var a,b;a=this.oOa(this.mea);if(0 !== a.length){b=0 < this.lZ.length?this.oOa(this.lZ):[];return {dltype:this.Nfb,bitrates:this.uD,seltrace:a,vmaftrace:this.Iea,paceratetrace:b};}};c.prototype.get=function(){var a,b;a=this.ZPa();b=this.Ke;a && b.push(a);if(0 !== b.length)return b;};d.exports=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zQa=void 0;b.zQa=function(a){var b,d,k;b=Math.floor(1E6 * Math.random());d=a.Hla;k=a.E2;a=0 === b % a.Ila && 0 < k.length;return {pq:a,$Q:a && 0 === b % d};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.bMa=void 0;b.bMa=function(a,b){var c;if(!Array.isArray(a.aMa))return a;c=a.kq?a.kq():Object.create(a);a.aMa.forEach(function(a){if(void 0 !== a.AHb && b.duration >= a.AHb && a.config)for(var d in a.config){c[d]=a.config[d];}});return c;};},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Fwa=void 0;c=a(0).__importStar(a(8));l=a(121);k=a(5);d=(function(){function a(a,b,c){var X50;X50=2;for(;X50 !== 3;){switch(X50){case 2:this.pm=a;this.G=b;X50=5;break;case 5:var k6g="1SIYbZr";k6g+="N";k6g+="JCp9";this.sh=c;k6g;X50=3;break;case 6:this.sh=c;"";X50=5;break;X50=3;break;}}}var W50;W50=2;for(;W50 !== 7;){switch(W50){case 5:a.prototype.lfb=function(){var d60;d60=2;for(;d60 !== 1;){switch(d60){case 4:this.nD=9;d60=8;break;d60=1;break;case 2:this.nD=0;d60=1;break;}}};a.prototype.FHa=function(a,b){var e60,c,d;e60=2;for(;e60 !== 5;){switch(e60){case 2:(c=this.pm.hb.Ye[a],d=c.Zg);d && (d=b.KP(a,d),this.leb(a),c.Zg=this.MFa(a,b.u,b.yx(),this.pm.al,this.pm.H),b.X5(d));e60=5;break;}}};a.prototype.MFa=function(a,b,c,d,g){var f60,f,h;f60=2;for(;f60 !== 7;){switch(f60){case 2:var n6g="t";n6g+="ra";n6g+="nsportrepor";n6g+="t";var l6g="e";l6g+="rr";l6g+="or";var e6g="net";e6g+="wor";e6g+="kfa";e6g+="il";e6g+="ing";var a6g="c";a6g+="r";a6g+="e";a6g+="at";a6g+="ed";(f=this,h=l.fo.yf.Rr(a,b,!0,c,d,g));h.hg.on(h,a6g,function(){var g60;g60=2;for(;g60 !== 5;){switch(g60){case 2:var D6g="creat";D6g+="eDlTracksE";D6g+="nd";--f.nD;0 === f.nD && f.pm.bb.xj(D6g);g60=5;break;}}});h.hg.on(h,e6g,function(){var h60,a;h60=2;for(;h60 !== 8;){switch(h60){case 2:var H6g="rep";H6g+="ortNetworkFail";H6g+="ing";H6g+=": ";g.zh && f.sh.yl(H6g + h);h60=1;break;case 5:k.assert(h.jR);a=f.pm.Qd.N;a.Xo.Rq(h.jR,void 0,h.wg,h.ri);h60=9;break;case 1:h60=h.d1?5:8;break;case 9:a.$q();h60=8;break;}}});h.hg.on(h,l6g,function(){var i60;i60=2;for(;i60 !== 5;){switch(i60){case 2:var z6g="NFErr_MC_";z6g+="Stre";z6g+="amingFai";z6g+="lure";var F6g="Download";F6g+="Track f";F6g+="atal";F6g+=" error";var b6g="Down";b6g+="loadTrack fatal";b6g+=" ";b6g+="error";g.zh && f.sh.yl(b6g);f.pm.zo(F6g,void 0,z6g,h.wg,0,h.ri);i60=5;break;}}});h.on(n6g,function(a){var j60;j60=2;for(;j60 !== 1;){switch(j60){case 2:var m6g="t";m6g+="ra";m6g+="nsport";m6g+="r";m6g+="eport";f.pm.emit(m6g,a);j60=1;break;}}});h.$a();f60=8;break;case 8:return h;break;}}};W50=9;break;case 2:a.prototype.$db=function(a,b){var Y50,c,d;Y50=2;for(;Y50 !== 8;){switch(Y50){case 2:var v9g="crea";v9g+="t";v9g+="eDl";v9g+="TracksStart";(c=this,d=this.pm.H);0 === this.nD && this.pm.bb.xj(v9g);this.nD+=a.length;a=a.map(function(a){var Z50;Z50=2;for(;Z50 !== 1;){switch(Z50){case 2:return c.MFa(a,b.u,b.yx(),c.pm.al,d);break;}}});Y50=3;break;case 3:l.fo.yf.Oe();return a;break;}}};a.prototype.meb=function(){var a60,a,b;a60=2;for(;a60 !== 3;){switch(a60){case 2:(a=this,b=[]);this.pm.hb.Ye.forEach(function(a){var b60;b60=2;for(;b60 !== 5;){switch(b60){case 2:c.Y(a.Zg) || b.push(a.Zg);a.Zg=void 0;b60=5;break;}}});this.pm.UO && (b.push(this.pm.UO),this.pm.UO=void 0);b.forEach(function(b){var c60;c60=2;for(;c60 !== 5;){switch(c60){case 2:b.pn || --a.nD;l.fo.yf.wJ(b);c60=5;break;}}});a60=3;break;}}};W50=5;break;case 9:a.prototype.leb=function(a){var k60,b;k60=2;for(;k60 !== 9;){switch(k60){case 3:a.Zg=void 0;k60=9;break;case 2:a=this.pm.hb.Ye[a];b=a.Zg;b.pn || --this.nD;l.fo.yf.wJ(b);k60=3;break;}}};return a;break;}}})();b.Fwa=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Eua=void 0;c=a(17);l=a(9);d=(function(){function a(a){this.RD=a;this.state=new l.Gt(c.oa.oh);this.Cn={};}a.prototype.rd=function(){return this.state.value;};a.prototype.re=function(a){this.state.set(a);};a.prototype.addListener=function(a){this.state.addListener(a);};a.prototype.paused=function(){this.state.value === c.oa.Uc && this.state.set(c.oa.uj);};a.prototype.Ey=function(){this.state.value === c.oa.uj && this.state.set(c.oa.Uc);};a.prototype.ATa=function(){return this.state.value === c.oa.oh;};a.prototype.OA=function(){return "function" === typeof this.RD.OA?this.RD.OA():this.state.value === c.oa.Uc;};a.prototype.gg=function(){return this.state.value === c.oa.cd || this.state.value === c.oa.mf;};a.prototype.Wg=function(){return this.state.value === c.oa.ak;};a.prototype.BTa=function(){return this.state.value === c.oa.Qv;};a.prototype.Zd=function(){return this.RD.Zd();};a.prototype.un=function(){return "function" === typeof this.RD.un?this.RD.un():1;};a.prototype.ER=function(){return this.RD.ER();};a.prototype.rU=function(a,b){this.Cn[a]=b;};a.prototype.xn=function(a){return ! !this.Cn[a.u] || a.Vh;};return a;})();b.Eua=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.kCa=void 0;c=a(0).__importDefault(a(3))["default"].Promise;d=(function(){function a(a,b,c){var d;this.ikb=a;this.Tda=b;this.feb=c;this.ida=(d={},d[0]=!1,d[1]=!1,d);this.reset();}a.prototype.Sw=function(){var a,b;a=this;b=this.ikb.filter(function(b){return !b.jTa(a.feb());});0 === b.length && this.Bda?this.egb():b.forEach(function(b){a.ida[b.I] || (b.once("requestAppended",function(){a.ida[b.I]=!1;a.Sw();}),a.ida[b.I]=!0);});};a.prototype.reset=function(){var a;a=this;this.Bda=!1;new c(function(b){a.egb=b;}).then(function(){return a.Tda();});};a.prototype.jGb=function(){this.Bda || (this.Bda=!0,this.Sw());};return a;})();b.kCa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.oua=void 0;c=a(19);d=(function(){function a(a){this.console=a;this.gD=[];this.tz=[];c.ma && this.console.trace("Received pending adoption " + this.xB.length);}Object.defineProperties(a.prototype,{length:{get:function(){return this.gD.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xB:{get:function(){return this.tz;},enumerable:!1,configurable:!0}});a.prototype.hGb=function(a){a=this.tz.indexOf(a);-1 !== a && (c.ma && this.console.trace("Marking request attached"),this.gD[a].hTa=!0,this.x3a(a));};a.prototype.iGb=function(a){a=this.tz.indexOf(a);-1 !== a && (c.ma && this.console.trace("Marking request completed"),this.gD[a].Ax=!0,this.x3a(a));};a.prototype.LOb=function(a){var b,c;b=this;c=[];this.tz.forEach(function(b,d){a(b) && c.unshift(d);});c.forEach(function(a){b.tz.splice(a,1);b.gD.splice(a,1);});};a.prototype.push=function(a){this.tz.push(a);this.gD.push({hTa:!1,Ax:!1});c.ma && this.console.trace("Pushing pending request, " + this.length + " total");};a.prototype.EA=function(){return 0 < this.length;};a.prototype.x3a=function(a){var b;b=this.gD[a];b.hTa && b.Ax && (b=this.tz[a],this.tz.splice(a,1),this.gD.splice(a,1),c.ma && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.ma && this.console.trace("Removing last request, contentEndPts: " + b.Pb));};return a;})();b.oua=d;},function(d,b,a){var c,l,k,g,f,h,q;Object.defineProperty(b,"__esModule",{value:!0});b.SBa=void 0;d=a(0);c=d.__importDefault(a(25));l=c["default"].Ta;k=c["default"].JC;g=a(9);f=a(21);h=d.__importDefault(a(109));q=d.__importDefault(a(3));a=(function(){function a(a,b,c,d,f){this.Wu=a;this.Xr=b;this.H=c;this.G=d;this.qf=f;}a.prototype.FIb=function(a){a={type:"requestCreated",request:a};g.Ma(this.Xr,a.type,a);};a.prototype.EIb=function(a){var b;b=a.Pa.Kb.W;a={type:"updateStreamingPts",mediaType:a.I,position:{va:b.id,offset:f.S.ec(this.Wu.Vga - b.X)},completePlayerStreamingTimestamp:f.S.ec(this.Wu.Mr),trackIndex:a.stream.track.zD};g.Ma(this.Xr,a.type,a);};a.prototype.QWa=function(a,b,c){var d,h;d=this.qf;h=this.Wu.Yf;h.Z0a(a);1 === d && this.H.e6 && (void 0 === h.bna?h.a1a(q["default"].time.aa()):q["default"].time.aa() - h.bna > this.H.e6 && (a.U !== h.cUa && (q["default"].storage.set("vb",a.U),h.wRb(a.U)),h.a1a(q["default"].time.aa())));h.pS && h.pS === a || (this.Wu.uy.lTb(b,h.pS,a),h.jRb(a),b=0,a.ib && a.ib.Pd && a.ib.Ka && (b=a.ib.Ka.Ca),h={va:this.Wu.Kb.W.id,offset:f.S.ec(c - this.Wu.Kb.W.X)},a={type:"streamSelected",nativetime:q["default"].time.aa(),mediaType:d,streamId:a.id,manifestIndex:a.N.qb,trackIndex:a.track.zD,streamIndex:a.Xf,movieTime:c,bandwidth:b,longtermBw:b,rebuffer:0,position:h},g.Ma(this.Xr,a.type,a));};a.prototype.AIb=function(a,b,c){var d,f,h,m,q;d=b.N;f=d.vl;h=this.Wu.Yf;m=d.SDb(b);q=m.Nma;m=m.TDb;c && b.Nc && !h.rS?(m=k.Pv,b.Vq=k.name[m],this.PWa(a,b.Nc,b.Vq,b.location,b.U),h.rS=b.Nc):!c && b.Nc && b.Nc !== h.rS && (m=m?void 0 === h.rS?k.Pv:f.dM === k.taa?k.Zbb:k.e8:k.Ybb,b.Vq=k.name[m],this.PWa(a,b.Nc,b.Vq,b.location,b.U),h.rS=b.Nc);h.FK || (m={type:"logdata",target:"startplay",fields:{}},this.qf === l.AUDIO?m.fields.alocid=b.location:this.qf === l.VIDEO && (m.fields.locid=b.location),g.Ma(this.Xr,m.type,m));c && b.location && !h.FK?(m=k.Pv,b.Vq=k.name[m],this.NWa(d.qb,a,b.location,b.tna,b.Nc,b.NF,b.Vq,b.Xu),h.FK=b.location):!c && b.location && b.location !== h.FK && (m=q?void 0 === h.FK?k.Pv:f.dM === k.taa?k.w$a:k.e8:k.v$a,b.Vq=k.name[m],this.NWa(d.qb,a,b.location,b.tna,b.Nc,b.NF,b.Vq,b.Xu),b.Xu=void 0,h.FK=b.location);this.H.Ls || (b.ZTa=b.location,b.aUa=b.Nc);};a.prototype.N4=function(a){a={type:"requestsPruned",requests:a};g.Ma(this.Xr,a.type,a);};a.prototype.PWa=function(a,b,c,d,f){var k,m;k=this.qf === l.VIDEO?"video":"audio";m=h["default"].yf().get();a={type:"serverSwitch",segmentId:a,mediatype:k,server:b,reason:c,location:d,bitrate:f,confidence:m.Pd};m.Pd && (a.throughput=m.Ka.Ca);this.Wu.Yf.rS && (a.oldserver=b);g.Ma(this.Xr,a.type,a);};a.prototype.NWa=function(a,b,c,d,f,h,k,m){g.Ma(this.Xr,"locationSelected",{type:"locationSelected",manifestIndex:a,segmentId:b,mediatype:this.qf === l.VIDEO?"video":"audio",location:c,locationlv:d,serverid:f,servername:h,selreason:k,seldetail:m});};a.prototype.Uda=function(a,b){b={type:"lastSegmentPts",segmentId:a.id,pts:Math.floor(b)};a.nB || g.Ma(this.Xr,b.type,b);};a.prototype.yl=function(a){a={type:"managerdebugevent",message:"@" + q["default"].time.aa() + ", " + a};g.Ma(this.Xr,a.type,a);};a.prototype.owb=function(a){g.Ma(this.Xr,"transportReport",a);};return a;})();b.SBa=a;},function(d,b,a){var c,l,k,g,f,h,q,u,r,v,A,n,B;Object.defineProperty(b,"__esModule",{value:!0});b.iDa=void 0;c=a(0);l=c.__importStar(a(8));k=a(246);g=a(915);f=a(918);h=a(919);d=a(93);q=a(920);u=a(5);r=c.__importDefault(a(3));v=a(248);A=a(9);n=a(83);B=r["default"].Promise;a=(function(a){function b(b,c,d,f,h,l,k){var g;g=a.call(this,b) || this;g.H=c;g.G=d;g.bm=f;g.Vc=h;g.qf=l;g.g4a=!0;g.Og=new v.OV(g.G);g.nf=g.G.error.bind(g.G);g.wb=g.G.warn.bind(g.G);g.ik=g.G.trace.bind(g.G);g.KHa();g.Yp=null === k || void 0 === k?void 0:k.iJ(function(){return g.ePb();});return g;}c.__extends(b,a);Object.defineProperties(b.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{I:{get:function(){return this.qf;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Kb:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{kv:{get:function(){return 0 < this.vB;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Asa:{get:function(){return !this.WH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vB:{get:function(){return this.ya.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zq:{get:function(){return this.ya.Zq;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{lNb:{get:function(){return this.Og.count;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{T_:{get:function(){return this.ya.complete.vi;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Mr:{get:function(){return this.ya.KLa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vga:{get:function(){return this.ya.JLa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hm:{get:function(){return void 0 === this.ya.Rc?0:this.ya.de - this.ya.Rc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Po:{get:function(){return {ba:this.ya.Tz,da:Math.max(this.ya.KLa - this.ya.Rc,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dJ:{get:function(){return this.ya.Pnb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tz:{get:function(){return this.ya.Tz;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Aw:{get:function(){return this.ya.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$x:{get:function(){return this.Web();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{upa:{get:function(){return this.ya.pCb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{y2:{get:function(){return this.ya.length > this.ya.Zq;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hn:{get:function(){return this.ya.hn;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gYa:{get:function(){return this.ya.length - this.el;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$:{get:function(){return this.ya;},enumerable:!1,configurable:!0}});b.prototype.fg=function(){var a;this.ya.forEach(function(a){a.abort();a.cc();});this.KHa();this.Og.U0();null === (a=this.Yp) || void 0 === a?void 0:a.Tb();};b.prototype.reset=function(){this.fg();this.Og.C_a();};b.prototype.close=function(){this.Og.U0();};b.prototype.QQb=function(){this.qFa=!0;};b.prototype.Lka=function(){return {hasSentinel:void 0 !== this.Og.count,queueCount:this.Og.count,isComplete:this.Og.Ax,itemCount:this.Og.MLa,continuousEndPts:this.Og.bo().reduce(function(a,b){return b && !b.done && (b=b.value,100 > Math.abs(b.Fja - a) || -1 === a)?b.pwb:a;},-1),sentinelItemCount:this.Og.bo().filter(function(a){return a && a.done;}).length,processedCount:this.Og.nsb,rc:this.vB};};b.prototype.Zqb=function(a,b,c){var d,l;d=this.H;u.assert(!a.xq);d.bub && 1 === this.I?l=new h.Hua(c,d,b.track,a,this.ya,this.G):c.N.fOa(this.qf)?(l=new f.Bua(c,d,b.track,a,this.ya,!1,this.G),d.S0 && 0 < l.vUb && (a=new q.Sua(c,d,b.track,a,this.ya,!1,this.G),a.$a(this),a.Tu())):l=k.LV.create(c,d,b.track,a,this.ya,!1,this.G);l.$a(this);this.yw(l);return l;};b.prototype.Hjb=function(a){var b;a.$a(this);a.efa=!0;this.yw(a);b=B.resolve();a.complete?(this.Oca(a),this.bm.QWa(a.stream,a.Rc,a.Qb),b=this.l7(),this.ds(a)):(a.active && this.rE(a),a.Fqa && this.oA(a));return b;};b.prototype.yw=function(a){var b,c;this.ya.fp(a);(null === (b=this.Yp) || void 0 === b?void 0:b.state) === n.$k.complete && (null === (c=this.Yp) || void 0 === c?void 0:c.Im());this.Oca(a);a.mp && (this.WH=!1);};b.prototype.JR=function(){return this.Og.bxb();};b.prototype.cLa=function(){this.el === this.ya.length && this.qFa && this.Og.U0();};b.prototype.l7=function(){var a,b,c,d,g;a=this;c=B.resolve();d=this.Vc;if(!d.fTa(this.qf) || this.el === this.ya.length)return c;for(var f=this.H.yGb,h=0,k=[];this.el < this.ya.length;){if(b=this.ya.get(this.el)){if(this.ya.ePa && this.ya.ePa.Za < b.Za)break;if(!b.rs())break;k.push(b);++h;l.qa(this.Rc) || (this.Rc=b.Rc);}++this.el;if(!l.Y(f) && h >= f)break;}if(k.length){void 0 !== this.Og.count && (this.nf("Request Manager count"),this.Og.C_a());if(this.g4a)c=B.all(k.map(function(b){return a.Og.enqueue(b).then(function(){return a.s2(b);});}));else for(b=0;b < k.length;b++){try{g=k[b];d.Bzb(this.I).Nsb(g);this.s2(g);}catch(ha){return (this.el-=k.length - b,B.reject(ha));}}this.cLa();}return c;};b.prototype.s2=function(a){this.qPa(a);};b.prototype.LP=function(a,b){var c,d,f;c=this;d=[];if(0 !== this.ya.Zq){f=this.ya.$Xa;this.ya.I3a.usa(function(b){if(!l.Y(a) && b.N.qb !== a || b.mp || f > b.Rc)return !0;b.n1 && (c.WH=!1);if(!c.xca(b))return (c.wb("request abort failed:",b.toString()),!0);d.unshift(b);});this.yHa();d.length && "function" === typeof b && b(d);}};b.prototype.N5=function(){this.yHa();};b.prototype.ePb=function(){var a,b,d,f,h,l;return c.__generator(this,function(c){switch(c.label){case 0:c.label=1;case 1:if(!this.ya.length)return [3,3];a=this.ya.get(0);b=A.S.ec(null !== (l=null === (h=this.H.DU) || void 0 === h?void 0:h.da) && void 0 !== l?l:0);d=b.add(a.vi);return [4,n.Sl.zV(d)];case 2:c.Bi();if(1 >= this.ya.complete.length && !a.mp)return [3,3];u.assert(a === this.ya.get(0));a.ye || this.xca(a);f=this.ya.splice(0,1);0 < this.el && this.el--;this.bm.N4(f);return [3,1];case 3:return [2];}});};b.prototype.IT=function(a,b){var c,d,f,h,l,k;c=this;d=this.H;f=!1;h=0;l=this.ya.some(function(l){if(a < l.de)return (f && c.Oca(l),!0);++h;l.ye || (c.wb("pruning unappended request:",l && l.toString()),d.zh && c.bm.yl("prune pts:" + a + " unappended request:" + (l && l.toString())),l.n1 && (c.WH=!1,f=!0),c.xca(l,b) || c.nf("MediaRequest.abort error:",l.wg));});if(0 < h){k=this.ya.splice(0,h);this.el-=Math.min(h,this.el);this.bm.N4(k);}return l;};b.prototype.d2=function(a){var b,c,d;void 0 === a && (a={vQ:null,BL:null,Rc:null,Pj:0,Fi:0,$:[]});b=this.H;c=this.ya;l.qa(c.Rc) && (null === a.Rc || c.Rc < a.Rc) && (a.Rc=c.Rc);d=this.Mr;void 0 !== d && null === a.vQ && (a.vQ=d);d=c.de;void 0 !== d && (null === a.BL || d > a.BL) && (a.BL=d);a.Pj+=c.Pj;a.Fi=b.osa?a.Fi + c.GZa:a.Fi + c.Tz;Array.prototype.unshift.apply(a.$,c.Bi.$);return a;};b.prototype.cs=function(a){if(this.ya.length && (a=this.ya.VOa(a)))return a;};b.prototype.$q=function(){var a,b;a=this;b=[];this.ya.forEach(function(c){var d;d=c.u7();1 === d?b.push(c):2 === d && a.Kb.N.Fg("swapUrl failure");});return b;};b.prototype.qL=function(a){a.NA && a.rs() && this.l7();this.oA(a);};b.prototype.Oj=function(a){var b,c;a.NA && !a.ye && this.l7();(null === (b=this.Yp) || void 0 === b?void 0:b.state) === n.$k.complete && (null === (c=this.Yp) || void 0 === c?void 0:c.Im());this.ds(a);};b.prototype.lfa=function(a){var b,c,d;b=1 === this.qf?"v_":"a_";c=this.ya;d=c.RJ(a);a=0 <= d?c.get(d):void 0;return (c=0 <= d && d + 1 < c.length?c.get(d + 1):void 0) && a?a.de !== c.Rc?b + "rg":a.complete && c.complete?b + "uk":b + "fd":b + "rm";};b.prototype.Web=function(){return this.ya.hn + this.ya.Zq;};b.prototype.KHa=function(){var a,b,c;b=void 0 !== this.ya && 0 < this.ya.length;c=this.ya;this.ya=new g.Aua(this.G,this);this.el=0;this.Og.clear();this.Rc=null;null === (a=this.Yp) || void 0 === a?void 0:a.Im();this.qFa=this.WH=!1;b && (a=c.map(function(a){return a;}),this.bm.N4(a));};b.prototype.Oca=function(a){this.WH?a.n1=!1:this.WH=a.n1=!0;};b.prototype.xca=function(a,b){if(!a.abort())return !1;"function" === typeof b && b(a);return !0;};b.prototype.yHa=function(){var a,b,c,d;a=this;if(0 !== this.ya.length){c=[];d=0;this.ya.bNb(function(b,f){f < a.el && ++d;c.push(b);});this.el-=d;null === (b=this.Yp) || void 0 === b?void 0:b.Im();this.bm.N4(c);}};return b;})(d.vv);b.iDa=a;},function(d,b,a){var c,l,k,g,f,h,q,u,r,v;Object.defineProperty(b,"__esModule",{value:!0});b.xua=void 0;c=a(0);l=a(94);k=c.__importDefault(a(25));d=c.__importDefault(a(3));g=a(9);f=a(5);h=a(247);q=a(70);u=a(244);r=a(81);v=d["default"].Um;a=(function(a){function b(b,c,d,f,h,l,g){var m,r;f=a.call(this,b,d,f,l,g) || this;h=q.Kh.prototype.toString.call(f) + (h?"(cache)":"");m={offset:d.offset,ba:d.Coa + 8,responseType:0};f.push(new u.bN(b,c,h + "(moof)",m,f,l,g));m={offset:d.offset + m.ba,ba:d.ba - m.ba,responseType:v.Yb && !v.Yb.UL.LC?0:1};if(f.I === k["default"].Ta.VIDEO && f.xa){if(0 < f.xa.start){r=f.XOa(f.xa.start);r && (m.offset=d.offset + r,m.ba=d.ba - r);}f.xa.end < f.pA && (r=f.XOa(f.xa.end)) && (m.ba-=d.ba - r);}f.push(new u.bN(b,c,h + "(mdat)",m,f,l,g));return f;}c.__extends(b,a);b.prototype.rs=function(){return !this.ye && ! !this.ya.length && this.ya.every(function(a){return a.rs();});};b.prototype.DD=function(a){var b,c,d,h,k,m,q,u;if(this.ye)return {status:r.Ji.zv};if(!this.rs())return {status:r.Ji.ERROR};d=!1;k=this.ya[0].response;m=k.slice(0,k.byteLength - 8);q=new DataView(k);k=q.getUint32(m.byteLength);f.assert("mdat" === l.hz(q.getUint32(m.byteLength + 4)));u=this.xa && 0 < this.xa.start;q=this.xa && this.xa.end < this.pA;if(this.xa && (u || q)){u && (h=new l.Ty(this.G,this.stream,m),b=h.a_a(this.xa.start,this.R));q && !1 !== b && (h=new l.Ty(this.G,this.stream,b?g.Vz(b.Sd):m),c=h.h_a(this.xa.end - this.xa.start,this.R));if(m=q?c:b)(d=a.appendBuffer(g.Vz(m.Sd),g.np(this)),b && (k-=b.Qs),c && (k-=c.Qs));h=this.hea();}else d=a.appendBuffer(m,g.np(this));d && (d=a.appendBuffer(l.FS(k - 8),g.np(this))) && (d=a.appendBuffer(this.ya[1].response,g.np(this)));this.ye=d;this.rOb();return {status:d?r.Ji.zv:r.Ji.ERROR,ij:h};};return b;})(h.XB);b.xua=a;},function(d,b,a){var c,l,k,g,f,h,q;Object.defineProperty(b,"__esModule",{value:!0});b.Q5a=void 0;d=a(0);c=a(94);l=a(173);k=d.__importDefault(a(25));g=a(9);a(5);f=a(21);h=d.__importDefault(a(3));q=a(81);a=(function(){var l60;l60=2;for(;l60 !== 14;){switch(l60){case 2:a.prototype.KFa=function(a){var n60;n60=2;for(;n60 !== 1;){switch(n60){case 2:return a && a.u === this.u && a.Fja === this.Fja?!0:!1;break;}}};a.prototype.ofb=function(){var o60,a;o60=2;for(;o60 !== 5;){switch(o60){case 2:a=this.yd;return a.$i && !a.Hz && this.stream.Bd && (a.Y2 || a.Z2 && -1 !== a.Z2.indexOf(this.stream.fa))?a.dTa || 2:0;break;}}};a.prototype.Mdb=function(a){var p60,b;p60=2;for(;p60 !== 5;){switch(p60){case 2:b=this.yd;return {Bja:!1,qSb:!(void 0 !== b.U6?b.U6:a && a.U6)};break;}}};a.prototype.GFa=function(a){var q60,b;q60=2;for(;q60 !== 4;){switch(q60){case 2:b=this.yd;a=this.Mdb(a);return {Bja:a.Bja,Dp:a.qSb && b.X2?b.X2 || 0:0};break;}}};l60=3;break;case 7:a.prototype.teb=function(a,b,d,f,h){var v60,l,m,q,r;v60=2;for(;v60 !== 8;){switch(v60){case 3:var p9g=" ";p9g+="f";p9g+="r";p9g+="om [ ";var s9g="AseF";s9g+="ragm";s9g+="entMediaRequest: F";s9g+="ragment edit failed for ";m?this.xa && this.xa.end < this.pA || q.Dp?(m=new c.Ty(this.G,this.stream,this.response),(m=m.h_a(this.xa && this.xa.end,this.R,q.Dp))?(a=a.appendBuffer(g.Vz(m.Sd),g.np(this)),r=this.hea(q)):(this.G.error(s9g + this.toString() + p9g + this.qA + "-" + this.x1 + "]"),a=!0)):a=a.appendBuffer(this.response,g.np(this)):a=!0;return {ia:a,ij:r};break;case 2:var M9g="d";M9g+="e";M9g+="f";M9g+="ault";(l=this.yd,q={Dp:0});m=!0;this.I === k[M9g].Ta.AUDIO && (f?h && (this.tia(1),m=0 < this.xa.end):this.KFa(d)?d.xa && 0 !== d.xa.start?this.bi({start:0,end:d.xa.start}):m=!1:(q=this.GFa(b),l.Rs || (b=this.qdb(b,d,q.Bja),(m=b.RRb) && b.LFb && (q.Dp=0))));m && 0 === this.duration && (m=!1);v60=3;break;}}};return a;break;case 3:a.prototype.qdb=function(a,b,c){var r60,A,h,k,g,m,q,r,u,v;r60=2;function d(a){var s60,b,c;s60=2;for(;s60 !== 4;){switch(s60){case 2:a=Math.floor(Math.min(r,a) / m.ub);(b=m.ub * a,c=v - b);s60=5;break;case 5:return {tra:a,oq:b,I5b:c,BWa:0 < a && c < q / 1E3};break;}}}for(;r60 !== 12;){switch(r60){case 8:b && !c && (h=d(v),A=h.tra,h=h.BWa);h || (A=u - f.S.Doa(a,q),A=new f.S(A - this.wPa,q),b=d(k.Gg?Infinity:Math.max(0,A.ub)),A=b.tra,(b=b.BWa) && 0 < A && !k.Gg && --A);this.bi({start:0,end:A});A < (k.BHb || 1) && (g=!1);return {RRb:g,LFb:h};break;case 9:r60=8;break;case 2:(k=this.yd,g=!0);h=!1;a=l.zka(k,a);(m=this.wa,q=m.R,r=this.oq,u=b?b.Qpa:this.CYa - 2 * m.ub,v=u - this.wPa);c=k.iwb || c;r60=9;break;}}};a.prototype.DD=function(a,b,c,d,f,h){var t60,l,m;t60=2;for(;t60 !== 7;){switch(t60){case 2:m=this.yd;t60=1;break;case 1:t60=this.ye?5:4;break;case 8:return {status:a?q.Ji.zv:q.Ji.ERROR,ij:l};break;case 4:var g9g="de";g9g+="fa";g9g+="ult";this.xa && !this.mp?(l=this.seb(a,b,c,f,h),a=l.ia,l=l.ij):this.xa && this.mp?(l=this.teb(a,b,d,f,h),a=l.ia,l=l.ij):a=this.I === k[g9g].Ta.AUDIO && m.Rs && c && this.Xs && c.de >= this.de && this.Pb - this.Xs < this.Xs - this.Qb?!0:a.appendBuffer(this.response,g.np(this));this.ye=!0;this.QT();t60=8;break;case 5:return {status:q.Ji.ERROR};break;}}};a.prototype.seb=function(a,b,d,f,l){var u60,m,q,r,u,v;u60=2;for(;u60 !== 8;){switch(u60){case 2:var C9g="d";C9g+="e";C9g+="f";C9g+="ault";var i9g="de";i9g+="f";i9g+="a";i9g+="ul";i9g+="t";(q={Dp:0},r=!1,v=!0);this.I === k[i9g].Ta.AUDIO && d && (f?l && this.WQ():this.KFa(d)?d.xa && this.xa && this.xa.start !== d.xa.end && this.bi({start:d.xa.end}):(q=this.GFa(b),d.de === this.Rc && (q.Dp=0)));void 0 === (null === (m=this.xa) || void 0 === m?void 0:m.E6)?this.I === k[C9g].Ta.AUDIO && !d && this.xa && (q.Dp=Math.min(this.xa.end - this.xa.start,Math.max(this.ofb(),q.Dp || 0))):q.Dp=this.xa.E6;0 >= this.duration && (v=!1,r=!0);u60=3;break;case 3:var A9g=" fr";A9g+="o";A9g+="m ";A9g+="[ ";var O9g="AseFragmentM";O9g+="e";O9g+="diaRequest: Fragment";O9g+=" edit failed for ";var B9g="m";B9g+="ed";B9g+="ia|asejs";var c9g="M";c9g+="P";c9g+="4";var W9g="d";W9g+="e";W9g+="f";W9g+="au";W9g+="lt";v && (this.xa && (0 < this.xa.start || q.Dp)?(b=new c.Ty(new h[W9g].Console(c9g,B9g),this.stream,this.response),(b=b.a_a(this.xa.start,this.fL,q.Dp))?(r=a.appendBuffer(g.Vz(b.Sd),g.np(this)),u=this.hea(q)):(this.G.error(O9g + this.toString() + A9g + this.qA + "-" + this.x1 + "]"),r=!0)):r=a.appendBuffer(this.response,g.np(this)));return {ia:r,ij:u};break;}}};l60=7;break;}}function a(){var m60;m60=2;for(;m60 !== 1;){switch(m60){case 2:var j9g="1S";j9g+="IYbZ";j9g+="rNJ";j9g+="Cp9";j9g;m60=1;break;case 4:var E9g="1SIYb";E9g+="ZrN";E9g+="JCp9";E9g;m60=7;break;m60=1;break;}}}})();b.Q5a=a;b["default"]=new a();},function(d,b,a){var c,l,k,g,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.Aua=void 0;c=a(0);a(5);l=a(916);d=a(38);k=a(917);g=a(120);f=a(93);h=a(243);a=(function(a){function b(b,d){var f,h;h=this;f=[new k.KV(b),new k.KV(b),new k.KV(b)];h=a.call(this,f,function(a){return a.complete?h.empty || a.Za <= h.Qnb?0:1:a.active?1:2;}) || this;f=c.__read(f,3);h.je=f[0];h.pd=f[1];h.Br=f[2];h.Zp=0;h.yca=0;h.G=b;h.te=d;return h;}c.__extends(b,a);Object.defineProperties(b.prototype,{ba:{get:function(){return this.je.ba + this.pd.ba + this.Br.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{I3a:{get:function(){return this.Br;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.pd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.je;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{GZa:{get:function(){return this.Zp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tz:{get:function(){return this.je.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pj:{get:function(){return this.je.ba + this.pd.ba - this.Zp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{HVb:{get:function(){return this.Br.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{first:{get:function(){return this.Bwb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{oi:{get:function(){return this.alb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xia:{get:function(){return !this.je.empty || this.Br.empty || this.pd.empty?this.first:this.pd.Za < this.Br.Za?this.pd.first:this.Br.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fUa:{get:function(){return this.Br.empty || this.pd.empty?this.oi:this.pd.xb < this.Br.xb?this.Br.oi:this.pd.oi;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ePa:{get:function(){return this.Br.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{R:{get:function(){return this.first && this.first.R;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Za:{get:function(){return this.xia && this.xia.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xb:{get:function(){return this.fUa && this.fUa.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pk:{get:function(){return this.first && this.first.Pk;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pnb:{get:function(){return this.je.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pCb:{get:function(){return this.Pb - this.JLa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qnb:{get:function(){return this.je.empty?this.Za:this.je.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JLa:{get:function(){return this.je.empty?this.Qb:this.je.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{KLa:{get:function(){return this.je.empty?this.Rc:this.je.de;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$Xa:{get:function(){return this.pd.de || this.je.de;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zq:{get:function(){return this.Br.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hn:{get:function(){return this.pd.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wga:{get:function(){return this.je.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Bi:{get:function(){return this.je.concat(this.pd);},enumerable:!1,configurable:!0}});b.prototype.zH=function(a){var b;a.Cr?++this.yca:this.Zp+=a.bf || 0;if(this.empty)this.rh=new h.aC(this,{});else if(a.Za !== this.xb)if(a.Za > this.rh.xb)this.rh.qU(this.rh.xb);else if(a.Za < this.Za || a.Za === this.rh.xb){b=a.xb;this.gwb(function(a,b){return a.Za - b.Za;},function(a){b=a.Za === b?a.xb:b;});b === Math.max(this.xb,a.xb)?this.rh.Iga():this.rh.qU(b);}a.bsa(this);};b.prototype.jw=function(a){a.Cr?--this.yca:this.Zp-=a.bf;this.empty?this.rh=void 0:a.Za !== this.xb && a.xb <= this.rh.xb && a.Za > this.rh.Za && this.rh.qU(a.Za);a.pLa();};b.prototype.push=function(b){this.zH(b);return a.prototype.push.call(this,b);};b.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b && this.jw(b);return b;};b.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b && this.jw(b);return b;};b.prototype.unshift=function(b){this.zH(b);return a.prototype.unshift.call(this,b);};b.prototype.fp=function(b){this.zH(b);a.prototype.fp.call(this,b);};b.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return !1;this.jw(b);return !0;};b.prototype.splice=function(b,d){for(var f=[],h=2;h < arguments.length;h++){f[h - 2]=arguments[h];}h=a.prototype.splice.apply(this,c.__spread([b,d],f));f.forEach(this.zH.bind(this));h.forEach(this.jw.bind(this));return h;};b.prototype.bNb=function(a){var b;b=this;this.reduce(function(c,d,f){d.Cr && (a && a(d,f,b),0 === c.length || c[0].end !== f?c.unshift({start:f,end:f + 1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end - a.start);});};b.prototype.RJ=function(a){return this.Fvb(function(b){return b.RJ(a);});};b.prototype.VOa=function(a){a=this.RJ(a);return -1 !== a?this.get(a):void 0;};b.prototype.uQb=function(a){var c;for(var b=[];a < this.length;){c=this.get(a);c && b.push(c);a++;}return b;};b.prototype.Xx=function(a){this.move(a);this.rE(a);};b.prototype.rL=function(a){this.Zp+=a.bf - a.Dm;this.sE(a);};b.prototype.Oj=function(a){for(this.Zp+=a.bf - a.Dm;this.pd.first && this.pd.first.complete && (this.je.empty?this.pd.first === this.xia:this.pd.first.Za === this.je.xb);){this.PRb();}this.ds(a);};b.prototype.oT=function(a,b,c){this.Zp-=a.bf;++this.yca;this.u1(a,b,c);};return b;})(l.Sva);b.Aua=a;d.Ze(f.vv,a,!1);d.Ze(g.bC,a);d.Ze(g.YB,a);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Sva=void 0;c=a(0);a(5);d=(function(){function a(a,b){this.Lc=a;this.KH=b;this.fw();}Object.defineProperties(a.prototype,{length:{get:function(){return this.Le;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.Le;},enumerable:!1,configurable:!0}});a.prototype.Bwb=function(){return this.cg && this.cg.get(0);};a.prototype.alb=function(){return this.FH && this.FH.get(this.FH.length - 1);};a.prototype.get=function(a){0 > a && (a+=this.length);for(var b=0;b < this.Lc.length;++b){if(this.th[b + 1] > a)return this.Lc[b].get(a - this.th[b]);}};a.prototype.push=function(a){this.Lc[this.KH(a)].push(a);this.fw();return this.Le;};a.prototype.shift=function(){var a;if(this.cg){a=this.cg.shift();this.fw();return a;}};a.prototype.pop=function(){var a;if(this.FH){a=this.FH.pop();this.fw();return a;}};a.prototype.unshift=function(a){this.Lc[this.KH(a)].unshift(a);this.fw();return this.Le;};a.prototype.fp=function(a){var b;b=this.KH(a);this.Lc[b].fp(a);this.fw();};a.prototype.remove=function(a){var b;b=this.Lc.some(function(b){return b.remove(a);});b && this.fw();return b;};a.prototype.splice=function(a,b){var n,y,B,p;for(var d,h=[],l=2;l < arguments.length;l++){h[l - 2]=arguments[l];}for(var l=[],k,g=a + Math.max(0,b),m=0;m < this.Lc.length;++m){n=this.Lc[m];y=this.th[m];B=this.th[m + 1];if(a < B){p=a - y;y=Math.min(g - y,n.length);void 0 === k && 0 < p && y < n.length?Array.prototype.push.apply(l,n.splice.apply(n,c.__spread([p,y - p],h))):(Array.prototype.push.apply(l,n.splice(p,y - p)),void 0 === k && (k=0 < m && 0 === p?m - 1:m));a=B;if(a >= g)break;}}if(h.length && void 0 !== k){for(g=this.KH(h[0]);0 < k && g < k && this.Lc[k].empty;){--k;}for(;h.length && g === k;){this.Lc[k].push(h.shift());if(!h.length)break;g=this.KH(h[0]);}for(;h.length && ++k < this.Lc.length && this.Lc[k].empty;){for(;h.length && g === k;){this.Lc[k].push(h.shift());if(!h.length)break;g=this.KH(h[0]);}}h.length && (d=this.Lc[k]).splice.apply(d,c.__spread([0,0],h));}this.fw();return l;};a.prototype.find=function(a){var b,c;b=this;return this.Lc.some(function(d,f){c=d.find(b.Ez(a,f));return void 0 !== c;})?c:void 0;};a.prototype.findIndex=function(a){var c;for(var b=0;b < this.Lc.length;++b){c=this.Lc[b].findIndex(this.Ez(a,b));if(-1 !== c)return c + this.th[b];}return -1;};a.prototype.indexOf=function(a){var c;for(var b=0;b < this.Lc.length;++b){c=this.Lc[b].indexOf(a);if(-1 !== c)return c + this.th[b];}return -1;};a.prototype.map=function(a){var b,c;b=this;c=this.Lc.map(function(c,d){return c.map(b.Ez(a,d));});return Array.prototype.concat.apply([],c);};a.prototype.reduce=function(a,b){var c;c=this;return this.Lc.reduce(function(b,d,f){return d.reduce(c.Gib(a,f),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.Lc.forEach(function(c,d){c.forEach(b.Ez(a,d));});};a.prototype.p1=function(a){for(var b=this.Lc.length - 1;0 <= b;--b){this.Lc[b].p1(this.Ez(a,b));}};a.prototype.some=function(a){var b;b=this;return this.Lc.some(function(c,d){return c.some(b.Ez(a,d));});};a.prototype.usa=function(a){for(var b=this.Lc.length - 1;0 <= b;--b){if(this.Lc[b].usa(this.Ez(a,b)))return !0;}return !1;};a.prototype.every=function(a){var b;b=this;return this.Lc.every(function(c,d){return c.every(b.Ez(a,d));});};a.prototype.gwb=function(a,b){var g,m;function c(b){return b.reduce(function(b,c,d,f){return void 0 === c?b:void 0 === b?d:0 > a(c,f[b])?d:b;},void 0);}for(var d=this,l=this.Lc.map(function(){return 0;}),k=this.Lc.filter(function(a){return a.empty;}).length;k < this.Lc.length;){g=l.map(function(a,b){return a < d.Lc[b].length?d.Lc[b].get(a):void 0;});m=c(g);b(g[m],this.th[m] + l[m],this);++l[m];l[m] === this.Lc[m].length && ++k;}};a.prototype.move=function(a){return this.remove(a)?(this.fp(a),!0):!1;};a.prototype.PRb=function(){var a;if(this.Lc[1].length){a=this.Lc[1].shift();this.Lc[0].push(a);this.fw();}};a.prototype.Fvb=function(a){for(var b=-1,c=0;c < this.Lc.length;++c){if((b=a(this.Lc[c]),-1 !== b)){b+=this.th[c];break;}}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.fw=function(){var b;this.Le=0;this.th=[0];this.FH=this.cg=void 0;for(var a=0;a < this.Lc.length;++a){b=this.Lc[a];this.Le+=b.length;this.th.push(this.th[this.th.length - 1] + b.length);!this.cg && b.length && (this.cg=b);b.length && (this.FH=b);}};a.prototype.Ez=function(a,b){var c,d;c=this;d=this.th[b];return function(b,f){return a(b,d + f,c);};};a.prototype.Gib=function(a,b){var c,d;c=this;d=this.th[b];return function(b,f,h){return a(b,f,d + h,c);};};return a;})();b.Sva=d;},function(d,b,a){var c,l,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.KV=void 0;c=a(0);l=a(5);d=a(38);k=a(243);a=a(120);g=(function(){function a(b,c){this.La=[];this.rh=void 0;this.yc=0;this.G=b;c && c.length && (Array.isArray(c)?(this.La=c.slice(),this.DO(0,this.La.length)):c instanceof a && (this.La=c.La.slice(),this.DO(0,this.La.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.La.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.La.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.La[0];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oi:{get:function(){return this.La[this.La.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Za:{get:function(){return this.first && this.first.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xb:{get:function(){return this.oi && this.oi.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.yc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.first && this.first.R;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pk:{get:function(){return this.first && this.first.Pk;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.La;},enumerable:!1,configurable:!0}});a.prototype.get=function(a){0 > a && (a+=this.La.length);return this.La[a];};a.prototype.push=function(a){this.La.push(a);this.DO(this.La.length - 1);return this.length;};a.prototype.unshift=function(a){this.La.unshift(a);this.DO(0,1);return this.length;};a.prototype.pop=function(){if(0 !== this.La.length)return (this.gea(this.La.length - 1),this.La.pop());};a.prototype.shift=function(){if(0 !== this.La.length)return (this.gea(0),this.La.shift());};a.prototype.splice=function(a,b){for(var d,f=[],h=2;h < arguments.length;h++){f[h - 2]=arguments[h];}0 > a && (a+=this.La.length);0 > a && (a=0);a > this.La.length && (a=this.La.length);if(void 0 === b || 0 > b)b=0;b=Math.min(b,this.La.length - a);0 < b && this.gea(a,a + b);h=(d=this.La).splice.apply(d,c.__spread([a,b],f));0 < f.length && this.DO(a,a + arguments.length - 2);return h;};a.prototype.slice=function(b,c){void 0 === b && (b=0);void 0 === c && (c=this.La.length);0 > b && (b+=this.La.length);if(b >= this.La.length)return new a(this.G);c > this.La.length && (c=this.La.length);0 > c && (c+=this.La.length);return new a(this.G,this.La.slice(b,c));};a.prototype.fp=function(a){if(0 === this.La.length || a.Za >= this.xb)this.push(a);else if(a.xb <= this.Za)this.unshift(a);else {for(var b=0,c=this.La.length - 1,d;b < c - 1;){d=Math.floor((c + b) / 2);l.assert(d !== c && d !== b);a.Za >= this.La[d].xb?b=d:c=d;}l.assert(b !== c);l.assert(this.La[b].xb <= a.Za && this.La[c].Za >= a.xb);this.splice(c,0,a);}};a.prototype.remove=function(a){a=this.La.indexOf(a);if(0 > a)return !1;this.splice(a,1);return !0;};a.prototype.concat=function(){for(var b=[],c=0;c < arguments.length;c++){b[c]=arguments[c];}b=b.map(function(a){return a.La;});return new a(this.G,Array.prototype.concat.apply(this.La,b));};a.prototype.forEach=function(a){var b;b=this;this.La.forEach(function(c,d){return a(c,d,b);});};a.prototype.some=function(a){var b;b=this;return this.La.some(function(c,d){return a(c,d,b);});};a.prototype.every=function(a){var b;b=this;return this.La.every(function(c,d){return a(c,d,b);});};a.prototype.map=function(a){var b;b=this;return this.La.map(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.La.reduce(function(b,d,f){return a(b,d,f,c);},b);};a.prototype.indexOf=function(a){return this.La.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.La.some(function(d,f){c=f;return a(d,f,b);})?this.La[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.La.some(function(d,f){c=f;return a(d,f,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.G,this.La.filter(function(a,d){return b(a,d,c);}));};a.prototype.p1=function(a){for(var b=this.La.length - 1;0 <= b;--b){a(this.La[b],b,this);}};a.prototype.usa=function(a){for(var b=this.La.length - 1;0 <= b;--b){if(a(this.La[b],b,this))return !0;}return !1;};a.prototype.RJ=function(a){if(this.empty || a < this.Rc || a >= this.de)return -1;for(var b=0,c=this.La.length - 1,d;c > b;){d=Math.floor((c + b) / 2);if(a >= this.La[d].Rc && a < this.La[d].de){c=d;break;}a < this.La[d].de?c=d - 1:b=d + 1;}return c;};a.prototype.VOa=function(a){a=this.RJ(a);return 0 <= a?this.La[a]:void 0;};a.prototype.TZ=function(a){var b;b=this.La[a].xb;for(a+=1;a < this.La.length && b === this.La[a].Za;++a){b=this.La[a].xb;}a < this.La.length?void 0 === this.rh?this.rh=new k.aC(this,{xb:b}):this.rh.qU(b):void 0 === this.rh?this.rh=new k.aC(this,{}):this.rh.Iga();};a.prototype.zH=function(a,b){for(var c=a;c < b;++c){this.yc+=this.La[c].ba;}void 0 === this.rh || 0 === a?this.TZ(0):this.rh.xb === this.xb?this.TZ(a - 1):this.La[a].Za === this.rh.xb && this.TZ(a);};a.prototype.jw=function(a,b){var c;if(0 === a)(this.rh=void 0,b < this.length && this.TZ(b));else {c=this.rh;c.xb > this.La[a - 1].xb && (b < this.length?c.qU(this.La[a - 1].xb):c.Iga());}for(;a < b;++a){this.yc-=this.La[a].ba;}};a.prototype.DO=function(a,b){void 0 === b && (b=a + 1);this.zH(a,b);};a.prototype.gea=function(a,b){void 0 === b && (b=a + 1);this.jw(a,b);};return a;})();b.KV=g;d.Ze(a.bC,g);d.Ze(a.YB,g);},function(d,b,a){var c,l,k,g,f,h,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.Bua=void 0;c=a(0);l=c.__importStar(a(8));a(5);d=a(38);k=c.__importDefault(a(3));g=c.__importDefault(a(109));f=a(70);h=a(81);q=a(171);u=k["default"].Um;a=(function(a){function b(b,c,d,h,l,k,g){var m;m=this;m=["cache","edit"].filter(function(a,b){return [k,h.xa][b];});m=m.length?"(" + m.join(",") + ")":"";void 0 === h.responseType && (h.responseType=u.Yb && !u.Yb.UL.LC?0:1);m=a.call(this,b,d,m,h,l,c,g) || this;f.Kh.$a(m,b,h);m.NGa=h.DEb;m.dg.on(m,u.he.V0b,m.Ggb);m.dg.on(m,u.he.U0b,m.Fgb);return m;}c.__extends(b,a);b.prototype.$a=function(a){q.$B.prototype.$a.call(this,a);this.tc || !this.yd.$Z && this.vc || (this.tc=g["default"].yf());};b.prototype.Tu=function(){var a;a={start:this.offset,end:this.offset + this.ba - 1};void 0 !== this.Qb && 0 <= this.Qb && void 0 !== this.Pb && (this.zO=this.$Ga(this.zO,!0),a={start:0,end:-1});return u.prototype.open.call(this,this.zO,a,this.yO,{},void 0,void 0,this.hFa);};b.prototype.u7=function(){var a,b,c;if(this.complete)return 0;a=this.v_a;b=a.N;if(!a.url)return (this.G.warn("updateurl, missing url for streamId:",a.Da,"mediaRequest:",this,"stream:",a),1);c=this.$Ga(a.url,!1);return this.url === c || (b.x6(this,a.location,a.Nc),this.SU(c))?0:(this.G.warn("swapUrl failed: ",this.nE),2);};b.prototype.hP=function(){this.pd || (this.pd=!0,this.ip=this.track.ip(),this.rE(this),this.Dm=0,this.Em=this.sd);};b.prototype.Vda=function(){var a;a=this.sd;this.oA(this);this.Em=a;};b.prototype.Wda=function(){var a;a=this.sd;this.sE(this);this.Em=a;this.Dm=this.bf;};b.prototype.Ggb=function(){var a;a=this.vEb;this.Ng=!0;this.tc && (this.tc.EF(a,{requestId:this.wo(),ze:this.Zb,type:this.I}),this.tc.ara(a));};b.prototype.gP=function(){var a;a=this.sd;this.tc && this.Ng && this.tc.GF(k["default"].time.aa(),this.Ng,{requestId:this.wo(),ze:this.Zb,type:this.I});this.Ng=this.pd=!1;this.ds(this);this.Em=a;this.Dm=this.bf;this.cc();};b.prototype.Fgb=function(){this.tc && (this.tc.$t(this.B6b,this.vEb,this.uEb,{requestId:this.wo(),ze:this.Zb,type:this.I}),this.tc.GF(this.uEb,this.Ng,{requestId:this.wo(),ze:this.Zb,type:this.I}));this.Ng=!1;};b.prototype.FFa=function(a,b,c,d){return void 0 === a || void 0 === b || void 0 === c?0:b < c?0:a < c?d:a - c;};Object.defineProperties(b.prototype,{vUb:{get:function(){return l.Y(this.Qb) || 0 > this.Qb || l.Y(this.Pb)?0:this.FFa(this.Qb,this.Pb - 1,this.NGa,this.yd.s4);},enumerable:!1,configurable:!0}});b.prototype.$Ga=function(a,b){var c,d;if(l.Y(this.Qb) || 0 > this.Qb || l.Y(this.Pb))return a;c=[];d=this.FFa(this.Qb,this.Pb - 1,this.NGa,this.yd.s4);c.push("ptsRange/" + this.Qb + "-" + (this.Pb - 1));0 < d && b && c.push("timeDelay/" + d);a=a.split("?");b=a[0];for(var d="",f=0;f < c.length;f++){d+="/" + c[f];}return a[1]?b + (d + "?" + a[1]):b + d;};return b;})(h.ZB);b.Bua=a;d.Ze(f.Kh,a,!1);},function(d,b,a){var c,l,k,g,f,h,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.Hua=void 0;c=a(0);l=a(94);k=a(5);c.__importDefault(a(3));g=a(9);f=a(247);h=a(70);q=a(244);u=a(81);d=(function(a){function b(c,d,f,l,k,g){d=a.call(this,c,l,k,d,g) || this;d.qeb=f;d.QY=b.jC.INIT;d.F3b=l.offset;d.Dda=h.Kh.prototype.toString.call(d) + " multiple";d.Rgb=l.ba;d.yI(c.url,l.offset,8,0);return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{data:{get:function(){return this.Tp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ba:{get:function(){return this.Rgb;},enumerable:!1,configurable:!0}});b.prototype.Oj=function(a){var c,d;this.Tp=this.QY === b.jC.INIT?a.response:g.Vz(this.Tp,a.response);a.QT();switch(this.QY){case b.jC.INIT:c=new DataView(this.Tp);d=c.getUint32(0);c=c.getUint32(4);l.hz(c);this.yI(a.url,a.offset + a.ba,d,0);f.XB.prototype.Oj.call(this,a);this.QY=b.jC.Iza;break;case b.jC.Iza:c=new DataView(this.Tp);d=c.getUint32(this.EFa - 8);c=c.getUint32(this.EFa - 4);l.hz(c);this.yI(a.url,a.offset + a.ba,d - 8,0);this.QY=b.jC.Dza;f.XB.prototype.Oj.call(this,a);break;case b.jC.Dza:f.XB.prototype.Oj.call(this,a);break;default:k.assert(!1);}};b.prototype.DD=function(a){if(this.ye)return {status:u.Ji.zv};if(!this.rs())return {status:u.Ji.ERROR};this.ye=a.appendBuffer(this.Tp,g.np(this));return {status:this.ye?u.Ji.zv:u.Ji.ERROR};};b.prototype.yI=function(a,b,c,d){a=new q.bN(this.stream,this.qeb,this.Dda + " (" + this.ya.length + ")",{u:this.u,I:this.I,Da:this.Da,U:this.U,offset:b,ba:c,url:a,location:this.location,Zb:this.Zb,responseType:d},this,this.yd,this.G);this.push(a);this.EFa=this.ya.reduce(function(a,b){return a + b.ba;},0);};b.jC={INIT:0,Iza:1,Dza:2,name:["INIT","MOOF","MDAT"]};return b;})(f.XB);b.Hua=d;},function(d,b,a){var c,l,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.Sua=void 0;c=a(0);a(5);d=a(38);l=c.__importDefault(a(3));k=c.__importDefault(a(109));g=a(70);a=a(81);f=l["default"].Um;a=(function(a){function b(b,c,d,f,h,l,k){f.responseType=0;d=a.call(this,b,d,"",f,h,c,k) || this;g.Kh.$a(d,b,f);d.boa=c.boa;d.coa=c.coa;d.qja=0;return d;}c.__extends(b,a);b.prototype.$a=function(){this.tc || (this.tc=k["default"].yf());};b.prototype.Tu=function(){return f.prototype.open.call(this,this.zO,{start:this.offset,end:this.offset + Math.min(this.coa,Math.floor(this.boa * this.ba)) - 1},this.yO,{},void 0,void 0,void 0);};b.prototype.abort=function(){return !0;};b.prototype.hP=function(){var a;a=this.sd || this.ae;this.pd || (this.pd=!0,this.qja=a);};b.prototype.Vda=function(){this.qja=this.sd;};b.prototype.Wda=function(){};b.prototype.gP=function(){var a;a=this.sd;this.tc && this.tc.$t(this.bf,this.qja,a,{requestId:this.wo(),ze:this.Zb,type:this.I,yG:!0});this.Ng=this.pd=!1;this.cc();};b.prototype.oI=function(){this.dg && this.dg.clear();};return b;})(a.ZB);b.Sua=a;d.Ze(g.Kh,a,!1);},function(d,b,a){var l,k,g,f,h,q,u,r,v,n,y,B,p,J;function c(a,b,d,f){var l,k;h.assert(a.ul,"Current time: " + r["default"].time.aa() + " cr: " + a.currentTime);h.assert(a.currentTime.isFinite());l=d.Fa(a.currentTime);l=Math.max(Math.ceil(l.NYa / a.speed),0);k=null !== f && void 0 !== f?f:{id:void 0,hNa:l,UWa:0,fKb:l};k.id=setTimeout(function(){d.Fa(a.currentTime).QE(g.S.lb)?b():(k.UWa++,c(a,b,d,k));},l);k.hNa=l;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.pO=void 0;l=a(0);k=a(16);g=a(21);f=a(249);h=a(5);q=a(19);u=a(922);r=l.__importDefault(a(3));v=a(175);n=a(923);y=a(924);B=a(145);p=(function(){function a(){this.complete();}Object.defineProperties(a.prototype,{jG:{get:function(){return this.vea;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xWa:{get:function(){return this.$fb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{lrb:{get:function(){return this.eeb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xra:{get:function(){return this.Nhb;},enumerable:!1,configurable:!0}});a.prototype.set=function(a,b,c){this.eeb=b === J.jL?0:r["default"].time.aa();this.$fb=a;this.Nhb=b;q.ma && h.assert(!this.vea,"Invalid replacement of timeout value");this.vea=c;};a.prototype.complete=function(){this.vea=void 0;this.set(g.S.ux,J.jL);};return a;})();(function(a){a[a.jL=0]="none";a[a.LVa=1]="microTask";a[a.setTimeout=2]="setTimeout";})(J || (J={}));d=(function(a){function b(b,c,d){var h;void 0 === d && (d="unknown");h=a.call(this) || this;h.ta=b;h.console=c;h.name=d;h.Yfb=0;h.xda=!1;h.Aj=new p();h.Y0=new k.qg();h.cl=new f.hX([],u.OLa(function(a,b){return a.TL.qk(b.TL);},function(a,b){return a.dG.id > b.dG.id?1:a.dG.id < b.dG.id?-1:0;}));h.BJa(b);return h;}l.__extends(b,a);Object.defineProperties(b.prototype,{WRb:{get:function(){return this.ta.ul;},enumerable:!1,configurable:!0}});b.prototype.AMa=function(a,b){a=new (a.bind.apply(a,l.__spread([void 0],b)))();a.id=this.Yfb++;a.xkb(this);this.$ea(a);return a;};b.prototype.iJ=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return this.AMa(n.Qya,a);};b.prototype.$wb=function(){var a;a={hasSchedule:! !this.Aj.jG,schedule:this.Aj.jG && ({sleepTime:this.Aj.jG.hNa,originalSleepTime:this.Aj.jG.fKb,clockSkewAdjustments:this.Aj.jG.UWa}),nextWakeup:this.Aj.xWa.da,timeScheduled:this.Aj.lrb,scheduleType:J[this.Aj.xra],numTasks:this.cl.length,clock:{ir:this.ta.ul,ct:this.ta.currentTime.da,sp:this.ta.speed}};q.ma && this.trace("audit",a);return a;};b.prototype.e0=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return this.AMa(y.SDa,a);};b.prototype.BJa=function(a){var b;b=this;this.Rz();this.Y0.clear();this.ta=a;this.Y0.on(a,"stopStart",function(){return b.ML();});this.Y0.on(a,"clockReset",function(){return b.O4();});this.Y0.on(a,"speedChanged",function(){return b.RJb();});this.O4();this.emit("clockChanged");};b.prototype.RJb=function(){this.Rz();this.ML();};b.prototype.Tb=function(){this.reset();};b.prototype.reset=function(){this.Rz();this.cl.clear();};b.prototype.O4=function(){var a,b;a=this;b=this.cl.map(function(a){return a.dG;});this.Rz();this.cl.clear();b.forEach(function(b){return a.$ea(b,!1);});this.ML();};b.prototype.$ea=function(a,b){var c,d;void 0 === b && (b=!0);c=a.F4();d=this.Y2a(c);a={dG:a,TL:d,P5:c};h.assert(!this.cl.contains(a));this.cl.push(a);b && this.ML();};b.prototype.ML=function(){var a,b,d,f,h;a=this;q.ma && this.trace("recheck schedule task count:" + this.cl.length);if(this.WRb){if(this.xda)q.ma && this.trace("already executing, bailing");else {f=this.Aj.xWa;h=null !== (d=null === (b=this.cl.Vu()) || void 0 === b?void 0:b.TL) && void 0 !== d?d:g.S.ux;h.isFinite() && h.I4(f)?(this.Rz(!1),this.ta.currentTime.ql(h)?(this.Aj.set(h,J.LVa),Promise.resolve().then(function(){a.Aj.xra === J.LVa && (a.Aj.complete(),a.T_a());})):(q.ma && this.trace("scheduling next wake up for:" + h.da),b=c(this.ta,function(){a.Aj.complete();a.T_a();},h),this.Aj.set(h,J.setTimeout,b))):h.isFinite() || this.Aj.xra !== J.setTimeout || this.Rz(!1);}}else (q.ma && this.trace("should check schedule is false, stopping"),this.Rz());};b.prototype.T_a=function(){var a,b,c,d;c=0;d=null === (a=this.cl.Vu()) || void 0 === a?void 0:a.P5;try{for(this.xda=!0;1E4 > c++ && this.tVb();){;}}finally{this.xda=!1;this.Rz();1E4 < c && !this.xBb(d)?null === (b=this.console) || void 0 === b?void 0:b.error("Task scheduler executed more than 10000 iterations in same tick"):this.ML();}};b.prototype.xBb=function(a){var b,c;c=null === (b=this.cl.Vu()) || void 0 === b?void 0:b.P5;return a && c && a.timestamp.equal(c.timestamp) && a.type === c.type?!1:!0;};b.prototype.tVb=function(){var a,b,c,d;d=null !== (b=null === (a=this.cl.Vu()) || void 0 === a?void 0:a.TL) && void 0 !== b?b:g.S.ux;q.ma && this.trace("tryExecuteNextTask @" + this.ta.currentTime.da + ", next wakeup at " + d);if(this.ta.currentTime.ql(d) && (a=this.cl.pop())){b=a.dG;q.ma && this.trace("Running a task @" + this.ta.currentTime.da + ", scheduled for time:" + d.da);try{b.zB();a.P5=b.F4();a.TL=this.Y2a(a.P5);}catch(Z){throw (null === (c=this.console) || void 0 === c?void 0:c.error("Unhandled error from a task occurred. Removing the task from future executions:" + Z),b.Tb(),Z);}finally{a.TL !== g.S.ux && b.state === v.$k.b6 && (h.assert(!this.cl.contains(a)),this.cl.push(a));}return !0;}};b.prototype.APb=function(a){h.assert(a.ah === this);this.Rqa(a,!1);this.$ea(a);};b.prototype.Rqa=function(a,b){var c;void 0 === b && (b=!0);c=this.cl.find(function(b){return b.dG === a;});c && this.KOb(c,b);};b.prototype.KOb=function(a,b){this.cl.remove(a);b && this.ML();};b.prototype.Rz=function(a){void 0 === a && (a=!0);this.Aj.jG && (a && this.emit("stopping"),clearTimeout(this.Aj.jG.id),this.Aj.complete());};b.prototype.Y2a=function(a){return a.type === B.Gba.absolute?a.timestamp:a.timestamp.add(this.ta.currentTime);};b.prototype.trace=function(){for(var a,b=[],c=0;c < arguments.length;c++){b[c]=arguments[c];}null === (a=this.console) || void 0 === a?void 0:a.trace.apply(a,l.__spread(["TaskScheduler(" + this.name + "):"],b));};return b;})(k.EventEmitter);b.pO=d;},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.OLa=void 0;c=a(0);l=a(19);k=a(5);b.OLa=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}l.ma && k.assert(a.length);return function(b,d){var f,h,g,m;try{for(var l=c.__values(a),k=l.next();!k.done;k=l.next()){g=k.value;m=g(b,d);if(0 !== m)return m;}}catch(I){f={error:I};}finally{try{k && !k.done && (h=l["return"]) && h.call(l);}finally{if(f)throw f.error;}}return 0;};};},function(d,b,a){var c,l,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.Qya=void 0;c=a(0);l=a(21);k=a(5);g=a(175);f=a(145);d=(function(a){function b(b){var c;c=a.call(this) || this;c.ZPb=b;c.reset();return c;}c.__extends(b,a);b.prototype.reset=function(){var a,b;if(this.we === g.$k.b6 || this.we === g.$k.Jn)null === (b=null === (a=this.JY) || void 0 === a?void 0:a["return"]) || void 0 === b?void 0:b.call(a);this.we=g.$k.Jn;this.JY=this.ZPb();this.Sda=f.Sl.AV(l.S.lb);};b.prototype.Im=function(){this.reset();k.assert(this.CP);this.CP.APb(this);};b.prototype.F4=function(){return this.Sda;};b.prototype.Oe=function(){var a,b,c;c=this.JY.next();c.done?(this.Sda=f.Sl.Uta,null === (b=(a=this.JY)["return"]) || void 0 === b?void 0:b.call(a)):this.Sda=c.value;};b.prototype.Tb=function(){var b,c;null === (c=(b=this.JY)["return"]) || void 0 === c?void 0:c.call(b);a.prototype.Tb.call(this);};return b;})(g.Vba);b.Qya=d;},function(d,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.SDa=void 0;c=a(0);l=a(175);k=a(145);d=(function(a){function b(b,c){var d;d=a.call(this) || this;d.aQb=b;d.oQ=c;return d;}c.__extends(b,a);b.prototype.F4=function(){return this.we === l.$k.Jn?this.aQb:k.Sl.Uta;};b.prototype.Oe=function(){this.oQ();};return b;})(l.Vba);b.SDa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.XDa=void 0;c=a(173);a(21);d=(function(){function a(a,b){this.Gg=a;this.console=b;this.cD=Infinity;this.HO=this.uZ=0;this.iIa=!1;}a.prototype.YOb=function(){this.iIa=!0;};a.prototype.Evb=function(a,b,d,h,l){var f;if(this.Gg){f=a.$;if(f){if(1 === d)(d=f.qm(this.Gg * a.wa.da,void 0,!0),f=a.ej(d),f.bi({start:0,end:this.Gg - d * f.K0.So(a.wa)}),this.cD=this.Gg);else {void 0 !== h.J1a?(b=h.J1a,d=b * a.wa.da):(d=c.zka(h,l) + h.Kkb * a.wa.da,d=b + d,b=Math.ceil(d / a.wa.da));d=f.qm(d,void 0,!0);for(l=h=0;l < d;++l){f=a.ej(l);h+=f.K0.So(a.wa);}h=b - h;f=a.ej(d);f.bi({end:h});this.cD=b;}f.cVa();return f;}}};a.prototype.qCb=function(a){this.HO+=a.x_a;this.console.warn("StallAtFrameCount, adding frames: " + a.x_a,"total frames: " + this.HO,"needed frames: " + this.cD);};a.prototype.qBb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.uZ,"needed: " + this.cD);return this.uZ >= this.cD;};a.prototype.pBb=function(){return this.HO >= this.cD;};a.prototype.sCb=function(a,b){this.uZ+=this.tA(a,b);};a.prototype.zub=function(a,b,c){a.x_a=this.tA(b,c);};a.prototype.tA=function(a,b){return a.K0.So(b.wa);};a.prototype.Sw=function(){if(!this.pBb())return !1;if(this.iIa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.HO + " >= " + this.cD);return !0;};return a;})();b.XDa=d;},function(d,b,a){var c,l,k,g,f,h,q,u,r,v,n;Object.defineProperty(b,"__esModule",{value:!0});b.bY=void 0;d=a(0);c=d.__importStar(a(8));l=d.__importDefault(a(25));k=d.__importDefault(a(3));g=a(34);f=a(17);h=a(250);q=a(927);u=new k["default"].Console("ASEJS_STREAM_SELECTOR","media|asejs");r=[f.oa[f.oa.oh],f.oa[f.oa.cd],f.oa[f.oa.mf],f.oa[f.oa.Uc],f.oa[f.oa.uj],"checkBuffering"];v={first:a(928),random:a(929),optimized:a(176)["default"],roundrobin:a(933),selectaudio:a(419),selectaudioadaptive:a(934),"default":a(176)["default"],lowest:a(935),highest:a(936),throughputthreshold:a(937),replay:a(938)["default"],checkdefault:a(940),testscript:a(941)};n={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var w60;w60=2;function a(a,b,c,d){var x60,f;x60=2;for(;x60 !== 6;){switch(x60){case 2:var y9g="1SIYbZr";y9g+="NJ";y9g+="Cp9";f=this;this.eM=a;this.H=b;this.Yf=c;y9g;a=a || this.H.N6;this.Jf=r.reduce(function(b,c){var y60;y60=2;for(;y60 !== 5;){switch(y60){case 2:b[c]=((v[a] || v[n[c]])[c] || v[n[c]][c]).bind(f);return b;break;}}},{});x60=7;break;case 7:d && (this.IXa=new q.mBa(b));x60=6;break;}}}for(;w60 !== 14;){switch(w60){case 2:a.prototype.l6=function(a,b,d,m,q,r){var z60,T,A60,D,p,v,n,A,y,B,I,J,t;z60=2;for(;z60 !== 48;){switch(z60){case 31:I.$ && I.$.length || (m=!0,T.ax.push(I.Da));z60=30;break;case 21:I.$ && I.$.length || (m=!0,T.ax.push(I.Da));z60=35;break;case 8:z60=0 < J?7:13;break;case 44:this.Yf.csa(T.Vd);m=b[T.Vd];T.reason && (m.Vq=T.reason,m.mU=T.Bu,m.wx=T.wx,m.rl=T.rl,m.sl=T.sl);z60=41;break;case 41:var f9g="d";f9g+="e";f9g+="fau";f9g+="l";f9g+="t";var Z9g="defau";Z9g+="l";Z9g+="t";var V9g="de";V9g+="fau";V9g+="lt";var N9g="p";N9g+="lay";N9g+="ing";this.IXa && (T.Ds=this.IXa.rzb({ym:m.N.zs[m.I],UI:d.sk - d.ad}));c.qa(p) && m.U < b[p].U && (this.Eda=d.$b);a.state !== f.oa.Uc && a.state !== f.oa.uj?(b=h.o5(a.state),r=this.Sw(a.buffer,b,a.playbackRate,m,r),(T.tg=r.complete)?T.y_=r.reason:(T.tg=!1,T.IF=r.IF,T.TA=r.TA,T.yi=r.yi)):(T.tg=!0,T.y_=N9g);a.YQ && (T.$b=d.$b,r=a && a.xg,b=m.$,T.Wh=b && void 0 !== r && !isNaN(r) && 0 <= r && r < b.length?b.oj(r):d.$b,T.bMb=m.Ka || 0,T.XIb=m.ib && m.ib.Ka && m.ib.Ka.Ca || 0,T.dga=d.sk - d.ad,T.BKa=d.Fi,T.LLb=null !== (A=null === (n=null === (v=k[V9g].S5b) || void 0 === v?void 0:v.call(k[Z9g])) || void 0 === n?void 0:n[1 === a.I?1:0]) && void 0 !== A?A:-1,T.kB=a.state,T.hn=a && a.hn,T.sta=y,T.gUb=k[f9g].time.aa());return T;break;case 28:return null;break;case 30:m || (T.ax=void 0);z60=29;break;case 53:z60=A60 === f.oa.mf?54:52;break;case 16:z60=T.Sn && (T.ax=[],b.forEach(function(a,b){var D60;D60=2;for(;D60 !== 4;){switch(D60){case 2:a === T.Sn && (T.Vd=b);(!B.Ptb || a.$ && a.$.length) && !a.Dsa || T.ax.push(a.Da);a.Dsa=!1;D60=4;break;}}}),!T.ax.length)?15:29;break;case 35:z60=!m?34:30;break;case 36:z60=A60 === f.oa.cd?54:53;break;case 50:z60=49;break;case 49:var G9g="Stream selector";G9g+=" c";G9g+="al";G9g+="led with invalid p";G9g+="layer state ";return (u.error(G9g + f.oa[a.state]),null);break;case 22:I=b[q];z60=21;break;case 34:q=T.Vd - 1;z60=33;break;case 18:var d9g="de";d9g+="f";d9g+="ault";this.Yf.Q0a(l[d9g].GW.oh);z60=17;break;case 17:T=this.Jf[f.oa[a.state]].call(this,B,a,b,p,m,! !q);z60=16;break;case 54:var q9g="de";q9g+="fau";q9g+="lt";this.Yf.Q0a(l[q9g].GW.oh);z60=17;break;case 29:z60=!T || null === T.Vd?28:44;break;case 19:this.Ida=this.Eda=void 0;z60=18;break;case 33:z60=0 <= q?32:30;break;case 20:A60=a.state;z60=A60 === f.oa.oh?19:36;break;case 7:(D=I[J - 1].Da,p=g.Dw(b,function(a){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:return a.Da === D;break;case 4:return a.Da !== D;break;B60=1;break;}}}));z60=6;break;case 6:z60=!(0 <= p)?14:13;break;case 2:var X9g="d";X9g+="e";X9g+="fau";X9g+="l";X9g+="t";d=null === a || void 0 === a?void 0:a.buffer;(y=k[X9g].time.aa(),B=this.H,p=this.Yf.qS);z60=4;break;case 24:q=T.Vd + 1;z60=23;break;case 13:c.Y(p) && (p=this.Yf.qS);void 0 !== m && this.aqa(b,! !a.Bq,a.buffer,m);a.state === f.oa.oh && c.qa(p) && (a.state=f.oa.cd);a.state !== f.oa.oh && void 0 === p && (a.state=f.oa.oh);z60=20;break;case 23:z60=q < b.length?22:35;break;case 15:q=d.sk - d.ad;I=void 0;m=!1;z60=25;break;case 4:c.qa(p) && a.state === f.oa.oh && (this.Yf.csa(void 0),p=void 0);c.qa(p) && p >= b.length && (this.Yf.csa(void 0),p=void 0);(I=d.$,J=I.length);z60=8;break;case 32:I=b[q];z60=31;break;case 14:(t=I[J - 1].U,p=g.Dw(b,function(a){var C60;C60=2;for(;C60 !== 1;){switch(C60){case 2:return a.U > t;break;}}}),p=0 < p?p - 1:0 === p?0:b.length - 1);z60=13;break;case 52:z60=A60 === f.oa.Uc?17:51;break;case 25:z60=B.y1a && q > B.TS?24:30;break;case 51:z60=A60 === f.oa.uj?17:50;break;}}};a.prototype.Sw=function(a,b,c,d,f){var E60;E60=2;for(;E60 !== 1;){switch(E60){case 2:return this.Jf.checkBuffering.call(this,a,b,c,d,f,this.H);break;}}};a.prototype.lTb=function(a,b,d){var F60;F60=2;for(;F60 !== 1;){switch(F60){case 2:c.Y(b)?this.Eda=this.Ida=void 0:b.U < d.U && (this.Ida=a);F60=1;break;}}};w60=4;break;case 4:a.prototype.aqa=function(a,b,c,d){var G60,f,h;G60=2;for(;G60 !== 5;){switch(G60){case 2:this.p1(a,function(a){var H60;H60=2;for(;H60 !== 1;){switch(H60){case 2:a.ss && a.ib && a.ib.Pd?(f !== a.ib && (f=a.ib,b && a.ib && (a.ib.Bq=!0),h=Math.floor(d(a.ib,c,a.track.N.zs[0])),h=0 === h?1:h),a.Ka=h):a.Ka=void 0;H60=1;break;}}});G60=5;break;}}};a.prototype.p1=function(a,b){var I60,c;I60=2;for(;I60 !== 3;){switch(I60){case 8:a000.J9b(6);var o41=a000.X9b(15,13,2,4);c=a.length % o41;I60=6;break;I60=1;break;case 2:c=a.length - 1;I60=1;break;case 1:I60=0 <= c?5:3;break;case 4:--c;I60=1;break;case 5:b(a[c],c,a);I60=4;break;}}};w60=9;break;case 9:Object.defineProperties(a.prototype,{B3:{get:function(){var J60;J60=2;for(;J60 !== 1;){switch(J60){case 2:return this.Eda;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ena:{get:function(){var K60;K60=2;for(;K60 !== 1;){switch(K60){case 2:return this.Ida;break;case 4:return this.Ida;break;K60=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qS:{get:function(){var L60;L60=2;for(;L60 !== 1;){switch(L60){case 2:return this.Yf.qS;break;case 4:return this.Yf.qS;break;L60=1;break;}}},enumerable:!1,configurable:!0}});return a;break;}}})();b.bY=a;},function(d,b,a){var l;function c(a){return a.ym;}Object.defineProperty(b,"__esModule",{value:!0});b.mBa=void 0;new (a(0).__importDefault(a(3))["default"].Console)("ASEJS_PACERATE_SELECTOR","media|asejs");l={maxStreamBitrate:c,"static":function(a,b){return b.WSb;},"default":c};d=(function(){var M60;M60=2;function a(a){var N60;N60=2;for(;N60 !== 4;){switch(N60){case 9:this.H=a;"";N60=8;break;N60=5;break;case 2:var h9g="1SIYbZ";h9g+="rNJC";h9g+="p9";this.H=a;h9g;N60=5;break;case 5:var P9g="def";P9g+="a";P9g+="u";P9g+="l";P9g+="t";this.algorithm=(l[this.H.rKb] || l[P9g]).bind(this);N60=4;break;}}}for(;M60 !== 5;){switch(M60){case 2:a.prototype.rzb=function(a){var O60,b,c;O60=2;for(;O60 !== 4;){switch(O60){case 2:(b={AQ:0,jMa:0,nha:0},c=this.H.Bnb);a.UI && a.UI > c.WS && (a=this.algorithm(a,this.H),c.MT[0] && (b.AQ=c.MT[0] * a),c.MT[1] && (b.jMa=c.MT[1] * a),c.MT[2] && (b.nha=c.MT[2] * a));return b;break;}}};return a;break;}}})();b.mBa=d;},function(d,b,a){var l,k,g,f;function c(a,b,c,d){if(l.Y(d))a=k(c);else if(g(c[d]))a=d;else if((a=k(c,d),0 > a))return null;return new f(a);}l=a(8);b=a(37);k=b.nja;g=b.DK;f=b.lo;d.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var l;function c(a,b,c){a=c.map(function(a,b){return a.ss?b:null;}).filter(function(a){return null !== a;});return a.length?new l(a[Math.floor(Math.random() * a.length)]):null;}l=a(37).lo;d.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var c,l,k,g,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.j6=void 0;d=a(0);c=d.__importStar(a(8));l=a(34);d=d.__importDefault(a(37));k=a(418);g=d["default"].assert;f=d["default"].lo;b.j6=h;(function(){var P60;P60=2;function a(a,b,d,h){var Q60,m,q,r,u,v;Q60=2;for(;Q60 !== 7;){switch(Q60){case 3:d.Sn=m;r !== m && (d.reason=v,d.Bu=u);return d;break;case 2:var Y9g="select_f";Y9g+="easible_";Y9g+="buf";Y9g+="ferin";Y9g+="g";var T9g="fallback_lowest_accept";T9g+="able_";T9g+="str";T9g+="eam";var J9g="Must have at least one se";J9g+="l";J9g+="ected stream";g(!c.Y(h),J9g);(m=d[h],q=m.U,r=m);m.Ka && (m=l.Pg(d.slice(0,Math.min(h + (a.Qjb?2:1),d.length)).reverse(),k),void 0 === m?(m=d[0],v=T9g):v=Y9g,u=null === m || void 0 === m?void 0:m.Ka);d=new f();Q60=3;break;}}function k(c){var R60,d;R60=2;for(;R60 !== 8;){switch(R60){case 1:R60=!d || (c.U > q?a.uWb:1) * c.U * b.playbackRate > d?5:4;break;case 5:return !1;break;case 4:var r9g="buff_l";r9g+="t_";r9g+="hist";v=r9g;u=d;return !0;break;case 2:d=c.Ka;R60=1;break;}}}}for(;P60 !== 5;){switch(P60){case 2:var S9g="1";S9g+="S";S9g+="IYbZrNJCp9";b.j6=h=function(b,c,d,f,h,l){var S60;S60=2;for(;S60 !== 1;){switch(S60){case 2:var K9g="p";K9g+="l";K9g+="a";K9g+="yin";K9g+="g";return K9g === b.bga?k.hv.call(this,b,c,d,f,h,l):a.call(this,b,c,d,f);break;}}};S9g;P60=5;break;}}})();},function(d,b,a){var c;a(8);c=a(37).console;d.exports=function(a,b,d,f,h,g,u,r,v,n,y,B,p,J,D){var u3f=a000;var T60,k,m,q,A,I,l,t,ha;T60=2;for(;T60 !== 38;){switch(T60){case 21:T60=!D && (a=u - d,a < J)?35:34;break;case 43:t=a;T60=42;break;case 35:return {result:!1,CS:a / (l / 1E3),pu:!1};break;case 31:y-=q;T60=30;break;case 33:u3f.J9b(7);d+=u3f.P9b(0,q,B,g);u+=A;T60=31;break;case 42:f=Math.min(a,f);T60=15;break;case 11:d+=a;0 === u && (d=0);u3f.T9b(8);d*=u3f.P9b(1E3,l);T60=19;break;case 25:T60=y < q?24:41;break;case 24:t=Math.max(q,n);T60=23;break;case 5:b=Math.min(a.length,b);(k=a.Yd,m=a.sizes,I=f - d);f=Infinity;T60=9;break;case 39:return {result:!0,CS:f / (l / 1E3),pu:!0};break;case 29:(y+=m[ha],++ha,h+=k[ha]);T60=30;break;case 27:q=m[r];A=k[r];T60=25;break;case 41:T60=(a=Math.max(u - d,0),a < p && a < t)?40:33;break;case 13:var R9g=" >= fr";R9g+="agmen";R9g+="t";R9g+="sLength";R9g+=": ";var w9g="S";w9g+="tream";w9g+="ingIn";w9g+="de";w9g+="x: ";u3f.J9b(8);g=u3f.P9b(1E3,l);r >= b && c.error(w9g + r + R9g + b);T60=11;break;case 44:T60=r >= v && a > I?39:43;break;case 19:u3f.T9b(8);u*=u3f.P9b(1E3,l);u3f.T9b(8);J*=u3f.X9b(1E3,l);u3f.J9b(8);p*=u3f.P9b(1E3,l);T60=16;break;case 34:u3f.T9b(3);a=u3f.X9b(u,d);T60=33;break;case 30:T60=h < d && ha < r?29:28;break;case 2:var u9g="1";u9g+="SI";u9g+="YbZrNJCp9";u9g;l=a.R;T60=5;break;case 16:u3f.J9b(8);I*=u3f.P9b(1E3,l);T60=15;break;case 28:++r;T60=44;break;case 15:T60=r < b?27:39;break;case 9:(t=0,ha=0);a=a.Yd[0];u3f.T9b(9);h=u3f.X9b(1E3,h,a,l);u3f.T9b(10);a=u3f.X9b(8,B,g,0);u3f.J9b(11);B=u3f.P9b(B,0,8);T60=13;break;case 40:return {result:!1,CS:Math.min(a,f) / (l / 1E3),pu:!0};break;case 22:(d=h,y+=m[ha],++ha,a=k[ha],h+=a);T60=23;break;case 23:T60=y < t?22:21;break;}}};},function(d,b,a){var c,l,k,g,f,h,q,u,r,v,n;Object.defineProperty(b,"__esModule",{value:!0});b.kDb=b.p0a=void 0;c=a(0);l=c.__importDefault(a(82));k=c.__importStar(a(8));g=a(34);f=a(393);h=c.__importDefault(a(3));d=c.__importDefault(a(108));a=c.__importDefault(a(37));q=a["default"].NHb;u=a["default"].Ulb;r=a["default"].N_;v=a["default"].lo;n=d["default"].msa;a=(function(){function t(a,b,c){var g70,d;g70=2;for(;g70 !== 7;){switch(g70){case 2:var o9g="v";o9g+="b";var Q9g="d";Q9g+="e";Q9g+="fau";Q9g+="l";Q9g+="t";d=h[Q9g].storage.get(o9g);g70=1;break;case 1:var x9g="n";x9g+="u";x9g+="m";x9g+="b";x9g+="er";g70=x9g !== typeof d?5:4;break;case 5:return a.NP?m(a,b,c):p(a,b,c);break;case 4:a=new v();a.Sn=g.Pg(c.slice().reverse(),function(a){var h70;h70=2;for(;h70 !== 1;){switch(h70){case 2:return a.U <= d;break;case 4:return a.U >= d;break;h70=1;break;}}}) || c[0];g70=9;break;case 9:var I9g="hist_bi";I9g+="t";I9g+="ra";I9g+="t";I9g+="e";a.reason=I9g;return a;break;}}}var U60;function c(a,b){var X60,c,d;X60=2;for(;X60 !== 13;){switch(X60){case 1:(c=a.R2,d=g.Dw(c,function(a){var Y60;Y60=2;for(;Y60 !== 1;){switch(Y60){case 2:return b <= a.r;break;}}}));X60=5;break;case 4:return c[0].d;break;case 2:X60=a.R2?1:14;break;case 5:X60=0 === d?4:3;break;case 8:a000.J9b(3);a=c[a000.P9b(d,1)];c=c[d];X60=6;break;case 6:return Math.floor(a.d + (c.d - a.d) * (b - a.r) / (c.r - a.r));break;case 9:return c[c.length - 1].d;break;case 14:return a.Iq;break;case 3:X60=-1 === d?9:8;break;}}}function d(a,b){var I3f=a000;var Z60,c;Z60=2;for(;Z60 !== 9;){switch(Z60){case 5:c=b.aM;Z60=4;break;case 7:I3f.J9b(12);var q41=I3f.P9b(41,60,15);I3f.J9b(3);var r41=I3f.X9b(905,17);I3f.T9b(13);var s41=I3f.P9b(14,9234,513,9248);a=r(a,q41,r41) * s41;Z60=8;break;Z60=1;break;case 4:return (c=b.q0a[c]) && 2 === c.length?1E3 * (c[0] + c[1] * Math.log(1 + a)):b.Iq;break;case 1:var t9g="l";t9g+="o";t9g+="g";Z60=0 === b.aM.lastIndexOf(t9g,0)?5:3;break;case 2:I3f.J9b(14);var t41=I3f.X9b(8,4,19,100008,300045);a=r(a,0,t41) / 1E3;Z60=1;break;case 14:c=b.aM;Z60=0;break;Z60=4;break;case 3:var L9g="si";L9g+="gmoi";L9g+="d";return 0 === b.aM.lastIndexOf(L9g,0)?(c=b.aM,(c=b.q0a[c]) && 2 === c.length?1E3 * (c[0] + c[1] * n(a)):b.Iq):b.Iq;break;}}}U60=2;for(;U60 !== 5;){switch(U60){case 3:"";U60=9;break;U60=1;break;case 2:var U9g="1";U9g+="S";U9g+="IYbZ";U9g+="rNJC";U9g+="p9";U9g;U60=1;break;case 1:return {Shb:function(a,b,c){var i70;i70=2;for(;i70 !== 1;){switch(i70){case 2:var k9g="hi";k9g+="st";k9g+="or";k9g+="ical";return k9g === a.hma?t(a,b,c):a.NP?m(a,b,c):p(a,b,c);break;}}},rfb:A};break;}}function a(a,b){var V60,c,d;V60=2;for(;V60 !== 12;){switch(V60){case 7:V60=(d=k.qa(b.k6) && 0 <= b.k6 && 100 >= b.k6 && !k.Y(a) && !k.ab(a))?6:14;break;case 2:var a9g="d";a9g+="ef";a9g+="aul";a9g+="t";c=new v();c.Sn=a;a=c.Sn.ib || ({});c.sl=a.kk && a.pj;c.rl=a.kk?a.kk:0;a=l[a9g](c.sl,{});V60=7;break;case 6:(d=f.rEa.uzb(a),k.uc(d)?(a.si=d,d=!0):d=!1);V60=14;break;case 14:var e9g="hi";e9g+="st_throug";e9g+="hp";e9g+="ut";var D9g="hist_";D9g+="tdige";D9g+="st";d?(b=a.si(b.k6 / 100) || c.Sn.Ka,c.Bu=b,c.reason=D9g):c.Sn.Ka && (b=c.Sn.Ka,c.Bu=b,c.reason=e9g);return c;break;}}}function p(a,d,f){var d70,h,l;d70=2;for(;d70 !== 4;){switch(d70){case 2:(h=new v(),l=Math.max(a.Nu,a.k4,d.j3?a.uoa:-Infinity));h.Sn=g.Pg(f.filter(function(b){var e70;e70=2;for(;e70 !== 1;){switch(e70){case 2:return b.U <= a.Ox;break;}}}).reverse(),function(f){var f70,g,m,k;f70=2;for(;f70 !== 13;){switch(f70){case 5:f=f.U * d.playbackRate;g=k.Ka;f70=3;break;case 3:f70=g?9:6;break;case 1:f70=f.U > l?5:14;break;case 9:m=c(a,f);f70=8;break;case 2:k={Ka:f.Ka,kk:f.ib && f.ib.kk,pj:f.ib && f.ib.pj};f70=1;break;case 7:return k;break;case 8:var H9g="h";H9g+="i";H9g+="s";H9g+="t_bu";H9g+="fftime";b(f,g,a) <= m?(h.Bu=g,k && (h.rl=k.kk?k.kk:0,h.sl=k.kk && k.pj),h.reason=H9g,k=!0):k=!1;f70=7;break;case 6:k=!1;f70=7;break;case 14:var F9g="no_histor";F9g+="ical";F9g+="_lte";F9g+="_minbitrate";var b9g="hist_";b9g+="tput_lt";b9g+="_minbitrate";var l9g="lt";l9g+="_hist";l9g+="_lte_minbit";l9g+="rate";(g=k.Ka,f.U * d.playbackRate <= g?(h.Bu=g,k && (h.rl=k.kk?k.kk:0,h.sl=k.kk?k.pj:void 0),h.reason=l9g,k=!0):g?(h.Bu=g,k && (h.rl=k.kk?k.kk:0,h.sl=k.kk?k.pj:void 0),h.reason=b9g,k=!1):(h.reason=F9g,k=!0));f70=7;break;}}}) || f[0];return h;break;}}}function A(a,b,c,d,f,h){var c70;c70=2;for(;c70 !== 5;){switch(c70){case 2:var m9g="no";m9g+="_valid_";m9g+="B";m9g+="itrat";m9g+="e";var n9g="n";n9g+="o_valid_";n9g+="VMAF";var z9g="no_";z9g+="va";z9g+="lid_Delay";z9g+="Target";a=c?a.rb >= h.cL && a.rb <= h.wVa:a.U >= h.Nu && a.U <= h.Ox;return (d=d < f && a)?{g1:d}:{g1:d,reason:a?z9g:c?n9g:m9g};break;}}}function m(c,f,h){var a70,q,g,r,u,l,m;a70=2;for(;a70 !== 13;){switch(a70){case 1:a70=0 <= m && (l?h[m].rb >= c.cL:h[m].U >= c.Nu)?5:7;break;case 5:(q=h[m],g=a(q,c),r=b(q.U * f.playbackRate,g.Bu,c),u=d(g.Bu,c),u=A(q,0,l,r,u,c),q=u.g1,u=u.reason);g.wx=r;a70=3;break;case 9:g.reason=u;a70=8;break;case 2:(l=! !c.cL && ! !c.wVa && h.every(function(a){var b70;b70=2;for(;b70 !== 1;){switch(b70){case 2:return a.rb && 110 >= a.rb;break;}}}),g=null,m=h.length - 1);a70=1;break;case 8:m--;a70=1;break;case 3:a70=q?7:9;break;case 7:var v8g="fall";v8g+="back_no_acceptable_";v8g+="stream";k.ab(g) && (g=a(h[0],c));k.ab(g) && (g=a(h[0],c),g.reason=v8g);return g;break;}}}function b(a,b,c){var W60;W60=2;for(;W60 !== 5;){switch(W60){case 2:a=u(c.jj,a * c.koa);return q(a,b);break;}}}})();d=a.rfb;b.p0a=a.Shb;b.kDb=d;},function(d,b,a){var l,k,g,f;function c(a,b,c){var d,h;d=this.Gda;b=b.buffer.$b;h="forward" === a.IPb;if(l.Y(d))return (d=h?k(c):k(c,c.length),this.Hda=b,this.Gda=d,new f(d));g(c[d]) || (d=k(c,d),this.Hda=b,this.Gda=d);if(0 > d)return null;if(b > this.Hda + a.rUb){a=c.map(function(a,b){return a.ss?b:null;}).filter(function(a){return null !== a;});if(!a.length)return null;h?d=(a.indexOf(d) + 1) % a.length:(d=a.indexOf(d) - 1,0 > d && (d=a.length - 1));this.Gda=a[d];this.Hda=b;return new f(a[d]);}return new f(d);}l=a(8);b=a(37);k=b.nja;g=b.DK;f=b.lo;d.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){(function(){var j70,k,g,f,h,q,u,r,v,n,y;j70=2;for(;j70 !== 4;){switch(j70){case 2:var g8g="1S";g8g+="IYbZ";g8g+="r";g8g+="NJC";g8g+="p9";(k=a(8),g=a(37),f=g.console,h=g.debug,q=g.assert,u=a(82),r=g.DK,v=g.lo,n=a(419),y=a(17).oa);d.exports={STARTING:function(a,c,d,l){var q70,k,g;q70=2;for(;q70 !== 6;){switch(q70){case 5:q70=(g=a && a.DM && 0 <= a.DM.indexOf(g)?b(g,a.v2a):b(g,a.Lkb))?4:3;break;case 3:var p8g=" kbps, ";p8g+="profi";p8g+="le";p8g+=" :";var s8g="selectAudioSt";s8g+="reamSta";s8g+="rting: selected ";s8g+="stream :";a=n[y[y.oh]](k,c,d,l);d=d[a.Vd];h && f.log(s8g + d.U + p8g + d.vg);return a;break;case 2:k=a;g=d[l || 0].vg;q70=5;break;case 4:var M8g="selectAudioStrea";M8g+="mStarting: overriding co";M8g+="nfig with ";(k={minInitAudioBitrate:a.VS,minHCInitAudioBitrate:a.US,maxInitAudioBitrate:a.HS,minRequiredAudioBuffer:a.p4},h && f.log(M8g + JSON.stringify(g)),u(g,k));q70=3;break;}}},BUFFERING:l,REBUFFERING:l,PLAYING:l,PAUSED:l};g8g;j70=4;break;}}function l(a,b,c,d){var m70,l,n,p,I,J,u,A,y,B,g,m;m70=2;for(;m70 !== 33;){switch(m70){case 6:m70=0 > A?14:13;break;case 12:var W8g=" kbps";W8g+=", try to down";W8g+="switch";var C8g=" ";C8g+="k";C8g+="bp";C8g+="s <";C8g+=" ";var i8g="through";i8g+="put f";i8g+="or audio ";(h && f.log(i8g + y + C8g + B.FNa + "*" + n + W8g),--A);m70=11;break;case 2:var c8g="Must have at least one s";c8g+="elected st";c8g+="ream";q(!k.Y(d),c8g);l=c[d].vg;m70=5;break;case 14:g=0;m70=22;break;case 26:m70=++A < m.length?25:22;break;case 24:g=n;m70=22;break;case 23:var j8g="m";j8g+="s";var A8g=", b";A8g+="uf";A8g+="fer leve";A8g+="l ";A8g+="= ";var O8g=",";O8g+=" lastUpswitc";O8g+="hPts =";O8g+=" ";var B8g="  Up";B8g+="switch not allowed. l";B8g+="astDownswit";B8g+="chPts ";B8g+="= ";h && f.log(B8g + J + O8g + I + A8g + p + j8g);m70=22;break;case 4:return new v(d);break;case 11:m70=0 <= A?10:22;break;case 13:m70=A && y < B.FNa * n * b.playbackRate?12:17;break;case 10:(n=m[A],p=c[n]);m70=20;break;case 18:A--;m70=11;break;case 19:g=n;m70=22;break;case 22:var q8g="kbp";q8g+="s, str";q8g+="eamin";q8g+="gPts ";q8g+=":";var d8g=", audi";d8g+="o through";d8g+="put:";var G8g=" kbps, pr";G8g+="o";G8g+="file :";var f8g="selec";f8g+="tAudioStream: selected stre";f8g+="am :";var Z8g=" ";Z8g+="k";Z8g+="bp";Z8g+="s";var V8g=" k";V8g+="b";V8g+="ps, to ";var N8g="switching audio";N8g+=" f";N8g+="rom ";var y8g="d";y8g+="o";y8g+="w";y8g+="n";var E8g="u";E8g+="p";y=c[g];g !== d && h && f.log((g > d?E8g:y8g) + N8g + u.U + V8g + y.U + Z8g);h && f.log(f8g + y.U + G8g + l + d8g + y.Ka + q8g + b.buffer.$b);return new v(g);break;case 16:(I=this.ena,J=this.B3);m70=15;break;case 17:var P8g=" ";P8g+="k";P8g+="b";P8g+="p";P8g+="s";var h8g=" kb";h8g+="p";h8g+="s";h8g+=" > ";var X8g="throughp";X8g+="u";X8g+="t for audio";X8g+=" ";m70=A < m.length - 1 && y > B.K3a * n * b.playbackRate && (h && f.log(X8g + y + h8g + B.K3a + "*" + n + P8g),n=b.buffer,p=n.sk - n.ad,u.$ && u.$.length)?16:22;break;case 5:m70=!(a && a.DM && 0 <= a.DM.indexOf(l))?4:3;break;case 7:(u=c[d],n=u.U,A=m.indexOf(d),y=u.Ka,B=a.Nkb);m70=6;break;case 15:m70=b.OA && p > B.Hx && (void 0 === J || Number(I) > J || n.$b - J > B.K3)?27:23;break;case 27:var Y8g=",";Y8g+=" streami";Y8g+="ngPts ";Y8g+="= ";var T8g=", las";T8g+="tU";T8g+="pswitchPts = ";var J8g="  Upswitch allowed. l";J8g+="astDow";J8g+="nswitchPt";J8g+="s";J8g+=" = ";h && f.log(J8g + J + T8g + I + Y8g + n.$b);m70=26;break;case 25:m70=(n=m[A],p=c[n],r(p) && y > B.K3a * p.U * b.playbackRate)?24:26;break;case 8:m70=m && 1 < m.length?7:22;break;case 3:g=d;a.v2a.some(function(d){var n70,f,h,k,g,q,r;n70=2;for(;n70 !== 9;){switch(n70){case 2:(f=d.profiles,h=f && 0 <= f.indexOf(l));n70=1;break;case 5:(k=(d=d.tL) && d.p4 || a.p4,g=d && d.l7b || -Infinity,q=d && d.QK || Infinity,r=b.buffer.iq);n70=4;break;case 1:n70=h?5:3;break;case 6:n70=h?8:8;break;n70=h?5:3;break;case 3:return h;break;case 4:m=c.filter(function(a){var o70,b;o70=2;for(;o70 !== 5;){switch(o70){case 2:b=a.U;return b >= g && b <= q && 0 <= f.indexOf(a.vg) && b * k / 8 < r;break;}}}).map(function(a){var p70;p70=2;for(;p70 !== 1;){switch(p70){case 2:return a.Xf;break;case 4:return a.Xf;break;p70=1;break;}}});n70=3;break;}}});m70=8;break;case 20:m70=r(p) && (0 == A || p.U * b.playbackRate * B.FNa < y)?19:18;break;}}}function b(a,b){var k70,c;k70=2;for(;k70 !== 4;){switch(k70){case 2:c=void 0;b.some(function(b){var l70,d;l70=2;for(;l70 !== 4;){switch(l70){case 2:d=b.profiles;(d=d && 0 <= d.indexOf(a)) && (c=b.override);return d;break;}}});return c;break;}}}})();},function(d,b,a){var l;function c(){return new l(0);}a(8);l=a(37).lo;d.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var l;function c(a,b,c){return new l(c.length - 1);}a(8);l=a(37).lo;d.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){(function(){var r70,l,k,g,f;r70=2;for(;r70 !== 7;){switch(r70){case 2:var r8g="d";r8g+="efau";r8g+="lt";l=a(8);a(25);k=a(37);a(3);(g=k.assert,f=k.lo,k=a(176)[r8g]);r70=9;break;case 9:var K8g="1SIYbZ";K8g+="r";K8g+="N";K8g+="JC";K8g+="p9";d.exports={STARTING:k.STARTING,BUFFERING:k.BUFFERING,REBUFFERING:k.REBUFFERING,PLAYING:b,PAUSED:b};K8g;r70=7;break;}}function b(a,b,c,d){var s70,h;s70=2;for(;s70 !== 12;){switch(s70){case 2:var w8g="player missin";w8g+="g";w8g+=" fragmentIndex";var S8g="M";S8g+="ust have at least";S8g+=" one selected";S8g+=" stream";g(!l.Y(d),S8g);g(l.qa(b.xg),w8g);b=f(d);s70=4;break;case 3:s70=-1 < d?9:14;break;case 4:a000.T9b(3);var v41=a000.P9b(19,18);d=c.length - v41;s70=3;break;case 9:h=c[d];s70=8;break;case 7:return (b.Vd=d,b);break;case 14:b.Vd=0;return b;break;case 6:--d;s70=3;break;case 8:s70=h.ib && h.ib.Ka && h.U < h.ib.Ka.Ca - a.oUb?7:6;break;}}}})();},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(939);b["default"]={PLAYING:d.hv,PAUSED:d.hv};},function(d,b,a){var c,l,k,g,f,h,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.hv=void 0;d=a(0);c=d.__importStar(a(8));l=d.__importDefault(a(37));k=d.__importDefault(a(176));g=a(70);f=d.__importDefault(a(3));h=l["default"].assert;q=l["default"].lo;b.hv=u;(function(){var t70;t70=2;for(;t70 !== 5;){switch(t70){case 2:var I8g="1";I8g+="SIYbZ";I8g+="r";I8g+="NJCp";I8g+="9";b.hv=u=function(a,b,d,l,m,u){var u70,y,xa,O,F,Q,ca,r,v,n,A,fa,B,p,I,t,ha,aa,sa;u70=2;for(;u70 !== 68;){switch(u70){case 3:r=v[0].qq;y=v[v.length - 1].qq;u70=8;break;case 19:n.Vd=v[A].NPb;u70=18;break;case 53:xa=Q.get(O);F.push({d:xa.duration,s_:xa.ba});u70=51;break;case 10:A=y;u70=20;break;case 36:O=b.xg;u70=54;break;case 62:return n;break;case 40:fa=void 0;ha.ib && ha.ib.tputTrace && (fa=ha.ib.tputTrace);(F=[],Q=ha.$,ca=0);u70=37;break;case 35:u70=B < d.length?34:63;break;case 59:u70=B < A?58:74;break;case 57:u70=y < v.length?56:75;break;case 74:--y;u70=73;break;case 73:u70=0 <= y?72:75;break;case 55:r=y;u70=75;break;case 49:u70=O < Q.length?48:46;break;case 50:O=b.xg;u70=49;break;case 2:var u8g="playe";u8g+="r ";u8g+="missing fragmentIndex";var R8g="Must ha";R8g+="ve at least o";R8g+="ne selected s";R8g+="tream";h(!c.Y(l),R8g);h(c.qa(b.xg),u8g);(v=a.mTb,n=new q(l),A=null !== (r=b.xg) && void 0 !== r?r:-1);u70=3;break;case 31:fa=ha.ib.tdigest;sa.push(fa.min);sa.push(fa.V4);sa.push(fa.Jk);u70=44;break;case 46:var Q8g="d";Q8g+="e";Q8g+="f";Q8g+="aul";Q8g+="t";Q=void 0;b.lQ && (Q=f[Q8g].time.aa() - b.lQ);m.push({xg:b.xg,d9b:Q,$6b:ca,Z3b:aa,a9b:sa,c9b:fa,dga:u,G5b:v,w4b:F,C6b:A.U,D6b:null !== (p=A.rb) && void 0 !== p?p:0,J4b:ha.U,K4b:null !== (I=ha.rb) && void 0 !== I?I:0,D8b:r.U,E8b:null !== (t=r.rb) && void 0 !== t?t:0,MA:y});u70=64;break;case 18:n.Sn=d[n.Vd];u70=17;break;case 76:y++;u70=57;break;case 61:var o8g="d";o8g+="ef";o8g+="au";o8g+="l";o8g+="t";return k[o8g].PLAYING.call(this,a,b,d,l,m,u);break;case 63:n.RJa=m;u70=62;break;case 54:u70=O < Math.min(O + a.Qkb,Q.length)?53:50;break;case 11:u70=B === A?10:60;break;case 21:B=0;u70=35;break;case 6:a000.J9b(3);y=a000.X9b(A,r);0 > y && (y=0);y >= v.length && (y=v.length - 1);B=v[y].qq;u70=11;break;case 16:m=[];u=b.buffer;u=u.sk - u.ad;v=g.Kh.xMa(b.buffer.$);v=b.buffer.iq - v.ba;A=d[l];u70=22;break;case 69:y--;u70=73;break;case 8:u70=A < r || A > y?7:6;break;case 41:sa.push(fa.max);u70=40;break;case 37:u70=void 0 !== Q?36:46;break;case 75:A=r;u70=20;break;case 56:u70=v[y].qq === A?55:77;break;case 7:var x8g="d";x8g+="efau";x8g+="lt";return k[x8g].PLAYING.call(this,a,b,d,l,m,u);break;case 77:u70=v[y].qq > A?75:76;break;case 60:r=void 0;u70=59;break;case 20:u70=void 0 !== A?19:61;break;case 48:ca+=Q.get(O).duration;u70=47;break;case 72:u70=v[y].qq === A?71:70;break;case 71:r=y;u70=75;break;case 47:O++;u70=49;break;case 44:sa.push(fa.kj);sa.push(fa.Kk);sa.push(fa.W4);u70=41;break;case 22:r=d[l];u70=21;break;case 58:y+=1;u70=57;break;case 34:(ha=d[B],y=B <= l?!0:!1,aa=void 0,sa=[]);ha.ib && ha.ib.throughput && (aa=ha.ib.throughput.Ca);u70=32;break;case 32:u70=ha.ib && ha.ib.tdigest?31:40;break;case 64:B++;u70=35;break;case 70:u70=v[y].qq < A?75:69;break;case 17:u70=a.jub?16:62;break;case 51:O++;u70=54;break;}}};I8g;t70=5;break;}}})();},function(d,b,a){(function(){var v70,b;v70=2;for(;v70 !== 8;){switch(v70){case 2:var a8g="1";a8g+="SIYbZr";a8g+="NJCp9";a(8);a(25);a(37);b=a(17).ac;d.exports={checkBuffering:function(a,c,d,f,h,g){var w70,J,q,k,m,n,B,p;function l(b){var x70;x70=2;for(;x70 !== 5;){switch(x70){case 2:b=f.$.i1(a.ad + b,void 0,!0);return (B - a.Pj) / (B + (b.offset + b.ba) - p);break;}}}w70=2;for(;w70 !== 39;){switch(w70){case 7:q=g.jj * (m?g.Eqa:1);g.eub && f.ib && f.ib.ai && f.ib.ai.Ca > g.Ana && (q+=g.afa + f.ib.ai.Ca * g.zpa);h && (q+=h.Sr * g.bfa);q=n?Math.min(n,q):q;w70=12;break;case 9:w70=c <= g.Fna && (0 < c || !g.$ia)?8:7;break;case 21:q=f.$.Yd(h);g=Math.min(h + Math.floor(g.OT / q),f.$.length - 1);(J=f.$.Eh(g),q=8 * p * d / c - a.ad);w70=33;break;case 33:--g;w70=32;break;case 12:w70=!c?11:10;break;case 3:var t8g="ma";t8g+="xsiz";t8g+="e";return {complete:!0,reason:t8g};break;case 31:m=f.$.get(g);J=8 * J * d / c - m.X - q;w70=29;break;case 32:w70=g > h?31:42;break;case 2:(k=a.sk - a.ad,m=c === b.mf);c=f.Ka || 0;(q=0,n=g.Lta && !m?g.YA:g.$na,n=Math.min(g.Px,n));w70=4;break;case 10:B=0;a.$.forEach(function(b){var y70;y70=2;for(;y70 !== 1;){switch(y70){case 2:B+=b.X + b.duration > a.ad?b.ba:0;y70=1;break;}}});d=Math.max(d,1);m=d * f.U;w70=17;break;case 29:w70=0 < J?28:44;break;case 8:return {complete:!1,TA:!0};break;case 23:w70=c > m * g.f1?22:21;break;case 44:J=m.offset;w70=43;break;case 11:return {complete:!1,IF:q};break;case 28:return (q=Math.min(n,k + J),{complete:!1,IF:q,yi:l(q)});break;case 42:var L8g="n";L8g+="oreb";L8g+="uff";return {complete:!0,reason:L8g};break;case 41:0 < c && c < m && (q=Math.min(n,Math.max(g.OT * (m / c - 1),q)));return {complete:!1,IF:q,yi:l(q)};break;case 22:var U8g="high";U8g+="t";U8g+="p";return {complete:!0,reason:U8g};break;case 4:w70=k >= n?3:9;break;case 24:w70=k >= q?23:41;break;case 26:var k8g="o";k8g+="ut";k8g+="of";k8g+="rang";k8g+="e";return {complete:!0,reason:k8g};break;case 15:h=f.$.qm(a.$b);w70=27;break;case 27:w70=-1 === h?26:25;break;case 16:return (c < m && (q=Math.min(n,Math.max(g.OT * (m / c - 1),q))),{complete:!1,IF:q,yi:0});break;case 43:--g;w70=32;break;case 25:p=f.$.Eh(h);w70=24;break;case 17:w70=!f.$ || !f.$.length?16:15;break;}}}};a8g;v70=8;break;}}})();},function(d,b,a){var l,k,g,f,h,q;function c(a,b,c){h=c;q=c.map(function(a,b){return b;});if(null === f)return (a=k(c),f=c[a].U,new g(a));if(!c.length)return null;a=q.filter(function(a){return c[a].U == f;})[0];return void 0 === a?(l.log("Defaulting to first stream due to unvalid bitrate requested: " + f),new g(q[0])):new g(a);}b=a(37);a=a(3)["default"];l=b.console;k=b.nja;g=b.lo;f=null;h=null;q=null;a.Nmb && (a.Nmb.uy={$a:function(){q=h=f=null;},l6:function(a){f=a;},X5b:function(){return {all:h,e4a:q};}});d.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var c,l,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.KAa=b.gya=b.S8a=void 0;c=a(0);l=a(19);k=c.__importDefault(a(3));g=a(9);d=(function(){return function(a,b,c){var d;c=g.Fu(k["default"],c,"[" + a + "]");this.UVa=1 === a?b.r4:b.l4;d=k["default"].pl()[a];this.RK=1 === a?b.BGb:b.oGb;this.RK=Math.min(b.vGb * d,this.RK);l.ma && c.trace("This pipeline's buffer size ",d,this.RK);this.aL=(1 === a?b.dL:b.ZK) || b.aL;this.IS=(1 === a?b.AGb:b.nGb) || b.IS;this.hfa=b.hfa;};})();b.S8a=d;a=(function(a){function b(b,c,d,f){c=a.call(this,c,d,f) || this;c.iT=b;return c;}c.__extends(b,a);b.prototype.rQa=function(a,b,c){var d,f;d=a.$;a=a.ej(b);a.dT=b + 1;if(!a.xa)for(++b;b < d.length && b < c.Bg.index && (a.duration < this.aL || 0 !== b % this.iT);++b){f=d.get(b);if(a.duration + f.duration > this.IS)break;if(a.ba + f.ba > this.RK)break;a.ffa(f);a.dT=b + 1;l.ma && c.ik("getFragmentForHudsonRequest: extended fragment startPts:",a.X,"to duration:",a.duration,"size:",a.ba,"index: ",b,"min request size in ms:",this.aL);}a.DEb=c.Kb.wCb + (k["default"].time.aa() - c.Kb.CCb);l.ma && c.ik("getFragmentForHudsonRequest( " + b + ") returning: " + JSON.stringify(a));return a;};return b;})(d);b.gya=a;d=(function(a){function b(b,c,d){return a.call(this,b,c,d) || this;}c.__extends(b,a);b.prototype.rQa=function(a,b,c,d){var f,h,k,g,m;k=a.$;g=b === c.Sf.index;m=b === c.Bg.index;!m || g && c.Sf.xa?g?(g=a.pQa(c.Sf),g.vU(c.Sf.Xs),m && (c.Sf.xa || c.Bg.xa) && g.bi({start:null === (f=g.xa) || void 0 === f?void 0:f.start,end:null === (h=c.Bg.xa) || void 0 === h?void 0:h.end})):g=a.ej(b):(g=a.pQa(c.Bg),g.vU(c.Bg.Xs));m && (g.cVa(),g.sRb(c.Kb.W));g.dT=b + 1;if(!d && (this.hfa || !g.xa))for(++b;b < k.length && b < c.Bg.index && (g.ba < this.UVa || g.duration < this.aL) && (1 === g.stream.Ch.length || this.tmb(a,b));++b){d=k.get(b);if(g.duration + d.duration > this.IS)break;if(g.ba + d.ba > this.RK)break;g.ffa(d);g.dT=b + 1;l.ma && c.ik("getFragmentForRequest: extended fragment startPts:",g.X,"to duration:",g.duration,"size:",g.ba,"min request size:",this.UVa,"max request size:",this.RK,"min request duration:",this.aL,"max request duration:",this.IS,"edit:",g.xa);}l.ma && c.ik("getFragmentForRequest( " + b + ") returning: " + JSON.stringify(g) + ", stream: " + JSON.stringify(g.stream));return g;};b.prototype.tmb=function(a,b){return !a.Ch.some(function(a){return b === a.xg;});};return b;})(d);b.KAa=d;},function(d,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.RBa=void 0;c=a(0);l=a(9);g=a(944);m=a(5);d=(function(){function a(a){var b,c,d,f,h,l,g;b=this;c=a.config;d=a.N;f=a.Xe;h=a.W;l=a.xh;g=a.jm;a=a.splice;this.VSa=this.sQ=!1;this.aLa=function(){b.sQ || b.TIa() && b.FWa();};this.config=c;this.Xe=f;this.N=d;this.W=h;this.xh=l;this.jm=g;this.splice=a;}a.prototype.$a=function(a){if(this.sQ)throw Error("Cannot call init() after cleanup");if(this.VSa)throw Error("Cannot call init() twice");this.VSa=!0;this.gXa=a;this.N.IA.addListener("onHeaderFragments",this.aLa);this.TIa() && this.FWa();};a.prototype.cc=function(){this.sQ || (this.sQ=!0,this.gXa=void 0,this.N.IA.removeListener("onHeaderFragments",this.aLa));};a.prototype.FWa=function(){var a,b,c;if(!this.sQ){b=this.sIb();c=!1;this.W && !this.W.kL && (c=this.Poa());null === (a=this.gXa) || void 0 === a?void 0:a.call(this,b,c);this.cc();}};a.prototype.TIa=function(){return this.Xe.every(function(a){return a.track.pe;});};a.prototype.sIb=function(){var a,b;a=c.__read(g.GWa(this.config,this.Xe,this.xh,this.jm,this.splice),2);b=a[0];return a[1] || void 0 === this.Xe.Ua(1) && b;};a.prototype.Poa=function(){var a,b;m.assert(this.W);m.assert(!this.W.kL);a=this.Xe.w5;b=g.IWa(this.config,a,this.W.Tk);if(void 0 === b || void 0 === a.jm)return !1;a=this.jm && !this.jm.equal(l.S.ux)?a.jm:l.S.ux;this.W.normalize(b,a);return !0;};return a;})();b.RBa=d;},function(d,b,a){var l,g;function c(a,b,c,d,l){var f,h;c=null !== (f=b.Sf) && void 0 !== f?f:b.track.tn(a,c.da,void 0,l);a=null !== (h=b.Bg) && void 0 !== h?h:b.track.qE(a,null === d || void 0 === d?void 0:d.da,b.Gg);return [!b.yn(),c,a];}Object.defineProperty(b,"__esModule",{value:!0});b.IWa=b.GWa=void 0;l=a(0);g=a(9);b.GWa=function(a,b,d,k,u){var f,h,m,q;f=b.Ua(0);b=b.Ua(1);h=l.__read(b?c(a,b,d,k,u):[!1],3);m=h[0];q=h[1];h=h[2];k=l.__read(f?c(a,f,m && void 0 !== (null === q || void 0 === q?void 0:q.X)?g.S.ec(q.X):d,void 0 !== (null === h || void 0 === h?void 0:h.sa)?g.S.ec(null === h || void 0 === h?void 0:h.sa):k,u):[!1],3);a=k[0];d=k[1];k=k[2];a && (null === f || void 0 === f?void 0:f.uK(d,k));m && (null === b || void 0 === b?void 0:b.uK(q,h));return [a,m];};b.IWa=function(a,b,c){return b.track.tn(a,c.da,void 0,!0).xh;};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.QBa=void 0;c=a(5);d=(function(){function a(a){var b;b=this;void 0 === a && (a=[]);this.Xe=a;a.forEach(function(a){return b.Fta(a);});}Object.defineProperties(a.prototype,{length:{get:function(){return this.Xe.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{w5:{get:function(){var a;return null !== (a=this.Sta) && void 0 !== a?a:this.Cfa;},enumerable:!1,configurable:!0}});a.prototype.Ua=function(a){return 1 === a?this.Sta:this.Cfa;};a.prototype.every=function(a){return this.Xe.every(a);};a.prototype.some=function(a){return this.Xe.some(a);};a.prototype.forEach=function(a){this.Xe.forEach(a);};a.prototype.reduce=function(a,b){return this.Xe.reduce(a,b);};a.prototype.filter=function(b){return new a(this.Xe.filter(b));};a.prototype.replace=function(a,b){var d;d=this.Xe.indexOf(a);c.assert(-1 < d);c.assert(a.I === b.I);this.Xe[d]=b;this.Fta(b);};a.prototype.L0a=function(a,b){(a=this.Ua(a))?this.replace(a,b):this.add(b);};a.prototype.add=function(a){this.Xe.push(a);this.Fta(a);};a.prototype.clear=function(){this.Xe=[];this.Cfa=this.Sta=void 0;};a.prototype.Fta=function(a){1 === a.I?this.Sta=a:this.Cfa=a;};return a;})();b.QBa=d;},function(d,b,a){var c,l,g,m,f,h,q,u,r;Object.defineProperty(b,"__esModule",{value:!0});b.Xza=void 0;c=a(0);d=c.__importDefault(a(108));l=c.__importDefault(a(3));g=a(251);m=a(252);f=d["default"].N_;h=d["default"].rnb;q=d["default"].AOa;u=d["default"].Hub;r=d["default"].XPb;new l["default"].Console("ASEJS_PREDICTOR","media|asejs");a=(function(a){var z70;z70=2;function b(b,c){var A70,d;A70=2;for(;A70 !== 12;){switch(A70){case 2:d=a.call(this,b,c) || this;d.gy=function(a,b){var B70;B70=2;for(;B70 !== 1;){switch(B70){case 4:return m.gy(d.config,a,b);break;B70=1;break;case 2:return m.gy(d.config,a,b);break;}}};A70=5;break;case 9:d.clb=f(b.Gr.gamma || 1,.1,10);d.filter=b.Gr.filter;d.tSb=! !b.Gr.simpleScaling;A70=6;break;case 5:d.DT=function(a,b,c){var C70,f,h,l,g,k,m;C70=2;for(;C70 !== 13;){switch(C70){case 2:c=null !== c && void 0 !== c?c:d.QK;m=null !== (h=null === (f=a.Ka) || void 0 === f?void 0:f.Ca) && void 0 !== h?h:0;f=null !== (g=null === (l=a[d.filter]) || void 0 === l?void 0:l.Ca) && void 0 !== g?g:m;l=Math.pow(Math.max(1 - f / d.ilb,0),d.clb);g=b.sk - b.ad;d.tSb?(b=q(d.JMa,g,1),g=q(d.IMa,g,1),b=b * l + g * (1 - l)):b=q(r(d.JMa,d.IMa,l),g,1);C70=7;break;case 7:a=d.zWa && (null === (k=a[d.zWa]) || void 0 === k?void 0:k.gT);void 0 !== a && (k=u(d.mIb,a),b=Math.min(b * k,1));a000.J9b(15);return d.tNa(a000.P9b(1,m,b),c);break;}}};Array.isArray(b.Gr.curves) && (d.JMa=h(b.Gr.curves[0],0,0,1),d.IMa=h(b.Gr.curves[1],0,0,1));d.ilb=f(b.Gr.threshold || 6E3,1,1E5);A70=9;break;case 6:var D8g="1";D8g+="SIY";D8g+="bZrNJCp9";b.Gr.niqrfilter && b.Gr.niqrcurve && (d.zWa=b.Gr.niqrfilter,d.mIb=h(b.Gr.niqrcurve,1,0,4));D8g;return d;break;}}}for(;z70 !== 5;){switch(z70){case 2:c.__extends(b,a);return b;break;}}})(g.gN);b.Xza=a;},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.RDa=void 0;c=a(0);d=c.__importDefault(a(3));l=a(251);g=a(252);new d["default"].Console("ASEJS_PREDICTOR","media|asejs");a=(function(a){var D70;D70=2;function b(c,d){var E70,f;E70=2;for(;E70 !== 9;){switch(E70){case 5:var e8g="1S";e8g+="IYbZ";e8g+="r";e8g+="NJCp9";f.DT=function(a,c,d){var G70,h;G70=2;for(;G70 !== 3;){switch(G70){case 2:d=null !== d && void 0 !== d?d:f.QK;h=b.gSb(a,f.config);a=a.Ka?a.Ka.Ca * (100 - f.gxb(c,h)) / 100 | 0:0;return f.tNa(a,d);break;}}};e8g;return f;break;case 2:f=a.call(this,c,d) || this;f.gy=function(a,b){var F70;F70=2;for(;F70 !== 1;){switch(F70){case 2:return g.gy(f.config,a,b);break;}}};E70=5;break;}}}for(;D70 !== 3;){switch(D70){case 4:return b;break;case 2:c.__extends(b,a);b.gSb=function(a,b){var H70,c,d;H70=2;for(;H70 !== 4;){switch(H70){case 5:return d;break;case 2:d=! !a.Bq;b.Nsa && (null === (c=a.Ka) || void 0 === c?void 0:c.Ca) < b.wQ && (d=!0);H70=5;break;}}};b.prototype.gxb=function(a,b){var I70,c,d;I70=2;for(;I70 !== 3;){switch(I70){case 2:(c=this.config,d=b?c.dha:c.Mfa);b=b?c.eha:c.Ofa;Array.isArray(b) && (d=g.zOa(b,a.sk - a.ad,c.Nfa));return d;break;}}};D70=4;break;case 14:return b;break;D70=3;break;}}})(l.gN);b.RDa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.bza=void 0;d=(function(){function a(a,b,d,g,f,h,q,u){this.Kb=a;this.sKa=b;this.config=d;this.console=g;this.I=f;this.bb=h;this.Pa=q;this.Fb=u;this.Np=this.hh=!1;}a.prototype.bJ=function(a,b){!this.Kb.W.Ys || this.Fb.hI || this.Fb.nZ && !this.config.jfa || (a-=this.Kb.Hd,this.hh && !this.Np && a + this.config.sUb >= b && 0 === this.Pa.$x && 0 === this.Pa.Zq && 0 === this.Pa.lNb && (b=this.Fb.Qd.N.qb,a=this.Fb.$J(),b + 1 < a || (this.sKa[this.I].o2a || this.bb.ggb(this.I),this.Np=!0,this.sKa[this.I].L4())));};return a;})();b.bza=d;},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.$ya=void 0;c=a(0);l=a(19);d=a(422);g=a(421);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.Nsb=function(b){a.prototype.u3.call(this,{value:b});};b.prototype.jTa=function(){return !0;};b.prototype.xsa=function(){};b.prototype.u3=function(b){a.prototype.u3.call(this,b);b.done && (b=this.tI.i0,l.ma && this.G.trace("Requests drained",{$3b:b && b.W.id}),(b=b && b.Ua(this.qf)) && b instanceof g.$W && b.bJ(this.Kf.qka() || 0));};return b;})(d.Z7);b.$ya=a;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.mva=void 0;c=a(174);l=a(19);d=(function(){function a(a,b,c){this.G=a;this.Cdb=b;this.qf=c;this.HY=0;this.bZ=!1;l.ma && a.trace("BranchRequestIterator [" + this.qf + "]: created");}Object.defineProperties(a.prototype,{qrb:{get:function(){return this.HY;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{i0:{get:function(){return this.OFa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ul:{get:function(){return this.bZ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{trb:{get:function(){return this.ek?this.ek.Ax?"Complete":this.ek.mqa?"WaitingForBranch":"WaitingForRequest":"Uninitialized";},enumerable:!1,configurable:!0}});a.prototype.next=function(){var a,b;a=this;b=this.ek;return b?b.next().then(function(c){if(a.ek !== b)return {done:!0};c.done || a.HY++;return c;}):c.cC.ala();};a.prototype.yPb=function(){this.U1a();this.NNb();};a.prototype.U1a=function(){var a;if(this.ek){a=this.ek;a && a.Tg();a && l.ma && this.G.trace("BranchRequestIterator [" + this.qf + "]: Disposing iterator that was on branch ",this.i0 && this.i0.W.id);this.bZ=!1;this.ek=void 0;}};a.prototype.NNb=function(){var a,b,d,g;a=this;if(!this.bZ){b=this.G;d=this.Cdb;g=this.qf;this.HY=0;this.OFa=void 0;this.ek=c.ru(c.map(d.mRa(),function(c){var d;a.OFa=c;a.HY=0;l.ma && b.trace("BranchRequestIterator [" + a.qf + "]: new branch " + c.W.id);d=c.JR(g);if(d)return {value:d};l.ma && b.error("BranchRequestIterator [" + a.qf + "]: skipping branch " + c.W.id);return {value:[]};},b),b);this.bZ=!0;}};return a;})();b.mva=d;},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.LCa=void 0;c=a(0);l=a(952);g=a(953);d=(function(){function a(a,b,c,d,k,m,n,y){this.I=a;this.jb=c;this.events=k;this.fV=[];this.fV=[new l.cEa(a,b,c,d,k,m,n,"stream")];1 === this.I && this.fV.push(new g.IDa(a,b,c,d,k,m,n,y));}a.prototype.reset=function(){this.fV.forEach(function(a){return a.reset();});};a.prototype.close=function(){this.fV.forEach(function(a){return a.close();});};a.prototype.Rg=function(a){return c.__read(this.fV,1)[0].Rg(a);};return a;})();b.LCa=d;},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.cEa=void 0;c=a(0);l=a(5);g=a(19);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.Jq=function(a){var b,c;b=a.stream;c=a.Qj;a=a.vi;l.assert(void 0 !== c);this.BIa(b,c,a) && g.ma && this.trace("stream " + b.id + ", " + b.U + "kbit/s @ " + c.da + "ms");};b.prototype.YNa=function(a,b){var c,d,f;d=a.nG;f=this.jb.Nq(b);l.assert(void 0 !== f);g.ma && this.trace("emitStreamPresentingEvent @ " + a.timestamp.da + "ms for " + (null === d || void 0 === d?void 0:d.id) + ", " + ((null === d || void 0 === d?void 0:d.U) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.I,playerTimestamp:b,position:f,trackIndex:null === (c=null === d || void 0 === d?void 0:d.track) || void 0 === c?void 0:c.zD,streamIndex:null === d || void 0 === d?void 0:d.Xf});};return b;})(a(423).qba);b.cEa=d;},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.IDa=void 0;c=a(0);l=a(19);g=a(5);d=(function(a){function b(b,c,d,f,l,g,k,m){b=a.call(this,b,c,d,f,l,g,k,"segment") || this;b.pv=m;return b;}c.__extends(b,a);b.prototype.Jq=function(a){var b,c,d;c=a.Qj;a=a.vi;g.assert(void 0 !== c);d=null === (b=this.jb.Nq(c)) || void 0 === b?void 0:b.va;g.assert(void 0 !== d);this.BIa(d,c,a) && l.ma && this.trace("segment " + d + " @ " + c.da + "ms");};b.prototype.YNa=function(a,b){var c,d;c=a.nG;d=this.jb.Nq(b);g.assert(void 0 !== d);l.ma && this.trace("emitSegmentPresentingEvent @ " + a.timestamp.da + "ms for segment " + c);a={type:"segmentPresenting",playerTimestamp:b,position:d};this.pv && (a.metrics=this.pv.yka(c));this.events.emit(a.type,a);};return b;})(a(423).qba);b.IDa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.DDa=void 0;d=(function(){function a(a,b,d,g,f,h,q,u,r,v){var c;c=this;this.id=a;this.N=b;this.X=d;this.PQ=f;this.wk=h;this.Ys=q;this.MJ=u;this.Bl=r;this.od=v;this.AE=function(a){var b,d;return (null === (d=null === (b=c.wk) || void 0 === b?void 0:b[a]) || void 0 === d?void 0:d.eVb) || c.od;};this.sa=g || Infinity;}Object.defineProperties(a.prototype,{fa:{get:function(){return this.N.fa;},enumerable:!1,configurable:!0}});a.prototype.bQa=function(){var a,b,d;a=this;d=Object.keys(this.wk || ({})).filter(function(b){var c,d;return !(null === (d=null === (c=a.wk) || void 0 === c?void 0:c[b]) || void 0 === d || !d.weight);});return d.length?null !== (b=d.map(this.AE).reduce(function(a,b){return a === b?b:void 0;})) && void 0 !== b?b:this.od:this.od;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.Bl + " viewableId: " + this.N.fa + " pts: " + this.X + "-" + this.sa + " defaultKey: " + this.PQ + " dests: " + JSON.stringify(this.wk) + " terminal: " + ! !this.Ys;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.N.fa,"startPts:":this.X,endPts:this.sa,defaultKey:this.PQ,"dests:":this.wk,terminal:! !this.Ys,playlistSegmentId:this.Bl};};return a;})();b.DDa=d;},function(d,b,a){var c,l,g,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.qua=void 0;d=a(0);c=d.__importStar(a(8));l=a(177);g=d.__importDefault(a(956));m=a(395);f=d.__importDefault(a(25));h=d.__importDefault(a(3));a=(function(){var J70;J70=2;function a(a,b,c,d,k,q,n,p,D){var K70,r,M70,u,v,L70;K70=2;for(;K70 !== 32;){switch(K70){case 12:var l8g="d";l8g+="ef";l8g+="ault";var H8g="defa";H8g+="u";H8g+="lt";this.Psa=this.u1a=this.v1a=this.Osa=this.KXa=this.LXa=0;this.oZ=l.xE(k,q);b=this.oGa(c);void 0 !== b && void 0 !== b.Jk && void 0 !== b.kj && void 0 !== b.Kk && (r=(b.Kk - b.Jk) / b.kj);d=k.bT?f[H8g].$e.kC:f[l8g].$e.lC;K70=17;break;case 33:k.J7 && (this.yZ=this.xZ=!1);K70=32;break;case 21:this.$H=new m.bya(n,k,this.G);K70=23;break;case 22:var b8g="L";b8g+="R";K70=L70 === b8g?21:35;break;case 27:this.yda=!1;K70=26;break;case 15:try{M70=2;for(;M70 !== 4;){switch(M70){case 2:var z8g="de";z8g+="f";z8g+="ault";var F8g="d";F8g+="ef";F8g+="aul";F8g+="t";(u=h[F8g].pl(),v=new g[z8g](a,this.G,{bufferSize:u},k));this.tc.cjb(v);this.BHa=v;M70=4;break;}}}catch(V){var n8g="Hindsight: Error ";n8g+="when creating QoE";n8g+="Evaluator: ";a000.T9b(1);a.bb.Bm(a000.P9b(V,n8g));}K70=27;break;case 2:this.G=b;this.tc=d;this.Mb=p;this.lD=D;K70=3;break;case 23:this.yda=this.$H.k3();K70=33;break;case 24:this.$H=new m.UW(n,k,this.G);K70=23;break;case 26:K70=n && 1 < n.length && k.Dia?25:33;break;case 16:K70=this.lD.pq?15:27;break;case 17:c && c.Pd >= d && c.Ka && r && this.mfb(c,b,r);K70=16;break;case 3:var m8g="1S";m8g+="IYb";m8g+="ZrNJCp9";m8g;this.Ya=a;this.wb=this.G.warn.bind(this.G);this.ik=this.G.trace.bind(this.G);this.H=k;a000.T9b(16);var y41=a000.P9b(12,11,15,13999745,1000006);this.QGa=0 === Math.floor(y41 * Math.random()) % k.Yfa;this.ns=this.G2=this.wSa=this.W_=this.Bq=void 0;K70=12;break;case 35:K70=34;break;case 34:this.$H=new m.UW(n,k,this.G);K70=23;break;case 25:var v5g="bas";v5g+="eli";v5g+="ne";L70=k.EBb;K70=L70 === v5g?24:22;break;}}}for(;J70 !== 27;){switch(J70){case 4:a.prototype.Bta=function(a){var Q70;Q70=2;for(;Q70 !== 5;){switch(Q70){case 2:this.H=a;this.oZ.Bta(a);Q70=5;break;}}};a.prototype.zda=function(a,b,d,f){var R70,h;R70=2;for(;R70 !== 7;){switch(R70){case 5:R70=void 0 !== f?4:3;break;case 2:h=this.H;R70=1;break;case 1:var s5g="i";s5g+="q";s5g+="r";R70=a === s5g?5:9;break;case 3:return !1;break;case 9:var p5g="a";p5g+="v";p5g+="g";R70=a === p5g?8:3;break;case 4:return ! !(b.Ka && d && c.qa(f) && b.Ka.Ca < h.wQ && f > h.W9);break;case 8:return b.Ka?b.Ka.Ca < h.wQ:!0;break;}}};a.prototype.xE=function(a){var S70;S70=2;for(;S70 !== 1;){switch(S70){case 2:return 1 === a?this.oZ.DT:this.oZ.gy;break;}}};a.prototype.iM=function(a){var T70;T70=2;for(;T70 !== 1;){switch(T70){case 2:this.oZ.iM(a);T70=1;break;}}};J70=7;break;case 2:Object.defineProperties(a.prototype,{k3:{get:function(){var N70;N70=2;for(;N70 !== 1;){switch(N70){case 4:return this.yda;break;N70=1;break;case 2:return this.yda;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tqa:{get:function(){var O70;O70=2;for(;O70 !== 1;){switch(O70){case 4:return this.BHa;break;O70=1;break;case 2:return this.BHa;break;}}},enumerable:!1,configurable:!0}});a.prototype.R0a=function(a,b,d){var P70;P70=2;for(;P70 !== 4;){switch(P70){case 2:this.ns=a;c.Y(b) || (this.wSa=b);c.Y(d) || (this.G2=d);P70=4;break;}}};J70=4;break;case 20:a.prototype.rvb=function(a){var c80,q,k,u,m,b,d,l,g;c80=2;for(;c80 !== 15;){switch(c80){case 8:b.isConserv=this.Bq;b.ccs=this.W_;b.isLowEnd=this.rDb;b.histdiscbw=this.ns;c80=13;break;case 11:(q=function(a){var e80;e80=2;for(;e80 !== 1;){switch(e80){case 2:return c.qa(a)?Number(a).toFixed(2):-1;break;}}},k=[q(m.min || void 0),q(m.V4 || void 0),q(m.Jk || void 0),q(m.kj || void 0),q(m.Kk || void 0),q(m.W4 || void 0),q(m.max || void 0)],u=[],m=c.isArray(m.Uh) && m.Uh.reduce(function(a,b){var f80,c;f80=2;for(;f80 !== 3;){switch(f80){case 4:return a;break;case 2:c=q(b.Bf || void 0);b=q(b.n || void 0);-1 < c && -1 < b && a.push({mean:c,n:b});f80=4;break;}}},u));c80=10;break;case 2:var g5g="s";g5g+="ta";g5g+="rtplay";var M5g="l";M5g+="o";M5g+="g";M5g+="dat";M5g+="a";(b={},d=this.H,l=this.Ya,g={type:M5g,target:g5g,fields:{}});g.fields=b;Object.keys(a).forEach(function(c){var d80;d80=2;for(;d80 !== 1;){switch(d80){case 2:b[c]=a[c];d80=1;break;case 4:b[c]=a[c];d80=8;break;d80=1;break;}}});c80=4;break;case 4:k=this.tc.get();k && k.Ka && (k=k.Ka.Ca);b.actualbw=k;c80=8;break;case 20:b.histtd=k;c80=19;break;case 12:c80=m?11:19;break;case 10:b.histtdc=m;c80=20;break;case 13:m=this.G2;c80=12;break;case 19:var W5g="de";W5g+="f";W5g+="a";W5g+="u";W5g+="lt";var C5g="def";C5g+="au";C5g+="l";C5g+="t";var i5g="d";i5g+="ef";i5g+="a";i5g+="u";i5g+="lt";b.histage=this.wSa;d.Dia && this.$H && (b.ishighstable=this.yda,b.avg_avtp=this.$H.XJa,b.avg_ne=Number(this.$H.YJa).toFixed(4));l.Ib && (d=h[i5g].pl(),b.maxAudioBufferAllowedBytes=d[f[C5g].Ta.AUDIO],b.maxVideoBufferAllowedBytes=d[f[W5g].Ta.VIDEO]);l.emit(g.type,g);c80=15;break;}}};a.prototype.svb=function(a){var g80,b,c,d,h,l,g,k;g80=2;for(;g80 !== 6;){switch(g80){case 2:var B5g="defa";B5g+="u";B5g+="lt";var c5g="d";c5g+="efa";c5g+="u";c5g+="l";c5g+="t";(b=this,c=this.H,d=this.tc.get(),h=[]);[f[c5g].Ta.VIDEO,f[B5g].Ta.AUDIO].forEach(function(a){var h80,l;h80=2;for(;h80 !== 4;){switch(h80){case 2:h80=b.Mb(a)?1:4;break;case 1:var O5g="defa";O5g+="u";O5g+="lt";l=b.Ya.uRa(a);void 0 !== l && (a === f[O5g].Ta.VIDEO && (c.FJ && (l.parallelDownloadMs=b.LXa,l.parallelDownloadBytes=b.KXa,l.singleDownloadMs=b.v1a,l.singleDownloadBytes=b.u1a,l.switchFromParallelToSingle=b.Osa,l.switchFromSingleToParallel=b.Psa),d && d.Pd && d.Ka && (l.asetput=d.Ka,l.aseiqr=d.qs,l.tdigest=d.pj && d.pj.ox() || void 0),d && d.avtp && (l.avtp=d.avtp.Ca)),h.push(l));h80=4;break;}}});a.stat=h;(l=0,g=0,k=0);d.Pd && (l=d.Ka?d.Ka.Ca:0,g=d.ai?d.ai.Ca:0,k=d.ps?d.ps.Ca:0);a.location={responseTime:g,httpResponseTime:k,bandwidth:l,confidence:d.Pd,name:this.gXb};g80=8;break;case 8:var A5g="n";A5g+="on";A5g+="e";this.QGa && (a.bt={startTime:this.Xl.startTime,audioMs:this.Xl.Fw,videoMs:this.Xl.Fy},this.Xl.Fw=[],this.Xl.Fy=[],this.Xl.dna=this.Xl.Wma);A5g !== c.KB && (a.isConserv=this.Bq,a.ccs=this.W_);g80=6;break;}}};a.prototype.$gb=function(a){var i80,b;i80=2;for(;i80 !== 6;){switch(i80){case 4:this.xZ && (this.xZ=!1);i80=3;break;case 2:b=this.H;i80=1;break;case 5:return !0;break;case 1:i80=this.xZ && a.ip()?5:4;break;case 9:return !0;break;case 3:i80=this.yZ && b.rp && !a.ip()?9:8;break;case 8:this.yZ && (this.yZ=!1);return !1;break;}}};J70=17;break;case 7:a.prototype.Uib=function(a,b,c,d,f,h){var U70,l;U70=2;for(;U70 !== 5;){switch(U70){case 2:l=this.H;U70=1;break;case 3:l=this.H;U70=4;break;U70=1;break;case 1:l.J7 && this.$gb(b) || !c || !d || !(c=h?Math.min(c,d,h):Math.min(c,d)) || (this.tc.get(),d=this.Ya.Ba,a=d.gu(d.pc,a),b.track.ip() && a > l.Xfa && c === f?(l.set?(l.set({pipelineEnabled:!0}),l.set({maxParallelConnections:1}),l.set({maxActiveRequestsPerSession:2}),l.set({maxPendingBufferLen:500})):(l.rp=!0,l.SK=1,l.Iu=2,l.XA=500),b.track.J5({type:b.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:l.TM,minRequestSize:l.bL}),this.Osa++,l.J7 && (this.xZ=!0)):l.rp && !b.ip() && (a < l.Wfa || c !== f) && (l.set?(l.set({pipelineEnabled:!0}),l.set({maxParallelConnections:3}),l.set({maxActiveRequestsPerSession:3}),l.set({maxPendingBufferLen:12E3})):(l.rp=!0,l.SK=3,l.Iu=3,l.XA=12E3),b.track.J5({type:b.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:l.TM,minRequestSize:l.bL}),this.Psa++,l.J7 && (this.yZ=!0)));U70=5;break;}}};a.prototype.Xib=function(a,b){var V70,c,d,f;V70=2;for(;V70 !== 7;){switch(V70){case 8:this.Xl.Wma=c;V70=7;break;case 1:V70=this.QGa?5:7;break;case 2:c=this.H;V70=1;break;case 3:V70=void 0 === d || c > d?9:8;break;case 5:var E5g="d";E5g+="e";E5g+="fa";E5g+="ul";E5g+="t";var j5g="d";j5g+="e";j5g+="f";j5g+="aul";j5g+="t";void 0 === this.Xl && (this.Xl={startTime:h[j5g].time.aa(),Fw:[],Fy:[],dna:void 0,Wma:void 0});(c=Math.floor((h[E5g].time.aa() - this.Xl.startTime) / c.KD),d=this.Xl.Wma,f=this.Xl.dna?c - this.Xl.dna - 1:c);V70=3;break;case 9:(this.Xl.Fw[f]=a,this.Xl.Fy[f]=b);V70=8;break;}}};a.prototype.oJb=function(){var W70,a,X70;W70=2;for(;W70 !== 4;){switch(W70){case 2:a=this.Ya;W70=1;break;case 1:W70=this.lD.pq?5:4;break;case 5:try{X70=2;for(;X70 !== 1;){switch(X70){case 2:(this.tc.COb(),this.BHa.cc());X70=1;break;}}}catch(r){var y5g="Hin";y5g+="dsight: Error duri";y5g+="ng clean";y5g+=" up: ";a000.J9b(1);a.bb.Bm(a000.P9b(r,y5g));}W70=4;break;}}};a.prototype.BJb=function(a){var Y70;Y70=2;for(;Y70 !== 1;){switch(Y70){case 2:var N5g="d";N5g+="e";N5g+="fau";N5g+="l";N5g+="t";this.H.FJ && a === f[N5g].Ta.VIDEO && (this.Psa=this.Osa=this.u1a=this.v1a=this.KXa=this.LXa=0);Y70=1;break;}}};a.prototype.zJb=function(a,b){var Z70;Z70=2;for(;Z70 !== 1;){switch(Z70){case 2:var V5g="de";V5g+="fa";V5g+="ult";a === f[V5g].Ta.VIDEO && (this.gXb=b);Z70=1;break;}}};a.prototype.$mb=function(a){var a80,l,b,c,d,h;a80=2;for(;a80 !== 8;){switch(a80){case 5:var G5g="de";G5g+="fau";G5g+="lt";var f5g="defa";f5g+="ul";f5g+="t";var Z5g="i";Z5g+="q";Z5g+="r";c=this.tc.get();Z5g === b.KB && (d=this.oGa(c),void 0 !== d && void 0 !== d.Jk && void 0 !== d.kj && void 0 !== d.Kk && (h=(d.Kk - d.Jk) / d.kj));l=b.bT?f[f5g].$e.kC:f[G5g].$e.lC;c && c.Pd >= l && this.zda(b.KB,c,d,h) && (this.Bq=!0,this.W_=a.state);a80=8;break;case 1:var d5g="n";d5g+="o";d5g+="n";d5g+="e";a80=d5g !== b.KB && !0 !== this.Bq && a.state <= b.Zna?5:8;break;case 2:b=this.H;a80=1;break;}}};a.prototype.sjb=function(a){var b80;b80=2;for(;b80 !== 1;){switch(b80){case 2:a.Bq=this.Bq;b80=1;break;}}};J70=20;break;case 17:a.prototype.oGa=function(a){var j80,k80;j80=2;for(;j80 !== 4;){switch(j80){case 5:return a;break;case 1:a=a.pj;j80=5;break;case 2:var q5g="tdig";q5g+="e";q5g+="st";k80=this.H.Jla;j80=k80 === q5g?1:3;break;case 9:a=a.qs && a.qs.f5;j80=5;break;case 3:j80=9;break;}}};a.prototype.mfb=function(a,b,c){var l80,d;l80=2;for(;l80 !== 3;){switch(l80){case 8:d=this.H;l80=4;break;l80=1;break;case 1:this.zda(d.KB,a,b,c)?this.Bq=!0:this.Bq=!1;this.W_=0;this.zda(d.Bna,a,b,c) && (this.rDb=!0);l80=3;break;case 2:d=this.H;l80=1;break;}}};return a;break;}}})();b.qua=a;},function(d,b,a){var l,g,m;function c(a,b,c,d){this.Ya=a;this.G=b;this.nf=this.G.error.bind(this.G);this.wb=this.G.warn.bind(this.G);this.ik=this.G.trace.bind(this.G);this.eg=this.G.log.bind(this.G);this.mdb=new g();this.H=d;this.mZ=[];this.GZ=void 0;a=d.F2;l.call(this,a.numB * a.bSizeMs,a.bSizeMs);this.tda=!0;}a(25);b=a(3)["default"];l=a(141);a(425);g=a(957);new b.Console("ASEJS_QOE_EVAL","media|asejs");m=a(122).PCa || a(122);c.prototype=Object.create(l.prototype);c.prototype.add=function(a,b,c){this.GZ || (this.GZ=b);l.prototype.add.call(this,a,b,c);};c.prototype.uxb=function(){var a;if(0 !== this.mZ.length){a=[];this.mZ.forEach(function(b){b && b.LI && a.push(b.ox());});return a;}};c.prototype.cc=function(){this.mZ=[];};c.prototype.sAb=function(){var a,b,c;a=this.get(this.H.F2.fillS);if(0 === a[0] || null === a[0]){a.some(function(a,d){if(a)return (b=a,c=d,!0);});if(b)for(var d=0;d < c;d++){a[d]=b;}}a={trace:a,timestamp:this.GZ,Jw:this.dd};this.tda=!1;l.prototype.reset.call(this);this.tda=!0;this.GZ=void 0;return a;};c.prototype.Via=function(a){var b,c,d,f,l,g;if(a && !a.LI){c=a.Zr.wTa;c && (a.Dqa=this.lfa(a),a.I5=!1);if((b=this.sAb()) && b.trace && b.trace.length){d=a.Ci.mB;f=b.timestamp;if(f > d){l=b.Jw;g=b.trace[0];d=Math.ceil(1 * (f - d) / l);b.timestamp=f - d * l;for(f=0;f < d;f++){b.trace.splice(0,0,g);}}b.trace.length && b.trace.pop();}a.xy=b;b.trace && 0 === b.trace.length || void 0 === b.timestamp || (b=this.Zlb(a),a.rXa=b,c && b && (a.I5=b.MA),a.LI=!0,this.mZ.push(a));}};c.prototype.Zlb=function(a){var l,g,k,n;function b(a){var d;for(var b,c=0;c < a.length;c++){d=a[c].reduce(function(a,b){return b.rb?a + 1:a;},0);if(void 0 === b)b=d;else if(d !== b)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(d > b?d - b:b - d) * Math.LOG2E) + "]");}}for(var c=this.H.E2,d={MA:!1,c3:!1,N0:0},f=0;f < c.length;f++){l=c[f];g=this.mdb.create(l);if(g){k=m.now();n={};try{b(a.sv);n=g(a);}catch(I){n.Z0=I;}n.Jjb=m.now() - k;d[l]=n;d.MA=d.MA || n.MA;d.c3=d.c3 || n.c3;d.Z0=d.Z0 || n.Z0;}}return d;};c.prototype.lfa=function(a){var b;a=a.Zr;b="";1E3 > a.Jp && (b+=a.K4a);1E3 > a.Zt && (b=b + ("" !== b?",":"") + a.qJa);1E3 <= a.Jp && 1E3 <= a.Zt && (b="media");return b;};d.exports=c;},function(d,b,a){var g;function c(){}function l(a,b,c){return function(d){d.lU=b;d.compare=c;return a(d);};}g=a(958);c.prototype.constructor=c;c.prototype.create=function(a){var b;switch(a){case "htwbr":break;case "htwbr-dlvmaf":b=l(g.MR,!1,g.FLa);break;case "htwbr-segvmaf":b=l(g.MR,!0,g.FLa);break;case "hvmafgr":b=l(g.MR,!1,g.Sga);break;case "hvmafgr-dlvmaf":b=l(g.MR,!1,g.Sga);break;case "hvmafgr-segvmaf":b=l(g.MR,!0,g.Sga);break;case "hvmafdp":b=l(g.dp,!1);break;case "hvmafdp-dlvmaf":b=l(g.dp,!1);break;case "hvmafdp-segvmaf":b=l(g.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return b;};d.exports=c;},function(d,b,a){var n,y,B,p,J,D,t,R,U,V,E;function c(a){var b,c,d;c=a.xy;b=a.Ci;d=a.Zr.sa - b.X;c.timestamp > b.mB && V.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + c.timestamp + " and " + b.mB);a=[];for(var f,h=c.timestamp,l=0;l < c.trace.length;l++){h >= b.mB && (a.push(c.trace[l]),f=c.trace[l]);h+=c.Jw;d-=c.Jw;}for(;0 < d;){a.push(f);d-=c.Jw;}b=c.Jw;c=a.length;if(0 === c)c=[];else {for(b=[b / 1E3];2 * b.length <= c;){b=b.concat(b);}b.length < c && (b=b.concat(b.slice(0,c - b.length)));c=b;}return new D(a,c,!1);}function l(a,b,c){b=a.sv[b][c];return b.ba + a.Ci.aQ * b.duration * 1 / 8;}function g(a){var r;for(var b=a.Ci,c=b.Il,d=a.Zr,f=d.ku,h,g,k,q=[],d=f=Math.min(d.UE,f);d >= c;d--){E.update("backward step loop");g=k=a.sv[0][d].X - a.Ci.X;d < f && (n(void 0 !== q[d + 1],"expect solution[(fragIndex + 1)] !== undefined"),g=Math.min(q[d + 1].startTime,g));h=l(a,0,d);r=v(h,g,a.xy,b.mB);if(0 > r)throw Error("Infeasible: reason throughput at min bitrate");h={startTime:r,endTime:g,l0:g,etb:k,bM:h,Vd:0};h.uPa=d;q[d]=h;}b=0;for(d=c;d <= f;d++){b+=q[d].bM;q[d].iia=b;}if(!m(a,q,c,f))throw Error("Infeasible: reason buffer capacity at min bitrate");return {MA:!0,Moa:0 == q.length,Ep:q};}function m(a,b,c,d){var f,h,l,g,k,m,q,r,u,v;for(;c <= d;c++){E.update("checkBuffer");f=a;h=b;l=c;E.update("check buffer vacancy");g=f.Ci;k=f.sv[g.cS];m=f.rKa;q=!0;r=f.Lvb(Math.floor(h[l].startTime) + g.X);u=g.SB + h[l].iia;v=0;f=0;if(r.index < g.Il){for(var n=0,y=g.sy;y < r.index;y++){n+=k[y].ba;}v+=n;n=0;for(y=g.sy;y < r.index;y++){n+=k[y].duration;}f+=n;}else (v+=g.SB,f+=g.Jp);n=0;for(y=g.Il;y < r.index;y++){n+=h[y].bM;}v+=n;n=0;for(y=g.Il;y < r.index;y++){n+=k[h[y].uPa].duration;}f+=n;r=u - v;g=k[l].X + k[l].duration - g.X - f;if(g >= m.Px || r >= m.x4a)q=!1;h[l].BKa=r;h[l].dga=g;if(!q)return !1;}return !0;}function f(a){a=a.Ci.$;for(var b=[],c,d=0;d < a.length;d++){E.update("get prebuffered chunks loop");c=a[d];n(void 0 !== c.rb,"expect frag.vmaf !== undefined");c=new B(c.ba,c.duration / 1E3,c.rb);b.push(c);}return b;}function h(a){for(var b=a.sv,c=a.Ci,d=a.Zr,f=d.ku,h=a.md,l=[],g,f=Math.min(d.UE,f),k=0;k < b.length;k++){for(var d=[],m=c.Il;m <= f;m++){E.update("get chunk map from play segment");g=b[k][m];g=new B(g.ba,g.duration / 1E3,a.lU && void 0 !== g.rb?g.rb:h[k].rb);d.push(g);}l.push(d);}return new p(l,!1);}function q(a,b){n(a.kK() >= b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,d=0,f,h,l=0;l < b.length;l++){E.update("calculate twvmaf");n(b[l].BSa === l,"expect stream_choices[idx].i_epoch === idx");h=a.Ej[b[l].L2][l];f=h.yF;h=h.Fl;c+=f * h;d+=h;}return {zNa:c / d,yNa:1E3 * d};}function u(a,b,c){n(a.kK() >= b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var d=0,f=0,h=c.Ci.aQ,l,g=0,k=0,m=0;m < b.length;m++){E.update("calculate Bytes");n(b[m].BSa === m,"expect stream_choices[idx].i_epoch === idx");l=a.Ej[b[m].L2][m];d+=l.ba;f+=h * l.Fl * 1E3 / 8;g+=l.Fl * c.md[b[m].L2].U;k+=l.Fl;}return {xNa:d,vNa:f,wNa:0 < k?1 * g / k:0};}function r(a,b,c){b=Math.min(a.length - 1,b);b=Math.max(0,b);return a[b] * c * 1 / 8;}function v(a,b,c,d){var f,h,l,g,k;f=c.trace;h=1 * c.Jw;k=b + d - c.timestamp;g=Math.floor(1 * k / h);b=0 + (k - g * h) / h * r(f,g,h);if(b >= a)l=k - 1 * a / b * (k - g * h);else for(k=g;b < a;){E.update("find download start time");--k;if(0 > k)return -1;g=r(f,k,h);if(b + g >= a){a=1 * (a - b) / g * h;l=(k + 1) * h - a;break;}b+=g;}return l + c.timestamp - d;}n=a(5).assert;y=a(959);B=a(426).Y6a;p=a(426).Z6a;J=a(960).p8a;D=a(427).Fcb;t=a(253).pva;R=a(249).hX;U=a(82)["default"];V=new (a(3)["default"].Console)("ASEJS_QOE_EVAL","media|asejs");E=a(122).PCa || a(122);d.exports={MR:function(a){var b,c,d,f,h,k,q,r,u,A,B,p,J,I,D,t,U,T,F,L,N,W,X,ea,ga,ka,da,la;V.debug("greedy DEBUG false");E.Ura("greedy-" + (a.lU?"segvmaf":"dlvmaf") + ": ");try{a.TE=[];h=a.sv;k=a.Ci;q=a.Zr;r=q.ku;u=a.md;r=Math.min(q.UE,r);for(U=k.Il;U <= r;U++){T=new y();a.TE[U]=T;h[0][U].hga=h[0][U].ba;for(t=1;t < h.length;t++){h[t][U].hga=h[t][U].ba;}t=0;A=h[t][U];A.UA=Infinity;A.Xf=t;for(t=1;t < h.length;t++){A=h[t][U];A.Xf=t;B=T.f3()?h[0][U]:T.XKb();p=8 * A.hga / A.duration;J=8 * B.hga / B.duration;a.lU && void 0 !== A.rb?(I=A.rb,D=B.rb):(I=u[t].rb,D=u[B.Xf].rb);A.ys=p - J;A.UA=(I - D) / A.ys;isFinite(A.UA) && (0 < A.UA || t == h.length - 1) && 0 < A.ys && T.enqueue(A);}}for(U=k.Il;U <= r;U++){f=[];d=[];c=[];for(var Z=a.TE[U].bo(),h=0;h < Z.length;h++){A=Z[h];f.push(A.ys.toFixed(2));a.lU && void 0 !== A.rb?d.push(A.rb):d.push(u[A.Xf].rb);c.push(A.UA.toFixed(4));}}b=g(a);if(b.Moa)return b;F=a.Ci;L=a.Zr;N=L.ku;N=Math.min(L.UE,N);c=[];for(var P=F.Il;P <= N;P++){a.TE[P].f3() || c.push(a.TE[P].uJ());}n(void 0 !== a.compare,"playSegment.compare required for greedy");for(var S=new R(c,a.compare);0 < S.length;){E.update("upgrade frags");W=S.pop();a:{N=F=void 0;P=a;c=b;d=W;ea=P.Ci;ga=P.Zr;ka=Math.min(ga.UE,ga.ku);da=JSON.parse(JSON.stringify(c.Ep));n(d && da[d.index].Vd < d.Xf,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");N=d.index;F=da[N];F.Vd=d.Xf;F.bM=l(P,F.Vd,N);F.startTime=v(F.bM,F.l0,P.xy,ea.mB);da[N]=F;if(0 > F.startTime)X=!1;else {for(N=d.index - 1;N >= ea.Il;N--){F=da[N];la=da[N + 1].startTime;if(F.l0 <= la)break;F.l0=la;F.startTime=v(F.bM,F.l0,P.xy,ea.mB);da[N]=F;if(0 > F.startTime){X=!1;break a;}}for(var ma=d.index + 1;ma <= ka;ma++){da[ma].iia=da[ma].bM + (ma > P.Ci.Il?da[ma - 1].iia:0);}for(var oa=d.index + 1;oa <= ka;oa++){if(da[oa].startTime > da[d.index].etb){ka=oa - 1;break;}}m(P,da,d,Math.min(N + 1,d.index))?(c.Ep=da,X=!0):X=!1;}}X && (a.TE[W.index].f3() || S.push(a.TE[W.index].uJ()));}}finally{delete a.TE;}for(ka=ga=ea=X=W=S=0;ka < b.Ep.length;ka++){if(da=b.Ep[ka])(la=a.sv[da.Vd][da.uPa],S+=(la.rb?la.rb:a.md[da.Vd].rb) * la.duration,W+=la.duration,X+=la.ba,ea+=a.Ci.aQ * la.duration * 1 / 8,ga+=la.duration * a.md[da.Vd].U);}b.zNa=0 < W?1 * S / W:0;b.yNa=W;b.xNa=X;b.vNa=ea;b.wNa=0 < W?1 * ga / W:0;b.Nx=E.QQa();V.debug("Max heap used: " + Math.round(b.Nx / 1024 / 1024) + " MB");return b;},Sga:function(a,b){if(a.UA < b.UA)return 1;if(a.UA > b.UA)return -1;if(a.ys > b.ys)return 1;if(a.ys < b.ys)return -1;if(a.index > b.index)return 1;if(a.index < b.index)return -1;throw Error("Invalid frag comparison");},FLa:function(a,b){if(a.ys > b.ys)return 1;if(a.ys < b.ys)return -1;if(a.index > b.index)return 1;if(a.index < b.index)return -1;throw Error("Invalid frag comparison");},dp:function(a){var b,d,l,k,m,r;E.Ura("dp-" + (a.lU?"segvmaf":"dlvmaf") + ": ");b=g(a);if(!1 === b.MA || !0 === b.Moa)return b;d=h(a);l=new J(d);k=f(a);k={R2a:c(a),PJa:a.Ci.aQ,VVa:0,AVa:240,zVa:8 * a.rKa.x4a / 1E3,wKa:.5,eKa:new t(k),rOa:0,b6b:void 0,VRa:void 0,nZa:void 0,YIa:!0};l=l.zB(k);k=q(d,l);d=u(d,l,a);m=[];r=a.Ci.Il;l.forEach(function(a){m[r]={Vd:a.L2};r++;});U(k,b);U(d,b);b.Ep=m;b.Nx=E.QQa();V.debug("Max heap used: " + Math.round(b.Nx / 1024 / 1024) + " MB");return b;}};},function(d){var c;function b(b){this.Lf=a(b);this.cg=this.Le=0;if(c(b)){for(var d=b.length,l=0;l < d;++l){this[l]=b[l];}this.Le=d;}}function a(a){if("number" !== typeof a)if(c(a))a=a.length;else return 16;a=Math.min(Math.max(16,a),1073741824);a=(a >>> 0) - 1;a|=a >> 1;a|=a >> 2;a|=a >> 4;a|=a >> 8;return (a | a >> 16) + 1;}b.prototype.bo=function(){for(var a=this.Le,b=Array(a),c=this.cg,d=this.Lf,h=0;h < a;++h){b[h]=this[c + h & d - 1];}return b;};b.prototype.push=function(a){var b,c,d,l;b=arguments.length;c=this.Le;if(1 < b){d=this.Lf;if(c + b > d){for(var h=0;h < b;++h){this.yY(c + 1);l=this.cg + c & this.Lf - 1;this[l]=arguments[h];c++;this.Le=c;}return c;}l=this.cg;for(h=0;h < b;++h){this[l + c & d - 1]=arguments[h];l++;}this.Le=c + b;return c + b;}if(0 === b)return c;this.yY(c + 1);h=this.cg + c & this.Lf - 1;this[h]=a;this.Le=c + 1;return c + 1;};b.prototype.pop=function(){var a,b,c;a=this.Le;if(0 !== a){b=this.cg + a - 1 & this.Lf - 1;c=this[b];this[b]=void 0;this.Le=a - 1;return c;}};b.prototype.shift=function(){var a,b,c;a=this.Le;if(0 !== a){b=this.cg;c=this[b];this[b]=void 0;this.cg=b + 1 & this.Lf - 1;this.Le=a - 1;return c;}};b.prototype.unshift=function(a){var b,c,d,l;b=this.Le;c=arguments.length;if(1 < c){d=this.Lf;if(b + c > d){for(var h=c - 1;0 <= h;h--){this.yY(b + 1);d=this.Lf;l=(this.cg - 1 & d - 1 ^ d) - d;this[l]=arguments[h];b++;this.Le=b;this.cg=l;}return b;}l=this.cg;for(h=c - 1;0 <= h;h--){l=(l - 1 & d - 1 ^ d) - d;this[l]=arguments[h];}this.cg=l;this.Le=b + c;return b + c;}if(0 === c)return b;this.yY(b + 1);d=this.Lf;h=(this.cg - 1 & d - 1 ^ d) - d;this[h]=a;this.Le=b + 1;this.cg=h;return b + 1;};b.prototype.XKb=function(){var a;a=this.Le;if(0 !== a)return this[this.cg + a - 1 & this.Lf - 1];};b.prototype.get=function(a){var b;if(a === (a | 0)){b=this.Le;0 > a && (a+=b);if(!(0 > a || a >= b))return this[this.cg + a & this.Lf - 1];}};b.prototype.f3=function(){return 0 === this.Le;};b.prototype.clear=function(){for(var a=this.Le,b=this.cg,c=this.Lf,d=0;d < a;++d){this[b + d & c - 1]=void 0;}this.cg=this.Le=0;};b.prototype.toString=function(){return this.bo().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.uJ=b.prototype.shift;b.prototype.toJSON=b.prototype.bo;Object.defineProperty(b.prototype,"length",{get:function(){return this.Le;},set:function(){throw new RangeError("");}});b.prototype.yY=function(b){this.Lf < b && this.Lhb(a(1.5 * this.Lf + 16));};b.prototype.Lhb=function(a){var b,c;b=this.Lf;this.Lf=a;a=this.cg;c=this.Le;if(a + c > b)for((a=a + c & b - 1,c=0);c < a;++c){this[c + b]=this[c + 0];this[c + 0]=void 0;}};c=Array.isArray;d.exports=b;},function(d,b,a){var n,y,B,p;function c(a,b,c){this.iKa=this.Vdb(a,b,c);}function g(){}function k(){}function m(){}function f(a){this.knb=a;}function h(){}function q(){}function u(){}function r(){this.eia={};}function v(a){return Array.apply(0,Array(a)).map(function(a,b){return b + 1;});}n=a(5).assert;b=a(253).pva;y=a(427).Gcb;B=a(253).A6a;new (a(3)["default"].Console)("ASEJS_QOE_EVAL","media|asejs");p=a(122).PCa || a(122);c.prototype.constructor=c;c.prototype.Vdb=function(a,b,c){n(a < b,"expect min_buffer_sec < max_buffer_sec but got " + a + " and " + b);n(0 < c,"expect buffer_step_sec > 0. but got " + c);for(var d=[];a < b;a+=c){d.push(a);}d[d.length - 1] < b && d.push(b);return d;};c.prototype.zA=function(a){return this.afb(a,this.iKa);};c.prototype.afb=function(a,b){a=this.Ksb(a,b);if(0 === a)throw new g();if(a === b.length)throw new k();return a;};c.prototype.Ksb=function(a,b){n(0 < b.length,"expect bins.length > 0 but got " + b.length);if(a < b[0])return 0;if(a >= b[b.length - 1])return b.length;for(var c=1;c < b.length;c++){if(b[c - 1] <= a && a < b[c])return c;}n(!1,"expect not coming here in digitize()");};c.prototype.n2=function(){return v(this.iKa.length - 1);};g.prototype=Error();k.prototype=Error();m.prototype=Error();f.prototype.constructor=f;f.prototype.VERSION="0.5";f.prototype.u7a=-20;f.prototype.t7a=20;f.prototype.s7a=void 0;f.prototype.n7a=new b(void 0);f.prototype.p7a=0;f.prototype.o7a=1;f.prototype.w7a=!1;f.prototype.r7a=!0;f.prototype.q7a=!0;f.prototype.v7a=void 0;f.prototype.l7a=!0;f.prototype.m7a=0;f.prototype.zB=function(a){n(void 0 !== a.R2a,"expect recipe.time_varying_bandwidth !== undefined");return this.Mhb(this.knb,a.R2a,void 0 !== a.VVa?a.VVa:this.u7a,void 0 !== a.AVa?a.AVa:this.t7a,void 0 !== a.zVa?a.zVa:this.s7a,void 0 !== a.eKa?a.eKa:this.n7a,void 0 !== a.rOa?a.rOa:this.p7a,void 0 !== a.wKa?a.wKa:this.o7a,void 0 !== a.ASb?a.ASb:this.w7a,void 0 !== a.UAb?a.UAb:this.r7a,void 0 !== a.VRa?a.VRa:this.q7a,void 0 !== a.nZa?a.nZa:this.v7a,void 0 !== a.YIa?a.YIa:this.l7a,void 0 !== a.PJa?a.PJa:this.m7a);};f.prototype.Mhb=function(a,b,d,f,l,v,A,I,t,ha,aa,F,fa,wa){var D,E,V,U,T,R,Z,L,W,X,ea,ga,da,ka,la,ma,oa,pa,ua,va;function J(a){return a[R];}p.Ura("dp: ");n(d <= v.Hg,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");n(v.Hg <= f,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");n(d <= A,"expect min_buffer_sec <= end_buffer_sec");n(A <= f,"expect end_buffer_sec <= max_buffer_sec");void 0 !== l && n(v.Wk <= l,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + v.Wk + " and " + l);D=new c(d,f,I);I=new r();E=0;V=v;I.put([0,D.zA(v.Hg)],[E,V,void 0,void 0,b,void 0,void 0,void 0]);U=V=0;b=a.NAb();n(a.kK() == b.length,"expect chunk_map.get_n_epoch() == durations_sec.length");R=-1;for(Z in b){for(var R=R + 1,ta=!0,Ta=a.Ej.map(J),sa=D.n2(),La=0;La < sa.length;La++){L=sa[La];if(I.Qma([R,L])){T=I.get([R,L]);for(var N=T[0],P=T[1],S=T[4],ia=0;ia < Ta.length;ia++){b=Ta[ia];p.update("epoch-ibuf-chunk loop");v=void 0 !== F?F(b.yF):b.yF;W=S.kq();try{T=this.Ceb(P,b,W,wa);X=T[0];ea=T[1];ga=T[2];da=T[3];ka=T[4];la=T[5];}catch(Za){if(Za instanceof y)continue;else if(Za instanceof g){V+=1;continue;}else throw Za;}ma=E=!1;try{oa=D.zA(da.Hg);ha && D.zA(X);aa && D.zA(ea);if(void 0 !== l)if(aa){if(ga.Wk > l)throw new m();}else if(da.Wk > l)throw new m();}catch(Za){if(Za instanceof g)(oa=void 0,V+=1);else if(Za instanceof k)(fa?E=!0:U+=1,oa=void 0);else if(Za instanceof m)(fa?ma=E=!0:U+=1,oa=void 0);else throw Za;}try{if(E && ma){n(void 0 !== l,"expect max_buffer_kb !== undefined");ua=aa?ga.Wk - l:da.Wk - l;n(0 <= ua,"pause dlnd kb cannot be -ve but is " + ua);try{pa=da.zLb(ua);}catch(Za){if(Za instanceof B)throw new g();throw Za;}W.bYa(pa);ka+=pa;n(da.Hg < f,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");oa=D.zA(da.Hg);}else if(E && !ma){pa=aa?ga.Hg - f + 1E-8:da.Hg - f + 1E-8;n(0 <= pa,"pause dlnd kb cannot be -ve but is " + pa);try{da.vYa(pa);}catch(Za){if(Za instanceof B)throw new g();throw Za;}W.bYa(pa);ka+=pa;n(d <= da.Hg,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");n(da.Hg < f,"cur_buffer_queue.total_remain_sec < max_buffer_sec");oa=D.zA(da.Hg);}else pa=0;}catch(Za){if(Za instanceof g)(oa=void 0,V+=1,pa=void 0);else if(Za instanceof y)continue;else throw Za;}E=I.Qma([R + 1,oa])?I.get([R + 1,oa])[0]:-Infinity;this.zib(da,oa,b,v,L,R + 1,E,I,N,ia,W,ka,la,pa) && (ta=!1);}}}if(ta){--R;break;}}try{va=this.fGa(R + 1,D.zA(A),I,t,D);}catch(Za){if(Za instanceof h)try{va=this.fGa(R + 1,D.zA(A),I,!t,D);}catch(Fe){if(Fe instanceof h){if(V > U)throw new q();throw new u();}throw Fe;}else throw Za;}L=va;for(d=[];-1 < R;R--){T=I.get([R + 1,L]);E=T[0];V=T[1];f=T[3];l=T[5];A=T[6];t=T[7];T=T[2];b=a.Ej[T][R];ha=b.qx();v=b.yF;d.unshift({BSa:R,L2:T,info:{d4b:ha,yF:v,$fa:V.Hg,Zfa:V.Wk,SNa:l,Ka:A,ypa:t}});L=f;}return d;};f.prototype.fGa=function(a,b,c,d,f){var g,l;g=!1;l=f.n2()[0];for(f=f.n2()[f.n2().length - 1];;){if(b < l || b > f){g=!0;break;}if(c.Qma([a,b]))break;else b=d?b - 1:b + 1;}if(g)throw new h();return b;};f.prototype.zib=function(a,b,c,d,f,h,g,l,k,m,q,r,u,v){c=k + d * c.Fl;return void 0 !== b && c > g?(l.put([h,b],[c,a,m,f,q,r,u,v]),!0):!1;};f.prototype.Ceb=function(a,b,c,d){var f,h,l;d=(b.qx() + d) * b.Fl;c=c.mtb(d);d/=c;f=a.Hg - c;h=a.Hg + b.Fl;l=a.kq();l.add(b,void 0);a=a.kq();a.add(b,void 0);try{a.vYa(c);}catch(Z){if(Z instanceof B)throw new g();throw Z;}return [f,h,l,a,c,d];};h.prototype=Error();q.prototype=new h();u.prototype=new h();r.prototype={tta:function(a){return a.join(",");},put:function(a,b){this.eia[this.tta(a)]=b;},get:function(a){return this.eia[this.tta(a)];},Qma:function(a){return (this.tta(a) in this.eia);}};d.exports={p8a:f,GYb:c,fYb:g,gYb:k};},function(d,b,a){var c,g,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.CDa=void 0;d=a(0);c=d.__importStar(a(8));g=a(17);k=a(17);m=d.__importDefault(a(3));f=a(226);h=a(424);a=(function(){var m80;m80=2;function a(a,b,c,d){var n80;n80=2;for(;n80 !== 9;){switch(n80){case 2:this.Qa=a;this.G=b;this.Mb=c;this.sh=d;n80=3;break;case 3:var X5g="1SIYbZrN";X5g+="J";X5g+="Cp9";X5g;n80=9;break;case 12:"";n80=7;break;n80=9;break;}}}for(;m80 !== 13;){switch(m80){case 4:a.prototype.sfb=function(a){var u80;u80=2;for(;u80 !== 1;){switch(u80){case 2:return ! !this.Qa.yg(a).UP;break;case 4:return + +this.Qa.yg(a).UP;break;u80=1;break;}}};a.prototype.MP=function(a){var v80,b;v80=2;for(;v80 !== 4;){switch(v80){case 2:b=this;a=this.Qa.yg(a);a.UP || (a.UP=!0,k.ie.forEach(function(a){var w80;w80=2;for(;w80 !== 1;){switch(w80){case 2:b.Qa.ag[a].resume();w80=1;break;}}}),this.Qa.wP());v80=4;break;}}};a.prototype.jhb=function(a,b){var x80,c,d,f;x80=2;for(;x80 !== 8;){switch(x80){case 2:(c=this,f=a.I);x80=1;break;case 4:x80=(null === (d=this.Qa.Lg) || void 0 === d?0:d.EA())?3:9;break;case 3:(this.Qa.Lg.xB.forEach(function(a){var y80;y80=2;for(;y80 !== 1;){switch(y80){case 2:c.Qa.yD(a,!1);y80=1;break;case 4:c.Qa.yD(a,+0);y80=8;break;y80=1;break;}}}),this.Qa.Lg=void 0);x80=9;break;case 9:this.Qa.TQ.FHa(f,a.Kb.N);x80=8;break;case 1:a.SF(b);a.pPb();x80=4;break;}}};a.prototype.jda=function(){var z80,a,b;z80=2;for(;z80 !== 4;){switch(z80){case 2:z80=this.uz?1:4;break;case 1:(a=this.uz.Wh,b=this.uz.qb);this.Qa.yg(b) && (this.uz=void 0,this.Jm(a,b));z80=4;break;}}};m80=7;break;case 7:a.prototype.Wn=function(a){var A80,c,d;function b(a,d){var B80;B80=2;for(;B80 !== 5;){switch(B80){case 2:var h5g="skip: un";h5g+="expected beh";h5g+="aviour - a no";h5g+="n-presenting branch doesn't have a";h5g+=" previous branch";a !== c.Qa.Ba.xi && (a.Ef?b(a.Ef,d):c.G.error(h5g));(a=a.gd(d)) && a.Wn();B80=5;break;}}}A80=2;for(;A80 !== 7;){switch(A80){case 3:k.ie.forEach(function(a){var C80,d;C80=2;for(;C80 !== 9;){switch(C80){case 1:var J5g="skip: not resuming";J5g+=" bufferManager, audio ";J5g+="tr";J5g+="ack ";J5g+="switch in progress";var P5g="de";P5g+="f";P5g+="a";P5g+="u";P5g+="lt";d=c.Qa.hb.Ye[a];c.Qa.pq && (d.ssa=m[P5g].time.aa());d.WM?d.wb(J5g):c.Qa.ag[a].resume();b(c.Qa.Ba.pc,a);C80=9;break;case 2:C80=c.Mb(a)?1:9;break;}}});this.MGa=a=new f.rO(this.Qa.XF());return a.gpa(function(){var D80;D80=2;for(;D80 !== 5;){switch(D80){case 2:c.Qa.P.re(g.oa.Uc);c.Qa.GP();D80=5;break;}}}).K_a;break;case 2:c=this;null === (d=this.MGa) || void 0 === d?void 0:d.cancel();this.Qa.Bsa();this.Qa.Ba.xi.Wn(a);A80=3;break;}}};a.prototype.Rg=function(a){var E80,b,c,d;E80=2;for(;E80 !== 7;){switch(E80){case 5:E80=a < (null !== (b=c.Rc) && void 0 !== b?b:c.YSa) || a >= d?4:3;break;case 4:return !1;break;case 3:b=this.Qa.cs(a,0,!0);a=this.Qa.cs(a,1,!0);return void 0 !== b && void 0 !== a && b.complete && a.complete;break;case 2:c=this.Qa.Ba.xi;d=0 < Object.keys(c.W && c.W.wk || ({})).length && !c.Gj?c.de - this.Qa.H.Ou:c.de;E80=5;break;}}};return a;break;case 2:a.prototype.Jm=function(a,b){var o80,r,u,q,d,f,l,m;o80=2;for(;o80 !== 50;){switch(o80){case 41:var Y5g="s";Y5g+="eekFaile";Y5g+="d";var T5g="after seeking, player";T5g+="State no longer ST";T5g+="A";T5g+="RTING: ";this.G.warn(T5g + this.Qa.P.rd());this.Qa.emit(Y5g);o80=50;break;case 22:o80=l.N.Pe.Rf?21:32;break;case 28:o80=(m=this.Qa.Qd.N.qb === b && !this.sfb(b) && a === l.X)?44:39;break;case 53:this.Qa.wP();o80=43;break;case 42:var K5g="s";K5g+="e";K5g+="e";K5g+="k";var r5g="ptscha";r5g+="nge";r5g+="d";return (this.Qa.emit(r5g,f),this.Qa.emit(K5g),this.MP(b),a=m && this.Qa.hb.Yv()?100:0,this.Qa.DZ(1,a),this.Qa.Xi(),f);break;case 6:!l.N.Pe.LS && 0 < b && (f=this.Qa.Ww(b,a));this.Qa.P.re(g.oa.ak);m=this.Qa.Qd;o80=12;break;case 39:this.Qa.jea();r=this.Qa.Ba.pc.G_(a).GL;l.Ooa();u=this.Qa.Ba.pc;o80=54;break;case 54:k.ie.forEach(function(a){var r80,b;r80=2;for(;r80 !== 5;){switch(r80){case 2:b=u.gd(a);d.Mb(a) && d.jhb(b,r[a]);r80=5;break;}}});o80=53;break;case 43:o80=this.Qa.P.ATa()?42:41;break;case 12:o80=b != m.N.qb?11:26;break;case 26:m=this.Qa.Ba.pc.kR(l.sa || Infinity,l.N);o80=25;break;case 35:var S5g="seekDe";S5g+="lay";S5g+="ed";this.uz={qb:l.N.qb + 1,Wh:a};this.Qa.emit(S5g);o80=33;break;case 21:o80=!this.Qa.RZ(l.N.qb + 1)?35:31;break;case 44:k.ie.forEach(function(a){var q80;q80=2;for(;q80 !== 1;){switch(q80){case 2:d.Qa.Xt[a].Im(!0);q80=1;break;}}});o80=43;break;case 31:this.Qa.P.re(g.oa.oh);this.Qa.Bsa();this.Qa.Ba.TTb(a,b);o80=28;break;case 51:var R5g="se";R5g+="ekFa";R5g+="il";R5g+="ed";var w5g="seek, no manif";w5g+="es";w5g+="t at manifestIndex:";(this.G.warn(w5g,b),this.Qa.emit(R5g));o80=50;break;case 33:return;break;case 3:var I5g=" pl";I5g+="ayerState:";I5g+=" ";var x5g=" media.curre";x5g+="n";x5g+="tPt";x5g+="s";x5g+=": ";var o5g=" curren";o5g+="t manif";o5g+="e";o5g+="st";o5g+=": ";var Q5g=" manif";Q5g+="estIndex";Q5g+=":";Q5g+=" ";var u5g="s";u5g+="eek";u5g+=": ";l.zh && this.sh.yl(u5g + a + Q5g + b + o5g + this.Qa.Qd.N.qb + x5g + m + I5g + this.Qa.P.rd());c.Y(b) && (b=this.Qa.Qd.N.qb);this.Qa.Ba.D_a();o80=7;break;case 24:m=this.Qa.gq?this.Qa.Nl?Math.min(m[0].X,m[1].X):m[0].X:m[1].X;o80=23;break;case 7:o80=(l=this.Qa.yg(b))?6:51;break;case 32:(a=m,f=a + this.Qa.Ba.Hd);o80=31;break;case 25:o80=m.length?24:52;break;case 16:return;break;case 15:o80=this.ln(h.p8.Nja(b),!1,!0)?27:26;break;case 23:o80=a > m?22:31;break;case 11:b < m.N.qb && l.N.Pe.replace && (l.N.Pe.replace=!1);q=this.Qa.Ba.pc;k.ie.forEach(function(a){var p80;p80=2;for(;p80 !== 1;){switch(p80){case 2:(a=q.gd(a)) && d.Qa.PHa(a);p80=1;break;}}});o80=19;break;case 19:o80=!this.Qa.JFa(b)?18:15;break;case 52:var t5g="s";t5g+="eekDel";t5g+="ayed";(this.uz={qb:b,Wh:a},this.Qa.emit(t5g));o80=50;break;case 18:var L5g="se";L5g+="ekDelay";L5g+="ed";this.uz={qb:b,Wh:a};this.Qa.emit(L5g);o80=16;break;case 2:d=this;null === (f=this.MGa) || void 0 === f?void 0:f.cancel();(l=this.Qa.H,m=this.Qa.P.Zd());f=a;o80=3;break;case 27:return;break;}}};a.prototype.seek=function(a,b){var s80,d;s80=2;for(;s80 !== 9;){switch(s80){case 12:return this.Jm(d,b);break;s80=9;break;case 2:d=a;c.Y(b) && (b=this.Qa.Qd.N.qb);this.Qa.Ba.D_a();this.Qa.yg(b).N.Pe.LS || this.Qa.hI || (d=this.Qa.Qo(b,a));s80=3;break;case 3:return this.Jm(d,b);break;}}};a.prototype.ln=function(a,b,c){var t80,d,f;t80=2;for(;t80 !== 9;){switch(t80){case 2:f=this.Qa.Ba.ln(a,b);t80=1;break;case 1:t80=b?5:4;break;case 4:var k5g="s";k5g+="e";k5g+="e";k5g+="k";var U5g="pt";U5g+="sch";U5g+="ang";U5g+="ed";f?(this.Qa.P.re(g.oa.ak),(a=this.Qa.Ba.xi.children[a]) && this.Qa.emit(U5g,null !== (d=a.Rc) && void 0 !== d?d:a.YSa),this.Qa.P.re(g.oa.oh),this.Qa.emit(k5g),a && this.MP(a.N.qb),this.Qa.DZ(1),this.Qa.Xi(),this.Qa.hb.Yv()):c || (d=this.Qa.Ba.Xzb(a),this.Jm(d));return f;break;case 6:t80=b?6:5;break;t80=b?5:4;break;case 5:return f;break;}}};m80=4;break;}}})();b.CDa=a;},function(d,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Gwa=void 0;d=a(0);c=d.__importStar(a(8));g=a(17);k=d.__importDefault(a(3));a=(function(){function a(a,b,c){var G80;G80=2;for(;G80 !== 9;){switch(G80){case 3:this.AFa=this.UC=void 0;G80=9;break;case 2:var a5g="1S";a5g+="IYbZrNJC";a5g+="p";a5g+="9";this.Ia=a;this.G=b;this.Mb=c;a5g;G80=3;break;}}}var F80;F80=2;for(;F80 !== 18;){switch(F80){case 8:a.prototype.UFa=function(a,b){var P80,c,d,f,h,g;P80=2;for(;P80 !== 7;){switch(P80){case 2:(c=a.W,d=a.gd(1),f=a.gd(0),h=!f || f.hh,g=!d || d.hh);c.kL || this.Ia.Ba.Poa(a,c,a.N.Pe.Rf && 0 === a.N.qb);P80=5;break;case 4:P80=(this.Ia.Nl && this.VFa(a,d,f),this.Ia.gq && this.VFa(a,f,d),h=!f || f.hh,g=!d || d.hh,!g || !h)?3:9;break;case 3:return;break;case 5:P80=!g || !h?4:9;break;case 9:var D5g="Still in buffering state while pipel";D5g+="i";D5g+="ne'";D5g+="s";D5g+=" are done";this.Ia.P.gg() && (this.G.warn(D5g),this.Ia.hb.Yv());b || c.Ys || a.N.Pe.Rf || !this.Vmb(a) || ((b=this.Ia.P.gg()) && this.Ia.H.Nha && (this.Ia.rea(),b=!1),a.t1 || this.Ia.Ba.LBb(a,b),a.RI(),a.Wmb() && (b=Object.keys(a.children),this.Ia.H.L0 && 1 === b.length && !a.children[b[0]].active && this.Ia.Ba.QUa(a,b[0]),this.reb(a,c)));P80=7;break;}}};a.prototype.reb=function(a,b){var Q80,g,l,m,n,p,d,f,h;Q80=2;for(;Q80 !== 25;){switch(Q80){case 3:Q80=!d?9:15;break;case 12:0 !== n && 0 !== p?(c.me(m,function(a){var U80;U80=2;for(;U80 !== 4;){switch(U80){case 2:a.yXb=a.weight / n;a.Mlb=a.PVa / p;a.f4a=a.Mlb - a.yXb;U80=4;break;}}}),m.sort(function(a,b){var V80;V80=2;for(;V80 !== 1;){switch(V80){case 4:return a.f4a % b.f4a;break;V80=1;break;case 2:return a.f4a - b.f4a;break;}}})):m.sort(function(a,b){var W80;W80=2;for(;W80 !== 4;){switch(W80){case 2:a=Math.min.apply(null,a.Kb.Hm);b=Math.min.apply(null,b.Kb.Hm);a000.T9b(3);return a000.P9b(a,b);break;}}});Q80=11;break;case 1:Q80=this.Ia.Ib.Pla && a.JH && a.Pca?5:3;break;case 5:g=a.JH.Hm;Q80=4;break;case 9:(l=[],m=[]);c.me(a.children,function(a,c){var R80;R80=2;for(;R80 !== 5;){switch(R80){case 2:c=b.wk[c].weight;0 !== c && (c={weight:c,Kb:a},a.zga(!0,!0) || m.push(c),l.push(c));R80=5;break;}}});0 === m.length?m=l:2 < m.length && (m.sort(function(a,b){var S80;S80=2;for(;S80 !== 1;){switch(S80){case 2:return b.weight - a.weight;break;case 4:return b.weight % a.weight;break;S80=1;break;}}}),m.length=2);Q80=6;break;case 14:d=m.reduce(function(a,b){var T80;T80=2;for(;T80 !== 4;){switch(T80){case 2:b.Hm=b.Kb.Hm;b.PVa=Math.min(b.Hm[0],b.Hm[1]);return [a[0] + b.weight,a[1] + b.PVa];break;}}},[0,0]);(n=d[0],p=d[1]);Q80=12;break;case 6:Q80=1 < m.length?14:11;break;case 4:Math.min(g[0] - a.Pca[0],g[1] - a.Pca[1]) >= h.inb?a.JH=void 0:(d=a.JH,f=b.wk[d.W.id].weight);Q80=3;break;case 19:d=m[0].Kb;f=m[0].weight;a.JH=d;Q80=16;break;case 10:var e5g="No sub";e5g+="branch candi";e5g+="dates ";e5g+="t";e5g+="o drive";this.G.warn(e5g);Q80=20;break;case 26:this.UFa(d,!0);Q80=25;break;case 16:a.Pca=d.Hm;Q80=15;break;case 11:Q80=0 === m.length?10:19;break;case 20:return;break;case 15:var H5g="de";H5g+="f";H5g+="aul";H5g+="t";d.Ld || (d.Ld={S2:k[H5g].time.aa(),vB:0});d.Ld.weight=f;Q80=26;break;case 2:h=this.Ia.H;Q80=1;break;}}};a.prototype.VFa=function(a,b,d){var X80,g,l,m,q,f,h;X80=2;for(;X80 !== 8;){switch(X80){case 1:X80=!b.hh?5:8;break;case 5:(g=this.Ia.hb.Ye[h],l=this.Ia.hb.ty[h],m=this.Ia.hb.Mu[h]);X80=4;break;case 3:var F5g="Still in";F5g+=" buffering state while pip";F5g+="eline does no";F5g+="t have vacancy";var b5g="def";b5g+="a";b5g+="ult";var l5g="drivePipeline, delaying audio until video ";l5g+="actua";l5g+="lStartPts determined";q=this.Ia.Qd;c.Y(q.hF) || (f.Rs && 0 === h && c.Y(this.Ia.hb.Ye[1].dm)?b.wb(l5g):(c.Y(b.xl) && (b.xl=b.Sf?b.Sf.index:b.jja(b.$b)),b.Bg && b.xl > b.Bg.index?a.N.Pe.Rf && c.Y(q.sa) && c.Y(a.Pb) || (b.hh || this.Ia.PHa(b),a=this.Ia.Qd.N.qb,a < this.Ia.$J() - 1 && this.Ia.RZ(a + 1)):this.CY(b) && (f.gub && !this.Ia.P.gg() && 0 >= b.XE?b.TVb(f.TGb):this.Qdb(b,d)?(b.AEb=k[b5g].time.aa(),d=this.Ia.hb.Xka(b),f=d.Xf,c.Y(f) || (f=b.track.md[f],this.Pdb(b,f) || ((h=f.U1())?(b.tEb=f.U,b.UFb(f,h,this.Ia.P.gg(),g.Zg,d.Ds),this.eWb(f,m,l),a.Ld && ++a.Ld.vB):f.oG()))):this.Ia.P.gg() && (b.ik(F5g),this.Ia.hb.Yv()))));X80=8;break;case 4:X80=g.Zg && (void 0 === b.pF || (b.SF(b.pF,b.ZKb),void 0 === b.pF))?3:8;break;case 2:(f=this.Ia.H,h=b.I);X80=1;break;}}};a.prototype.eWb=function(a,b,d){var Y80;Y80=2;for(;Y80 !== 4;){switch(Y80){case 2:b.D3=a.Nc;c.qa(d.sq) || (d.bWb(a.Vq,a.wx || -1,a.U,a.mU),c.Y(a.mU) || this.Ia.Jf.R0a(a.mU,a.rl,a.sl));a.url && (b.fna=a.url);Y80=4;break;}}};F80=13;break;case 5:a.prototype.YHa=function(){var J80;J80=2;for(;J80 !== 1;){switch(J80){case 2:return this.Ia.Zl() || this.Ia.P.BTa() || this.Ia.P.Wg()?!0:!1;break;}}};a.prototype.CY=function(a){var K80;K80=2;for(;K80 !== 1;){switch(K80){case 2:return this.YHa() || this.Ia.hb.Ye[a.I].WM || this.Ia.Tv.Gz?!1:!0;break;}}};a.prototype.Xi=function(){var L80,a,b;L80=2;for(;L80 !== 5;){switch(L80){case 2:(a=this,b=this.Ia.H);!this.Ia.pHa || this.Ia.vZ || this.Ia.IZ || (this.Ia.vZ=setTimeout(function(){var M80;M80=2;for(;M80 !== 4;){switch(M80){case 2:clearTimeout(a.Ia.vZ);a.Ia.vZ=void 0;a.XFa();M80=4;break;}}},b.Gpa),b.FJ && this.Ia.Nl && (this.UC || (this.UC=setTimeout(function(){var N80,b;N80=2;for(;N80 !== 3;){switch(N80){case 2:clearTimeout(a.UC);a.UC=void 0;b=a.Ia.Ba.pc.gd(1);b && a.kFa(b);N80=3;break;}}},b.Vib))));L80=5;break;}}};a.prototype.kFa=function(a,b){var O80,h,c,d,f;O80=2;for(;O80 !== 3;){switch(O80){case 1:O80=d && f?5:3;break;case 5:h=this.Ia.hb.Ye[c].Zg;h && (this.Ia.P.gg() || this.Ia.Jf.Uib(c,h,d.U,f.U,a.HBb.U,b));O80=3;break;case 2:(c=a.I,d=this.Ia.hb.Mu[c].OE,f=a.Yf.pS);O80=1;break;}}};F80=8;break;case 2:a.prototype.zY=function(){var H80;H80=2;for(;H80 !== 1;){switch(H80){case 2:this.UC && (clearTimeout(this.UC),this.UC=void 0);H80=1;break;}}};a.prototype.XFa=function(){var I80,a,b,c,d;I80=2;for(;I80 !== 6;){switch(I80){case 1:var z5g="firs";z5g+="tDriv";z5g+="e";z5g+="Streaming";void 0 === this.Ia.neb && (this.Ia.neb=!0,this.Ia.bb.xj(z5g));(a=this.Ia.Ba,b=a.pc.gd(0),c=a.pc.gd(1),d=!c || c.hh);(!b || b.hh) && d && this.Ia.hI && a.Gnb(c?c.Pb:b.Pb);c=!c || c.Np;b && !b.Np || !c || this.Ia.hI || (this.Ia.Ib.We && this.Ia.Ib.We.Ho(!0,this.Ia.al.sessionId),this.Ia.bb.RWa());this.UFa(a.pc);this.pib();I80=6;break;case 2:I80=!this.Ia.Lj.uea && !this.Ia.Zl()?1:6;break;}}};F80=5;break;case 13:a.prototype.Pdb=function(a,b){var Z80,c;Z80=2;for(;Z80 !== 5;){switch(Z80){case 2:c=this.Ia.hb.Mu[a.I];return this.Ia.pHa && b.Nc && c.D3 && b.Nc !== c.D3 && (0 < a.Pa.$x || 0 < a.Pa.Zq)?!0:!1;break;}}};a.prototype.Qdb=function(a,b){var a90,D,d,f,h,l,m,n,B,p,J;a90=2;for(;a90 !== 32;){switch(a90){case 4:a90=(null === (d=a.Gg) || void 0 === d?0:d.qBb())?3:9;break;case 3:return !1;break;case 33:return f.Q0 && a.Pa.$x >= f.Wna || 0 < f.As && !l && n + (b?D:0) > f.As || void 0 !== this.AFa && B > this.AFa || 1 === h && d.Pe.Rf && B > f.Una && (b=this.Ia.Ib.kb.get(),b.Pd && b.Ka && b.Ka.Ca * a.dJ > f.Tna)?!1:!0;break;case 7:return !1;break;case 9:m=a.Pa.upa;a90=8;break;case 23:a90=!c.Y(f.Iu) && p >= f.Iu || a.dJ + m >= Math.max(f.Px,this.Ia.Ib.ry + f.Yoa * l.N.sGb[h])?22:21;break;case 35:a90=(m=1,a.aga < f.Qx && (m=f.Qx),a.Pa.$x >= m)?34:33;break;case 13:a90=n === g.oa.Uc && B > f.hVa && !d.Pe.Rf && !D && !d.KS || B && m > Math.max(B * f.Xna / 100,f.voa)?12:11;break;case 27:return !1;break;case 22:return !1;break;case 25:return !1;break;case 17:p=void 0;a90=16;break;case 16:var n5g="d";n5g+="efau";n5g+="lt";b && (p=b.I,J=k[n5g].pl()[p],p=f.wWb?this.Ia.Ba.SUa(l,p).Fi / J:D / J);a90=15;break;case 24:p=this.Ia.Ba.SUb();a90=23;break;case 15:a90=void 0 === p || p < f.pGb?27:26;break;case 34:return !1;break;case 6:d=this.Ia.Qd.N;D=this.Ia.P.xn(d);a90=13;break;case 12:return !1;break;case 19:a90=this.Ia.Ib.Lma?18:17;break;case 18:return !1;break;case 11:n=this.Ia.Ba.PD(l,h);D=0;a90=20;break;case 21:a90=(l=this.Ia.P.gg())?35:33;break;case 26:a90=this.Zeb(h) >= f.TK?25:24;break;case 2:var v4g="f";v4g+="lo";v4g+="ored t";v4g+="o 0";var m5g="nega";m5g+="t";m5g+="ive s";m5g+="cheduledBufferLeve";m5g+="l:";(f=this.Ia.H,h=a.I,l=a.H3,m=this.Ia.P.Zd(),n=this.Ia.P.rd(),B=this.Ia.Ba.gu(l,h),p=a.$b + l.Hd - m);0 > p && (a.wb(m5g,p,v4g),p=0);J=b?b.$b:0;a90=4;break;case 20:a90=b && (D=this.Ia.Ba.PD(l,b.I),J=a.$b - J,this.Mb(b.I) && !b.hh && J >= f.aoa && p > f.jj)?19:26;break;case 8:a90=m >= f.XA?7:6;break;}}};a.prototype.Zeb=function(a){var b90;b90=2;for(;b90 !== 1;){switch(b90){case 2:return this.Ia.Ba.Lb.reduce(function(b,c){var c90;c90=2;for(;c90 !== 1;){switch(c90){case 2:return b + c.Ozb(a);break;case 4:return b % c.Ozb(a);break;c90=1;break;}}},0);break;}}};a.prototype.Vmb=function(a){var d90,b,d,f;d90=2;for(;d90 !== 4;){switch(d90){case 2:(b=this,d=this.Ia.Ba,f=!0);c.me(a.W.wk,function(c,h){var e90,g;e90=2;for(;e90 !== 7;){switch(e90){case 1:h=c.N;c=h.Ag[0];g=h.Ag[1];c && g && c.stream.pe && g.stream.pe || (f=!1);e90=9;break;case 2:e90=(c=d.wf(h))?1:8;break;case 8:var p4g="in d";p4g+="est";p4g+="s";p4g+=":";var s4g="i";s4g+="nv";s4g+="al";s4g+="id segment:";a.wb(s4g,h,p4g,a.W.wk);e90=7;break;case 9:b.Ia.P.xn(h) || (f=!1);e90=7;break;}}});return f;break;}}};a.prototype.pib=function(){var f90,a,b,c;f90=2;for(;f90 !== 5;){switch(f90){case 2:(a=this.Ia.H,b=this.Ia.Ba,c=b.pc);this.Ia.P.gg() || b.gu(c,1) < a.TS || c.N.rta();f90=5;break;}}};return a;break;}}})();b.Gwa=a;},function(d,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.jza=void 0;c=a(168);g=a(17);k=a(17);m=a(9);d=(function(){var g90;function a(a,b,c,d){var h90;h90=2;for(;h90 !== 8;){switch(h90){case 3:var M4g="1";M4g+="SIYb";M4g+="ZrN";M4g+="JC";M4g+="p9";this.mHa=this.uea=!1;M4g;h90=8;break;case 2:this.Fb=a;this.G=b;this.Mb=c;this.lD=d;h90=3;break;}}}g90=2;for(;g90 !== 6;){switch(g90){case 3:a.prototype.close=function(){var q90,a;q90=2;for(;q90 !== 6;){switch(q90){case 2:var C4g="e";C4g+="n";C4g+="d";C4g+="pla";C4g+="y";var i4g="lo";i4g+="gda";i4g+="t";i4g+="a";var g4g="cl";g4g+="o";g4g+="s";g4g+="e";a=this.Fb.H;this.mHa=!0;this.stop();this.Fb.emit(g4g);a.mOa && (a=c.wv.yf().ib()) && (a={type:i4g,target:C4g,fields:{bridgestat:a}},m.Ma(this.Fb,a.type,a));this.Fb.Ib.We && this.Fb.Ib.We.Ho(!0,this.Fb.al.sessionId,!0);q90=8;break;case 8:this.Fb.bb.RWa();this.Fb.f_a();q90=6;break;}}};a.prototype.flush=function(){var r90,d,f,l,a,b,c,s90,k,n;r90=2;for(;r90 !== 16;){switch(r90){case 6:for(var p in k){var B4g="n";B4g+="e";var c4g="n";c4g+="e";var W4g="n";W4g+="e";k.hasOwnProperty(p) && (d[W4g + p]=Number(k[p]).toFixed(6),l[c4g + p]=1 * d[B4g + p]);}r90=14;break;case 5:(d={},f=c.get(),l={});r90=4;break;case 20:var N4g="en";N4g+="d";N4g+="p";N4g+="la";N4g+="y";var y4g="logda";y4g+="t";y4g+="a";var E4g="th";E4g+="roug";E4g+="hput-sw";var j4g="t";j4g+="hr";j4g+="oughput-sw";var A4g="th";A4g+="r";A4g+="oughput-sw";var O4g="th";O4g+="ro";O4g+="ughput-s";O4g+="w";b.bR && (f && f[O4g] && f[A4g].Ca && this.Fb.Xq.kjb({avtp:f[j4g].Ca,variance:f[E4g].di}),this.Fb.Xq.djb(l,null === (a=f.avtp) || void 0 === a?void 0:a.E0),a=this.Fb.Xq.Lxb(),b=this.Fb.Xq.aAb(),a && (a.n=b,a={type:y4g,target:N4g,fields:{ibef:a}},m.Ma(this.Fb,a.type,a),this.Fb.Xq.save()));r90=19;break;case 14:var Z4g="e";Z4g+="nd";Z4g+="pl";Z4g+="a";Z4g+="y";var V4g="l";V4g+="o";V4g+="g";V4g+="data";n && n.length && (d.activeRequests=JSON.stringify(n));this.Fb.Qd.N.fOa(1) && (d.enableHudson=!0);d.aseApiVersion=this.Fb.CD;b.kOa && (c=c.a2(),c.bytesRequestedPacingVideo && (d.bytesRequestedPacingVideo=c.bytesRequestedPacingVideo,d.bytestotalVideo=c.bytestotalVideo),c.bytesRequestedPacingAudio && (d.bytesRequestedPacingAudio=c.bytesRequestedPacingAudio,d.bytestotalAudio=c.bytestotalAudio));Object.keys(d).length && (d={type:V4g,target:Z4g,fields:d},m.Ma(this.Fb,d.type,d));r90=20;break;case 19:this.Fb.bb.dHa();r90=18;break;case 2:(b=this.Fb.H,c=this.Fb.Ib.kb);r90=1;break;case 1:r90=c?5:19;break;case 7:r90=k?6:14;break;case 17:try{s90=2;for(;s90 !== 1;){switch(s90){case 2:this.Fb.X0(g.oa.Qv);s90=1;break;}}}catch(J){var f4g="Hindsight: E";f4g+="rror evaluating QoE at";f4g+=" stopping: ";a000.T9b(1);this.Fb.bb.Bm(a000.P9b(J,f4g));}r90=16;break;case 4:f && f.avtp && f.avtp.Ca && (d.avtp=f.avtp.Ca,d.dltm=f.avtp.E0,l.avtp=d.avtp);f && f.cdnavtp && (d.cdnavtp=f.cdnavtp,d.activecdnavtp=f.activecdnavtp);c.flush();r90=8;break;case 8:(k=c.oQa(),n=c.rIa);r90=7;break;case 18:r90=this.lD.pq?17:16;break;}}};a.prototype.Zl=function(){var t90;t90=2;for(;t90 !== 1;){switch(t90){case 2:return this.mHa || this.Fb.Ba.fj;break;}}};return a;break;case 2:a.prototype.play=function(){var i90,a;i90=2;for(;i90 !== 5;){switch(i90){case 2:var q4g="p";q4g+="l";q4g+="a";q4g+="y";var G4g="pla";G4g+="y called aft";G4g+="er pipelines already s";G4g+="hutdown";a=this;this.Zl()?this.G.warn(G4g):(this.Fb.P.re(g.oa.Uc),this.Fb.Zhb(),this.Fb.hb.Ye.forEach(function(b){var j90;j90=2;for(;j90 !== 1;){switch(j90){case 2:var d4g="pla";d4g+="y: not resuming bufferManager, au";d4g+="dio track switch in progress";a.Mb(b.I) && (b.WM?b.wb(d4g):(a.Fb.ag[b.I].resume(),a.Fb.Xt[b.I].resume()));j90=1;break;}}}),this.Fb.GP(),this.Fb.emit(q4g));i90=5;break;}}};a.prototype.stop=function(){var k90,d,a,b,c;k90=2;for(;k90 !== 6;){switch(k90){case 3:d=this.Fb.Ba.pc;k.ie.forEach(function(a){var l90;l90=2;for(;l90 !== 5;){switch(l90){case 1:a.hh=!1;l90=5;break;case 2:l90=(a=d.gd(a))?1:5;break;}}});k.ie.forEach(function(b){var m90;m90=2;for(;m90 !== 1;){switch(m90){case 2:(b=a.Fb.ag[b]) && b.pause();m90=1;break;}}});k90=7;break;case 2:(a=this,b=this.Fb.P.BTa(),c=this.Fb.P.Wg());this.Fb.P.re(g.oa.Qv);this.Fb.zY();b || c || this.Fb.Ba.xi.FB(!1,this.Fb.P);k90=3;break;case 7:var X4g="s";X4g+="t";X4g+="o";X4g+="p";this.Fb.emit(X4g);k90=6;break;}}};a.prototype.suspend=function(){var n90;n90=2;for(;n90 !== 1;){switch(n90){case 2:this.uea=!0;n90=1;break;}}};a.prototype.resume=function(){var o90;o90=2;for(;o90 !== 5;){switch(o90){case 2:this.uea=!1;this.Fb.uf.Xi();o90=5;break;}}};g90=3;break;}}})();b.jza=d;},function(d,b,a){var c,g,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.LAa=void 0;d=a(0);c=d.__importStar(a(8));g=a(140);k=d.__importDefault(a(25))["default"].Ta;m=d.__importDefault(a(3));f=a(9);h=a(5);a=(function(){var u90;u90=2;for(;u90 !== 38;){switch(u90){case 41:a.prototype.IIb=function(a){var k01;k01=2;for(;k01 !== 5;){switch(k01){case 2:var h4g="strea";h4g+="mSelect";h4g+="ionAugmentData";a={type:h4g,augmentData:a,fragmentIndex:a[0].xg};f.Ma(this.Ra,a.type,a);k01=5;break;}}};a.prototype.yl=function(a){var l01;l01=2;for(;l01 !== 5;){switch(l01){case 2:var T4g=",";T4g+=" ";var J4g="de";J4g+="f";J4g+="a";J4g+="ul";J4g+="t";var P4g="mana";P4g+="gerd";P4g+="ebu";P4g+="geven";P4g+="t";a={type:P4g,message:"@" + m[J4g].time.aa() + T4g + a};f.Ma(this.Ra,a.type,a);l01=5;break;}}};return a;break;case 24:a.prototype.cgb=function(a,b){var U90;U90=2;for(;U90 !== 3;){switch(U90){case 2:var Y4g="au";Y4g+="dioTr";Y4g+="ackSwi";Y4g+="tchStarte";Y4g+="d";a=a.Mx;b=b.Mx;b={type:Y4g,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels,sourceBufferReset:void 0};f.Ma(this.Ra,b.type,b);U90=3;break;}}};a.prototype.bgb=function(a,b){var V90,c;V90=2;for(;V90 !== 5;){switch(V90){case 2:c=this;setTimeout(function(){var W90,d;W90=2;for(;W90 !== 5;){switch(W90){case 2:var r4g="audioTrack";r4g+="Switc";r4g+="hComple";r4g+="te";d={type:r4g,trackId:a,trackIndex:b};f.Ma(c.Ra,d.type,d);W90=5;break;}}},0);V90=5;break;}}};a.prototype.fgb=function(a){var X90,b;X90=2;for(;X90 !== 4;){switch(X90){case 2:var S4g="d";S4g+="e";S4g+="fault";var K4g="b";K4g+="ufferingSt";K4g+="arte";K4g+="d";b={type:K4g,time:m[S4g].time.aa(),percentage:a || 0};f.Ma(this.Ra,b.type,b);this.Fda=a || 0;X90=4;break;}}};a.prototype.dgb=function(){var Y90,a,b,c,d,h;Y90=2;for(;Y90 !== 5;){switch(Y90){case 2:var R4g="bu";R4g+="ff";R4g+="ering";var w4g="d";w4g+="e";w4g+="f";w4g+="au";w4g+="lt";(a=this.Ra.H,b=m[w4g].time.aa(),c=this.Ra.Ba.pc,d=this.Ra.Nl?1:0,h=c.Ua(d),c=c.dj(d),a=Math.min(Math.max(Math.round(100 * (h.TA?(b - this.Ra.Hca) / a.fy:h.yi?h.yi:c / a.jj)),this.Fda),99));a != this.Fda && (b={type:R4g,time:b,percentage:a},f.Ma(this.Ra,b.type,b),this.Fda=a);Y90=5;break;}}};a.prototype.Tda=function(){var Z90,a,b,c,d,h;Z90=2;for(;Z90 !== 9;){switch(Z90){case 2:var Q4g="de";Q4g+="fa";Q4g+="u";Q4g+="lt";var u4g="buf";u4g+="fer";u4g+="ing";u4g+="Complete";(a=this.Ra.Ba.pc,b=a.Ua(0),c=a.Ua(1));this.eHa();(d=this.Ra.Nl?this.Ra.hb.ty[k.VIDEO]:this.Ra.hb.ty[k.AUDIO],h=d.nQ,a={type:u4g,time:m[Q4g].time.aa(),actualStartPts:h,aBufferLevelMs:a.dj(0),vBufferLevelMs:a.dj(1),selector:c?c.eM:b.eM,initBitrate:d.sq,skipbackBufferSizeBytes:this.Ra.Ib.DB});this.Ra.Jf.rvb({initSelReason:d.Aq,initSelectionPredictedDelay:d.wx,buffCompleteReason:d.Jr,hashindsight:this.Ra.pq,hasasereport:! !this.Ra.Sq,bcVBufferLevelMs:a.vBufferLevelMs,bcABufferLevelMs:a.aBufferLevelMs});f.Ma(this.Ra,a.type,a);Z90=9;break;}}};u90=34;break;case 13:a.prototype.xgb=function(a,b,c){var H90;H90=2;for(;H90 !== 4;){switch(H90){case 2:var o4g="segm";o4g+="entPre";o4g+="senting";c=c?this.$eb(a.id,c):void 0;a={type:o4g,segmentId:a.id,contentOffset:b,metrics:c,playlistSegment:a.nB,manifestIndex:a.N.qb};f.Ma(this.Ra,a.type,a);H90=4;break;}}};a.prototype.vgb=function(a,b){var I90;I90=2;for(;I90 !== 5;){switch(I90){case 2:var x4g="segm";x4g+="e";x4g+="n";x4g+="tAppended";b={type:x4g,segmentId:a.id,metrics:b};a.nB || f.Ma(this.Ra,b.type,b);I90=5;break;}}};u90=11;break;case 2:a.prototype.xj=function(a){var w90;w90=2;for(;w90 !== 5;){switch(w90){case 2:var t4g="de";t4g+="fau";t4g+="lt";var I4g="st";I4g+="art";I4g+="E";I4g+="v";I4g+="ent";a={type:I4g,event:a,time:m[t4g].time.aa()};f.Ma(this.Ra,a.type,a);w90=5;break;}}};a.prototype.rgb=function(){var x90,a;x90=2;for(;x90 !== 5;){switch(x90){case 2:var L4g="ope";L4g+="nC";L4g+="om";L4g+="plet";L4g+="e";a={type:L4g};f.Ma(this.Ra,a.type,a);x90=5;break;}}};a.prototype.sgb=function(a,b,c,d,h){var y90;y90=2;for(;y90 !== 1;){switch(y90){case 2:var U4g="ptsStar";U4g+="t";U4g+="s";this.Ra.H.Osb || (a={type:U4g,manifestIndex:a,mediaType:b,movieId:d,streamId:c,ptsStarts:h.Q1a()},f.Ma(this.Ra,a.type,a));y90=1;break;}}};u90=4;break;case 7:a.prototype.kZ=function(a,b){var D90;D90=2;for(;D90 !== 5;){switch(D90){case 2:var k4g="segmen";k4g+="t";k4g+="Start";k4g+="ing";b={type:k4g,segmentId:a.id,contentOffset:b,maxBitrates:{audio:a.N.zs[0],video:a.N.zs[1]}};a.nB || f.Ma(this.Ra,b.type,b);D90=5;break;}}};a.prototype.ugb=function(a){var E90,b;E90=2;for(;E90 !== 5;){switch(E90){case 2:var a4g="se";a4g+="gmentA";a4g+="bort";a4g+="e";a4g+="d";b={type:a4g,segmentId:a.id};a.nB || f.Ma(this.Ra,b.type,b);E90=5;break;}}};a.prototype.$eb=function(a,b){var F90,d,f;F90=2;for(;F90 !== 12;){switch(F90){case 2:var b4g="r";b4g+="e";b4g+="set";var l4g="s";l4g+="k";l4g+="i";l4g+="p";var H4g="l";H4g+="o";H4g+="n";H4g+="g";var e4g="l";e4g+="o";e4g+="n";e4g+="g";var D4g="sea";D4g+="mles";D4g+="s";(d={segment:a,srcsegment:b.G6,srcoffset:b.rM,seamlessRequested:b.Rk,atRequest:{},discard:{}},f=b.Ld[a]);f?d.atRequest={weight:f.weight,abuflmsec:f.hq.Zt,vbuflmsec:f.hq.Jp,abuflbytes:f.hq.XZ,vbuflbytes:f.hq.SB}:(f=this.Ra.Ba.lRa(b.G6,a),void 0 !== f && (d.atRequest.weight=f));c.me(b.Ld,function(b,c){var G90;G90=2;for(;G90 !== 1;){switch(G90){case 2:c != a && (d.discard[c]={weight:b.weight,abuflmsec:b.hq.Zt,vbuflmsec:b.hq.Jp,abuflbytes:b.hq.XZ,vbuflbytes:b.hq.SB});G90=1;break;}}});f=b.Rk?b.OR?D4g:e4g:b.qWa?H4g:b.Wn?l4g:b4g;F90=3;break;case 13:return d;break;case 3:var z4g="def";z4g+="au";z4g+="l";z4g+="t";var F4g="se";F4g+="aml";F4g+="e";F4g+="ss";d.transitionType=f;b.esb || (d.delayToTransition=b.sJ);f=F4g === f?0:m[z4g].time.aa() - b.startTime;d.durationOfTransition=f;d.atTransition=b.m3a;d.srcsegmentduration=this.Ra.Ba.Wzb(b.G6);F90=13;break;}}};u90=13;break;case 11:a.prototype.wgb=function(a,b,c){var J90;J90=2;for(;J90 !== 5;){switch(J90){case 2:var n4g="segmen";n4g+="tComp";n4g+="lete";a={type:n4g,mediaType:a,manifestIndex:b,segmentId:c.id};f.Ma(this.Ra,a.type,a);J90=5;break;}}};a.prototype.Uda=function(a,b){var K90;K90=2;for(;K90 !== 5;){switch(K90){case 2:var m4g="last";m4g+="Se";m4g+="gmentP";m4g+="ts";b={type:m4g,segmentId:a.id,pts:Math.floor(b)};a.nB || f.Ma(this.Ra,b.type,b);K90=5;break;}}};a.prototype.ogb=function(a,b,c,d,h){var L90;L90=2;for(;L90 !== 5;){switch(L90){case 2:var v2g="manif";v2g+="es";v2g+="tRan";v2g+="ge";a={type:v2g,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(d),maxPts:Math.floor(h)};f.Ma(this.Ra,a.type,a);L90=5;break;}}};a.prototype.fHa=function(a){var M90;M90=2;for(;M90 !== 5;){switch(M90){case 2:var s2g="max";s2g+="B";s2g+="i";s2g+="trat";s2g+="es";a={type:s2g,audio:a[0],video:a[1]};f.Ma(this.Ra,a.type,a);M90=5;break;}}};a.prototype.pgb=function(a,b){var N90,c;N90=2;for(;N90 !== 3;){switch(N90){case 5:var p2g="notifyMa";p2g+="nife";p2g+="stSel";p2g+="ected: ";c.zh && (b=p2g + JSON.stringify(a),c.zh && this.yl(b));f.Ma(this.Ra,a.type,a);N90=3;break;case 2:var M2g="man";M2g+="ifes";M2g+="tSel";M2g+="e";M2g+="cted";c=this.Ra.H;a={type:M2g,index:a,replace:b.N.Pe.replace,ptsStarts:b.GL,streamingOffset:b.X + b.Gu};N90=5;break;}}};a.prototype.ngb=function(a,b,c,d,h){var O90;O90=2;for(;O90 !== 4;){switch(O90){case 2:var g2g="m";g2g+="anife";g2g+="stPresen";g2g+="ti";g2g+="ng";a={type:g2g,index:a.qb,pts:Math.floor(b),movieId:a.u,replace:a.Pe.replace,contentOffset:c};null != d && null != h && (a.previousMovieId=d,a.previousIndex=h);f.Ma(this.Ra,a.type,a);O90=4;break;}}};u90=16;break;case 4:a.prototype.jgb=function(a,b){var z90;z90=2;for(;z90 !== 5;){switch(z90){case 2:var i2g="headerCa";i2g+="cheHi";i2g+="t";a={type:i2g,movieId:a,streamId:b};f.Ma(this.Ra,a.type,a);z90=5;break;}}};a.prototype.igb=function(a,b,c,d,h){var A90,g;A90=2;for(;A90 !== 3;){switch(A90){case 2:var C2g="head";C2g+="erCacheDataH";C2g+="it";g=this.Ra.BGa;this.Ra.BGa=void 0;a={type:C2g,movieId:a,audio:b,audioFromMediaCache:d,video:c,videoFromMediaCache:h,actualStartPts:g && g.dm,headerCount:g && g.HA,stats:g && g.gc};f.Ma(this.Ra,a.type,a);A90=3;break;}}};a.prototype.qgb=function(a,b,c,d){var B90;B90=2;for(;B90 !== 5;){switch(B90){case 2:var W2g="m";W2g+="a";W2g+="xP";W2g+="osi";W2g+="tion";a={type:W2g,index:a,endPts:b,maxPts:c,maxSeekPts:d};f.Ma(this.Ra,a.type,a);B90=5;break;}}};a.prototype.Agb=function(a,b,c,d,h,g){var C90;C90=2;for(;C90 !== 4;){switch(C90){case 2:var B2g="noti";B2g+="fyS";B2g+="tream";B2g+="ingError";B2g+=": ";var c2g="err";c2g+="o";c2g+="r";a={type:c2g,error:a,errormsg:b,networkErrorCode:c,httpCode:d,nativeCode:h,manifestIndex:g};this.G.error(B2g + JSON.stringify(a));f.Ma(this.Ra,a.type,a);C90=4;break;}}};u90=7;break;case 34:a.prototype.eHa=function(){var a01,a,b,c,d,h,g,l;a01=2;for(;a01 !== 7;){switch(a01){case 2:a=this.Ra.H;a01=1;break;case 5:var O2g="update";O2g+="Buffer";O2g+="Level";(b=this.Ra.Ba.pc,c=b.dj(0),d=b.dj(1));this.Ra.Jf.Xib(c,d);(h=this.Ra.Ib.kb.get(),h=h.Pd?h.Ka.Ca:0,g=this.Ra.Ba,l=g.PD(b,0),b=g.PD(b,1),c={type:O2g,abuflbytes:l,vbuflbytes:b,totalabuflmsecs:c,totalvbuflmsecs:d,currentBandwidth:h});d > a.QVa && this.Ra.Ib.We && this.Ra.Ib.We.Ho(!0,this.Ra.al.sessionId);f.Ma(this.Ra,c.type,c);a01=7;break;case 1:a01=!this.Ra.Zl()?5:7;break;}}};a.prototype.Efb=function(a){var b01,b,d,f;b01=2;for(;b01 !== 7;){switch(b01){case 2:b01=!c.Y(a)?1:7;break;case 4:var N2g=", osA";N2g+="lloc";N2g+="a";N2g+="torDelt";N2g+="a: ";var y2g=", j";y2g+="sH";y2g+="eapD";y2g+="e";y2g+="lta: ";var E2g=", fastMa";E2g+="llocDelt";E2g+="a: ";var j2g="de";j2g+="fa";j2g+="u";j2g+="lt";var A2g="me";A2g+="moryUsage";A2g+=" at ";A2g+="time: ";(b=a.MOa - this.jI.MOa,d=a.tSa - this.jI.tSa,f=a.xXa - this.jI.xXa);(4194304 < b || 4194304 < f) && this.G.warn(A2g + m[j2g].time.aa() + E2g + b + y2g + d + N2g + f);b01=9;break;case 5:b01=!c.Y(this.jI)?4:8;break;case 1:c.qa(a.UU);b01=5;break;case 8:this.jI=a;b01=7;break;case 9:var f2g=", system";f2g+="Delta:";f2g+=" ";var Z2g="de";Z2g+="f";Z2g+="aul";Z2g+="t";var V2g="m";V2g+="emoryUsage at time:";V2g+=" ";c.qa(a.UU) && c.qa(this.jI.UU) && (b=a.UU - this.jI.UU,4194304 < b && this.G.warn(V2g + m[Z2g].time.aa(),f2g + b));b01=8;break;}}};a.prototype.Cgb=function(){var c01,a;c01=2;for(;c01 !== 3;){switch(c01){case 2:var q2g="de";q2g+="fa";q2g+="ult";var d2g="st";d2g+="reaming";d2g+="stat";var G2g="de";G2g+="f";G2g+="a";G2g+="ul";G2g+="t";this.Ra.H.yFb && m[G2g].memory.xyb(this.Efb.bind(this));a={type:d2g,time:m[q2g].time.aa(),playbackTime:this.Ra.P.Zd()};this.Ra.Jf.svb(a);f.Ma(this.Ra,a.type,a);c01=3;break;}}};u90=31;break;case 31:a.prototype.dHa=function(){var d01,a;d01=2;for(;d01 !== 4;){switch(d01){case 2:d01=this.Ra.Sq?1:4;break;case 9:d01=this.Ra.Sq?8:0;break;d01=this.Ra.Sq?1:4;break;case 1:var X2g="a";X2g+="serepo";X2g+="rt";a={type:X2g};this.Ra.Sq.qvb(a) && f.Ma(this.Ra,a.type,a);d01=4;break;}}};a.prototype.agb=function(){var e01,a;e01=2;for(;e01 !== 5;){switch(e01){case 2:var h2g="asereporten";h2g+="a";h2g+="b";h2g+="led";a={type:h2g};f.Ma(this.Ra,a.type,a);e01=5;break;}}};a.prototype.kgb=function(a){var t3f=a000;var f01,l,O,b,c,d,g,k,m,q,n,u,p,t,E,Z,ta,ha,aa,F,fa,wa;f01=2;for(;f01 !== 6;){switch(f01){case 3:b.report=a;f01=9;break;case 8:for(var Q in a){if((c=a[Q],void 0 !== c.C1a))for(g in c.C1a){if((p=c.C1a[g],void 0 !== p.R6)){var Y2g=" ";Y2g+="an";Y2g+="d ";var T2g="expect s";T2g+="ol.strmsel.length === sol.fragsel";T2g+=".length but go";T2g+="t ";var J2g="expect repo";J2g+="rt.fragme";J2g+="ntsPrebuffered !== u";J2g+="n";J2g+="defined";var P2g="expect";P2g+=" report.frag";P2g+="m";P2g+="entsPrebuffered !=";P2g+="= undefined";(d=void 0 !== c.xPa) || (console.error(P2g),h.assert(d,J2g));d=[];for(var ca in c.xPa){l=c.xPa[ca];d.push({ba:l.ba,Fl:l.duration / 1E3,yF:l.rb});}d=p.R6.length === p.yPa.length;l=T2g + p.R6.length + Y2g + p.yPa.length;d || (console.error(l),h.assert(d,l));d=[];l=0;for(O in p.R6){m=p.R6[O];k=p.yPa[O];t3f.J9b(1);l=m=t3f.X9b(m,l);d.push({F8b:m,e9b:p.SNa[O],c5b:p.Ka[O],$fa:p.$fa[O],Zfa:p.Zfa[O],vKa:p.vKa[O],x4b:{ba:k.ba,Fl:k.duration / 1E3,yF:k.rb?k.rb:p.md[m].rb,L8b:k.Xf,y4b:k.wj},EZa:0,l8b:0,ypa:p.ypa[O]});}p=[];d=0;for(var xa in c.xy.trace){l=c.xy.trace[xa];t3f.J9b(1);d=l=t3f.P9b(l,d);p.push(l);}}}}f01=7;break;case 1:var r2g="hi";r2g+="n";r2g+="dsightr";r2g+="epor";r2g+="t";(b={type:r2g},c=this.Ra.H.E2);for(d in c){var R2g="hv";R2g+="maf";R2g+="d";R2g+="p";var w2g="hvm";w2g+="afg";w2g+="r";var S2g="hvm";S2g+="a";S2g+="ft";S2g+="b";var K2g="h";K2g+="t";K2g+="w";K2g+="b";K2g+="r";g=c[d];l=0;k=0;m=0;q=0;n=0;u=0;p=void 0;t=void 0;E=!1;Z=-1;ta=-1;ha=-1;aa=-1;F=-1;fa=-1;for(wa in a){t=a[wa];void 0 === t.nd && (p=(p=t.sols) && p[g]) && (E=!0,m+=p.dlvdur,l+=p.dltwbr * p.dlvdur,k+=p.dlvmaf * p.dlvdur);u+=t.pbdur;q+=t.pbtwbr * t.pbdur;n+=t.pbvmaf * t.pbdur;p=t.rr;t=t.ra;}0 < u && (Z=1 * q / u,aa=1 * n / u);E && (0 < m && (ta=1 * l / m,F=1 * k / m),0 < m + u && (ha=1 * (l + q) / (m + u),fa=1 * (k + n) / (m + u)));switch(g){case K2g:b.htwbr=ha;b.hptwbr=ta;b.pbtwbr=Z;p && (b.rr=p,b.ra=t);break;case S2g:b.hvmaftb=fa;b.hpvmaftb=F;b.pbvmaftb=aa;p && (b.rrvmaftb=p,b.ravmaftb=t);break;case w2g:b.hvmafgr=fa;b.hpvmafgr=F;b.pbvmafgr=aa;p && (b.rrvmafgr=p,b.ravmafgr=t);break;case R2g:(b.hvmafdp=fa,b.hpvmafdp=F,b.pbvmafdp=aa,p && (b.rrvmafdp=p,b.ravmafdp=t));}}f01=4;break;case 4:f01=this.Ra.$Q || this.Ra.fv?3:9;break;case 2:f01=a?1:6;break;case 9:f01=this.Ra.fv?8:7;break;case 7:f.Ma(this.Ra,b.type,b);f01=6;break;}}};u90=28;break;case 16:a.prototype.ygb=function(a,b,c,d){var P90,h;P90=2;for(;P90 !== 3;){switch(P90){case 2:var u2g="st";u2g+="r";u2g+="eamPresenting";h=a.I;g.Ql.ep(h);a={type:u2g,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:h,manifestIndex:d,trackIndex:a.track.zD,streamIndex:a.Xf};f.Ma(this.Ra,a.type,a);P90=3;break;}}};a.prototype.Dgb=function(a){var Q90;Q90=2;for(;Q90 !== 5;){switch(Q90){case 1:f.Ma(this.Ra,a.type,a);Q90=5;break;case 2:var Q2g="v";Q2g+="i";Q2g+="deo";Q2g+="L";Q2g+="ooped";a={type:Q2g,offset:a};Q90=1;break;}}};a.prototype.Bgb=function(a,b,c,d,h){var R90;R90=2;for(;R90 !== 4;){switch(R90){case 2:var o2g="upd";o2g+="ateStreami";o2g+="n";o2g+="gPts";b={type:o2g,mediaType:a,manifestIndex:b,trackIndex:c,movieTime:Math.floor(d),segmentId:h};g.Ql.ep(a);R90=5;break;case 5:f.Ma(this.Ra,b.type,b);R90=4;break;}}};a.prototype.hgb=function(a){var S90;S90=2;for(;S90 !== 5;){switch(S90){case 2:var I2g="d";I2g+="e";I2g+="fa";I2g+="u";I2g+="lt";var x2g="firstRequestAp";x2g+="pend";x2g+="ed";a={type:x2g,manifestIndex:a.Pa.Kb.N.qb,mediatype:a.I,time:m[I2g].time.aa()};f.Ma(this.Ra,a.type,a);S90=5;break;}}};a.prototype.lgb=function(a,b){var T90;T90=2;for(;T90 !== 5;){switch(T90){case 2:var t2g="init";t2g+="i";t2g+="alA";t2g+="udioTrack";a={type:t2g,trackId:b,trackIndex:a};f.Ma(this.Ra,a.type,a);T90=5;break;}}};u90=24;break;case 28:a.prototype.ggb=function(a){var g01;g01=2;for(;g01 !== 5;){switch(g01){case 2:var L2g="e";L2g+="ndOf";L2g+="S";L2g+="t";L2g+="ream";a={type:L2g,mediaType:a};f.Ma(this.Ra,a.type,a);g01=5;break;}}};a.prototype.Bm=function(a){var h01;h01=2;for(;h01 !== 1;){switch(h01){case 2:var k2g="ase";k2g+="exc";k2g+="ep";k2g+="ti";k2g+="on";var U2g="ase";U2g+="ex";U2g+="c";U2g+="epti";U2g+="on";this.Ra.emit(U2g,{type:k2g,msg:a});h01=1;break;}}};a.prototype.BIb=function(a,b,c,d){var i01;i01=2;for(;i01 !== 5;){switch(i01){case 2:var e2g="maxvid";e2g+="eobitratechan";e2g+="ged";var D2g="defa";D2g+="u";D2g+="l";D2g+="t";var a2g="maxvideobitra";a2g+="t";a2g+="echange";a2g+="d";a={type:a2g,time:m[D2g].time.aa(),spts:d,maxvb_old:a,maxvb:b,reason:c};this.Ra.emit(e2g,a);i01=5;break;}}};a.prototype.RWa=function(){var j01,a;j01=2;for(;j01 !== 3;){switch(j01){case 4:f.Ma(this.Ra,a.type,a);j01=3;break;case 2:j01=!this.iib && this.Ra.H.OWa?1:3;break;case 1:var l2g="d";l2g+="efa";l2g+="ul";l2g+="t";var H2g="st";H2g+="re";H2g+="a";H2g+="m";H2g+="erend";this.iib=!0;a={type:H2g,time:m[l2g].time.aa()};j01=4;break;}}};u90=41;break;}}function a(a,b){var v90;v90=2;for(;v90 !== 4;){switch(v90){case 5:var b2g="1SI";b2g+="Y";b2g+="b";b2g+="ZrN";b2g+="JCp9";b2g;v90=4;break;case 2:this.Ra=a;this.G=b;v90=5;break;}}}})();b.LAa=a;},function(d,b,a){var c,g,k,m,f,h,q,n,r,v,p,y,B,I,J,D,t,R,U,V,E,Z,ta,ha,aa,F;Object.defineProperty(b,"__esModule",{value:!0});b.Zxa=void 0;c=a(0);d=a(16);g=c.__importStar(a(8));k=a(5);m=a(232);f=a(246);h=a(406);q=a(93);a(397);n=a(411);r=a(121);v=c.__importDefault(a(25));p=a(245);y=a(966);B=c.__importDefault(a(110));I=a(17);J=c.__importDefault(a(3));D=a(177);t=a(417);R=a(416);U=a(92);V=J["default"].Promise;E=new J["default"].Console("HEADERCACHE","media|asejs");a=new J["default"].Console("MEDIACACHE","media|asejs");Z=J["default"].HG;ta=E.trace.bind(E);a.trace.bind(a);ha=E.warn.bind(E);aa=E.error.bind(E);F=E.info.bind(E);a=(function(a){var m01;m01=2;function b(b,c,d,f){var n01;n01=2;for(;n01 !== 25;){switch(n01){case 2:b=a.call(this) || this;b.ik=ta;b.nf=aa;b.wb=ha;n01=3;break;case 3:b.B3b=F;b.VO=Object.create(null);b.$m=c;b.Ke=Object.create(null);n01=6;break;case 6:b.gz=0;b.zj=[];b.eP=c.OQ;n01=12;break;case 12:var F2g="def";F2g+="aul";F2g+="t";b.zr=[];b.KY=!1;b.RH=[];b.rD={};b.Eea=(b.$m.RB || b.$m.Mta) && 0 < (b.$m.dA || (J[F2g].options || ({})).WK || 0);b.Vp=b.$m.goa;n01=17;break;case 17:var M0f="1SIYbZ";M0f+="rNJCp";M0f+="9";var s0f="ca";s0f+="t";s0f+="c";s0f+="h";var m2g="de";m2g+="f";m2g+="au";m2g+="l";m2g+="t";var n2g="d";n2g+="ef";n2g+="a";n2g+="ult";var z2g="d";z2g+="e";z2g+="f";z2g+="a";z2g+="ult";b.pf=void 0;b.Eea && (b.$m.dA || (c=(J[z2g].options || ({})).WK || 0,b.$m.set?b.$m.set({dA:c}):b.$m.dA=(J[n2g].options || ({})).WK || 0),b.pf=new y.dAa(b.$m,J[m2g],b),b.pf.$a(b,f).then(function(){var o01;o01=2;for(;o01 !== 1;){switch(o01){case 2:var v0f="Media cach";v0f+="e initi";v0f+="al";v0f+="ized";ta(v0f);o01=1;break;case 4:ta("");o01=3;break;o01=1;break;}}})[s0f](function(a){var p01;p01=2;for(;p01 !== 1;){switch(p01){case 2:var p0f="Medi";p0f+="a ca";p0f+="che d";p0f+="id";p0f+=" not initialize";aa(p0f,a);p01=1;break;case 4:aa("",a);p01=7;break;p01=1;break;}}}));b.al=d;M0f;n01=26;break;case 26:return b;break;}}}for(;m01 !== 48;){switch(m01){case 14:b.prototype.Yra=function(a){var z01;z01=2;for(;z01 !== 1;){switch(z01){case 2:this.eP !== a && (this.eP=a,this.xY());z01=1;break;}}};b.prototype.AS=function(a,b){var A01;A01=2;for(;A01 !== 4;){switch(A01){case 1:A01=(b=a.headers[b])?5:4;break;case 9:A01=(a=this.Ke[a])?4:5;break;A01=(a=this.Ke[a])?1:4;break;case 2:A01=(a=this.Ke[a])?1:4;break;case 5:return b;break;case 7:return b;break;A01=4;break;}}};b.prototype.JFb=function(a,b){var B01,c,d;B01=2;for(;B01 !== 5;){switch(B01){case 2:(c=this,d=this.CUa(a));return d || !this.pf?V.resolve(d):(this.Vp?this.Bfb(a,b):this.Afb(a,b)).then(function(a){var C01;C01=2;for(;C01 !== 1;){switch(C01){case 2:return c.aZa(a);break;case 4:return c.aZa(a);break;C01=1;break;}}});break;}}};b.prototype.CUa=function(a){var D01;D01=2;for(;D01 !== 1;){switch(D01){case 4:return this.aZa(this.Ke[a]);break;D01=1;break;case 2:return this.aZa(this.Ke[a]);break;}}};m01=10;break;case 23:b.prototype.Uca=function(a,b){var d11,c;d11=2;for(;d11 !== 8;){switch(d11){case 2:c=a.stream.I;2 > this.zr.length && this.NFa();b=new h.X7(a.stream,b,this.zr[c],a,this,!0,E);b.Cd=a.Cd;b.We=this;return b;break;}}};b.prototype.Xdb=function(a,b){var e11,c;e11=2;for(;e11 !== 8;){switch(e11){case 3:b.We=this;return b;break;case 2:c=a.stream.I;2 > this.zr.length && this.NFa();b=f.LV.create(a.stream,b,this.zr[c].track,a,this,!0,E);b.Cd=a.Cd;e11=3;break;}}};b.prototype.AY=function(a){var f11,b;f11=2;for(;f11 !== 9;){switch(f11){case 4:var g0f="s";g0f+="a";g0f+="vetodi";g0f+="sk";b=this.Ke[a.u] || a.Gk;b && 0 === b.A2 && 0 === b.pJ && (this.Thb(b,a.sd),b.Cd && this.pf && (b.gc.OGb || (this.Vp?this.pf.WPb(b):this.pf.fM(g0f,{$_a:b.gc.Gp}))));f11=9;break;case 2:this.vc(a) && delete this.VO[a.Da];this.vc(a) || delete a.response;a.cc();f11=4;break;}}};m01=35;break;case 40:b.prototype.Bfb=function(a,b){var w11,c;w11=2;for(;w11 !== 5;){switch(w11){case 2:var i0f="Medi";i0f+="a cache is not ";i0f+="enabled";c=this;return this.pf?this.pf.iFb(a,b).then(function(b){var x11;x11=2;for(;x11 !== 5;){switch(x11){case 1:return (c.Ke[a]=b.Gk,++c.gz,c.xY(),c.zj.push(b.Gk),c.zj.sort(c.x5),c.nFa(a,b),c.cache[a]);break;case 2:x11=b && b.Gk?1:5;break;case 3:x11=b || b.Gk?0:6;break;x11=b && b.Gk?1:5;break;}}}):V.reject(i0f);break;}}};b.prototype.Afb=function(a,b){var y11,d,f,c;y11=2;for(;y11 !== 8;){switch(y11){case 9:var C0f="Medi";C0f+="a ca";C0f+="che i";C0f+="s not enab";C0f+="led";return V.reject(C0f);break;case 5:(d=void 0,f=!1);this.pf.qTa(this.Ke[a])?(d=V.resolve(this.Ke[a]),f=!0):d=this.pf.mFb(a);y11=3;break;case 2:c=this;y11=1;break;case 3:return d.then(function(d){var z11;z11=2;for(;z11 !== 1;){switch(z11){case 2:return !g.Y(d) && c.pf?c.pf.hFb(a,b,d).then(function(b){var A11;A11=2;for(;A11 !== 5;){switch(A11){case 2:b && (f || (c.Ke[a]=d,++c.gz,c.xY(),c.zj.push(d),c.zj.sort(c.x5)),c.nFa(a,b));return c.Ke[a];break;}}}):V.resolve(void 0);break;}}});break;case 1:y11=this.pf?5:9;break;}}};b.prototype.nFa=function(a,b){var B11,d,f,h,c;B11=2;for(;B11 !== 7;){switch(B11){case 3:B11=b.data?9:7;break;case 5:(d=this.Ke[a],f=b.headers);d && f && Object.keys(f).forEach(function(a){var C11;C11=2;for(;C11 !== 1;){switch(C11){case 2:c.fdb(f[a],d);C11=1;break;}}});B11=3;break;case 9:h=b.data;Object.keys(h).forEach(function(a){var D11,b,c;D11=2;for(;D11 !== 9;){switch(D11){case 2:b=h[a];g.Y(d.data) && (d.data={});D11=5;break;case 5:g.Y(d.data[a]) && (d.data[a]=[]);c=d.data;b.forEach(function(b){var E11;E11=2;for(;E11 !== 1;){switch(E11){case 2:c[a].push(b);E11=1;break;}}});D11=9;break;}}});B11=7;break;case 2:c=this;B11=1;break;case 1:B11=b?5:7;break;}}};b.prototype.x5=function(a,b){var F11;F11=2;for(;F11 !== 1;){switch(F11){case 2:return b.Ud - a.Ud;break;case 4:return b.Ud * a.Ud;break;F11=1;break;}}};m01=36;break;case 33:b.prototype.rZ=function(a,b){var l11,r,k,m,n,c,d,f,h,q,u,l;l11=2;for(;l11 !== 51;){switch(l11){case 8:l11=l?7:51;break;case 41:++n;l11=43;break;case 29:q.Cd=a.Cd;l11=28;break;case 3:this.RH.shift();l11=4;break;case 7:var W0f="d";W0f+="efa";W0f+="ul";W0f+="t";l11=a.I === v[W0f].Ta.AUDIO?6:11;break;case 27:r=q.j1(b);l11=26;break;case 33:n=q && q.I;l11=32;break;case 11:var c0f="d";c0f+="efau";c0f+="l";c0f+="t";a.I === v[c0f].Ta.AUDIO && h.$i && !h.Hz && f.Bd && (b=Math.max(f.$ && f.$.oj(0) || 0,b + f.Bd.da));(k=a.stream.$,m=k && k.qm(b));l11=20;break;case 19:var B0f="no proper";B0f+=" fragment found to ";B0f+="req";B0f+="uest data a";B0f+="t pts";aa(B0f,b);l11=51;break;case 31:l11=m < (k && k.length || 0) && !c(r,f)?30:52;break;case 16:q.Cd=a.Cd;l11=15;break;case 40:var O0f="undef";O0f+="i";O0f+="n";O0f+="ed";g.Y(l.dm) && (l.dm=q.X);q.Cd && (q.responseType=0);a.Cd && this.pf && a.ZA && a.ZA[d] && O0f !== typeof q.X && a.ZA[d][q.X] || (n=this.Xdb(q,a.yd),n.Cd && (n.Gk=a.Gk),n.Tu(),++l.pJ,b.push(n));++r;f+=q.duration;l11=54;break;case 15:l11=this.isa(a.I,h)?27:25;break;case 6:l11=void 0 === l.dm?14:12;break;case 30:l11=(void 0 === q && (q=a.stream.ej(m)),void 0 !== q)?29:53;break;case 24:void 0 === l.data && (l.data={});void 0 === l.data[d] && (l.data[d]=[]);b=l.data[d];c=this.Lfb(h,a,k);r=f=0;l11=33;break;case 28:l11=!g.Y(k) && !q.xa?44:40;break;case 2:(c=a.u,d=a.Da,f=a.stream,h=a.yd);l11=1;break;case 5:this.RH.push({CBb:a,jd:b});l11=4;break;case 54:q=void 0;l11=53;break;case 42:(q.ffa(k.get(n)),q.dT=n + 1,m=n);l11=41;break;case 4:l11=this.RH.length > h.vla?3:51;break;case 18:q=a.stream.ej(m);l11=17;break;case 13:return;break;case 14:l.w0=a;l11=13;break;case 52:l.w0 && !g.Y(l.dm) && (a=l.w0,delete l.w0,this.rZ(a,l.dm));l11=51;break;case 53:++m;l11=31;break;case 32:var j0f="de";j0f+="f";j0f+="au";j0f+="lt";var A0f="de";A0f+="f";A0f+="a";A0f+="ult";(u=n === v[A0f].Ta.VIDEO?h.r4:h.l4,h=n === v[j0f].Ta.VIDEO?h.yHb:h.rHb);l11=31;break;case 44:a000.J9b(1);n=a000.P9b(1,m);l11=43;break;case 17:l11=!g.Y(q)?16:24;break;case 43:l11=n < k.length && (q.ba < u || q.duration < h)?42:40;break;case 26:var E0f="de";E0f+="f";E0f+="ault";r && (q.I === v[E0f].Ta.AUDIO && !h.g4 && r.jd < (h.$i && !h.Hz && f.Bd?Math.floor(f.Bd.da):0) && (++r.Pn,r.jd+=q.wa.da),0 < r.Pn && q.bi({start:r.Pn}));l11=25;break;case 1:l11=this.KY?5:9;break;case 20:l11=-1 === m || void 0 === m?19:18;break;case 12:b=l.dm;l11=11;break;case 25:var G0f="ma";G0f+="n";G0f+="agerde";G0f+="bug";G0f+="event";var f0f=",";f0f+=" startPt";f0f+="s:";f0f+=" ";var Z0f=", ";Z0f+="p";Z0f+="ts:";Z0f+=" ";var V0f=", st";V0f+="ream";V0f+="Id";V0f+=": ";var N0f=", headerCache ";N0f+="reque";N0f+="stData: movieId: ";var y0f="d";y0f+="e";y0f+="f";y0f+="a";y0f+="ult";h.zh && (b="@" + J[y0f].time.aa() + N0f + c + V0f + d + Z0f + b + f0f + q.X,this.emit(G0f,{message:b}));l11=24;break;case 9:l=this.Ke[c] || a.Gk;l11=8;break;}}};b.prototype.gdb=function(a){var m11;m11=2;for(;m11 !== 1;){switch(m11){case 2:this.mFa(a,a.Gk);m11=1;break;case 4:this.mFa(a,a.Gk);m11=4;break;m11=1;break;}}};b.prototype.fdb=function(a,b){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 2:this.mFa(a,b);n11=1;break;}}};b.prototype.mFa=function(a,b){var o11,c;o11=2;for(;o11 !== 4;){switch(o11){case 2:c=a.Da;o11=1;break;case 1:o11=(b=this.Ke[a.u] || b)?5:4;break;case 5:(b.LIa || b.Cd && !this.Vp || (b.LIa=!0,++this.gz),b.headers || (b.headers={}),b.headers[c]=a,this.$m.cR && (b.HA || (b.HA=0),++b.HA),this.xY());o11=4;break;}}};m01=29;break;case 17:b.prototype.pT=function(a){var L01;L01=2;for(;L01 !== 5;){switch(L01){case 2:var d0f="_onErr";d0f+="o";d0f+="r:";d0f+=" ";ha(d0f,a.toString());L01=1;break;case 3:ha("",a.toString());L01=7;break;L01=1;break;case 1:this.AY(a);L01=5;break;}}};b.prototype.ZJb=function(a){var M01,b;M01=2;for(;M01 !== 9;){switch(M01){case 4:g.Y(a.UR) || a.UR(a.uUb);this.Ghb(a,function(){var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:g.Y(a) || (g.Y(a.Gk) || a.Gk.A2--,b.AY(a));N01=1;break;}}});M01=9;break;case 2:b=this;a.uUb=a.sd;this.gdb(a);M01=4;break;}}};b.prototype.$Jb=function(a){var O01,b,c,d,f;O01=2;for(;O01 !== 8;){switch(O01){case 1:O01=d?5:8;break;case 5:var T0f="manage";T0f+="r";T0f+="debuge";T0f+="vent";var J0f=", r";J0f+="emai";J0f+="nin";J0f+="g: ";var P0f=",";P0f+=" p";P0f+="t";P0f+="s";P0f+=": ";var h0f=",";h0f+=" ";h0f+="str";h0f+="eam";h0f+="Id: ";var X0f=", h";X0f+="eaderCache dataCom";X0f+="plete: movi";X0f+="eId: ";var q0f="de";q0f+="f";q0f+="au";q0f+="l";q0f+="t";O01=(this.$m.zh && (c="@" + J[q0f].time.aa() + X0f + c + h0f + a.Da + P0f + a.X + J0f + (d.pJ - 1),this.emit(T0f,{message:c})),a.Cd && 0 === a.responseType && this.pf && !this.Vp)?4:9;break;case 2:(b=this,c=a.u,d=this.Ke[c] || a.Gk);O01=1;break;case 4:var Y0f="d";Y0f+="ef";Y0f+="a";Y0f+="ul";Y0f+="t";f=J[Y0f].time.now();this.pf.TPb(a,d,function(c){var P01;P01=2;for(;P01 !== 4;){switch(P01){case 2:var r0f="d";r0f+="ef";r0f+="au";r0f+="l";r0f+="t";c || g.Y(d) || (c=J[r0f].time.aa() - f,g.Y(d.gc) && (d.gc={}),g.Y(d.gc.Gp) && (d.gc.Gp=0),d.gc.Gp+=c);--d.pJ;P01=5;break;case 5:b.AY(a);P01=4;break;case 7:b.AY(a);P01=5;break;P01=4;break;}}});O01=8;break;case 9:(--d.pJ,b.AY(a));O01=8;break;}}};m01=27;break;case 29:b.prototype.xY=function(){var p11,b,c,d;p11=2;function a(a){var q11;q11=2;for(;q11 !== 5;){switch(q11){case 2:a.abort();d+=a.bf;q11=5;break;}}}for(;p11 !== 12;){switch(p11){case 5:p11=this.gz > this.eP?4:13;break;case 2:d=0;p11=1;break;case 4:p11=(c=this.zj.shift())?3:5;break;case 3:b=c.u;p11=9;break;case 1:p11=!(this.gz <= this.eP)?5:12;break;case 9:p11=c.data?8:7;break;case 8:for(var f in c.data){c.data[f].forEach(a);delete c.data[f];}p11=7;break;case 7:delete this.Ke[b];--this.gz;p11=14;break;case 14:this.whb(b);p11=5;break;case 13:this.xhb(d);p11=12;break;}}};b.prototype.xhb=function(a){var r11;r11=2;for(;r11 !== 1;){switch(r11){case 2:var K0f="di";K0f+="s";K0f+="cardedBy";K0f+="tes";0 !== a && (a={type:K0f,bytes:a},this.emit(a.type,a));r11=1;break;}}};b.prototype.zhb=function(a){var s11;s11=2;for(;s11 !== 1;){switch(s11){case 2:var S0f="flus";S0f+="h";S0f+="edByt";S0f+="es";0 !== a && (a={type:S0f,bytes:a},this.emit(a.type,a));s11=1;break;}}};b.prototype.whb=function(a){var t11;t11=2;for(;t11 !== 5;){switch(t11){case 2:var w0f="c";w0f+="a";w0f+="cheEvict";a={type:w0f,movieId:a};this.emit(a.type,a);t11=5;break;}}};b.prototype.Ghb=function(a,b){var u11,c;u11=2;for(;u11 !== 3;){switch(u11){case 2:c=a.yd;g.Y(a.u_a) || this.rZ(a,a.u_a);!this.pf || !a.Cd || this.Vp || g.Y(a.ZA) || a.ZA[a.Da] && a.ZA[a.Da].header?b():this.pf.UPb(a,b);c.v7 || 0 !== Object.keys(this.VO).length || this.RFa();u11=3;break;}}};b.prototype.Thb=function(a,b){var v11;v11=2;for(;v11 !== 4;){switch(v11){case 2:var R0f="p";R0f+="rebuffst";R0f+="ats";a.gc.Zpa=b;a={type:R0f,movieId:a.u,stats:{prebuffstarted:a.gc.AT,prebuffcomplete:a.gc.Zpa}};this.emit(a.type,a);v11=4;break;}}};m01=40;break;case 36:b.prototype.aZa=function(a){var G11,b,c,d;G11=2;for(;G11 !== 11;){switch(G11){case 6:b.ns=a.ns;b.rl=a.rl;b.sl=a.sl;G11=12;break;case 2:b={};G11=1;break;case 1:G11=a && a.data?5:11;break;case 5:for(c in a.data){d=a.data[c];0 < d.length && (b[d[0].I]={Da:c,xq:a.headers[c],data:d});}b.dm=a.dm;b.HA=a.HA;b.gc=a.gc;b.sq=a.sq;b.Aq=a.Aq;G11=6;break;case 12:return b;break;}}};b.prototype.QKa=function(a,b,c,d,f,h){var H11;H11=2;for(;H11 !== 8;){switch(H11){case 1:a=D.xE(f,h);H11=5;break;case 2:H11=b.location.MM(a,c)?1:9;break;case 5:H11=(b=b.stream[d?1:0].l6(b.P,c,void 0,d?a.DT:a.gy))?4:3;break;case 3:var u0f="selectStream";u0f+=" re";u0f+="turned null";ha(u0f);H11=8;break;case 9:var Q0f="upd";Q0f+="ateStreamSelecti";Q0f+="on returned null list";ha(Q0f);H11=8;break;case 4:return (c=c[b.Vd],c.Aq=b.reason,c.ns=b.Bu,c.IBb=b.rl,c.G2=b.sl,c);break;}}};b.prototype.vRa=function(a,b,c,d,f,h,g){var I11,q,l,k,m,r;I11=2;for(;I11 !== 10;){switch(I11){case 4:q=new U.wH(E);q.Hl(g);I11=9;break;case 5:I11=l?4:11;break;case 2:var o0f="d";o0f+="e";o0f+="f";o0f+="au";o0f+="lt";void 0 === g && (g=[]);(l=b.I === v[o0f].Ta.VIDEO,k=[],m=[]);I11=5;break;case 9:g=U.XD(f,q);I11=8;break;case 8:g.ol(b.md,I.ac.cd).forEach(function(a){var J11;J11=2;for(;J11 !== 1;){switch(J11){case 2:(a.Du?m:k).push(a);J11=1;break;}}});b=[];d && 0 !== k.length && (r=this.QKa(a,c,k,l,f,h)) && b.push(r);r || (r=this.QKa(a,c,m,l,f,h)) && b.push(r);I11=12;break;case 12:return b;break;case 11:g=U.WD(f);I11=8;break;}}};b.prototype.mAb=function(a,b,c,d,f,h,l){var K11,r,n,k,q,u;K11=2;for(;K11 !== 18;){switch(K11){case 3:var I0f="d";I0f+="e";I0f+="f";I0f+="ault";var x0f="d";x0f+="ef";x0f+="a";x0f+="ul";x0f+="t";r=q.zs[0];a=J[x0f].pl();b.P.buffer.iq=a[v[I0f].Ta.VIDEO];K11=6;break;case 20:var t0f="Unable to find requeste";t0f+="d audi";t0f+="o track in mani";t0f+="fest:";ha(t0f,d);K11=18;break;case 2:k=this;void 0 === l && (l=[]);q=new m.NV(Number(c.movieId),{qb:0,pa:c,Bl:void 0,doa:{h3:! !f,Ema:!1},Vh:!1,De:I.ie,config:h,yla:void 0,tR:void 0,kb:a.kb,Tf:a.Tf,lL:void 0,Sia:void 0,HF:void 0,EB:{da:0,ba:0}});q.Tb();K11=3;break;case 11:var L0f="Unable to";L0f+=" find audi";L0f+="o nor video t";L0f+="racks in manifest:";ha(L0f,d);K11=18;break;case 12:K11=g.Y(n) && g.Y(u)?11:10;break;case 6:q.getTracks(1).some(function(a){var L11;L11=2;for(;L11 !== 3;){switch(L11){case 2:L11=a.Mx.stereo?1:5;break;case 7:return ~7;break;L11=5;break;case 1:return !1;break;case 5:n=k.vRa(q.fa,a,b,f,h,r,l);return !0;break;}}});q.getTracks(0).some(function(a){var M11;M11=2;for(;M11 !== 1;){switch(M11){case 2:return a.Xa === d?(u=k.vRa(q.fa,a,b,f,h,r),!0):!1;break;}}});K11=12;break;case 10:K11=g.Y(u) && d?20:19;break;case 19:return [].concat(n || []).concat(u || []);break;}}};m01=51;break;case 51:b.prototype.isa=function(a,b){var N11;N11=2;for(;N11 !== 1;){switch(N11){case 2:var k0f="de";k0f+="fau";k0f+="l";k0f+="t";var U0f="d";U0f+="efau";U0f+="l";U0f+="t";return a === v[U0f].Ta.VIDEO && b.DJ || a === v[k0f].Ta.AUDIO;break;}}};b.prototype.vc=function(a){var O11;O11=2;for(;O11 !== 1;){switch(O11){case 2:return ! !a.vc;break;}}};return b;break;case 35:b.prototype.Fhb=function(a,b,c,d){var g11,f;g11=2;for(;g11 !== 12;){switch(g11){case 2:f=this.Uca(a,d);f.u_a=b;f.Gk=c;f.ZA=a.ZA;g11=3;break;case 8:c.A2++;this.VO[f.Da]=f;g11=6;break;case 9:return V.reject();break;case 3:g11=!f.Tu()?9:8;break;case 13:return new V(function(a){var h11;h11=2;for(;h11 !== 1;){switch(h11){case 2:f.UR=a;h11=1;break;}}});break;case 6:g11=a.UR?14:13;break;case 14:f.UR=a.UR;g11=12;break;}}};b.prototype.Lfb=function(a,b,c){var i11,d,f;i11=2;for(;i11 !== 8;){switch(i11){case 5:i11=0 < d?4:3;break;case 2:d=a.r0;b.Cd && this.pf && (a.NS?d=a.NS:a.pVa && 0 < a.pVa && (d=2E3 * a.pVa));i11=5;break;case 4:return function(a,b){var g1f=a000;var j11;j11=2;for(;j11 !== 1;){switch(j11){case 2:g1f.T9b(17);return g1f.P9b(b,d);break;case 4:g1f.T9b(18);return g1f.X9b(b,d);break;j11=1;break;}}};break;case 3:f=c && c.length < a.Tha?c.length:a.Tha;return function(a){var k11;k11=2;for(;k11 !== 1;){switch(k11){case 2:a000.T9b(17);return a000.X9b(a,f);break;}}};break;}}};m01=33;break;case 27:b.prototype.NFa=function(){var Q01;Q01=2;for(;Q01 !== 1;){switch(Q01){case 2:0 === this.zr.length && (this.zr=[r.fo.yf.Rr(0,void 0,!1,!1,this.al,this.$m),r.fo.yf.Rr(1,void 0,!1,!1,this.al,this.$m)],this.zr.forEach(function(a){var R01;R01=2;for(;R01 !== 1;){switch(R01){case 2:return a.$a();break;}}}),Z.Oe());Q01=1;break;}}};b.prototype.RFa=function(){var S01,a;S01=2;for(;S01 !== 4;){switch(S01){case 2:a=this.zr;this.zr=[];a.forEach(function(a){var T01;T01=2;for(;T01 !== 1;){switch(T01){case 2:r.fo.yf.wJ(a);T01=1;break;}}});S01=4;break;}}};b.prototype.Ffb=function(){var U01,a;U01=2;for(;U01 !== 5;){switch(U01){case 2:a=this;!this.KY && 0 < this.RH.length && (this.RH.forEach(function(b){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:a.rZ(b.CBb,b.jd);V01=1;break;}}}),this.RH=[]);U01=5;break;}}};b.prototype.Ehb=function(a,b){var W01,c,d,f,h,l,m,q,r,u,y,A,B,J,D;W01=2;for(;W01 !== 13;){switch(W01){case 2:var a0f="A config must be passed ";a0f+="to _requ";a0f+="estHeader";(c=this,d=b.u,f=b.Ud,h=b.jd,l=b.Cd,m=b.Syb(),q=m.pa,r=m.Rf,m=m.FD);k.assert(b.config,a0f);(u=b.config,u=new n.y8(E).sFa(q,u),y={stream:[new t.bY(u.Ffa,u,new R.aY()),new t.bY(u.N6,u,new R.aY())],location:new p.aX(q,a.kb,a.Tf,u,void 0),P:{state:I.oa.oh,j3:!0,PT:0,playbackRate:1,buffer:{iq:void 0,X:0,ad:0,$b:0,sk:0,Pj:0,$:[],Fi:void 0,Gja:void 0}}},A=this.mAb(a,y,q,m,r,u,b.u_));W01=4;break;case 4:W01=!A?3:9;break;case 9:B=this.Ke[d];B || (B={Ud:f,u:d,headers:Object.create(null),HA:0,A2:0,pJ:0,data:void 0,Cd:l,gc:{},w0:void 0,LIa:void 0},!B.Cd || this.Vp?this.Ke[d]=B:B.gc.Gp=0,this.zj.push(B),this.zj.sort(this.x5));J=[];W01=6;break;case 6:u.BBb && (D=2292 + 12 * Math.ceil(q.duration / 2E3));return (l && this.pf?this.Vp?this.pf.lFb(d,B):this.pf.KFb(d):V.resolve(void 0)).then(function(a){var X01;X01=2;for(;X01 !== 5;){switch(X01){case 2:A.forEach(function(b){var Y01,d;Y01=2;for(;Y01 !== 5;){switch(Y01){case 2:var e0f="d";e0f+="e";e0f+="f";e0f+="a";e0f+="ult";var D0f="de";D0f+="fa";D0f+="u";D0f+="l";D0f+="t";d=D?D:u.B2;u.cR && B.headers[b.Da] || (g.Y(B.sq) && b.I === v[D0f].Ta.VIDEO && (B.sq=b.U,B.Aq=b.Aq,B.ns=b.ns,B.rl=b.IBb,B.sl=b.G2),r && b.I === v[e0f].Ta.VIDEO && u.e1?d=u.e1:u.p4a && b.Ws && (d=b.Ws.offset + b.Ws.size),b={stream:b,url:b.url,offset:0,ba:d,Cd:l},l && (B.gc.OGb=!g.Y(a) && 0 < Object.keys(a).length,b.ZA=a),b=c.Fhb(b,h,B,u),J.push(b));Y01=5;break;}}});return V.all(J);break;}}}).then(function(a){var Z01;Z01=2;for(;Z01 !== 1;){switch(Z01){case 2:return new V(function(b){var a11;a11=2;for(;a11 !== 1;){switch(a11){case 2:c.pf && l && !c.Vp?c.pf.VPb(B,function(){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 2:b(a);b11=1;break;case 4:b(a);b11=8;break;b11=1;break;}}}):b(a);a11=1;break;}}});break;}}}).then(function(a){var c11;c11=2;for(;c11 !== 3;){switch(c11){case 2:a=Math.max.apply(Math,a);B.gc.xja=B.gc.rSa;B.gc.hna=a;return {firstheadersent:B.gc.xja,lastheadercomplete:B.gc.hna};break;}}});break;case 3:return V.reject();break;}}};m01=23;break;case 10:b.prototype.SE=function(){var E01;E01=2;for(;E01 !== 1;){switch(E01){case 2:var H0f="Me";H0f+="dia cache i";H0f+="s not ena";H0f+="bled";return this.pf?this.pf.dzb():V.reject(H0f);break;}}};b.prototype.gPa=function(){var F01,c,d,f;F01=2;for(;F01 !== 4;){switch(F01){case 2:c=0;for(d in this.Ke){f=this.Ke[d];if(f.data){for(var h in f.data){var b0f="in ";b0f+="e";b0f+="n";b0f+="try";b0f+=":";var l0f="missing he";l0f+="ader";l0f+="Entry";l0f+=" for streamId:";f.headers[h] || aa(l0f,h,b0f,f);b(f,h);f.data[h].forEach(a);delete f.data[h];}delete f.data;}}this.zhb(c);F01=4;break;}}function b(a,b){var H01;H01=2;for(;H01 !== 1;){switch(H01){case 2:a && a.data && a.data[b].forEach(function(a){var I01;I01=2;for(;I01 !== 5;){switch(I01){case 2:a.abort();c+=a.bf;I01=5;break;}}});H01=1;break;}}}function a(a){var G01;G01=2;for(;G01 !== 1;){switch(G01){case 2:a.pLa();G01=1;break;}}}};b.prototype.Xx=function(a){var J01,b;J01=2;for(;J01 !== 5;){switch(J01){case 2:b=this.Ke[a.u];b && (this.vc(a)?g.Y(b.gc.rSa) && !g.Y(a.ae) && (b.gc.rSa=a.ae):g.Y(b.gc.AT) && !g.Y(a.ae) && (b.gc.AT=a.ae));J01=5;break;}}};b.prototype.Oj=function(a){var K01;K01=2;for(;K01 !== 1;){switch(K01){case 2:this.vc(a)?this.ZJb(a):this.$Jb(a);K01=1;break;}}};m01=17;break;case 8:b.prototype.tMb=function(a,b){var w01,c,d,f,h;w01=2;for(;w01 !== 15;){switch(w01){case 19:w01=!b.Cd || !this.pf || this.Vp?18:16;break;case 10:for(var l in c.headers){a=c.headers[l];!g.Y(a.url) && null !== a.url && (void 0 === c.data || void 0 === c.data[l] || c.data[l].length < h.Tha)?this.rZ(a,f):(g.Y(a.url) || null === a.url) && void 0 !== c.data && void 0 !== c.data[l] && 0 < c.data[l].length && delete c.headers[l];}w01=20;break;case 13:w01=!this.Vp || !c.Cd?12:20;break;case 2:var F0f="A";F0f+=" config must be passed t";F0f+="o prepar";F0f+="eP";(c=b.u,d=b.Ud,f=b.jd);k.assert(b.config,F0f);h=b.config;this.Yra(h.OQ);w01=3;break;case 18:w01=d > h.wla || this.gz + 1 > this.eP && d > this.zj[0].Ud?17:16;break;case 12:w01=(c.Ud=d,this.zj.sort(this.x5),!g.Y(f))?11:20;break;case 14:w01=!g.Y(c) && (2 <= c.HA || !h.cR)?13:19;break;case 3:w01=h.RGb?9:8;break;case 6:c=this.Ke[c];w01=14;break;case 8:w01=!g.Y(f) && (!g.qa(f) || 0 > f)?7:6;break;case 11:void 0 === c.data && (c.gc.AT=void 0);w01=10;break;case 9:return V.reject();break;case 20:return V.resolve();break;case 7:var n0f="); ig";n0f+="noring prepare for m";n0f+="ovieId: ";var z0f="PTS passed to H";z0f+="eaderCache";z0f+=".prepareP is not u";z0f+="ndefined or a ";z0f+="positive number (";return (aa(z0f + f + n0f + c),V.reject());break;case 17:return V.reject();break;case 16:return this.Ehb(a,b);break;}}};b.prototype.flush=function(){var x01,a;x01=2;for(;x01 !== 7;){switch(x01){case 2:this.gPa();x01=5;break;case 5:var s7f="ma";s7f+="nagerdebu";s7f+="geven";s7f+="t";var v7f=", headerCa";v7f+="ch";v7f+="e f";v7f+="lush: ";var m0f="d";m0f+="e";m0f+="fa";m0f+="u";m0f+="lt";for(var b in this.VO){a=this.VO[b];a.abort();}this.Ke=Object.create(null);this.gz=0;this.zj=[];this.$m.zh && (a="@" + J[m0f].time.aa() + v7f,this.emit(s7f,{message:a}));x01=7;break;}}};b.prototype.list=function(){var y01;y01=2;for(;y01 !== 1;){switch(y01){case 2:return this.zj;break;case 4:return this.zj;break;y01=1;break;}}};m01=14;break;case 2:c.__extends(b,a);Object.defineProperties(b.prototype,{cache:{get:function(){var q01;q01=2;for(;q01 !== 1;){switch(q01){case 2:return this.Ke;break;}}},enumerable:!1,configurable:!0}});b.prototype.O5=function(){var r01;r01=2;for(;r01 !== 1;){switch(r01){case 2:return this.zr.map(function(a){var s01;s01=2;for(;s01 !== 1;){switch(s01){case 4:return a.O5();break;s01=1;break;case 2:return a.O5();break;}}});break;}}};b.prototype.zsb=function(){var t01;t01=2;for(;t01 !== 5;){switch(t01){case 2:this.flush();t01=1;break;case 1:this.RFa();t01=5;break;case 9:this.RFa();t01=3;break;t01=5;break;}}};b.prototype.t7=function(a){var u01;u01=2;for(;u01 !== 5;){switch(u01){case 2:this.al=a;this.zr.forEach(function(){});u01=5;break;}}};b.prototype.Ho=function(a,b,c){var v01,d,f;v01=2;for(;v01 !== 9;){switch(v01){case 1:v01=(d[b]=a)?5:4;break;case 7:(d=this.rD,f=a);v01=4;break;v01=1;break;case 2:(d=this.rD,f=a);v01=1;break;case 4:c && delete d[b];f?(this.KY=!1,this.Ffb()):this.KY=!0;v01=9;break;case 5:for(var h in d){d.hasOwnProperty(h) && !1 === d[h] && (f=!1);}v01=4;break;}}};m01=8;break;}}})(q.vv);b.Zxa=a;B["default"](d.EventEmitter.prototype,a.prototype);},function(d,b,a){var c,g,k,m,f,h,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.dAa=void 0;c=a(0);g=a(16);k=c.__importStar(a(967));m=c.__importStar(a(8));a(5);f=a(246);h=a(9);d=a(38);q=c.__importStar(a(978));n=q.Eza;a=(function(){var P11;function a(a,b,c){var Q11;Q11=2;for(;Q11 !== 12;){switch(Q11){case 3:this.Kfb=a.CVa?a.CVa:!1;this.H=a;this.bn=b;this.te=c;Q11=6;break;case 2:var M7f="m";M7f+="ed";M7f+="i";M7f+="a|asej";M7f+="s";var p7f="M";p7f+="ED";p7f+="IACACH";p7f+="E";this.G=new b.Console(p7f,M7f);this.Eea=(a.RB || a.Mta) && 0 < (a.dA || (b.options || ({})).WK || 0);this.web=a.$tb?a.$tb:!1;this.Vp=a.goa?a.goa:!1;Q11=3;break;case 6:var C7f="1SIYb";C7f+="Zr";C7f+="N";C7f+="JCp9";var i7f="c";i7f+="atc";i7f+="h";var g7f="Medi";g7f+="a cache has";g7f+=" ";g7f+="not been init";g7f+="iaized";this.yo=Promise.reject(g7f);this.yo[i7f](function(){});C7f;Q11=12;break;}}}P11=2;for(;P11 !== 27;){switch(P11){case 12:a.prototype.dzb=function(){var V21,a;V21=2;for(;V21 !== 5;){switch(V21){case 2:var W7f="Media cache";W7f+=" is not e";W7f+="nab";W7f+="le";W7f+="d";a=this;return this.yo?this.yo.then(function(){var W21;W21=2;for(;W21 !== 1;){switch(W21){case 2:return new Promise(function(b){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:a.Ui.zF(n.Xk,n.dX,function(a){var Y21,c;Y21=2;for(;Y21 !== 9;){switch(Y21){case 7:Y21=~a && 7 > a.length?2:9;break;Y21=!a || 0 >= a.length?1:5;break;case 2:Y21=!a || 0 >= a.length?1:5;break;case 1:b([]);Y21=9;break;case 5:c=[];a.forEach(function(a){var Z21;Z21=2;for(;Z21 !== 1;){switch(Z21){case 2:a && a.length && (a=a.split(".")) && 1 < a.length && c.push(a[1]);Z21=1;break;}}});b(c);Y21=9;break;}}});X21=1;break;}}});break;}}}):Promise.reject(W7f);break;}}};a.prototype.fM=function(a,b){var a31,c;a31=2;for(;a31 !== 9;){switch(a31){case 3:var c7f="med";c7f+="i";c7f+="acache";this.web && this.emit(c7f,c);a31=9;break;case 2:var A7f="me";A7f+="diac";A7f+="ac";A7f+="helooku";A7f+="p";var O7f="sa";O7f+="v";O7f+="etod";O7f+="is";O7f+="k";var B7f="medi";B7f+="acachest";B7f+="ats";c={type:B7f,operation:a};O7f === a && (c.saveTime=b.$_a);A7f === a && (c.lookupTime=b.P3,c.dataFound=b.k0);c.oneObject=this.Vp;a31=3;break;}}};a.prototype.hNb=function(a,b){var b31,c,d;b31=2;for(;b31 !== 5;){switch(b31){case 2:(c=this,d=Object.keys(a).map(function(b){var c31;c31=2;for(;c31 !== 1;){switch(c31){case 2:return c.nqb(a[b]);break;}}}));return Promise.all(d).then(function(a){var d31;d31=2;for(;d31 !== 5;){switch(d31){case 2:a.sort(function(a,b){var e31;e31=2;for(;e31 !== 1;){switch(e31){case 2:return a.vc === b.vc?0:a.vc?-1:1;break;}}});return q.Cka(c.H,c.G,c.te,a,b);break;}}});break;}}};P11=20;break;case 2:a.prototype.$a=function(a,b){var R11,c;R11=2;for(;R11 !== 4;){switch(R11){case 2:var y7f="c";y7f+="atc";y7f+="h";var E7f="Me";E7f+="dia cach";E7f+="e is dis";E7f+="abl";E7f+="ed";c=this;this.Eea?this.yo=new Promise(function(d,f){var S11;S11=2;for(;S11 !== 1;){switch(S11){case 2:(void 0 !== b && null !== b?b.tK:function(a){var T11;T11=2;for(;T11 !== 1;){switch(T11){case 2:return k.tK(c.bn,c.H,a);break;}}})(function(b){var U11,h;U11=2;for(;U11 !== 4;){switch(U11){case 2:var j7f="Media cache did no";j7f+="t initiali";j7f+="ze";c.Ui=b;h=b.wm;(b=b.JE)?f(b):h?(c.MRb(a),d()):f(Error(j7f));U11=4;break;}}});S11=1;break;}}}):(this.yo=Promise.reject(E7f),this.yo[y7f](function(){}));return this.yo;break;}}};a.prototype.mFb=function(a){var V11,b,c,d;V11=2;for(;V11 !== 5;){switch(V11){case 2:(b=this,c=[n.dX,a].join("."),d=this.bn.time.aa());return this.yo.then(function(){var W11;W11=2;for(;W11 !== 1;){switch(W11){case 2:return new Promise(function(f){var X11;X11=2;for(;X11 !== 1;){switch(X11){case 2:b.Ui.zF(n.Xk,c,function(c){var Y11,h;Y11=2;for(;Y11 !== 3;){switch(Y11){case 5:h=c[0];b.Ui.read(n.Xk,h,function(c,d){var Z11,g,a21,l;Z11=2;for(;Z11 !== 13;){switch(Z11){case 4:Z11=d instanceof ArrayBuffer?3:9;break;case 5:Z11=!m.Y(d)?4:8;break;case 9:g={priority:d.priority,movieId:d.movieId,saveToDisk:d.saveToDisk,firstSelectedStreamBitrate:d.firstSelectedStreamBitrate,initSelectionReason:d.initSelectionReason,histDiscountedThroughputValue:d.histDiscountedThroughput,histTdigest:d.histTdigest,histAge:d.histAge,headerCount:d.headerCount,dataRequestCount:d.dataRequestCount,headerRequestCount:d.headerRequestCount,stats:d.stats};Z11=8;break;case 2:var V7f=" f";V7f+="aile";V7f+="d";var N7f="Read";N7f+="ing mov";N7f+="ie entry ";c && b.G.warn(N7f + h + V7f,c);Z11=5;break;case 3:try{a21=2;for(;a21 !== 1;){switch(a21){case 2:g=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(d)));a21=1;break;}}}catch(E){}Z11=8;break;case 8:m.Y(g) || (l=q.Aka(g));m.Y(l) || m.ab(l) || (l.gc=l.gc || ({}),l.headers=l.headers || ({}));b.qTa(l)?f(l):(b.Ohb(a),f());Z11=13;break;}}});Y11=3;break;case 8:Y11=+c && 1 <= c.length?6:8;break;Y11=!c || 0 >= c.length?1:5;break;case 2:Y11=!c || 0 >= c.length?1:5;break;case 1:var Z7f="med";Z7f+="iacach";Z7f+="el";Z7f+="o";Z7f+="okup";(f(),b.fM(Z7f,{P3:b.bn.time.aa() - d,k0:!1}));Y11=3;break;}}});X11=1;break;}}});break;}}});break;}}};a.prototype.hFb=function(a,b,c){var b21,d,f;b21=2;for(;b21 !== 9;){switch(b21){case 1:b21=!this.yo?5:4;break;case 2:d=this;b21=1;break;case 4:f=this.bn.time.aa();return this.yo.then(function(){var c21;c21=2;for(;c21 !== 1;){switch(c21){case 2:return new Promise(function(h){var d21;d21=2;for(;d21 !== 1;){switch(d21){case 2:d.Ui.zF(n.Xk,a,function(g){var e21;e21=2;for(;e21 !== 5;){switch(e21){case 2:g=g.reduce(function(a,b){var f21,c;f21=2;for(;f21 !== 9;){switch(f21){case 1:var f7f="drmHeader._";f7f+="_";f7f+="embe";f7f+="d__";f21=-1 !== c.indexOf(f7f)?5:4;break;case 2:c=b.substr(0,b.lastIndexOf("."));f21=1;break;case 5:return a;break;case 4:a[c]?a[c].push(b):a[c]=[b];return a;break;}}},{});d.hNb(g,b).then(function(b){var g21,g,l;g21=2;for(;g21 !== 8;){switch(g21){case 1:return h();break;case 5:var d7f="mediac";d7f+="a";d7f+="chelo";d7f+="okup";var G7f="No c";G7f+="ontent data";G7f+=" fou";G7f+="nd ";G7f+="for ";(g=d.bn.time.aa() - f,l=!1);m.Y(b) || m.Y(b.data) || !m.zf(b.data)?d.G.trace(G7f + a,c):l=!0;d.fM(d7f,{P3:g,k0:l});h(b);g21=8;break;case 2:g21=void 0 === c || void 0 === b?1:5;break;}}},function(){var h21;h21=2;for(;h21 !== 1;){switch(h21){case 4:h();h21=2;break;h21=1;break;case 2:h();h21=1;break;}}});e21=5;break;}}});d21=1;break;}}});break;}}});break;case 5:var q7f="Media c";q7f+="ache is not enabl";q7f+="ed";return Promise.reject(q7f);break;}}};a.prototype.iFb=function(a,b){var i21,c,d;i21=2;for(;i21 !== 5;){switch(i21){case 2:(c=this,d=this.bn.time.aa());i21=1;break;case 1:return this.yo.then(function(){var j21;j21=2;for(;j21 !== 1;){switch(j21){case 2:return c.HGa(a);break;}}}).then(function(f){var k21;k21=2;for(;k21 !== 5;){switch(k21){case 1:return c.ohb(a.toString(),b,d);break;case 2:k21=f?1:4;break;case 8:return c.ohb(a.toString(),b,d);break;k21=4;break;case 4:var X7f="med";X7f+="ia";X7f+="cachelookup";c.fM(X7f,{P3:c.bn.time.aa() - d,k0:!1});k21=5;break;}}});break;}}};P11=3;break;case 3:a.prototype.VPb=function(a,b){var l21,c;l21=2;for(;l21 !== 5;){switch(l21){case 2:c=q.Bka(a);this.Ui.save(n.Xk,[n.dX,a.u].join("."),c,n.Ry,function(){var m21;m21=2;for(;m21 !== 1;){switch(m21){case 4:b();m21=5;break;m21=1;break;case 2:b();m21=1;break;}}});l21=5;break;}}};a.prototype.UPb=function(a,b){var n21,g,k,c,d,f,l;n21=2;for(;n21 !== 14;){switch(n21){case 3:(g={timescale:a.stream.$.R,startTicks:a.stream.$.Sk,offset:a.stream.$.Eh(0)},k=a.stream.$.mM);l[d + "." + n.xxa]={Bp:g,Td:n.Ry};l[d + "." + n.N8a]={Bp:k.sizes.buffer,Td:n.Ry};n21=7;break;case 4:n21=a.stream.pe && !m.Y(a.stream.$)?3:6;break;case 2:(c=this,d=[a.u,a.Da,n.d9a].join("."),f=this.bn.time.aa(),g=q.xQa(a),l={});l[d + "." + n.C$]={Bp:g,Td:n.Ry};l[d + "." + n.D9a]={Bp:h.Vz(a.Ch.map(function(a){var o21;o21=2;for(;o21 !== 1;){switch(o21){case 2:return a.data;break;}}})),Td:n.Ry};n21=4;break;case 7:l[d + "." + n.M8a]={Bp:k.Yd.buffer,Td:n.Ry};n21=6;break;case 6:this.Ui.Z_a(n.Xk,l,function(d){var p21;p21=2;for(;p21 !== 5;){switch(p21){case 2:d || (d=c.bn.time.aa() - f,a.Gk && (m.Y(a.Gk.gc.Gp) && (a.Gk.gc.Gp=0),a.Gk.gc.Gp+=d));b();p21=5;break;}}});n21=14;break;}}};a.prototype.TPb=function(a,b,c){var q21,d,f,h,g,l;q21=2;for(;q21 !== 14;){switch(q21){case 1:q21=f instanceof ArrayBuffer?5:6;break;case 2:(d=this,f=a.response);q21=1;break;case 5:(h=this.bn.time.aa(),g=[a.u,a.Da,a.Qb].join("."));a=q.vka(a);l={};l[g + "." + n.C$]={Bp:a,Td:n.Ry};m.Y(f) || (l[g + "." + n.O$a]={Bp:f,Td:n.Ry});this.Ui.Z_a(n.Xk,l,function(a){var r21;r21=2;for(;r21 !== 5;){switch(r21){case 2:var h7f="Failed";h7f+=" to save fragme";h7f+="nt";a?d.G.warn(h7f,a):(a=d.bn.time.aa() - h,m.Y(b.gc.Gp) && (b.gc.Gp=0),b.gc.Gp+=a);c();r21=5;break;}}});q21=14;break;case 6:var P7f="Unable to s";P7f+="ave fragment because response ";P7f+="is not an Ar";P7f+="rayBuffer";c(Error(P7f));q21=14;break;}}};P11=7;break;case 7:a.prototype.WPb=function(a){var s21,u,b,d,h,g,l,k,r,v,p,t,u21,Z,ta,ha,aa,v21,Q,L,F,fa,w21,x21,y21,z21,A21,B21;s21=2;for(;s21 !== 10;){switch(s21){case 5:s21=a.headers?4:8;break;case 8:s21=a && a.data?7:13;break;case 4:u={};Object.keys(a.headers).forEach(function(b){var t21,c;t21=2;for(;t21 !== 5;){switch(t21){case 2:c=q.tQa(a.headers[b]);u[b]=c;t21=5;break;}}});s21=9;break;case 9:r.headers=u;s21=8;break;case 2:(l=this,k=this.bn.time.aa(),r={},v=q.Bka(a));r.movieEntry=v;s21=5;break;case 14:r.data=v;s21=13;break;case 7:(v={},p=a.data,t=Object.keys(a.data));try{u21=2;for(;u21 !== 7;){switch(u21){case 1:u21=!ta.done?5:7;break;case 2:(Z=c.__values(t),ta=Z.next());u21=1;break;case 4:u21=aa?3:8;break;case 5:(ha=ta.value,aa=p[ha],t={});u21=4;break;case 3:try{v21=2;for(;v21 !== 7;){switch(v21){case 9:t[L.Qb]={mediaType:Q.mediaType,streamId:Q.streamId,movieId:Q.movieId,bitrate:Q.bitrate,location:Q.location,serverId:Q.serverId,saveToDisk:Q.saveToDisk,offset:Q.offset,bytes:Q.bytes,timescale:Q.timescale,startTicks:Q.startTicks,durationTicks:Q.durationTicks,response:L.response};v21=8;break;case 1:v21=!fa.done?5:7;break;case 4:v21=L instanceof f.LV && L.response instanceof ArrayBuffer && !m.Y(L.Qb)?3:8;break;case 3:Q=q.vka(L);v21=9;break;case 5:L=fa.value;v21=4;break;case 2:(F=(h=void 0,c.__values(aa)),fa=F.next());v21=1;break;case 8:fa=F.next();v21=1;break;}}}catch(ca){h={error:ca};}finally{w21=2;for(;w21 !== 1;){switch(w21){case 2:try{x21=2;for(;x21 !== 1;){switch(x21){case 2:var J7f="r";J7f+="e";J7f+="tu";J7f+="rn";fa && !fa.done && (g=F[J7f]) && g.call(F);x21=1;break;}}}finally{y21=2;for(;y21 !== 5;){switch(y21){case 1:throw h.error;y21=5;break;case 3:y21=h?2:3;break;y21=h?1:5;break;case 2:y21=h?1:5;break;}}}w21=1;break;}}}u21=9;break;case 9:v[ha]=t;u21=8;break;case 8:ta=Z.next();u21=1;break;}}}catch(ca){b={error:ca};}finally{z21=2;for(;z21 !== 1;){switch(z21){case 2:try{A21=2;for(;A21 !== 1;){switch(A21){case 2:var T7f="re";T7f+="tu";T7f+="rn";ta && !ta.done && (d=Z[T7f]) && d.call(Z);A21=1;break;}}}finally{B21=2;for(;B21 !== 5;){switch(B21){case 3:B21=b?4:4;break;B21=b?1:5;break;case 1:throw b.error;B21=5;break;case 2:B21=b?1:5;break;case 9:throw b.error;B21=7;break;B21=5;break;}}}z21=1;break;}}}s21=14;break;case 13:b={lifespan:259200};this.Kfb && (b.convertToBinaryData=!0);this.Ui.save(n.Xk,a.u,r,b,function(a){var C21;C21=2;for(;C21 !== 1;){switch(C21){case 2:var Y7f="sa";Y7f+="v";Y7f+="e";Y7f+="t";Y7f+="odisk";a || l.fM(Y7f,{$_a:l.bn.time.aa() - k});C21=1;break;}}});s21=10;break;}}};a.prototype.qTa=function(a){var D21;D21=2;for(;D21 !== 1;){switch(D21){case 2:return !(m.Y(a) || m.ab(a) || m.Y(a.gc) || m.ab(a.gc) || m.Y(a.u) || m.ab(a.u) || m.Y(a.Ud) || m.ab(a.Ud));break;}}};a.prototype.KFb=function(a){var E21,b,c;E21=2;for(;E21 !== 5;){switch(E21){case 2:(b=this,c=m.Y(a)?"":a.toString());return new Promise(function(a){var F21,G21;F21=2;for(;F21 !== 4;){switch(F21){case 2:F21=m.Y(b.Ui)?1:5;break;case 8:a();F21=7;break;F21=4;break;case 1:a();F21=4;break;case 5:try{G21=2;for(;G21 !== 1;){switch(G21){case 2:b.Ui.zF(n.Xk,"",function(b){var H21;H21=2;for(;H21 !== 5;){switch(H21){case 2:b=b.filter(function(a){var I21;I21=2;for(;I21 !== 5;){switch(I21){case 2:var r7f="movi";r7f+="eEnt";r7f+="ry";a=a.split(".");return c && (c === a[0] || r7f === a[0] && c === a[1]);break;}}}).reduce(function(a,b){var J21,c;J21=2;for(;J21 !== 4;){switch(J21){case 2:var K7f="mov";K7f+="i";K7f+="eEntr";K7f+="y";c=b.split(".");K7f !== c[0] && (b=c[1],c=c[2],m.Y(a[b]) && (a[b]={}),m.Y(a[b][c]) && (a[b][c]=!0));return a;break;}}},{});a(b);H21=5;break;}}});G21=1;break;}}}catch(I){a();}F21=4;break;}}});break;}}};a.prototype.lFb=function(a,b){var K21,c;K21=2;for(;K21 !== 5;){switch(K21){case 2:c=this;return b && b.headers && b.headers && 0 < Object.keys(b.headers).length && b.data?new Promise(function(a){var L21,c,d;L21=2;for(;L21 !== 8;){switch(L21){case 5:L21=b.data?4:9;break;case 9:return a(c);break;case 3:Object.keys(d).forEach(function(a){var N21;N21=2;for(;N21 !== 5;){switch(N21){case 2:c[a] || (c[a]={});d[a].forEach(function(b){var O21;O21=2;for(;O21 !== 1;){switch(O21){case 2:m.Y(b.Qb) || (c[a][b.Qb]=!0);O21=1;break;}}});N21=5;break;}}});L21=9;break;case 2:c={};b.headers && Object.keys(b.headers).forEach(function(a){var M21;M21=2;for(;M21 !== 5;){switch(M21){case 2:c[a] || (c[a]={});c[a].header=!0;M21=5;break;}}});L21=5;break;case 4:d=b.data;L21=3;break;}}}):this.HGa(a).then(function(b){var P21;P21=2;for(;P21 !== 5;){switch(P21){case 1:return new Promise(function(b){var Q21;Q21=2;for(;Q21 !== 1;){switch(Q21){case 2:c.Ui.read(n.Xk,a,function(c,d){var R21,f,h;R21=2;for(;R21 !== 5;){switch(R21){case 2:R21=c?1:4;break;case 4:R21=m.Y(d)?3:9;break;case 3:b(void 0);R21=5;break;case 1:b();R21=5;break;case 9:(f=d[a],h={});f.headers && Object.keys(f.headers).forEach(function(a){var S21;S21=2;for(;S21 !== 5;){switch(S21){case 2:h[a] || (h[a]={});h[a].header=!0;S21=5;break;}}});f.data && Object.keys(f.data).forEach(function(a){var T21;T21=2;for(;T21 !== 5;){switch(T21){case 2:h[a] || (h[a]={});Object.keys(f.data[a]).forEach(function(b){var U21;U21=2;for(;U21 !== 1;){switch(U21){case 2:h[a][b]=!0;U21=1;break;}}});T21=5;break;}}});b(h);R21=5;break;}}});Q21=1;break;}}});break;case 2:P21=b?1:5;break;}}});break;}}};P11=12;break;case 20:a.prototype.nqb=function(a){var f31,b,c,d,f;f31=2;for(;f31 !== 5;){switch(f31){case 2:(b=this,f={});return new Promise(function(h,g){var g31,l;g31=2;for(;g31 !== 5;){switch(g31){case 2:b.Ui.G5(n.Xk,a,function(a,b){var h31,i31,k;h31=2;for(;h31 !== 1;){switch(h31){case 2:try{i31=2;for(;i31 !== 19;){switch(i31){case 10:var S7f="Missing or invalid media data parts f";S7f+="o";S7f+="r str";S7f+="eam ";return (k=S7f + l.Da,g(k));break;case 7:l=q.Rja(d,f,c);i31=6;break;case 13:var w7f="Missing or inv";w7f+="alid header data ";w7f+="parts f";w7f+="or stream ";return (k=w7f + l.Da,g(k));break;case 3:i31=c instanceof ArrayBuffer?9:7;break;case 14:i31=q.xma(l)?13:12;break;case 8:return g(k);break;case 1:return g(a);break;case 6:i31=l.vc?14:11;break;case 2:i31=a || void 0 === b?1:5;break;case 4:i31=q.kTa(d)?3:20;break;case 12:h(l);i31=19;break;case 9:var R7f="Header fragm";R7f+="e";R7f+="nts was an array buffer,";R7f+=" i";R7f+="s invalid type ";k=R7f + l.Da;i31=8;break;case 11:i31=q.wma(l)?10:12;break;case 5:Object.keys(b).map(function(a){var j31,h,k31,g;j31=2;for(;j31 !== 3;){switch(j31){case 2:h=a.substr(a.lastIndexOf(".") + 1);j31=1;break;case 1:j31=h === n.C$?5:4;break;case 7:j31=h !== n.C$?1:9;break;j31=h === n.C$?5:4;break;case 5:try{k31=2;for(;k31 !== 5;){switch(k31){case 2:g=new Uint8Array(b[a]);d=JSON.parse(String.fromCharCode.apply(null,g));k31=5;break;}}}catch(ha){d=b[a];}j31=3;break;case 4:h === n.xxa?c=b[a]:f[h]=b[a];j31=3;break;}}});i31=4;break;case 20:l=q.Qja(d,{response:f.response});i31=6;break;}}}catch(E){g(E);}h31=1;break;}}});g31=5;break;}}});break;}}};a.prototype.ohb=function(a,b,d){var l31,f;l31=2;for(;l31 !== 5;){switch(l31){case 2:f=this;return new Promise(function(h,g){var m31,l;m31=2;for(;m31 !== 5;){switch(m31){case 2:f.Ui.read(n.Xk,a,function(k,r){var n31,A,n,u,v,p,y,B,o31,R,D,T,J,t,F,p31,q31,r31,s31,L,N,P,t31,Ca,S,Ta,Ua,u31,v31,w31,x31,y31,z31,I;n31=2;for(;n31 !== 4;){switch(n31){case 3:n31=m.Y(r)?9:8;break;case 8:A=r[a];n31=7;break;case 17:l=q.Cka(f.H,f.G,f.te,r,b);n31=16;break;case 6:k=q.Aka(A.movieEntry);r=[];n31=13;break;case 2:n31=1;break;case 1:n31=k?5:3;break;case 10:n31=A.data?20:17;break;case 7:n31=A.movieEntry?6:15;break;case 11:try{o31=2;for(;o31 !== 12;){switch(o31){case 3:var u7f="Header fragment";u7f+="s was an array b";u7f+="uf";u7f+="fer, is invalid type ";R=u7f + T.streamId;o31=9;break;case 9:return g(R);break;case 4:o31=T.fragments instanceof ArrayBuffer?3:8;break;case 13:t=J.next();o31=1;break;case 7:o31=q.xma(F)?6:14;break;case 1:o31=!t.done?5:12;break;case 6:var Q7f="Missing or invalid";Q7f+=" ";Q7f+="header data";Q7f+=" parts for";Q7f+=" stream ";return (R=Q7f + F.Da,g(R));break;case 5:(D=t.value,T=A.headers[D]);o31=4;break;case 14:r.push(F);o31=13;break;case 2:(J=c.__values(I),t=J.next());o31=1;break;case 8:F=q.Rja(T,T,T.fragments);o31=7;break;}}}catch(La){n={error:La};}finally{p31=2;for(;p31 !== 1;){switch(p31){case 2:try{q31=2;for(;q31 !== 1;){switch(q31){case 2:var o7f="r";o7f+="etu";o7f+="r";o7f+="n";t && !t.done && (u=J[o7f]) && u.call(J);q31=1;break;}}}finally{r31=2;for(;r31 !== 5;){switch(r31){case 2:r31=n?1:5;break;case 1:throw n.error;r31=5;break;}}}p31=1;break;}}}n31=10;break;case 15:var x7f="m";x7f+="edia";x7f+="cachelook";x7f+="up";f.fM(x7f,{P3:f.bn.time.aa() - d,k0:!0});h(l);n31=4;break;case 20:n=A.data;u=Object.keys(n);n31=18;break;case 9:h();n31=4;break;case 5:g(k);n31=4;break;case 18:try{s31=2;for(;s31 !== 9;){switch(s31){case 3:N=L.next();s31=1;break;case 1:s31=!N.done?5:9;break;case 2:(L=c.__values(u),N=L.next());s31=1;break;case 6:s31=-N.done?6:8;break;s31=!N.done?5:9;break;case 5:(D=N.value,P=Object.keys(n[D]));try{t31=2;for(;t31 !== 7;){switch(t31){case 2:(Ca=(y=void 0,c.__values(P)),S=Ca.next());t31=1;break;case 5:(Ta=n[D][S.value],Ua=q.Qja(Ta,Ta));t31=4;break;case 4:t31=q.wma(Ua)?3:9;break;case 3:var I7f="Missing or in";I7f+="valid media data parts";I7f+=" for stream ";return (R=I7f + Ua.Da,g(R));break;case 1:t31=!S.done?5:7;break;case 9:r.push(Ua);t31=8;break;case 8:S=Ca.next();t31=1;break;}}}catch(La){y={error:La};}finally{u31=2;for(;u31 !== 1;){switch(u31){case 2:try{v31=2;for(;v31 !== 1;){switch(v31){case 2:var t7f="r";t7f+="e";t7f+="tu";t7f+="r";t7f+="n";S && !S.done && (B=Ca[t7f]) && B.call(Ca);v31=1;break;}}}finally{w31=2;for(;w31 !== 5;){switch(w31){case 1:throw y.error;w31=5;break;case 2:w31=y?1:5;break;}}}u31=1;break;}}}s31=3;break;}}}catch(La){v={error:La};}finally{x31=2;for(;x31 !== 1;){switch(x31){case 2:try{y31=2;for(;y31 !== 1;){switch(y31){case 2:var L7f="r";L7f+="e";L7f+="t";L7f+="u";L7f+="rn";N && !N.done && (p=L[L7f]) && p.call(L);y31=1;break;}}}finally{z31=2;for(;z31 !== 5;){switch(z31){case 3:z31=v?5:3;break;z31=v?1:5;break;case 9:throw v.error;z31=6;break;z31=5;break;case 1:throw v.error;z31=5;break;case 2:z31=v?1:5;break;}}}x31=1;break;}}}n31=17;break;case 12:I=Object.keys(A.headers);n31=11;break;case 16:void 0 !== l && (l.Gk=k);n31=15;break;case 13:n31=A.headers?12:10;break;}}});m31=5;break;}}});break;}}};a.prototype.HGa=function(a){var A31,b;A31=2;for(;A31 !== 5;){switch(A31){case 2:var U7f="Media c";U7f+="ache";U7f+=" ";U7f+="is not";U7f+=" enabled";b=this;return this.yo?this.yo.then(function(){var B31;B31=2;for(;B31 !== 1;){switch(B31){case 2:return new Promise(function(c){var C31;C31=2;for(;C31 !== 1;){switch(C31){case 2:b.Ui.zF(n.Xk,a.toString(),function(b){var D31;D31=2;for(;D31 !== 1;){switch(D31){case 2:b && 0 !== b.length?1 === b.length && b[0] === a.toString()?c(!0):c(!1):c(!1);D31=1;break;}}});C31=1;break;}}});break;}}}):Promise.reject(U7f);break;}}};a.prototype.Ohb=function(a){var E31,d,f;E31=2;for(;E31 !== 4;){switch(E31){case 2:(d=this,f=a.toString());this.Ui.zF(n.Xk,[n.dX,a].join("."),c);this.Ui.zF(n.Xk,f,c);E31=4;break;}}function c(a){var G31;G31=2;for(;G31 !== 1;){switch(G31){case 2:a.map(b);G31=1;break;}}}function b(a){var F31;F31=2;for(;F31 !== 1;){switch(F31){case 2:var k7f="de";k7f+="l";k7f+="e";k7f+="te";d.Ui[k7f](n.Xk,a);F31=1;break;}}}};P11=16;break;case 16:a.prototype.MRb=function(a){var H31,b;H31=2;for(;H31 !== 4;){switch(H31){case 2:var a7f="m";a7f+="e";a7f+="diacache";b=new g.qg();b.on(this.Ui,a7f,function(b){var I31;I31=2;for(;I31 !== 4;){switch(I31){case 1:b.keys || b.items.map(function(a){var J31;J31=2;for(;J31 !== 1;){switch(J31){case 4:return a.key;break;J31=1;break;case 2:return a.key;break;}}});I31=5;break;case 2:I31=b.keys || b.items?1:5;break;case 5:var D7f="me";D7f+="diacac";D7f+="he";a.emit(D7f,b);I31=4;break;}}});H31=5;break;case 5:var e7f="mediacach";e7f+="e-e";e7f+="rror";b.on(this.Ui,e7f,function(b){var K31;K31=2;for(;K31 !== 5;){switch(K31){case 2:var l7f="m";l7f+="e";l7f+="dia";l7f+="cache";var H7f="er";H7f+="r";H7f+="or";b.type=H7f;a.emit(l7f,b);K31=5;break;}}});H31=4;break;}}};return a;break;}}})();b.dAa=a;d.Ze(g.EventEmitter,a);},function(d,b,a){var c,g,k,m,f;c=a(8);k=[];f=!1;d.exports={tK:function(b,d,l){var h;if(f)c.uc(l) && (g.wm || g.JE?setTimeout(function(){l(g);},0):k.push(l));else {f=!0;h=a(123);h.bS(b);m=new h.Console("MEDIACACHE","media|asejs");g=new (a(430))(d,function(a){a && m.warn("Failed to initialize MediaCache",a);c.uc(l) && setTimeout(function(){l(g);},0);k.map(function(a){setTimeout(function(){a(g);},0);});});}return g;},E5b:function(b,d){g=new (a(430))(b,function(a,b){a && m.warn("Failed to initialize MediaCache",a);c.uc(d) && setTimeout(function(){d(b);},0);});}};},function(d,b,a){var g,k,m,f,h;function c(a){this.dk=a;this.context=a.context;this.JWa="NULLCONTEXT" === a.context?!0:!1;}g=a(8);k=a(123);m=new k.Console("DISKCACHE","media|asejs");f={context:"NULLCONTEXT",read:function(a,b,c,d,f){f("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,d){d("MediaCache is not supported");},append:function(a,b,c,d){d("MediaCache is not supported");},query:function(a,b,c){c([]);}};c.prototype.wD=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length - 1];a=a.slice(1,a.length - 1);a.push(function(a){c(null,a);});try{if(this.JWa)throw Error("Media Cache not supported");b.apply(this.dk,a);}catch(v){c(v);}};c.prototype.query=function(a,b,c,d){try{if(this.JWa)throw Error("Media Cache not supported");this.dk.query(a,b,function(a){c(null,a);},d);}catch(A){c(A);}};c.prototype.read=function(a,b,c,d,f){this.wD(this.dk.read,a,b,c,d,f);};c.prototype.remove=function(a,b,c){this.wD(this.dk.remove,a,b,c);};c.prototype.create=function(a,b,c,d){this.wD(this.dk.create,a,b,c,d);};c.prototype.append=function(a,b,c,d){this.wD(this.dk.append,a,b,c,d);};c.prototype.info=function(a){this.wD(this.dk.info,a);};c.prototype.ht=function(a){this.wD(this.dk.ht,a);};c.prototype.flush=function(a){this.wD(this.dk.flush,a);};c.prototype.clear=function(){this.dk.clear();};d.exports={qqb:function(a){var b,d,l,q,n;b=a.a5b || "NRDMEDIADISKCACHE";h=a.dA || 0;0 !== h || g.Y(k.options) || g.Y(k.options.WK) || (h=k.options.WK);a=h;try{q=k.storage.zJ;if(!q || !g.zf(q))throw (m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(l=q[b])(m.warn("Disk store exists, returning"),d=new c(l));else {if(g.Y(k.storage) || !g.uc(k.storage.b0) || k.options && 0 === k.options.WK)throw (m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");m.warn("Disk store context doesn't exist, creating with size " + a);n=k.storage.b0({context:b,size:a,encrypted:!0,signed:!0});if(!n || !n.valid)throw "Failed to create disk store context";d=new c(n);}}catch(B){m.warn("Exception creating disk store context - returning NullContext (noops)",B);d=new c(f);}return d;},Wxb:function(){return h;},rZb:c};},function(d,b,a){var h,q,n,r,v,p,y,B,I;function c(){}function g(b,d,f,l,r){var n;n=h.uc(l)?l:c;this.qz=b;this.Lf=f.iq;this.qw=0;this.Beb=f.Kub || "NONE";this.$v=h.Y(r) || h.ab(r)?0:r;this.Xd={};this.ur=f.h7b || q.storage.fH;this.Pt=d;this.FI=v.create(this.Pt,f.vrb * this.$v,this.qz);this.on=this.addEventListener=I.addEventListener;this.removeEventListener=I.removeEventListener;this.emit=this.Ma=I.Ma;this.wGa=m(this,g.he.REPLACE);this.gfb=m(this,g.he.cFa);this.pD;this.pD=f.l4a?a(974):a(975);this.Pt.query(this.ur,this.pp(""),(function(a,b){var c;if(a)n(a);else {c=this.FI.pka();a=Object.keys(b).filter(function(a){return a !== c && p.yK(a);}).map(this.pta.bind(this));this.G5(a,(function(a,c){Object.keys(c).map((function(a){var d,f;d=c[a];this.Xd[p.c1(a)]=d;if(d.hra && 1 < Object.keys(d.hra).length){f=0;Object.keys(d.hra).forEach((function(a){b[this.pp(a)] && h.qa(b[this.pp(a)].size) && (f+=b[this.pp(a)].size);}).bind(this));a=p.c1(a);this.Xd[a].size=f;}else (a=p.c1(a),b[this.pp(a)] && (this.Xd[a].size=b[this.pp(a)].size));}).bind(this));k(this.Pt,this.ur,this.qz,(function(a,b){this.qw=b;a?n(a):n(null,this);}).bind(this));}).bind(this));}}).bind(this));}function k(a,b,d,f){var g;g=h.uc(f)?f:c;a.query(b,d,function(a,b){a?g(a):(a=Object.keys(b).reduce(function(a,c){return a + (b[c].size || 0);},0),g(null,a));});}function m(a,b){return function(c,d,f,l,m){return function(r,n){var u;if(r)(d || a.Ma(g.he.ERROR,{itemKey:c,error:r}),f(r));else {u={Dj:0,duration:0,items:[],time:q.time.now()};Object.keys(n.Fo).map(function(b){var c;c=n.Fo[b];b={key:a.pta(c.PA),Fh:b};c.ia?(u.Dj+=c.Dj,b.t3=c.Dj,h.qa(c.duration) && (u.duration+=c.duration)):b.error=c.error;u.items.push(b);});r=h.uc(l)?l():0;0 < m && (u.oJ=m - r);k(a.Pt,a.ur,a.qz,function(c,h){c?f(c):(a.qw=h,u.Ak=a.Lf - h,d || a.Ma(b,B.VPa(u)),f(null,u));});}};};}function f(a,b){return 0 < b && a >= b?!0:!1;}h=a(8);q=a(123);n=a(254);b=a(82);r=new q.Console("MEDIACACHE","media|asejs");v=a(970);p=a(431);y=a(124);B=a(255);I=a(432).EventEmitter;b({he:{cFa:"writeitem",REPLACE:"replaceitem",d$:"journalupdate",ERROR:"mediacache-error"}},g);g.prototype.getName=function(){return this.qz;};g.prototype.pta=function(a){return a.slice(this.qz.length + 1);};g.prototype.hka=function(){return Object.keys(this.Xd).filter((function(a){a=p.Jja(this.Xd[a]);return void 0 === a || 0 >= a.QLa();}).bind(this));};g.prototype.pzb=function(){return Object.keys(this.Xd).reduce((function(a,b){var c;c=this.Xd[b];return c && c.creationTime < a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}).bind(this),{resourceKey:null,creationTime:q.time.now()}).q8b;};g.prototype.jyb=function(){var a;switch(this.Beb){case "FIFO":a=this.pzb();}return a;};g.prototype.jsb=function(a){var b;b=h.uc(a)?a:c;this.EQa((function(c){var d,f,h;d=this.Xd;f=Object.keys(d).reduce(function(a,b){b=d[b];b.resourceIndex && Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((c=c.filter(function(a){return !p.yK(a) && 0 > f.indexOf(a);})) && 0 < c.length){h=this;c=q.Promise.all(c.map(function(a){return new q.Promise(function(b,c){h["delete"](a,function(a){a?c(a):b();});});})).then(function(){b(void 0,{Iqa:!0});},function(a){b(a,{Iqa:!1});});B.Zu(c);}else a(void 0,{Iqa:!1});}).bind(this));};g.prototype.BNb=function(a,b,d){var f,g;f=h.uc(b)?b:c;b=this.pp(a);g=q.time.now();this.Pt.read(this.ur,b,0,-1,(function(b,c){var l;if(b)f(b);else if(c && c.ia && c.value){h.uc(d) || (d=this.pD.AR(y.Pp.gC),p.yK(a)?d=this.pD.AR(y.Pp.OBJECT):(b=this.Xd[a],!h.Y(b) && h.qa(b.resourceIndex[a])?(b=b.resourceIndex[a],h.Y(b) && (b=y.Pp.gC),d=this.pD.AR(b)):r.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{l=d(c.value);}catch(ta){return f(n.qH.Kp(ta.message));}c={duration:q.time.now() - g};this.Xd[a] && h.qa(this.Xd[a].size) && (c.Mw=h.qa(this.Xd[a].size)?this.Xd[a].size:0);f(null,l,c);}else f(n.qH.Kp(c.error));}).bind(this));};g.prototype.read=function(a,b,c){this.BNb(a,b,c);};g.prototype.G5=function(a,b,d){var f,g,l;f=h.uc(b)?b:c;if("[object Array]" !== Object.prototype.toString.call(a))f(n.qH.Kp("item keys must be an array"));else {g={};l=[];a=q.Promise.all(a.map((function(a){return new q.Promise((function(b,c){var f;d && !h.Y(d[a]) && (f=this.pD.AR(d[a]));this.read(a,function(d,f,h){d?(f={},f[a]=d,c(f)):(g[a]=f,l.push({duration:h.duration,Mw:h.Mw}),b());},f);}).bind(this));}).bind(this))).then(function(){var a;a={};0 < l.length && (a=l.reduce(function(a,b){h.qa(b.duration) && (a.duration+=b.duration);h.qa(b.Mw) && (a.Mw+=b.Mw);return a;},{duration:0,Mw:0}));f(null,g,a);},function(a){f(a);});B.Zu(a);}};g.prototype.write=function(a,b,d,g,l){var k,m,q;d=h.uc(d)?d:c;k=this.pp(a);m="function" === typeof l?l():0;q=y.ela(b);q=this.pD.Ska(q)(b);q.byteLength + this.qw >= this.Lf?d(n.BG):f(q.byteLength + m,this.$v)?d(n.mY):this.FI.save(this.ur,k,b,this.gfb(a,g,d,l,this.$v),q.byteLength);};g.prototype.replace=function(a,b,d,g,l){var k,m,q,u;k=h.uc(d)?d:c;m=this.pp(a);q=0;"function" === typeof l && (q=l());d=y.ela(b);u=this.pD.Ska(d)(b);d=(this.Xd[a] || ({})).size || 0;0 >= d && this.Xd[a]?this.aRa([a],(function(c){r.trace("Replacing key",a,"which exists:",! !this.Xd[a],this.Xd[a]?this.Xd[a]:void 0,"and has size",c,"with",b,"with size",u.byteLength,"plus _used",this.qw,"vs capacity",this.Lf);u.byteLength - c + this.qw >= this.Lf?k(n.BG):f(u.byteLength - c + q,this.$v)?k(n.mY):this.FI.replace(this.ur,m,b,this.wGa(a,g,k,l,this.$v),u.byteLength);}).bind(this)):(r.trace("Replacing key",a,"which exists:",! !this.Xd[a],this.Xd[a]?this.Xd[a]:void 0,"and has size",d,"with",b,"with size",u.byteLength,"plus _used",this.qw,"vs capacity",this.Lf),u.byteLength - d + this.qw >= this.Lf?k(n.BG):f(u.byteLength - d + q,this.$v)?k(n.mY):this.FI.replace(this.ur,m,b,this.wGa(a,g,k,l,this.$v),u.byteLength));};g.prototype.ROb=function(a,b,d,f){var l;l=h.uc(b)?b:c;"[object Object]" !== Object.prototype.toString.call(a)?l(n.lY.Kp("items must be a map of keys to objects")):(b=q.Promise.all(Object.keys(a).map((function(b){return new q.Promise((function(c){this.replace(b,a[b],function(a,d){a?c({error:a,Bp:b}):c(d);},!0,f);}).bind(this));}).bind(this))).then((function(a){var b,c,k,m;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error || (a.Dj+=c.Dj,h.qa(c.duration) && (a.duration+=c.duration),!h.Y(c.Ak) && c.Ak < b && (b=c.Ak),c.items.map(function(b){a.items.push({key:b.key,Fh:b.Fh,t3:b.t3,CFb:b.CFb,duration:b.duration});}),b < Number.MAX_VALUE && (a.Ak=b));return a;},{Dj:0,items:[],time:q.time.now(),duration:0});0 < this.$v && (c.oJ=this.$v - f());k=a.filter(function(a){return !h.Y(a.error);});m=B.URa(k);d || (m?m.forEach((function(a){this.Ma(g.he.ERROR,a);}).bind(this)):this.Ma(g.he.REPLACE,B.VPa(c)));l(m,c);}catch(aa){l(aa);}}).bind(this),(function(a){d || this.Ma(g.he.ERROR,a);l(a);}).bind(this)),B.Zu(b));};g.prototype["delete"]=function(a,b){var d;d=h.uc(b)?b:c;this.Pt.remove(this.ur,this.pp(a),(function(a,b){a?d(a):b && b.ia?k(this.Pt,this.ur,this.pp(""),(function(a,b){a?d(a):(this.qw=b,d());}).bind(this)):d(n.x7a.Kp(b.error));}).bind(this));};g.prototype.EQa=function(a){this.query("",function(b,c){b?(r.error("Failed to get keys",b),a([])):a(c);});};g.prototype.query=function(a,b){var d,f;d=h.uc(b)?b:c;f=this.FI.pka();this.Pt.query(this.ur,this.pp(a),(function(a,b){a?d(a):d(null,Object.keys(b).filter(function(a){return a !== f;}).map(this.pta.bind(this)));}).bind(this));};g.prototype.pp=function(a){return this.qz + "." + a;};g.prototype.clear=function(a){var b;b=h.uc(a)?a:c;this.EQa((function(a){var c;c=q.Promise.all(a.map((function(a){return new q.Promise((function(b){a && this["delete"](a,function(){b();});}).bind(this));}).bind(this))).then(function(){b(a);},(function(a){this.Ma(g.he.ERROR,a);b([],a);}).bind(this));B.Zu(c);}).bind(this));};g.prototype.aRa=function(a,b){var d,f;d=h.uc(b)?b:c;f=(a || []).map((function(a){return this.pp(a);}).bind(this));this.Pt.query(this.ur,this.qz,(function(b,c){b?(r.error("failed to get persisted size for keyset ",a,b),d(0)):(b=Object.keys(c).filter(function(a){return 0 <= f.indexOf(a);}).reduce(function(a,b){return a + (c[b].size || 0);},0),d(b));}).bind(this));};g.prototype.sxb=function(a){return this.FI.OPa(a);};g.prototype.constructor=g;d.exports=g;},function(d,b,a){var g,k,m,f,h,q,n,r;function c(a,b,d){var t,V;function l(a,b,c,d){a.info.call(a,(function(a,f){var h;if(a)d(a);else {try{h=f.values[this.context].entries[b][c].size;}catch(wa){h=-1;}-1 < h?d(null,h):this.ht(function(a,b){a?d(a):(b[c] && (h=b[c].size),d(null,h));});}}).bind(a));}function u(a,b,d,f,g,m,q){var r;m?m.Fo || (m.Fo={}):m={Fo:{}};t(f);r=k.time.now();f=new n(function(c,f){a.create(k.storage.fH,b,d,function(a,b){a?f(a):c(b);});}).then(function(d){d.ia?l(a,k.storage.fH,b,function(a,f){a?q(a):(V(f),t(f),m.Fo[c.GV.d$]={ia:!0,time:g,Dj:f,PA:b,sZa:d,duration:k.time.now() - r},m.Ak=d.Ak,q(null,m));}):(m.Fo[c.GV.d$]={ia:!1,PA:b,error:d.error},q(null,m));},function(a){q(a);});h.Zu(f);}function v(a,b,c,d,f,h){d.fp(c.time,c);for(var g=c.time - 864E5,l=d.Vu();l && !isNaN(l.time) && l.time < g;){l=d.uJ();t(0 - (l.ba || 0));l=d.Vu();}d=d.bo().map(function(a){return a.time + ";" + a.ba;});u(a,b,Array.prototype.join.call(d,"|"),c.ba,c.time,f,h);}function p(a,b,d,f,h,g,r,n,u){var p;p=k.time.now();a.create(d,f,h,function(h,y){var B;if(h)q.error("Failed to replace item",f,h);else if(y.ia){B=y.Ak;l(a,d,f,function(d,h){var l,m;if(d)u(d);else {d={time:n,ba:h || 0};l={Ak:B,Fo:{}};m=k.time.now() - p;l.Fo[c.GV.REPLACE]={ia:!0,time:n,Dj:h,PA:f,sZa:y,duration:m};g?v(a,b,d,r,l,u):(t(h),u(null,l));}});}else u(m.lY.Kp(y.error || "Failed to create item"));});}function y(a,b,d,f,h,g,r,n,u){var p;p=k.time.now();a.append(d,f,h,function(h,y){var B;if(h)(q.error("Failed to save item " + f,h),u(h));else if(y.ia){B=y.Ak;l(a,d,f,function(d,h){var l,m;if(d)u(d);else {d={time:n,ba:h || 0};l={Ak:B,Fo:{}};m=k.time.now() - p;l.Fo[c.GV.Rbb]={ia:!0,time:n,Dj:h,PA:f,sZa:y,duration:m};g?v(a,b,d,r,l,u):(t(h),u(null,l));}});}else u(m.lY.Kp(y.error || "Failed to save item"));});}function A(a,b){a && g.uc(a.remove) && a.dk.valid && a.remove(k.storage.fH,b.dI,function(c,d){if(c)q.error("Failed to delete old journal key",c);else try{d && (g.Y(d.error) || d.error.some(function(a){return "NFErr_FileNotFound" === a.r5b;})) && v(a,b.dI,{time:0,ba:0},b.tP,0,function(){});}catch(aa){}});}if(!a.dk.valid)return r;this.QFa=g.Y(b) || g.ab(b)?0:b;this.ada=a;this.Cda=this.FO=0;this.tP=new f();this.Xgb=d || "default";this.dI=this.Xgb + ".NRDCACHEJOURNALKEY";t=(function(a){isNaN(a) || (this.FO+=a);return this.FO;}).bind(this);V=(function(a){isNaN(a) || (this.Cda+=a);return this.Cda;}).bind(this);this.pka=function(){return this.dI;};this.save=function(a,b,c,d){var f;f=k.time.now();y(this.ada,this.dI,a,b,c,0 <= this.QFa,this.tP,f,d);};this.replace=function(a,b,c,d){var f;f=k.time.now();p(this.ada,this.dI,a,b,c,0 <= this.QFa,this.tP,f,d);};this.OPa=function(a){var b,f;b=this.FO;a-=864E5;for(var c=this.tP.bo(),d=0;d < c.length;d++){f=c[d];f.time < a && !isNaN(f.ba) && (b-=f.ba);}return b;};(function(a){var b;b=a.ada;a.FO=0;b.read(k.storage.fH,a.dI,0,-1,function(c,d){var f,h,g,m;f=[];h=0;g=!0;if(c)q.error("Failed to compile records",c);else if(d.ia){c=String.fromCharCode.apply(null,new Uint8Array(d.value));c=String.prototype.split.call(c,"|");d=c.reduce(function(a,b){return a + (b.length + 40);},0);t(d);f=c.map(function(a){a=a.split(";");return {time:Number(a[0]),ba:Number(a[1])};});try{if(!isNaN(f.reduce(function(a,b){return a + b.ba;},0)))for(var g=!1,l=k.time.now() - 864E5;h < f.length;h++){m=f[h];m.time < l || (a.tP.fp(m.time,m),t(m.ba));}}catch(ca){}}g && A(b,a);});})(this);}g=a(8);k=a(123);m=a(254);f=a(971);b=a(82);h=a(255);q=new k.Console("DISKWRITEMANAGER","media|asejs");n=k.Promise;b({GV:{Rbb:"saveitem",REPLACE:"replaceitem",d$:"journalupdate"}},c);r={save:function(a,b,c,d){d(m.Fza);},replace:function(a,b,c,d){d(m.Fza);},pka:function(){return "";},OPa:function(){return 0;}};c.prototype.constructor=c;d.exports={create:function(a,b,d){return new c(a,b,d);},H0b:r};},function(d){function b(a){if(!(this instanceof b))return new b(a);if("undefined" === typeof a)this.Yl=function(a,b){return a <= b;};else {if("function" !== typeof a)throw Error("heap comparator must be a function");this.Yl=a;}this.xo=[];}function a(b,d){var g,f,h,l,k,r,n;g=b.xo;f=b.Yl;h=2 * d + 1;l=2 * d + 2;k=g[d];r=g[h];n=g[l];r && f(r.Ud,k.Ud) && (!n || f(r.Ud,n.Ud))?(c(g,d,h),a(b,h)):n && f(n.Ud,k.Ud) && (c(g,d,l),a(b,l));}function c(a,b,c){var d;d=a[b];a[b]=a[c];a[c]=d;}b.prototype.clear=function(){this.xo=[];};b.prototype.fp=function(a,b){this.xo.push({Ud:a,value:b});a=this.xo;b=this.Yl;for(var d=a.length - 1,f=0 === d?null:Math.floor((d - 1) / 2);null !== f && b(a[d].Ud,a[f].Ud);){c(a,d,f);d=f;f=0 === d?null:Math.floor((d - 1) / 2);}};b.prototype.remove=function(){var b;if(0 !== this.xo.length){b=this.xo[0];c(this.xo,0,this.xo.length - 1);this.xo.pop();a(this,0);return b.value;}};b.prototype.Vu=function(){if(0 !== this.xo.length)return this.xo[0].value;};b.prototype.enqueue=b.prototype.fp;b.prototype.uJ=b.prototype.remove;b.prototype.f3=function(){return 0 === this.xo.length;};b.prototype.bo=function(){return this.xo.map(function(a){return a.value;});};d.exports=b;},function(d){function b(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return (this.Wc={},this.Wc[a]=[b],!0);c=this.Wc[a];return void 0 === c?(this.Wc[a]=[b],!0):0 > c.indexOf(b)?(c.push(b),!0):!1;}function a(a,b){a=this.Wc?this.Wc[a]:void 0;if(!a)return !1;a.forEach(function(a){a(b);});return !0;}d.exports={addEventListener:b,on:b,removeEventListener:function(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return !1;c=this.Wc[a];if(void 0 === c)return !1;b=c.indexOf(b);if(0 > b)return !1;if(1 === c.length)return (delete this.Wc[a],!0);c.splice(b,1);return !0;},Ma:a,emit:a,removeAllListeners:function(a){this.Wc && (void 0 === a?delete this.Wc:delete this.Wc[a]);return this;}};},function(d){function b(a,b,d,g){a.trace(":",d,":",g);b(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,g,m){g=m?g.bind(m):g;m=!1;if(a){this.console && (g=b.bind(null,this.console,g,d));if("function" === typeof a.addEventListener)m=a.addEventListener(d,g);else if("function" === typeof a.addListener)m=a.addListener(d,g);else throw Error("Emitter does not have a function to add listeners for '" + d + "'");this.listeners.push([a,d,g]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function" === typeof b.removeEventListener?b.removeEventListener(c,a):"function" === typeof b.removeListener && b.removeListener(c,a);});this.listeners=[];this.console && this.console.trace("removed",a,"listener(s)");};d.exports=a;},function(d,b,a){var c,g,k,m;c=a(8);g=a(124);k={};k[g.Pp.gC]=function(a){return a;};k[g.Pp.UX]=function(a){a=a || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};k[g.Pp.OBJECT]=function(a){var b;b=a || new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c < b.byteLength;c++){a+=String.fromCharCode(b[c]);}return JSON.parse(a);};m={};m[g.Pp.gC]=function(a){return a;};m[g.Pp.UX]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0,f=a.length;d < f;d++){c[d]=a.charCodeAt(d);}return b;};m[g.Pp.OBJECT]=function(a){return c.Y(a) || c.ab(a)?a:m[g.Pp.UX](JSON.stringify(a));};d.exports={AR:function(a){return k[a] || k[g.Pp.gC];},Ska:function(a){return m[a] || m[g.Pp.gC];}};},function(d,b,a){function c(a){return a;}function g(){return c;}a(8);d.exports={AR:g,Ska:g};},function(d,b,a){var k;function c(a,b){return a.length > b.length?1:b.length > a.length?-1:0;}function g(a,b){var c,d,f;c=[];if(k.zf(b)){d={};f={};f[a]=d;c.push(f);c=Object.keys(b).reduce(function(c,f){var h,l,m;h=b[f];m={};k.d3(h)?(l=a + ".__embed__." + f,m[l]=h,c.push(m)):k.zf(h)?(l=a + ".__sub__." + f,h=g(l,h),d[f]=h[0][l],c=c.concat(h.slice(1))):d[f]=h;return c;},c);}else (f={},f[a]=b,c.push(f));return c;}k=a(124);d.exports={Ssb:g,LCb:function(a){var b,B;b=Object.keys(a).map(function(a){return a.split(".");});b.sort(c);for(var d=b[0],g=d.length,d=a[d.join(".")],l=1;l < b.length;l++){for(var k=!1,m=!1,n=d,p=g;p < b[l].length;p++){B=b[l][p];switch(B){case "__metadata__":break;case "__sub__":m=!0;break;case "__embed__":k=!0;break;default:m?(n=n[B],m=!1):k && (n[B]=a[b[l].join(".")],k=!1);}}}return d;},pDb:function(a){return a && (0 <= a.indexOf("__sub__") || 0 <= a.indexOf("__embed__"));}};},function(d,b,a){var m,f;function c(a,b,d){Object.keys(a).forEach(function(f){var h,g;if(m.zf(a[f]))if(a[f].d3){h=a[f];g=d + h.offset;a[f]=b.slice(g,g + h.byteLength);}else a[f]=c(a[f],b,d);});return a;}function g(a,b,c){Object.keys(a).forEach(function(d){var f;if(m.d3(a[d])){f=a[d];b.push(f);a[d]={d3:!0,offset:c.Cha,byteLength:f.byteLength};c.Cha+=f.byteLength;}else m.zf(a[d]) && g(a[d],b,c);});return a;}function k(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a + b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a + b.byteLength;},0);return c.buffer;}m=a(124);f=a(82);d.exports={uob:function(a){var b,c,d;b=f(a,{});a=[];b=g(b,a,{Cha:0});b=JSON.stringify(b);c=new ArrayBuffer(b.length + 4);d=new DataView(c);d.setUint32(0,b.length);for(var h=4,l=0,m=b.length;l < m;l++){d.setUint8(h,b.charCodeAt(l));h++;}a=[c].concat(a);return k.apply(null,a);},tob:function(a){var b;b=new DataView(a,0,4).getInt32(0);for(var d=new Uint8Array(a,4,b),f="",g=0;g < d.byteLength;g++){f+=String.fromCharCode(d[g]);}b=4 + b;f=JSON.parse(f);return c(f,a,b);}};},function(d,b,a){var g,k,m,f,h;function c(a){return {mediaType:a.I,streamId:a.Da,movieId:a.u,bitrate:a.U,location:a.location,serverId:a.Zb,saveToDisk:!0,offset:a.offset,bytes:a.ba,timescale:a.R,frameDuration:a.stream.wa && a.stream.wa.ub,encrypted:a.xk,initSegments:1 < a.Ch.length?a.Ch.map(function(a){return {fi:a.xg,s:a.data.byteLength,e:! !a.xk};}):void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.wma=b.xma=b.kTa=b.Bka=b.tQa=b.xQa=b.vka=b.Cka=b.Aka=b.Qja=b.Rja=b.Eza=void 0;g=a(0).__importStar(a(8));k=a(979);m=a(407);f=a(9);h=a(21);b.Eza={dX:"movieEntry",d9a:"header",C$:"metadata",D9a:"headerData",t_b:"headerMetadata",N8a:"sizes",M8a:"durations",xxa:"fragments",O$a:"response",Xk:"billboard",Ry:{lifespan:259200}};b.Rja=function(a,b,c){var d,f;d=b.headerData;c && b.sizes instanceof ArrayBuffer && b.durations instanceof ArrayBuffer && (f={Sk:c.startTicks,offset:c.offset,R:c.timescale,sizes:new Uint32Array(b.sizes),Yd:new Uint32Array(b.durations)});return {vc:!0,I:a.mediaType,u:a.movieId,Da:a.streamId,U:a.bitrate,location:a.location,Zb:a.serverId,ba:a.bytes,offset:a.offset,xla:d,Q2:a.initSegments,xk:a.encrypted,R:a.timescale,wa:a.frameDuration,Cd:a.saveToDisk,$:f};};b.Qja=function(a,b){var c,d,f;b=b.response;c=a.startTicks;d=a.durationTicks;void 0 !== c && void 0 !== d && (f=c + d);return {vc:!1,I:a.mediaType,u:a.movieId,Da:a.streamId,U:a.bitrate,location:a.location,Zb:a.serverId,ba:a.bytes,offset:a.offset,response:b,R:a.timescale,Za:a.startTicks,oq:d,Cd:a.saveToDisk,xb:f};};b.Aka=function(a){return {Ud:a.priority,u:a.movieId,headers:{},HA:0,pJ:0,A2:0,Cd:a.saveToDisk,gc:a.stats,sq:a.firstSelectedStreamBitrate,Aq:a.initSelectionReason,ns:a.histDiscountedThroughputValue,sl:a.histTdigest,rl:a.histAge,dm:void 0};};b.Cka=function(a,b,c,d,f){var l,q;l={headers:{},data:{}};d.forEach(function(d){var g,q,u;g=d.I;g=f && f.hs(g,d.Da);q=[];if(d.vc)if(!Array.isArray(d.Q2) || 2 > d.Q2.length)q.push({xg:0,data:d.xla});else for(var r=0,n=0;n < d.Q2.length;++n){u=d.Q2[n];q.push({xg:u.fi,data:d.xla.slice(r,r + u.s),xk:u.e});r+=u.s;}g?(d.$ && g.Q4(q,d.R,d.wa?new h.S(d.wa,d.R):void 0,d.$),d.vc && g && g.pe?(void 0 === l.headers && (l.headers={}),l.headers[d.Da]=new m.MV(g,{ba:d.ba,offset:d.offset,Ch:q,xk:d.xk},b)):d.response instanceof ArrayBuffer && void 0 !== g.$ && void 0 !== d.Za && void 0 !== d.R && void 0 !== d.xb && (q=g.$.i1(new h.S(d.Za,d.R).da),void 0 !== q && (g=new k.yua(g,{R:d.R,Za:d.Za,xb:d.xb,index:q.index,offset:d.offset,ba:d.ba},d.response,c,a,b),void 0 === l.data && (l.data={}),l.data[d.Da] || (l.data[d.Da]=[]),l.data[d.Da].push(g)))):b.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + d.Da + " movieId: " + d.u);});if(!g.Y(l.data)){q=l.data;Object.keys(q).forEach(function(a){q[a].sort(function(a,b){return a.Za - b.Za;});});}return l;};b.vka=function(a){return {mediaType:a.I,streamId:a.Da,movieId:a.u,bitrate:a.U,location:a.location,serverId:a.Zb,saveToDisk:!0,offset:a.offset,bytes:a.ba,timescale:a.R,startTicks:a.Za,durationTicks:a.oq};};b.xQa=c;b.tQa=function(a){var b,d,g,h;b=c(a);a.stream.pe && a.stream && a.stream.$ && (d={timescale:a.stream.$.R,startTicks:a.stream.$.Sk,offset:a.stream.$.Eh(0)},h=a.stream.$.mM,g=h.sizes.buffer,h=h.Yd.buffer);return {mediaType:b.mediaType,streamId:b.streamId,movieId:b.movieId,bitrate:b.bitrate,location:b.location,serverId:b.serverId,saveToDisk:!0,offset:b.offset,bytes:b.bytes,timescale:b.timescale,frameDuration:b.frameDuration,headerData:f.Vz(a.Ch.map(function(a){return a.data;})),initSegments:b.initSegments,encrypted:a.xk,fragments:d,sizes:g,durations:h};};b.Bka=function(a){return {priority:a.Ud,movieId:a.u,saveToDisk:a.Cd,firstSelectedStreamBitrate:a.sq,initSelectionReason:a.Aq,histDiscountedThroughputValue:a.ns,histTdigest:a.sl,histAge:a.rl};};b.kTa=function(a){return !g.has(a,"startTicks");};b.xma=function(a){return !a.xla || !a.R || !a.$ || void 0 === a.$.Sk || void 0 === a.$.offset || void 0 === a.$.Yd || !a.$.Yd.length || void 0 === a.$.sizes || !a.$.sizes.length;};b.wma=function(a){return void 0 === a.ba || void 0 === a.offset || void 0 === a.R || void 0 === a.Za || void 0 === a.oq;};},function(d,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.yua=void 0;c=a(0);g=a(9);d=a(38);k=a(70);a=(function(a){function b(b,c,d,f,g,l){f=a.call(this,b,c,f,g,l) || this;c.ba=d.byteLength;k.Kh.$a(f,b,c);f.uI=d;f.Hdb=c.ba;return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{vc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ip:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sd:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ri:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wg:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{response:{get:function(){return this.uI;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pFb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Cr:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nE:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fqa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bf:{get:function(){return this.Hdb;},enumerable:!1,configurable:!0}});b.prototype.rs=function(){return !0;};b.prototype.DD=function(a){this.ye=a.appendBuffer(this.response,g.np(this));return {ia:this.ye};};b.prototype.Bk=function(){return -1;};b.prototype.abort=function(){return !0;};b.prototype.cc=function(){};b.prototype.SU=function(){return !1;};return b;})(a(171).$B);b.yua=a;d.Ze(k.Kh,a);},function(d,b,a){var c,g,k,m,f,h,q,n,r;Object.defineProperty(b,"__esModule",{value:!0});b.LDa=void 0;c=a(0);d=a(16);g=c.__importDefault(a(3));k=a(17);m=a(256);f=a(9);h=a(5);q=a(1027);n=a(439);r=new g["default"].Console("ASEJS","media|asejs");r.trace.bind(r);d=(function(b){var L31;function d(c,d,f,g){var M31,h;M31=2;for(;M31 !== 11;){switch(M31){case 7:var F7f="D";F7f+="EB";F7f+="U";F7f+="G:";var b7f="nf-ase ";b7f+="s";b7f+="h";b7f+="im version:";h.console=r;h.console.trace(b7f,c,F7f,!1);M31=14;break;case 14:var z7f="1SI";z7f+="Yb";z7f+="ZrNJCp";z7f+="9";h.Ga=m.aK();z7f;M31=12;break;case 12:return h;break;case 2:h=b.call(this) || this;h.config=c;h.Nw=d;h.Ho=f;h.vy=g;h.hM={};c=a(433);M31=7;break;}}}L31=2;for(;L31 !== 17;){switch(L31){case 7:d.prototype.nn=function(a,b,c,f,g,l,m,r,n,u){var S31,v,p;S31=2;for(;S31 !== 19;){switch(S31){case 2:var n7f="c";n7f+="reating sessi";n7f+="on";this.console.trace(n7f);this.Ga.kb.reset();v=Number(a.movieId);S31=4;break;case 4:n=this.hla(v,g.ea);this.hM[n]={Amb:function(){},ea:g.ea,equals:function(a){var T31;T31=2;for(;T31 !== 1;){switch(T31){case 2:return a.fa === v && (g.ea === a.ea || !a.ea || !g.ea);break;}}},vV:Promise.resolve({pa:a,Vh:! !f.Vh,De:k.i4(! !f.q_,! !f.QM),config:r}),fa:v};r.hA && this.Ga.RF(this.hM[n],{nF:g.nF,ea:g.ea,cx:g.cx});S31=8;break;case 8:u=this.Vqb(v,a,r,g,u || d.Yrb,f);p=u[0];n=p.cb.Ja[p.cb.ff].Ac;S31=14;break;case 14:var m7f="e";m7f+="ndP";m7f+="ts is not supported";p=[this.qRa(v,p.cb,c,n)];u[1] && p.push(this.qRa(v,u[1].cb,c,n));h.assert(void 0 === f.sa,m7f);this.G3=new q.MDa(this.console,this,a,u,b,p,f,g,l,m,r);r.fq || r.gF || this.Nw();return this.G3;break;}}};d.prototype.qRa=function(a,b,c,d){var U31;U31=2;for(;U31 !== 1;){switch(U31){case 2:var v3f="invalid ";v3f+="start position relative t";v3f+="o playgraph";return b.Ja[b.ff].Ac === d?(a=n.cMa(b,a,f.S.ec(c)),h.assert(a,v3f),a):{va:b.ff,offset:f.S.lb};break;}}};L31=14;break;case 2:c.__extends(d,b);Object.defineProperties(d.prototype,{kb:{get:function(){var N31;N31=2;for(;N31 !== 1;){switch(N31){case 2:return this.Ga.kb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{In:{get:function(){var O31;O31=2;for(;O31 !== 1;){switch(O31){case 4:return this.Ga.In;break;O31=1;break;case 2:return this.Ga.In;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Tf:{get:function(){var P31;P31=2;for(;P31 !== 1;){switch(P31){case 2:return this.Ga.Tf;break;case 4:return this.Ga.Tf;break;P31=1;break;}}},enumerable:!1,configurable:!0}});d.prototype.$a=function(a,b,c,d,f){var Q31;Q31=2;for(;Q31 !== 5;){switch(Q31){case 2:this.Ga.K0a({audio:a,video:b},{da:d,ba:f});this.Ga.open(this.config,this.vy);Q31=5;break;}}};d.prototype.uU=function(a,b,c){var R31;R31=2;for(;R31 !== 1;){switch(R31){case 2:this.Ga.K0a({total:a},{da:b,ba:c});R31=1;break;}}};d.prototype.i5=function(){};L31=7;break;case 19:var s3f="s";s3f+="0";d.Yrb=s3f;return d;break;case 14:d.prototype.Vqb=function(a,b,c,d,f,g){var V31,l,k,m,q,r,u;V31=2;for(;V31 !== 7;){switch(V31){case 4:V31=k && k.uKb?3:8;break;case 2:var C3f="v";C3f+="id";C3f+="e";C3f+="o";var i3f="a";i3f+="u";i3f+="d";i3f+="i";i3f+="o";var g3f="a";g3f+="u";g3f+="d";g3f+="i";g3f+="o";var M3f="v";M3f+="i";M3f+="deo";var p3f="Gener";p3f+="ated playgraph f";p3f+="rom choi";p3f+="cema";p3f+="p.";(l=this,k=b.choiceMap);k?(a=n.cJ(k),this.console.trace(p3f)):a=n.CU(a,f,g.q_ || g.QM?g.QM?[M3f]:[g3f]:[i3f,C3f]);(m=Object.create(c,{eOa:{value:d.cx}}),q=this.uu.bind(this,d.ea),r=[this.Ga.HI(a,100,m,{uu:q})]);V31=4;break;case 9:Object.keys(u).forEach(function(a,b){var W31;W31=2;for(;W31 !== 9;){switch(W31){case 2:var B3f="Currently parallel g";B3f+="raph can only be media ";B3f+="type";B3f+=" [audio]";var c3f="a";c3f+="u";c3f+="d";c3f+="i";c3f+="o";var W3f="Currently only one";W3f+=" ";W3f+="paralle";W3f+="l graph is support";W3f+="ed";a000.T9b(19);h.assert(a000.P9b(0,b),W3f);b=u[a];h.assert(b.De && 1 === b.De.length && c3f === b.De[0],B3f);a=n.cJ(k,u[a].ff,u[a].Ja,u[a].De);W31=3;break;case 3:r.push(l.Ga.HI(a,100,m,{uu:q}));W31=9;break;}}});V31=8;break;case 3:u=k.uKb;V31=9;break;case 8:return r;break;}}};d.prototype.wnb=function(){var X31;X31=2;for(;X31 !== 1;){switch(X31){case 2:this.kb.tU(null);X31=1;break;}}};d.prototype.uu=function(a,b){var Y31;Y31=2;for(;Y31 !== 1;){switch(Y31){case 2:return this.hM[this.hla(b,a)];break;}}};d.prototype.IOb=function(a){var Z31;Z31=2;for(;Z31 !== 14;){switch(Z31){case 6:delete this.hM[a];Z31=14;break;case 2:this.wnb();this.Ga.Ps(a.Wa);a.jb && this.Ga.RT(a.jb);a.ig && this.Ga.Ps(a.ig);Z31=3;break;case 3:a.Lk && this.Ga.RT(a.Lk);a === this.G3 && delete this.G3;a=this.hla(a.fa,a.ea);this.Ga.g_a(this.hM[a]);Z31=6;break;}}};d.prototype.Tb=function(){var a41;a41=2;for(;a41 !== 9;){switch(a41){case 2:var A3f="At";A3f+="tempted to destr";A3f+="uct ShimManager with players pre";A3f+="sent in ASE";var O3f="Attempted to destruct ShimManage";O3f+="r with playgraphs present ";O3f+="in ASE";h.assert(0 === this.Ga.HYa.length,O3f);h.assert(0 === this.Ga.MLb.length,A3f);a41=5;break;case 5:var E3f="Attemp";E3f+="t ";E3f+="to destruct ShimManager wit";E3f+="h latest session sti";E3f+="ll defined";var j3f="Attempted to destr";j3f+="u";j3f+="ct Shim";j3f+="Manager with session config active";h.assert(0 === Object.keys(this.hM).length,j3f);h.assert(void 0 === this.G3,E3f);this.Ga.close();a41=9;break;}}};d.prototype.hla=function(a,b){var a3f=a000;var b41;b41=2;for(;b41 !== 1;){switch(b41){case 4:a3f.J9b(15);return a3f.X9b(a,b,"");break;b41=1;break;case 2:a3f.T9b(4);return a3f.P9b("-",a,b);break;}}};L31=19;break;}}})(d.EventEmitter);b.LDa=d;},function(d,b,a){var c,g,k,m,f,h,q,n,r,v,p,y,B,I,t,D,T,R,U,V,E,Z,ta,ha,F,L,fa;Object.defineProperty(b,"__esModule",{value:!0});b.nua=void 0;c=a(0);g=a(16);k=a(982);m=a(232);f=a(983);h=a(227);q=a(17);a(384);n=a(985);r=a(989);v=a(437);p=a(1011);y=a(429);B=a(34);I=a(5);t=a(412);D=a(1012);T=a(1013);R=a(1014);U=a(125);V=a(258);E=a(1015);Z=a(83);ta=a(257);ha=a(9);F=c.__importDefault(a(3));L=a(438);fa=a(1026);d=(function(){function a(a){this.G=a;this.events=new g.EventEmitter();this.we=k.ot.CLOSED;this.Dz=[];this.zU=[];this.mP=[];this.yr=[];this.zFa={};this.CZ={};this.nib=new U.SC({Uu:this,source:"engine",WE:10});}Object.defineProperties(a.prototype,{iy:{get:function(){I.assert(this.hw);return this.hw;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{state:{get:function(){return this.we;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{MLb:{get:function(){return this.mP;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{HYa:{get:function(){return this.yr.map(function(a){return a.cb;});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{kb:{get:function(){this.gG();return this.Uw.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{In:{get:function(){this.gG();return this.Uw.In;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tf:{get:function(){this.gG();return this.Uw.Tf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vfa:{get:function(){return this.zFa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{EB:{get:function(){return this.CZ;},enumerable:!1,configurable:!0}});a.prototype.open=function(a,b,c,d){var g;g=this;if(this.we === k.ot.OPEN)return !1;this.ar=new Z.pO(new ta.YX({ul:!0,currentTime:function(){return ha.S.ec(F["default"].time.aa());},speed:1}),this.G,"Engine Scheduler");this.uGa=new f.Lxa(this.G,a);this.mD=new p.jDa(this.s3.bind(this),a,this.ar);this.Uw=h.DG.ZQa(a,b);this.we=k.ot.OPEN;a=Object.create(a,{Ljb:{value:a.gF || a.fq}});this.hw=L.FR(a);c && this.hw.pRb(c);d && this.hw.$ra(d);this.FYa=new fa.xCa({im:function(){g.we !== k.ot.CLOSED && g.mD.im("playgraphOpportunity");}});return !0;};a.prototype.HI=function(b,c,d,f,h){var l,k,m;l=this;void 0 === h && (h=!0);this.gG();k=Object.create(d,{DU:{value:this.EB}});if(h){m=this.iy.pnb(b,k);if(m)return (m.Z3a(c),m);}b=new r.Jua(b,c,k,a.hIb++,this.kb,this.bra.bind(this,f,d.mXb),function(a,b){var c,d;d=f.uu(a);a=null === (c=B.Pg(l.Dz,function(a){return a.bha.equals(d);})) || void 0 === c?void 0:c.N;return null === a || void 0 === a?void 0:a.tn(k,b);},function(a){return l.mD.im(a);},h?this.iy.onb.bind(this.iy):function(){},this.xka.bind(this),this.Y1.bind(this));b.em(new D.ixa(this.kb));b.em(new E.lDa(this.kb,this.mD));b.em(new T.ZDa(b));b.em(new R.qEa(b.lB));b.em(new V.RC(this.nib));b.em(new V.RC(this.mD.An));b.em(new V.RC(this.uGa.Wj));this.FYa.HI(b);c=new g.qg();c.on(b.events,"requestsPruned",this.iPb.bind(this));c.on(b.events,"weightUpdated",this.opa.bind(this));this.yr.push({cb:b,hg:c,Oqa:0});this.opa();return b;};a.prototype.Ps=function(a){this.FYa.Ps(a);this.yr=this.yr.filter(function(b){return b.cb === a?(b.hg.clear(),!1):!0;});a.Tb();this.opa();};a.prototype.rjb=function(a,b){var d,f,g;this.gG();g=b.De;a=new n.Iua(a,void 0 === g?[0,1]:g,c.__assign({DU:null !== (f=null !== (d=b.DU) && void 0 !== d?d:this.CZ) && void 0 !== f?f:{}},b));this.mP.push(a);return a;};a.prototype.RT=function(a){this.gG();this.mP=this.mP.filter(function(b){return b !== a;});a.Tb();};a.prototype.K0a=function(a,b){this.zFa=a;this.CZ=b;};a.prototype.RF=function(a,b){var d,f;f=null === (d=B.Pg(this.Dz,function(b){return b.bha.equals(a);})) || void 0 === d?void 0:d.N;f?f.RF(c.__assign(c.__assign({},b),{Bm:this.Roa.bind(this)})):this.zU.push({H4a:a,s1a:b});};a.prototype.g_a=function(a){this.zU=this.zU.filter(function(b){return !b.H4a.equals(a);});};a.prototype.close=function(){this.we !== k.ot.CLOSED && (this.yOb(),I.assert(0 === this.Dz.length,"Unexpected viewable lease after Playgraph destruction."),this.xOb(),this.zU=[],delete this.Uw,this.we=k.ot.CLOSED,this.ar.Tb());};a.prototype.Roa=function(){};a.prototype.bra=function(a,b,d){var f,g,h;f=this;g=a.uu(d);I.assert(g,"ase.requestViewable(): Viewable config not found.");h=B.Pg(this.Dz,function(a){return a.bha.equals(g);});h?h.yV.then(function(a){return c.__awaiter(f,void 0,void 0,function(){var b,d;return c.__generator(this,function(c){switch(c.label){case 0:return (d=(b=a).mWb,[4,g.vV]);case 1:return (d.apply(b,[c.Bi()]),[2]);}});});}):(h={bha:g,yV:(function(){return c.__awaiter(f,void 0,void 0,function(){var a,b;return c.__generator(this,function(c){switch(c.label){case 0:return [4,g.vV];case 1:return (a=c.Bi(),b=this.EMa(d,g,a),h.N=b,[2,b]);}});});})(),N:void 0,GEb:new t.Zya(function(a){f.ar.e0(Z.Sl.AV(ha.S.ec(b)),function(){a() && (h.yV.then(function(a){a.Tb();}),f.Dz=f.Dz.filter(function(a){return a !== h;}));});})},this.Dz.push(h));return {yV:h.yV,IK:h.GEb.uw()};};a.prototype.EMa=function(a,b,d){var g,h,l,k,r,n;function f(a){g.events.emit("logdata",a);}g=this;this.gG();l=d.pa;k=d.Vh;r=d.De;r=void 0 === r?q.ie:r;d=d.config;n=[new y.U$(0),new y.U$(1)];l={pa:l,config:d,Vh:k,De:r,tR:void 0,kb:this.Uw.kb,Tf:this.Uw.Tf,Sia:{BK:function(){return !1;},wq:function(){return g.mD.im("networkFailureReset");},Fg:this.Fg.bind(this,a),zn:this.zn.bind(this,a),Cm:f},yla:{Cm:f,KR:void 0,vA:function(a){return n[a];},e3:function(){return !0;},We:void 0,bd:void 0,yg:void 0,JA:void 0},HF:{yw:this.yw.bind(this),BF:this.BF.bind(this)},EB:this.CZ,qb:0,Bl:void 0,doa:{h3:!1,Ema:!1},lL:function(){}};a=new m.NV(a,l);d.hA && (l=(null === (h=B.Pg(this.zU,function(a){return a.H4a.equals(b);})) || void 0 === h?void 0:h.s1a) || ({}),this.g_a(b),a.RF(c.__assign(c.__assign({},l),{Bm:this.Roa.bind(this)})));return a;};a.prototype.s3=function(){var a;I.assert(this.state === k.ot.OPEN);a=this.fK();return this.uGa.kXa(a);};a.prototype.fK=function(){var a,b;a=this.yr.map(function(a){return a.cb.fK().map(function(b){a.cb.gSa || 1 === a.Oqa || (b.PAb=a.Oqa);return b;});});b=this.Dz.reduce(function(a,b){return b.N?c.__spread(a,b.N.fK()):a;},[]);return B.ru(c.__spread(a,b));};a.prototype.gG=function(){if(this.we === k.ot.CLOSED)throw Error("Engine CLOSED");};a.prototype.yOb=function(){var a,b,g;try{for(var d=c.__values(this.yr),f=d.next();!f.done;f=d.next()){g=f.value;g.hg.clear();this.Ps(g.cb);}}catch(Ha){a={error:Ha};}finally{try{f && !f.done && (b=d["return"]) && b.call(d);}finally{if(a)throw a.error;}}};a.prototype.xOb=function(){var a,b;try{for(var d=c.__values(this.mP),f=d.next();!f.done;f=d.next()){this.RT(f.value);}}catch(Na){a={error:Na};}finally{try{f && !f.done && (b=d["return"]) && b.call(d);}finally{if(a)throw a.error;}}};a.prototype.Fg=function(a,b,c,d,f,g){this.dRa(a).forEach(function(h){return h.Fg(b,a,c,d,f,g);});};a.prototype.zn=function(a){return this.dRa(a).some(function(a){return a.zn();});};a.prototype.dRa=function(a){return this.yr.filter(function(b){b=b.cb.cb;return "" + a === "" + b.Ja[b.ff].fa;}).map(function(a){return a.cb;});};a.prototype.Y1=function(){return this.yr.reduce(function(a,b){b=b.cb.Y1();a[1]+=b[1];a[0]+=b[0];a.total+=b.total;return a;},c.__assign({},v.Sha));};a.prototype.xka=function(){var a;return (a={},a[1]=this.Vfa.video || Infinity,a[0]=this.Vfa.audio || Infinity,a.total=this.Vfa.total || Infinity,a);};a.prototype.yw=function(a){this.mD.yw(a);};a.prototype.BF=function(a){this.mD.BF(a);};a.prototype.opa=function(){var a;a=this.HYa.reduce(function(a,b){return Math.max(b.weight,0) + a;},0);this.yr.forEach(function(b){b.Oqa=0 >= b.cb.weight?0:b.cb.weight / a;});};a.prototype.iPb=function(){};a.hIb=0;c.__decorate([U.Rb({Jc:"open"})],a.prototype,"open",null);c.__decorate([U.Rb({Jc:"addPlaygraph",context:function(a){var b,c;return {playgraphCount:null !== (c=null === (b=a.$Wa.yr) || void 0 === b?void 0:b.length) && void 0 !== c?c:0};}})],a.prototype,"HI",null);c.__decorate([U.Rb({Jc:"removePlaygraph",context:function(a){return {playgraphCount:a.$Wa.yr.length};}})],a.prototype,"Ps",null);c.__decorate([U.Rb({Jc:"close"})],a.prototype,"close",null);c.__decorate([U.Rb({Jc:"notifyAseException",Dr:!0})],a.prototype,"Roa",null);c.__decorate([U.Rb({Jc:"createViewable"})],a.prototype,"EMa",null);c.__decorate([U.Rb({Jc:"issueRequestOpportunity",km:!0,"return":!0})],a.prototype,"s3",null);c.__decorate([U.Rb({Jc:"reportStreamingFailure",Dr:!0})],a.prototype,"Fg",null);return a;})();b.nua=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ot=void 0;d=b.ot || (b.ot={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";},function(d,b,a){var g,k,m,f,h,q,n;function c(a,b){return a.filter(function(a){return a.groupId === b.groupId;}).reduce(k.RVa(function(a){return a.ay.da;}),b).ay;}Object.defineProperty(b,"__esModule",{value:!0});b.Lxa=void 0;g=a(0);k=a(34);m=a(17);f=a(9);h=a(125);q=a(984);n=a(48);d=(function(){function a(a,b){this.G=a;this.config=b;this.dUa=0;this.Wj=new h.SC({WE:10,Uu:this,source:"GraphStreamingProcess"});}a.prototype.kXa=function(a){var b,d,f,h,l,r,u,t,E,Z,ta,ha;f=!1;h=[];if(0 < a.length){l=this.ESb(a);r=l.some(function(a){return 1 === q.d2a(a) && m.zx(a.ug);});u=l.slice();try{for(var v=g.__values(l),p=v.next();!p.done;p=v.next()){t=p.value;if(t.Eu){E=t.GTa();Z=E.reason;Z && ("globalAudioMemoryLimit" === Z || "globalVideoMemoryLimit" === Z) && k.uJa(u,t);if(E.result){ta=c(u,t);if(this.dnb(t,r,ta)){ha=t.LTa();this.yna(h,t,ha.reason);ha.kp && (this.dUa=n.platform.time.aa());if(f=ha.kp)break;}else if((this.yna(h,t,"concurrencyCheck"),this.config.MKb))break;}else this.yna(h,t,E.reason);}}}catch(aa){b={error:aa};}finally{try{p && !p.done && (d=v["return"]) && d.call(v);}finally{if(b)throw b.error;}}}this.Wj.vw({streamableCount:a.length,streamableReasons:h,lastSuccessfulIssueRequestMs:this.dUa});return f;};a.prototype.ESb=function(a){var b;b=this;return g.__spread(a).sort(k.GLa(function(a){return -q.OKa(b.config,a);}));};a.prototype.yna=function(a,b,c){this.Wj.enabled && a.push(this.lAb(c,b));};a.prototype.lAb=function(a,b){return {mediaType:b.I,reason:a,bufferingState:b.ug,currentPlayerMs:b.le.da,pathCompletePlayerMs:b.ay.da,streamingPlayerMs:b.Yn.da};};a.prototype.dnb=function(a,b,c){return this.config.mQ && (b || m.zx(a.ug))?this.enb(a,c):this.fnb(a,c);};a.prototype.hLa=function(a){return a.Yn.QE(a.ay);};a.prototype.fnb=function(a,b){var c;if(this.config.Rjb && this.hLa(a))return !0;c=a.ay.Fa(a.le).da;c=Math.max(this.config.woa,Math.min(c * this.config.Esa,this.config.xVa));b=a.le.greaterThan(b)?a.le:b;return a.Yn.Fa(b).da <= c;};a.prototype.enb=function(a,b){var c,d;if(void 0 === this.config.mQ)return !0;c=f.S.ec(this.config.mQ);d=a.le.add(c);return a.Yn.QE(d)?!0:this.hLa(a) && b.ql(d) && a.Yn.Fa(b).lessThan(c);};g.__decorate([h.Rb({Jc:"onRequestOpportunity",km:!0})],a.prototype,"kXa",null);return a;})();b.Lxa=d;},function(d,b){function a(a){return a.Yn.Fa(a.le).da;}function c(a){var b;return (null !== (b=a.PAb) && void 0 !== b?b:1) * a.Mn.reduce(function(a,b){var c;c=b.Tla;return a * (b.Rk + (void 0 === c?0:c));},1);}Object.defineProperty(b,"__esModule",{value:!0});b.d2a=b.OKa=b.pmb=void 0;b.pmb=a;b.OKa=function(b,d){b=Math.log(2) / b.INb;return c(d) * Math.exp(-b * a(d));};b.d2a=c;},function(d,b,a){var c,g,k,m,f,h,q,n,r;Object.defineProperty(b,"__esModule",{value:!0});b.Iua=void 0;c=a(0);g=a(16);k=a(9);m=a(5);f=c.__importDefault(a(3));h=a(83);q=a(34);n=a(986);d=a(434);r=a(988);a=(function(a){function b(b,c,d){var l;l=a.call(this) || this;l.P=b;l.De=c;l.vz=d;l.VQ=[];l.hda=new g.qg();l.G=new f["default"].Console("ASEJS","media|asejs");l.hda.on(l.P,"underflow",function(){return l.Ik();});l.LH=new r.lCa(b);l.hda.on(l.LH,"clockReset",function(){return l.O4();});l.hD=new h.pO(l.LH,l.G,"player");l.Vta=new k.ZX();return l;}c.__extends(b,a);Object.defineProperties(b.prototype,{pv:{get:function(){var a;return null === (a=this.Qg) || void 0 === a?void 0:a.pv;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{lB:{get:function(){return this.hD;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Lb:{get:function(){var a,b;return null !== (b=null === (a=this.Qg) || void 0 === a?void 0:a.tE()) && void 0 !== b?b:[];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wa:{get:function(){var a;return null === (a=this.Qg) || void 0 === a?void 0:a.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ta:{get:function(){return this.LH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JB:{get:function(){var a;return !(null === (a=this.Qg) || void 0 === a || !a.JB);},enumerable:!1,configurable:!0}});b.prototype.rU=function(a){-1 === this.VQ.indexOf(a) && this.VQ.push(a);this.Qg && this.Qg.kT(a);this.events.emit("drmReady",{viewableId:a});};b.prototype.Vra=function(a){a=this.VQ.indexOf(a);-1 !== a && this.VQ.splice(a,1);};b.prototype.xn=function(a){var b;return -1 !== this.VQ.indexOf(a) || !(null === (b=q.Pg(this.Lb,function(b){return b.N.fa === a;})) || void 0 === b || !b.N.Vh);};b.prototype.reset=function(){var b;this.Vta=new k.ZX();a.prototype.reset.call(this);this.iD=void 0;null === (b=this.Qg) || void 0 === b?void 0:b.reset();};b.prototype.$T=function(b){var c;a.prototype.$T.call(this,b);null === (c=this.Qg) || void 0 === c?void 0:c.$T(b);};b.prototype.QD=function(){var a;null === (a=this.Qg) || void 0 === a?void 0:a.QD();};b.prototype.pause=function(b){this.xM(b);a.prototype.pause.call(this,null !== b && void 0 !== b?b:this.De);};b.prototype.resume=function(b){var c;null === (c=this.Qg) || void 0 === c?void 0:c.resume(b);a.prototype.resume.call(this,null !== b && void 0 !== b?b:this.De);};b.prototype.Tb=function(){this.Ut=this.z2()?this.vn():void 0;this.Qg && this.$ha(this.Qg.Wa);this.LH.Tb();this.hD.Tb();this.hda.clear();a.prototype.Tb.call(this);};b.prototype.XJ=function(){var b,c;if(null === (b=this.Qg) || void 0 === b?0:b.FMb){b=this.P.ad;if(this.ta.ul){if(this.iD){if(this.iD.greaterThan(b))return (b=this.iD.Fa(b),this.Vta.push(b.da),this.iD);if(this.Lb.length){c=this.Qg.FEb;if(c && c.lessThan(b))return (this.events.emit("logdata",{type:"logdata",target:"endplay",fd:{clockdrift:{type:"count"}}}),this.iD);}}this.iD=b;}return b;}return a.prototype.XJ.call(this);};b.prototype.un=function(){var b;b=this.P.playbackRate;void 0 === b && (b=a.prototype.un.call(this));return b;};b.prototype.z2=function(){return ! !this.Ut || 0 < this.Lb.length;};b.prototype.vn=function(){if(this.Ut)return this.Ut;m.assert(0 < this.Lb.length,"Could not find presenting branch. Player has no branches.");return this.xi;};b.prototype.$ha=function(a){var b;m.assert(a === this.Wa);null === (b=this.Qg) || void 0 === b?void 0:b.Tb();this.Qg=void 0;};b.prototype.o_=function(b,c){this.Ut=void 0;if(c=a.prototype.o_.call(this,b,c))(this.Qg=new n.Xua(b,this,this.G,b.config,this.vz,this.events,this.De,this.hD,this.pz),this.xM(this.vL));return c;};b.prototype.Mia=function(){var c;for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}c=this.Qg;m.assert(c);a.forEach(function(a){return c.yub(a);});};b.prototype.Rg=function(a){var b;if(!this.Qg)return !1;b=this.H1(a);return b?b.W.Yr.Fa(k.S.ec(this.vz.Ou)).lessThan(a) || !b.hha(a)?!1:this.Qg.Rg(a):!1;};b.prototype.Ik=function(){var a,b,c;b=this.le;m.assert(this.Wa);c=this.Nq(b);m.assert(c);null === (a=this.Qg) || void 0 === a?void 0:a.Ik();a=this.H1(b);null === a || void 0 === a?void 0:a.N.Ik();this.Wa.Ik(c);};b.prototype.O4=function(){this.iD=void 0;};b.prototype.Tja=function(){var a;return null === (a=this.Qg) || void 0 === a?void 0:a.Tja();};b.prototype.xM=function(a){var b;null === (b=this.Qg) || void 0 === b?void 0:b.xM(a);};b.prototype.jta=function(b){m.assert(this.Wa && this.Qg);return a.prototype.jta.call(this,b);};return b;})(d.eba);b.Iua=a;},function(d,b,a){var c,g,k,m,f,h,q,n,r,v,p;Object.defineProperty(b,"__esModule",{value:!0});b.Xua=void 0;c=a(0);g=a(16);k=a(422);m=c.__importDefault(a(3));f=a(248);a(17);h=a(172);q=a(9);n=a(34);r=a(83);v=a(5);p=a(987);d=(function(){function a(a,b,c,d,h,l,k,m,r){var n;n=this;this.Wa=a;this.P=b;this.G=c;this.H=d;this.vz=h;this.bg=l;this.De=k;this.lB=m;this.pz=r;this.sY=!1;this.gGa=new q.QDa();this.Adb=new g.qg();this.Ri=new f.OV(this.G);this.pv=new p.FEa(this.G,a);this.Rqb(this.pv);this.Wl && (this.dhb=this.Sja(this.Gzb()),this.Jfb=q.Gt.Q4a(this.Wl.map(function(a){return a.Jq;}),function(a){return a.every(function(a){return a;});},function(a){return n.pz.set(a);}));this.Yp=m.iJ(function(){return n.Elb();});}a.prototype.Elb=function(){var a,b,d,f,g,h,l;return c.__generator(this,function(k){switch(k.label){case 0:if(!this.Ri.MLa)return [3,2];a=c.__read(this.Ri.dta(),1);b=a[0];d=null !== (l=null === (h=this.vz.DU) || void 0 === h?void 0:h.da) && void 0 !== l?l:0;f=b.EEb || b.vi;g=f.add(q.S.ec(d + 1E3));return [4,r.Sl.zV(g)];case 1:return (k.Bi(),this.Ri.remove(b),b.fg(),[3,0]);case 2:return [2];}});};Object.defineProperties(a.prototype,{FMb:{get:function(){var a;return !(null === (a=this.dhb) || void 0 === a || !a.Jq.value);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JB:{get:function(){var a;return !(null === (a=this.Wl[0]) || void 0 === a || !a.JB);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{FEb:{get:function(){return this.sY?q.S.max.apply(q.S,c.__spread(this.Wl.map(function(a){var b;return null === (b=a.Ekb) || void 0 === b?void 0:b.$Ta;}).filter(n.H4))):void 0;},enumerable:!1,configurable:!0}});a.prototype.yub=function(a){this.Ri.enqueue(a);this.Yp.state === r.$k.complete && this.Yp.Im();a.W.Ys && this.Ri.U0();this.sY || this.Wvb(a);};a.prototype.kT=function(a){this.Wl.forEach(function(b){b.kT(a);});};a.prototype.reset=function(){this.Wl.forEach(function(a){a.reset();});this.sY=!1;this.gGa.removeAllListeners();this.QD();};a.prototype.$T=function(a){a=this.Sja(a);null === a || void 0 === a?void 0:a.reset();};a.prototype.QD=function(){this.Ri.clear();this.Adb.clear();this.Yp.Im();};a.prototype.resume=function(a){this.Wl.forEach(function(b){void 0 !== a && -1 === a.indexOf(b.I) || b.resume();});};a.prototype.xM=function(a){this.Wl.forEach(function(b){return (void 0 === a || -1 !== a.indexOf(b.I)) && b.stop();});};a.prototype.Ik=function(){this.G.trace("attached-player: onUnderflow");};a.prototype.mRa=function(){return this.Ri.CQa();};a.prototype.Cyb=function(){return this.tE()[0];};a.prototype.tE=function(){return this.Ri.dta();};a.prototype.Rqb=function(a){var b,c;b=this;this.xj("createMediaSourceStart");this.vz.X1?c=this.vz.X1():(c=new m["default"].MediaSource(this.P.P),c.Yb || (c.Yb=m["default"].MediaSource.Yb));if(1 !== c.readyState)this.zo("exception in init","NFErr_MC_StreamingInitFailure");else {this.xj("createMediaSourceEnd");this.Nf=c;if(!c.c_(this.De))throw (this.G.trace("Error:",c.error),this.zo("error creating source buffers","NFErr_MC_StreamingInitFailure"),c.error);this.Wl=c.sourceBuffers.filter(function(a){return 0 <= b.De.indexOf(a.I);}).map(function(d){var f;f=new h.q8(b.G,d.I,c,d,b.H,{Zd:function(){return b.P.le.da;},xn:function(a){return b.P.xn(a.fa);}});f.addListener("error",function(a){return b.zo(a.errorstr);});f.addListener("logdata",function(a){return b.bg.emit("logdata",a);});return new k.Z7(f,d.I,b,b.H,b.G,b.P,b.vz,b.lB,a);});}};a.prototype.Tb=function(){this.Jfb.clear();this.Wl.forEach(function(a){return a.Tb();});this.vz.X1 || this.Nf.mq();this.QD();this.Yp.Tb();};a.prototype.Rg=function(a){return this.Wl.every(function(b){return b.Rg(a);});};a.prototype.Tja=function(){return {qNb:this.Ri.dta(),ILb:this.Wl};};a.prototype.Wvb=function(a){var b;b=this;this.sY=!0;a.bh.forEach(function(a){var c;c=b.Sja(a.I);if(void 0 !== c)b.gGa.once(a.sja,function(a){return c.Xvb(a);});});if(a.xh)this.ZNa();else a.events.once("branchNormalized",function(){return b.ZNa();});};a.prototype.ZNa=function(){var a;a=this.Cyb();a && (v.assert(a.Qj),this.bg.emit("ptsChanged",{initialTimestamp:a.Qj}));};a.prototype.Sja=function(a){return n.Pg(this.Wl,function(b){return b.I === a;});};a.prototype.Gzb=function(){return -1 !== this.De.indexOf(1)?1:0;};a.prototype.xj=function(a){a={type:"startEvent",event:a,time:m["default"].time.aa()};this.bg.emit(a.type,a);};a.prototype.zo=function(a,b){this.Wa.Fg(a,void 0,b);};return a;})();b.Xua=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.FEa=void 0;c=a(0).__importDefault(a(3));g=a(37);d=(function(){function a(a,b){this.G=a;this.rI=b;}a.prototype.FB=function(a,b,d,g,l){var f,h;g || l?(f=a.duration.da,l || (h=a.duration.Fa(d).da)):(f=d.da,h=0);d=this.Peb(a);b=this.AE(g,b);this.QZ={startTime:c["default"].time.aa(),I1a:a.id,HSb:a.duration.da,GSb:f,sJ:h,od:b,Rk:g,M_:d};};a.prototype.yka=function(a){var b,d,l,k,m;if(this.QZ && 0 !== Object.keys(this.QZ.M_).length){l=this.QZ;this.QZ=void 0;k={};m=l.M_[a];m?k=m.bx:(g.assert(this.rI),k.weight=null === (d=null === (b=this.rI.cb.Ja[l.I1a].next) || void 0 === b?void 0:b[a]) || void 0 === d?void 0:d.weight);b=this.pda(a).hq;b=this.RGa(k.weight,b);d={};for(var n in l.M_){n !== a && (d[n]=l.M_[n].bx);}n=l.Rk?0:c["default"].time.aa() - l.startTime;return {segment:a,srcsegment:l.I1a,srcsegmentduration:l.HSb,srcoffset:l.GSb,seamlessRequested:l.Rk,atRequest:k,atTransition:b,discard:d,transitionType:l.od,delayToTransition:l.sJ,durationOfTransition:n};}};a.prototype.AE=function(a,b){return a?"seamless":this.pda(b).OR?"reset":"long";};a.prototype.Peb=function(a){var b,c;b=this;c={};a.Sx.forEach(function(d){var f,g;f=a.jIb[d];g=b.pda(d).hq;c[d]={bx:b.RGa(f,g)};});return c;};a.prototype.pda=function(a){var b,c;a=this.rI.oxb(a);if(0 === a.length)return {OR:!1,hq:{Jp:0,Zt:0,SB:0,XZ:0}};b=a[0];a=b.Wja();c=b.Ua(0) && 0 === a.Zt;b=b.Ua(1) && 0 === a.Jp;return {OR:!c && !b,hq:a};};a.prototype.RGa=function(a,b){return {weight:a,vbuflmsec:b.Jp,abuflmsec:b.Zt,vbuflbytes:b.SB,abuflbytes:b.XZ};};return a;})();b.FEa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.lCa=void 0;c=a(16);d=a(38);a=(function(){function a(a){var b;b=this;this.P=a;this.Ada=!1;this.lI=new c.qg();this.lI.on(a,"paused",function(){return b.T4();});this.lI.on(a,"playing",function(){return b.T4(!0);});this.lI.on(a,"underflow",function(){return b.T4();});this.lI.on(a,"skipped",function(){return b.mpa();});this.lI.on(a,"playbackRateChanged",function(){return b.EJb();});}Object.defineProperties(a.prototype,{currentTime:{get:function(){return this.VHa || this.P.ad;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ul:{get:function(){return this.Ada;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{speed:{get:function(){var a;return null !== (a=this.P.playbackRate) && void 0 !== a?a:1;},enumerable:!1,configurable:!0}});a.prototype.T4=function(a){void 0 === a && (a=!1);a !== this.Ada && (this.VHa=(this.Ada=a)?void 0:this.P.ad);this.emit("stopStart",{type:"stopStart"});};a.prototype.mpa=function(){this.VHa=void 0;this.emit("clockReset",{type:"clockReset"});};a.prototype.EJb=function(){this.emit("speedChanged",{type:"speedChanged"});};a.prototype.Tb=function(){this.T4();this.lI.clear();};return a;})();b.lCa=a;d.Ze(c.EventEmitter,a);},function(d,b,a){var c,g,k,m,f,h,q,n,r,v,p,y,B,I,t,D,T,R,U,V,E,Z,ta,ha,F,L,fa,N,Q,ca,O,P,S,W,ja,Ca;Object.defineProperty(b,"__esModule",{value:!0});b.Jua=void 0;c=a(0);g=a(16);k=a(435);m=a(17);f=a(9);h=a(414);q=a(990);n=c.__importDefault(a(3));r=a(5);v=a(121);p=a(991);y=a(34);B=a(83);I=a(92);t=a(69);D=a(992);T=a(420);R=a(257);U=a(258);V=a(993);E=a(125);Z=c.__importDefault(a(109));ta=a(994);ha=a(995);F=a(996);L=a(997);fa=a(999);N=a(1002);Q=a(1004);ca=a(1005);O=a(1006);P=a(1007);S=a(437);W=a(1008);ja=a(1009);Ca=a(1010);d=(function(){function a(a,b,c,d,h,l,r,u,v,A,y){var I;I=this;this.rI=a;this.oIa=b;this.config=c;this.id=d;this.Hhb=l;this.Ieb=r;this.im=u;this.qnb=v;this.CD="2.0";this.we=k.eo.CLOSED;this.nda=!0;this.Ufa=new g.qg();this.Kqa=!1;this.d5=[];this.O6=this.yra=!1;this.Ol=void 0;this.xV=new g.qg();this.hB=function(a){var b,c;a=I.navigator.wf(a.position.va);c=I.WQa(a);c && (null === (b=I.P.pv) || void 0 === b?void 0:b.FB(a,c,I.rn.offset,!0,!1));I.Os();};this.kT=function(){I.im("onDrmReady");};this.Wj=new E.SC({WE:10,Uu:this,source:"AsePlaygraph"});this.U0a(a);this.Lb=new N.oCa();this.console=new n["default"].Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.kla=new ha.Kxa(this.config,f.S.ec(this.config.Y3),{parent:this.sRa.bind(this)});this.events=new g.EventEmitter();this.f2a=new q.eEa(this.console,this.events);this.RL=[];this.Ata({GE:c.As || Infinity});this.P=new p.Naa(this);this.lB=new B.pO(this.P.ta,this.console,"playgraph");this.ar=new B.pO(new R.YX({ul:!0,currentTime:function(){return f.S.ec(n["default"].time.aa());},speed:1}),this.console,"wallclock");this.pKa=new P.lva(this.lB,this.ar,f.S.ec(c.Ou),this.Un.bind(this),this.console);this.sf=new Q.qva(this.console,c,h,this.events,this,this.ar);this.XT=new t.fDa(c);ja.mMa({sf:this.sf,ar:this.ar},B.Sl.AV(f.S.ec(this.config.fy)),function(){I.P.Au && I.P.xi && (I.sf.state.value === m.ac.mf || I.sf.state.value === m.ac.cd) && I.eD(I.P.xi);});this.XT.em(new U.RC(this.sf.Wj));this.XT.em(new V.TBa(this.vzb.bind(this)));this.XT.em(new U.RC(this.Wj));this.c2a=new Ca.dEa(this,this.console,y,A);}Object.defineProperties(a.prototype,{state:{get:function(){return this.we;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gSa:{get:function(){return !(this.P instanceof p.Naa);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cb:{get:function(){return this.rI;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{weight:{get:function(){return this.oIa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{g6:{get:function(){r.assert(this.SR,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.cn.position;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{k0a:{get:function(){r.assert(this.SR,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.CA(this.g6).Wz;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ug:{get:function(){return this.sf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{kB:{get:function(){return this.sf.kB;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{SR:{get:function(){return void 0 !== this.cn;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rn:{get:function(){return this.P.Au?this.P.rn:this.g6;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{le:{get:function(){return this.P.Au?this.P.le:this.k0a;},enumerable:!1,configurable:!0}});a.prototype.open=function(){this.nda=!0;if(this.we !== k.eo.CLOSED)return !1;this.we=k.eo.OPEN;return !0;};a.prototype.Tb=function(){var a;this.we !== k.eo.CLOSED && (this.fg(),null === (a=this.Ol) || void 0 === a?void 0:a.IK.release(),this.Ol=void 0,this.xV.clear(),this.sf.stop(),this.we=k.eo.CLOSED);};a.prototype.TF=function(a,b){var c,d,f;c=this;this.MJa=a;this.F4a=b;b=ca.BOa(this.Lb,this.r0a.bind(this));a=b.Rmb;b=b.Flb;if(0 === a.length)return !0;if(1 !== a.length || 0 !== a[0])return !1;d=this.rn;this.P.pause(a);a.forEach(function(a){return c.P.$T(a);});f=this.CA(d).Wz;b.forEach(function(a){var b;b=a.Kb;b.TF(a.bh,d.va === b.W.id?f:void 0,void 0 !== c.Lb.eRa(b));});this.sf.UJb(d,b[0].bh);this.P.resume(a);return !0;};a.prototype.WD=function(a){return I.WD(this.config,a);};a.prototype.XD=function(a){return I.XD(this.config,a);};a.prototype.izb=function(a,b){var c,d;c=this.navigator.wf(a);d=this.navigator.wf(b);return {UWb:c.uBb(b),yKa:b !== a && this.Lb.has(b),Qb:d.Tk.da,Qu:c.Qu};};a.prototype.Un=function(a,b,c,d){var g,h;void 0 === d && (d=!0);if(!b)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");h=this.navigator.wf(a);this.rn.va === a && (null === (g=this.P.pv) || void 0 === g?void 0:g.FB(h,b,this.rn.offset,d,c));d || (a={offset:f.S.lb,va:b},this.cn={position:a,yn:!0,G3a:a});h.Qu=b;this.Os();d || this.sf.mXa(this.g6);};a.prototype.Ii=function(a){this.navigator.Ii(a);this.Os();};a.prototype.b1a=function(a,b){this.Efa=a;this.UM=b;this.im("setStreamFilters");};a.prototype.gU=function(a,b){var c,d;if(ta.ETa(this.cb,a)){if((a=this.Y_a(a),void 0 === a))this.Fg("Invalid seekPosition");else if(void 0 === this.MJa || void 0 === this.F4a)this.Fg("No track selectors available");else {if(this.gSa && this.P.CE || !ta.TRa(null === (c=this.cn) || void 0 === c?void 0:c.G3a,a))(this.SR && (c=this.navigator.wf(this.rn.va),null === (d=this.P.pv) || void 0 === d?void 0:d.FB(c,a.va,this.rn.offset,!1)),this.fg(!0),this.unb(),this.cn={position:a,G3a:a,yn:!1,EYa:b},this.sf.mXa(),this.we=k.eo.bk,this.Os());}}else this.Fg("Invalid seekPosition");};a.prototype.fg=function(a){var b,d,f,g;g=this.QRa();this.Lb.reset();this.d5=[];if(g.length && !a)try{for(var h=c.__values(g),l=h.next();!l.done;l=h.next()){l.value.wOb();}}catch(ia){b={error:ia};}finally{try{l && !l.done && (d=h["return"]) && d.call(h);}finally{if(b)throw b.error;}}this.RL.forEach(function(b,d){var f,h,q,r;try{for(var l=c.__values(g),k=l.next();!k.done;k=l.next()){q=k.value;if(q){r=q.KP(m.ie[d],b);a && r.length && q.X5(r);}v.fo.yf.wJ(b);}}catch(De){f={error:De};}finally{try{k && !k.done && (h=l["return"]) && h.call(l);}finally{if(f)throw f.error;}}});this.RL=[];this.lB.reset();this.ar.reset();this.P.reset();this.cn=void 0;null === (f=this.Ufa) || void 0 === f?void 0:f.clear();this.we === k.eo.bk && (this.we=k.eo.OPEN);};a.prototype.oxb=function(a){return this.Lb.tE(a);};a.prototype.Ik=function(a){this.sf.Ik(a);this.im("onUnderflow");};a.prototype.em=function(a){this.XT.em(a);};a.prototype.HJa=function(a){this.em(new D.hDa(a));this.Bkb(a);};a.prototype.Bkb=function(a){this.P.jta(a)?(this.P=a,this.lB.BJa(this.P.ta),this.P.events.on("segmentPresenting",this.hB),this.P.events.on("drmReady",this.kT)):this.Fg("player in use");};a.prototype.CA=function(a){var b,c;b=a.offset;c=this.navigator.wf(a.va);a=c.fa;b=c.Tk.add(b);return {fa:a,Wz:b};};a.prototype.Nq=function(a,b){var c;c=this.P.Nq(a);if(void 0 !== c)return c;c=this.P.z3;return ta.Nq(a,{Wa:this,ECb:c && ({id:c.W.id,rQb:c.n5})},b);};a.prototype.r2=function(a){return this.P.r2(a);};a.prototype.Y_a=function(a){var b;b=this.cb.Ja[a.va];if(void 0 !== b)return null === b.zd || void 0 === b.zd?{va:a.va,offset:f.S.max(f.S.lb,a.offset)}:{va:a.va,offset:f.S.max(f.S.lb,f.S.min(a.offset,f.S.ec(b.zd - b.Ac)))};};a.prototype.tn=function(a,b){return this.Ieb(this.cb.Ja[a].fa,b);};a.prototype.Y1=function(){return S.yRa(this.Lb);};a.prototype.xka=function(){return this.kQ.GE;};a.prototype.dyb=function(a){return W.zRa(this.Lb,a);};a.prototype.dj=function(a){var b,c;this.Lb.forEach(function(a){var d;if(!a.II || a.W.Ys){d=a.tRa(0);a=a.tRa(1);if(!b || d < b)b=d;if(!c || a < c)c=a;}});return {cV:b?Math.max(b - a.da,0):0,eV:c?Math.max(c - a.da,0):0};};a.prototype.UJ=function(){var a,b,c,d;c=this.SR?this.dj(this.le):{cV:0,eV:0};d=Z["default"].yf().get();return {totalabuflmsecs:c.cV,totalvbuflmsecs:c.eV,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (b=Number(0 < d.Pd) && (null === (a=d.Ka) || void 0 === a?void 0:a.Ca)) && void 0 !== b?b:0};};a.prototype.fK=function(){var a,b,d;a=this;if(this.zn())return (this.Wj.vw({isStreamingFailureReported:!0}),[]);this.Wj.vw({branchCount:this.Lb.size});b=[];d=this.Lb.reduce(function(d,f,g){var h,l,k,r,n,u;try{for(var m=c.__values(f.Qh.Xe),q=m.next();!q.done;q=m.next()){r=q.value;if(!r.gp()){n="p" + a.id + "-" + g + (null === (k=f.Qj) || void 0 === k?void 0:k.da);u=a.rRa(r);d.push(a.arb(r,u,n));}!r.Eu() && a.Wj.enabled && b.push({segmentId:r.va,isDoneStreaming:r.gp(),isNormalized:r.yn(),needsHeaderRequest:r.track.Eoa});}}catch(Mb){h={error:Mb};}finally{try{q && !q.done && (l=m["return"]) && l.call(m);}finally{if(h)throw h.error;}}return d;},[]);this.Wj.vw({nonStreamables:b});return d;};a.prototype.rRa=function(a){var b;if(a.YZ)return a.YZ;b=this.sRa(a);return b?this.rRa(b):a.T_;};a.prototype.sRa=function(a){var b;return null === (b=this.Lb.eRa(a.Kb)) || void 0 === b?void 0:b.wka(a.I);};a.prototype.WJb=function(a){var b,c;c=this.P.rn;c && (b=this.navigator.wf(c.va).fa);this.Fg("BufferingStateTracker: Temporary failure while buffering",b,"NFErr_MC_StreamingFailure",null === a || void 0 === a?void 0:a.wg,null === a || void 0 === a?void 0:a.DE,null === a || void 0 === a?void 0:a.ri);};a.prototype.Fg=function(a,b,c,d,f,g){this.f2a.Fg(a,b,c,d,f,g);};a.prototype.t3a=function(a,b){b=this.V1(b);this.events.emit("logdata",{type:"logdata",target:a,fields:b});};a.prototype.V1=function(a){var b;b=this.XT.tu(a);a === t.mh.fx && (a=this.UJ(),b.vbuflmsec=a.totalvbuflmsecs,b.abuflmsec=a.totalabuflmsecs,b.vbuflbytes=a.vbuflbytes,b.abuflbytes=a.abuflbytes);return b;};a.prototype.Ata=function(a){this.kQ=a;this.im("updateBudget");};a.prototype.zn=function(){return this.f2a.zn();};a.prototype.Z3a=function(a){a !== this.weight && (this.oIa=a,this.events.emit("weightUpdated"));};a.prototype.W3a=function(a){var b,d,f,g,h,m,q,n,u,v;r.assert(this.rn,"Current position must exist before updating the playgraph");f=fa.NKa(this.cb,a);g=f.Qmb;h=f.CVb;if(![f.SP,f.NL,g].every(function(a){return !a.length;})){r.assert(g.length || h.length,"At least one segment must exist in old playgraph");try{for(var l=c.__values(g),k=l.next();!k.done;k=l.next()){m=k.value;q=this.cb.Ja[m];n=q.fa;u=a.Ja[m];v=u.fa;r.assert(q.Ac === u.Ac,"Updated segment should have the same startTimeMs");r.assert(n === v,"Updated segment should have the same viewableId");}}catch(rd){b={error:rd};}finally{try{k && !k.done && (d=l["return"]) && d.call(l);}finally{if(b)throw b.error;}}this.U0a(a);this.Os();}};a.prototype.U0a=function(a){this.rI=a;this.navigator=new L.uCa(a);this.SAb=fa.YLa(this.navigator);};a.prototype.bra=function(a){var b,c,d,f;b=this;c=this.Hhb(a);d=c.yV;f=c.IK;this.Ol?(r.assert(this.Ol.fa === a,"Multi-viewable playgraphs not supported"),this.Ol.IK.release(),this.Ol.IK=f):this.Ol={fa:a,IK:f};d.then(function(a){b.Ol && b.Ol.IK === f && (b.Ol.N=a,b.xV.clear(),b.xV.addListener(b.Ol.N.Oia,"criticalNetworkError",b.sf.uJb.bind(b.sf)),b.xV.addListener(b.Ol.N.Oia,"temporaryNetworkError",b.sf.nXa.bind(b.sf)),b.xV.addListener(b.Ol.N.Oia,"updatingLastSuccessEvent",b.sf.XJb.bind(b.sf)),b.we === k.eo.bk && b.Os());});};a.prototype.sIa=function(a){var b,c;b=this;if(!(this.P.CE || null !== (c=this.cn) && void 0 !== c && c.yn))if(void 0 !== a.xh)this.cPa(a);else this.Ufa.on(a.events,"branchNormalized",this.cPa.bind(this,a));this.sf.t7(a.bh);!this.P.CE && this.config.e5 && (this.xj("createDlTracksStart"),a.events.once("requestQueuesCreated",function(){return b.xj("createDlTracksEnd");}));this.P.Mia(a);this.pKa.VUb(a,this.le);};a.prototype.cPa=function(a){r.assert(a.xh,"Normalized branch should have a defined content start timestamp");r.assert(this.cn,"AsePlaygraph should have a seek position on first branch normalization");r.assert(!this.cn.yn,"Seek position should not already be normalized on first branch normalization");this.cn=c.__assign(c.__assign({},this.cn),{position:{va:a.W.id,offset:a.xh.Fa(a.W.Tk)},yn:!0});this.sf.VQb(this.cn.position,a.bh.filter(function(a){return 0 === a.I;})[0]);};a.prototype.unb=function(){var a;this.pKa.reset();this.P.QD();this.cn=void 0;null === (a=this.Ufa) || void 0 === a?void 0:a.clear();};a.prototype.Jtb=function(a,b){this.events.emit("streamSelection",{type:"streamSelection",mediaType:a.I,selDiscBw:null === b || void 0 === b?void 0:b.mU,histAge:null === b || void 0 === b?void 0:b.rl});};a.prototype.arb=function(a,b,c){var d;d=this;return {W:a.va,I:a.I,Mn:a.Mn,ug:this.ug.value,ay:b,Yn:a.Yn,le:this.le,Eu:a.Eu(),gp:a.gp(),groupId:c,GTa:function(){return d.c2a.xmb(a.I);},LTa:function(){var b,c,f,g,h,l,k;c=a.I;f=d.kla.wQb(d.ug.value,d.le,d.P.playbackRate,a,0 === c?d.Efa:d.UM);g=f.stream;h=f.qM;l=f.yQb;f=f.Ds;if(!g)return {kp:!1,reason:"selectLocationsAndStream"};if(d.ug.value === m.ac.bk && a.Kb && a.Kb.N.QR && !a.Kb.N.KS && !d.P.xn(a.Kb.N.fa) && a.Yn.da - d.le.da > d.config.hVa)return {kp:!1,reason:"maxBufferingCompleteBufferInMs"};d.Jtb(g,l);k=1;if(null === (b=a.Kb) || void 0 === b?0:b.bh.every(function(a){return 0 === a.I;}))k=0;d.sf.gg && c === k && d.sf.eRb(a.uy.eM,g.U,l);d.jM(h);b=a.uVb(g,d.RL[c],f);b.kp && d.nda && (d.xj("firstDriveStreaming"),d.nda=!1);return b;}};};a.prototype.jM=function(a){var b;b=this;a.forEach(function(a){a.N.ZQb(a,function(){var c,d,g;r.assert(b.SR,"Speculative header callback after streaming is cancelled");c=b.sf.state.value;d=b.le;g=d.add(f.S.ec(b.config.TS));return {W:"" + a.N.fa,I:a.I,Mn:[],ug:c,gp:!1,Eu:!0,ay:g,Yn:g,le:d};});});};a.prototype.$Pb=function(){var a;a=this;this.yra || (this.yra=!0,Promise.resolve().then(function(){a.yra=!1;a.Os();}));};a.prototype.Os=function(){var a,b,d,g,h;a=this;if(this.we === k.eo.bk){r.assert(!this.Kqa,"Unexpected re-entrant call to reevaluateBranches");this.Kqa=!0;this.d5=[];b=this.rn;d=this.navigator.wf(b.va);g=this.Lb.Cxb();h=this.Vwb(b.va).map(function(a){return a.W.id;});d=F.Os(this.console,this.SAb,d,g,h,f.S.ec(this.config.Dlb),f.S.ec(Math.min(this.config.xVa,3E4)),this.config.yoa);h=this.Lb.MVb(d,function(c,d){var f;f=a.navigator.wf(c);c=c === b.va?f.Tk.add(b.offset):f.Tk;return a.rVb(f,c,d);});d=h.SP;g=h.Jn;h.NL.forEach(function(b){b.fg();b.W.Qu=void 0;a.P.lBb(b) || a.events.emit("segmentAborted",{type:"segmentAborted",segmentId:b.W.id});});this.PNb();!this.config.e5 && 0 === this.RL.length && 0 < this.Lb.size && (h=c.__read(this.QRa(),1)[0]) && this.ONb(h);0 === g.length && this.eLa();this.d5=g;this.Kqa=!1;d.length && this.im("reevaluateBranches");}};a.prototype.Vwb=function(a){var b;b=!1;return this.P.Lb.filter(function(c){c.W.id === a && (b=!0);return b;});};a.prototype.QRa=function(){return y.sJa(this.Lb.filter(function(a){return a.TR;}).map(function(a){return a.N;}));};a.prototype.PNb=function(){var a;if(!this.P.z3){a=c.__read(this.Lb.tE(this.g6.va),1)[0];a && this.sIa(a);}if(this.P.z3)for(;;){a=this.WQa(this.P.z3.W);if(!a)break;a=c.__read(this.Lb.tE(a),1)[0];if(!a)break;this.sIa(a);}};a.prototype.WQa=function(a){if(void 0 !== a.Qu)return a.Qu;a=this.navigator.Vxb(a);if(1 === a.length)return a[0].id;};a.prototype.eLa=function(){var a;a=0 !== this.Owb();a || this.O6?a && this.O6 && (this.O6=!1):(this.sf.gg && (a=this.dj(this.le),this.sf.tg("complete",a.cV,a.eV)),this.zgb(),this.O6=!0);};a.prototype.Owb=function(){return this.Lb.filter(function(a){return !a.II;}).length;};a.prototype.eD=function(a){this.sf.iLa(this.le,this.P.playbackRate,a,{Bga:this.kla.Bga.bind(this.kla,this.c2a)});};a.prototype.kJb=function(a,b){var c,d;c=this;if(b.didNormalizeSegment){d=O.FDa.KAb(a);r.assert(d,"Segment should be normalized");Promise.resolve().then(function(){return c.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:a.W.id,normalizedStart:b.segmentContentStart,normalizedEnd:b.branchContentEnd,viewableContentEnd:d.jXb,viewableEarliestContentEnd:d.kXb});});}this.d5.some(function(b){return b.aMb === a;}) && this.$Pb();};a.prototype.lJb=function(){this.eLa();};a.prototype.jJb=function(){this.Os();};a.prototype.rVb=function(a,b,c){var d,g,l,k,m;d=this;k=f.S.lb;if(!c || c.yn){if(c && c.vi)k=c.vi.Fa(a.Tk);else if(null === (g=this.cn) || void 0 === g?0:g.EYa)k=this.cn.EYa.Fa(this.k0a);if(this.qnb(a,b))throw Error("Not implemented");g=a.fa;r.assert(!this.Ol || this.Ol.fa === g,"Multi-viewable playgraphs not supported");m=null === (l=this.Ol) || void 0 === l?void 0:l.N;if(m)return (a=new h.o8(this.config,this.console,m,this.events,a,function(){return d.r0a(m);},b,k,function(){return d.le.da;},c,[],this.ug,this.lB),a.events.once("branchNormalized",this.kJb.bind(this,a)),a.events.once("lastRequestIssued",this.jJb.bind(this,a)),a.events.once("branchStreamingComplete",this.lJb.bind(this,a)),a.events.on("checkBufferingProgress",this.eD.bind(this,a)),a.$a(),this.kZ(a.W.id,a.N,a.Lo),a);this.bra(g);}};a.prototype.ONb=function(a){var b,c,d,f;b=this;c=a.u;r.assert(0 === this.RL.length);d=0;f=new g.qg();this.xj("createDlTracksStart");this.RL=m.ie.map(function(g){g=b.Rr(g,c,a);++d;f.on(g,"created",function(){--d;0 === d && (b.xj("createDlTracksEnd"),f.clear());});return g;});};a.prototype.Ktb=function(a){this.events.emit("transportReport",a);};a.prototype.Rr=function(a,b,c){var d;d=this;return T.Rr(a,c,this.config,this.console,this.Ktb.bind(this),function(a,b){return d.Fg("DownloadTrack fatal error",void 0,"NFErr_MC_StreamingFailure",a,0,b);});};a.prototype.vzb=function(a){if(this.P.Au)return this.P.xi.Ua(a);};a.prototype.r0a=function(a){return [[0,this.MJa,"audio_tracks"],[1,this.F4a,"video_tracks"]].map(function(b){var d,f;d=c.__read(b,3);b=d[0];f=d[1];d=d[2];r.assert(f,"Expected mediaType " + b + " track selector to be defined");f=f.jv(a.pa,a.pa[d]);return void 0 !== f?a.MRa(b,f):void 0;}).filter(y.H4);};a.prototype.kZ=function(a,b,c){a={type:"segmentStarting",segmentId:a,contentOffset:c.da,maxBitrates:{audio:b.zs[0],video:b.zs[1]}};this.events.emit(a.type,a);};a.prototype.zgb=function(){var a;a={type:"streamerEnd",time:n["default"].time.aa()};this.events.emit(a.type,a);};a.prototype.xj=function(a){a={type:"startEvent",event:a,time:n["default"].time.aa()};this.events.emit(a.type,a);};c.__decorate([E.Rb({Jc:"getStreamables",km:!0})],a.prototype,"fK",null);return a;})();b.Jua=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eEa=void 0;d=(function(){function a(a,b){this.G=a;this.bg=b;this.Fsa=!1;}a.prototype.Fg=function(a,b,d,g,f,h){this.Fsa || (this.Fsa=!0,a={type:"error",error:null !== d && void 0 !== d?d:"NFErr_MC_StreamingFailure",errormsg:a,networkErrorCode:g,httpCode:f,nativeCode:h,viewableId:b},this.G.error("notifyStreamingError: " + JSON.stringify(a)),this.bg.emit("error",a));};a.prototype.zn=function(){return this.Fsa;};return a;})();b.eEa=d;},function(d,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.Naa=void 0;c=a(0);g=a(5);k=a(9);m=a(19);f=a(257);d=(function(a){function b(b){var c;c=a.call(this) || this;c.Wa=b;c.Lb=[];c.LH=new f.YX({ul:!1,currentTime:function(){return c.Au?c.le:k.S.ux;},speed:1});return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{ta:{get:function(){return this.LH;},enumerable:!1,configurable:!0}});b.prototype.o_=function(a,b){var c;c=!this.Wa;c && (this.Wa=a,this.Wca=(null === b || void 0 === b?0:b.Au)?b.le:void 0);return c;};b.prototype.QD=function(){this.Lb=[];this.Wca=void 0;};b.prototype.$ha=function(a){m.ma && g.assert(this.Wa === a);this.Wa=void 0;this.QD();};b.prototype.Mia=function(){for(var a,b=[],d=0;d < arguments.length;d++){b[d]=arguments[d];}(a=this.Lb).push.apply(a,c.__spread(b));};b.prototype.XJ=function(){return this.Wca?this.Wca:a.prototype.XJ.call(this);};b.prototype.xn=function(){return !1;};b.prototype.xM=function(){};return b;})(a(434).eba);b.Naa=d;},function(d,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.hDa=void 0;c=a(0);g=a(19);k=a(69);d=(function(){function a(a){this.jb=a;}Object.defineProperties(a.prototype,{tk:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$S:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return g.ma;},enumerable:!1,configurable:!0}});a.prototype.tu=function(a){var b,d,f,m;a=a.Lj;if(a === k.mh.fx || a === k.mh.Hp)if(a=this.jb.Tja()){f={};try{for(var g=c.__values(a.ILb),l=g.next();!l.done;l=g.next()){m=l.value;f[m.I]=this.dGb(m);}}catch(y){b={error:y};}finally{try{l && !l.done && (d=g["return"]) && d.call(g);}finally{if(b)throw b.error;}}return {branchQueue:this.bGb(a.qNb),playerIterator:f,driftStats:this.jb.Vta};}};a.prototype.dGb=function(a){return null === a || void 0 === a?void 0:a.DQa();};a.prototype.aGb=function(a){var b,c,d;b=this;if(a){c=a.W;d={};a.bK().forEach(function(a){d[a.I]=b.cGb(a);});return {sId:null === c || void 0 === c?void 0:c.id,cancelled:a.mk,RM:d};}return a;};a.prototype.cGb=function(a){if(a && a.Pa)return a.Pa.Lka();};a.prototype.bGb=function(a){var b;b=this;return a.map(function(a){return b.aGb(a);});};return a;})();b.hDa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.TBa=void 0;c=a(69);d=(function(){function a(a){this.Ua=a;}Object.defineProperties(a.prototype,{tk:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.tu=function(a){var b,d;a=a.Lj;if(a === c.mh.Hp || a === c.mh.fx){a={};b=this.Ua(1);d=this.Ua(0);b && (a.videoPipelineSummary=this.n2a(b));d && (a.audioPipelineSummary=this.n2a(d));return a;}};a.prototype.n2a=function(a){var b,c,d,g,l;l=a.Pa.$;return {P3b:null === (b=l.Qj) || void 0 === b?void 0:b.da,O3b:l.$Xa,YZ:null === (c=a.YZ) || void 0 === c?void 0:c.da,va:a.va,G4b:null === (d=a.xh) || void 0 === d?void 0:d.da,E4b:null === (g=a.jm) || void 0 === g?void 0:g.da,U8b:a.Yn.da,Eu:a.Eu(),yn:a.yn(),gp:a.gp(),k9b:a.track.Eoa,Wga:l.Wga,hn:a.Pa.hn,Zq:a.Pa.Zq,ba:{current:l.ba,m8b:l.GZa,W7b:l.Pj,LLa:l.Tz,I3a:l.HVb}};};return a;})();b.TBa=d;},function(d,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Nq=b.TRa=b.ETa=void 0;c=a(9);g=a(5);k=a(19);b.ETa=function(a,b){a=a.Ja[b.va];if(void 0 === a)return !1;if(void 0 === a.zd || null === a.zd)throw Error("Cannot validate graph position without endTimeMs");a=a.zd - a.Ac;return 0 <= b.offset.da && b.offset.da < a;};m=c.S.ec(100);b.TRa=function(a,b){if(a === b)return !0;if(a && b && a.va === b.va){if(a.offset === b.offset)return !0;a=c.S.abs(a.offset.Fa(b.offset));if(m.greaterThan(a))return !0;}return !1;};b.Nq=function(a,b,d){var f,h,l,m;l=b.Wa;b=b.ECb;void 0 === d && (d={});m=l.cb;l=l.navigator;m=l.wf(null !== (f=null === b || void 0 === b?void 0:b.id) && void 0 !== f?f:m.ff);f=null !== (h=null === b || void 0 === b?void 0:b.rQb) && void 0 !== h?h:m.Tk;if(f.greaterThan(a))return d.z1a?{offset:a.Fa(f),va:m.id}:void 0;b=l.aEb(m);for(l=b.next();!l.done;){h=l.value;l=h.Yr.Fa(h.Tk);m=f;f=m.add(l);if(f.greaterThan(a))return (a=a.Fa(m),k.ma && g.assert(a.ql(c.S.lb) && a.lessThan(l)),{va:h.id,offset:a});l=b.next();if(l.done && d.A1a)return {va:h.id,offset:a.Fa(m)};}};},function(d,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.Kxa=void 0;d=a(0);c=a(17);g=d.__importDefault(a(109));k=d.__importDefault(a(3));m=a(177);f=a(34);a=(function(){function a(a,b,c){this.config=a;this.ySb=b;this.navigator=c;a=m.xE(this.config);this.PYa=[a.gy,a.DT];}a.prototype.wQb=function(a,b,d,g,h){var l,k,m,q,r;m=[];if(!this.iYa(g.track))return {stream:k,qM:m};k=g.Yf.Fx;q=h?h.ol(g.track.md,a):g.track.md;if(0 === q.length && (null === h || void 0 === h?0:h.wmb))return {stream:void 0,qM:m};k && !k.track.equals(g.track) && (k=this.Jvb(k,q));if(0 === g.I && k && !this.YRb(g,k))return {stream:k,qM:m};a=this.Sqb(a === c.ac.cd?c.oa.cd:a === c.ac.mf?c.oa.mf:a === c.ac.nO?c.oa.cd:a === c.ac.bk?c.oa.Uc:c.oa.oh,b,d,g);a=g.uy.l6(a,q,void 0,this.PYa[g.I],!0,g.track.N.Xo);if(!a)return {stream:k,qM:m};a.reason && (r={reason:a.reason,mU:a.Bu,wx:a.wx,rl:a.rl,sl:a.sl});k=q[a.Vd];g.Yf.Z0a(k);if(null === (l=a.ax) || void 0 === l?0:l.length)m=a.ax.map(function(a){return f.Pg(q,function(b){return b.id === a;});}).filter(f.H4);g=a.Ds;return void 0 !== r?{stream:k,qM:m,yQb:r,Ds:g}:{stream:k,qM:m,Ds:g};};a.prototype.Bga=function(a,b,d,f,g,h,l){var k,m;if(!c.zx(b))return {complete:!0,reason:"playing"};if(!h.zMb)return {complete:!1,reason:"unknown"};if(h.oKb)return h.pKb;k=this.MPa(h,d);m=h.Yf.Fx;d=k.sk - k.ad;if(d < this.config.jj || void 0 === m)return {complete:!1,Kz:d,reason:"preBuf"};if(0 === h.I)return {complete:!0,Kz:d,reason:"audio"};if(a=a.fLa(h.I))return {complete:!0,Kz:d,reason:a};this.iYa(h.track);h.uy.aqa([m],!1,k,this.PYa[h.I]);b=h.uy.Sw(k,b,g,m,{Sr:l});if(!b.complete && f)return {complete:!0,reason:"prebufferTimeLimit",Kz:d};b.Kz=d;return b;};a.prototype.Jvb=function(a,b){var c;c=b[0];b.filter(function(a){return a.ss;}).every(function(b){return b.U <= a.U?c=b:!1;});return c;};a.prototype.YRb=function(a,b){return 0 < this.config.DM.length?!0:(a=a.Yf.FK) && a === b.location?!1:!0;};a.prototype.iYa=function(a){return a.N.vl.MM(a.N.fa,a.md);};a.prototype.MPa=function(a,b){var u;for(var c,d=b.Fa(this.ySb),f=[],g=a,h=b,l,m,q=0,n=!0;g;){u=g.syb(d);if(0 === u.$.length)break;if(!n && !g.II)break;h=u.$[0].Qj;void 0 === l && (l=u.$[u.$.length - 1].vi,m=u.wpa >= u.$.length?l:u.$[u.wpa].Qj);f=u.$.concat(f);q+=u.Pj;g=this.navigator.parent(g);g=(null === g || void 0 === g?0:g.Eu())?g:void 0;n=!1;}return {iq:k["default"].pl()[a.I],X:Math.floor(h.da),ad:b.da,$b:Math.floor(null !== (c=null === l || void 0 === l?void 0:l.da) && void 0 !== c?c:b.da),sk:Math.floor(m?m.da:b.da),Fi:f.reduce(function(a,b){return a + b.ba;},0),Pj:q,Gja:f.length,$:f};};a.prototype.Sqb=function(a,b,d,f){var h,l,k;h=this.MPa(f,b);l=1 === f.I?this.config.qV:this.config.XP;k=g["default"].yf();return {state:a,OA:a === c.oa.Uc,xg:f.xl,playbackRate:d,buffer:h,nia:l,EUa:!1,YQ:!1,hn:null === k || void 0 === k?void 0:k.hn,I:f.I,ad:b.da,Bq:!1,j3:!1,PT:0};};return a;})();b.Kxa=a;},function(d,b,a){var k,m;function c(a,b,c,d,g){var f,h,l,q,n,r,p,u,t,U,V,E,Z,ta,ha,F;l=a.console;q=a.complete;n=a.kPb;r=a.Vsb;p=a.FGb;u=a.yoa;a=a.mKb;t=g || ({});U=t.root;V=t.Tib;t=t.y_a;t=void 0 === t?0:t;E=!d || -1 !== q.indexOf(d.id);Z=t < n.length && n[t] === b.id;ta=g && d?d.hmb(b.id):{Rk:1};ha=ta.Rk;ta=ta.Tla;F=void 0 === ta?0:ta;ta=(ha + F) * (null !== (f=null === g || void 0 === g?void 0:g.HMb) && void 0 !== f?f:1);m && l.trace("reevaluateBranches: visiting " + b.id + ", " + ("distance: " + c + ", ") + ("predecessor: " + (null === d || void 0 === d?void 0:d.id) + ", ") + ("predecessorComplete: " + E + ", ") + ("isOnRequiredPath: " + Z + ", ") + ("activeDistance: " + V + ", ") + ("seamless " + ha + ", ") + ("immediate " + F + ", ") + ("predecessor sum of: successor weights=" + (null === d || void 0 === d?void 0:d.Hsa) + ", ") + ("immediate weights= " + (null === d || void 0 === d?void 0:d.T6)));if(!Z && (0 === ta || !E && 0 === F && (k.assert(void 0 !== V),c - V >= p) || -1 === q.indexOf(b.id) && c >= r && 1 > ta || !1 === U && ta < u))return {F7:!1};t < n.length && k.assert(n[t] === b.id,"");g=null !== (h=null === g || void 0 === g?void 0:g.Mn) && void 0 !== h?h:[];d && 1 > ha && (g=g.concat([0 < F?{Rk:ha,Tla:F,duration:d.duration.da}:{Rk:ha}]));a.push({W:b,Oq:null === d || void 0 === d?void 0:d.id,Mn:g});c=E?c + b.duration.da:V;m && l.trace("reevaluateBranches: added " + b.id + ", visiting successors, " + ("active distance: " + c) + ("probabilities: " + JSON.stringify(g)));return {F7:!0,state:{root:!d,HMb:ta,Mn:g,Tib:c,y_a:t + 1}};}function g(a,b,c,d){d("reevaluateBranches: " + Array(c + 1).join(" ") + a.W.id + " " + ("(" + JSON.stringify(a.Mn) + ")"));b.filter(function(b){return b.Oq === a.W.id;}).forEach(function(a){return g(a,b,c + 1,d);});}Object.defineProperty(b,"__esModule",{value:!0});b.UUb=b.oXb=b.Os=void 0;k=a(5);m=a(19).ma && !1;b.Os=function(a,b,d,g,l,n,p,y){var f,h,q,r;h=[];q=(null === (f=d.Yr) || void 0 === f?void 0:f.Fa(d.Tk).da) || 0;0 < l.length && k.assert(d.id === l[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");m && a.trace("reevaluateBranches: starting at " + d.id);r={console:a,complete:g,kPb:l,Vsb:n.da + q,FGb:p.da,yoa:y,mKb:h};b.nXb(d,function(a,b,d,f){return c(r,a,b,d,f);});return h;};b.oXb=c;b.UUb=function(a,b){g(a[0],a,0,b);};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.uCa=void 0;c=a(0);g=a(998);d=(function(){function a(a){this.cb=a;this.Ja={};}a.prototype.wf=function(a){var b,c,d;c=this.Ja[a];if(void 0 === c){c=this.cb.Ja[a];if(void 0 === c)throw Error("Segment not found (" + a + ")");d=null !== (b=c.od) && void 0 !== b?b:this.cb.od;c=new g.zCa(a,c,d);this.Ja[a]=c;}return c;};a.prototype.Vxb=function(a){var b;b=this;return a.W.next?Object.keys(a.W.next).map(function(a){return b.wf(a);}):[];};a.prototype.aEb=function(a){var b;return c.__generator(this,function(c){switch(c.label){case 0:return [4,a];case 1:(c.Bi(),b=a,c.label=2);case 2:if(!b.W.yh)return [3,4];b=this.wf(b.W.yh);return [4,b];case 3:return (c.Bi(),[3,2]);case 4:return [2];}});};a.prototype.Ii=function(a){var b;b=this;Object.keys(a).forEach(function(c){var d;return null === (d=b.wf(c)) || void 0 === d?void 0:d.Ii(a[c]);});};return a;})();b.uCa=d;},function(d,b,a){var g,k;function c(a){return "immediate" === a;}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=b.oDb=void 0;g=a(9);k=a(5);b.oDb=c;d=(function(){function a(a,b,c){var d;d=this;this.id=a;this.W=b;this.od=c;this.cHa=!1;this.AE=function(a){var b,c,f;return null !== (f=null === (c=null === (b=d.W.next) || void 0 === b?void 0:b[a]) || void 0 === c?void 0:c.od) && void 0 !== f?f:d.od;};this.BP=new g.S(b.Ac,1E3);this.NO=void 0 !== b.zd && null !== b.zd?new g.S(b.zd,1E3):g.S.ux;this.aTa();k.assert(this.BP.lessThan(this.NO),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(a.prototype,{fa:{get:function(){return this.W.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{kL:{get:function(){return this.cHa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tk:{get:function(){return this.BP;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Yr:{get:function(){return this.NO;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.NO.Fa(this.BP);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.BP.da;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return this.NO.da;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nB:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ys:{get:function(){return this.Sx.length?!this.W.yh && 0 === this.iL.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jIb:{get:function(){return this.rz;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Sx:{get:function(){var a,b;return Object.keys(null !== (b=null === (a=this.W) || void 0 === a?void 0:a.next) && void 0 !== b?b:{});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{iL:{get:function(){var a;a=this;return this.Sx.filter(function(b){return ! !a.rz[b];});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hsa:{get:function(){var a;return null !== (a=this.ZHa) && void 0 !== a?a:this.ZHa=this.qmb();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T6:{get:function(){var a;return null !== (a=this.$Ha) && void 0 !== a?a:this.$Ha=this.rmb();},enumerable:!1,configurable:!0}});a.prototype.normalize=function(a,b){this.BP=a;this.NO=b;this.cHa=!0;};a.prototype.bQa=function(){var a;return this.iL.length?null !== (a=this.iL.map(this.AE).reduce(function(a,b){return a === b?b:void 0;})) && void 0 !== a?a:this.od:this.od;};a.prototype.Ii=function(a){this.aTa(a);};a.prototype.hmb=function(a){var b,d;if(void 0 !== this.Qu)return {Rk:this.Qu === a?1:0};if(this.Hsa){b=(this.rz[a] || 0) / this.Hsa;if(void 0 === this.W.weight || 0 === this.T6)return {Rk:b};d=this.W.weight / (this.W.weight + this.T6);return 1 !== d && c(this.AE(a)) && this.rz[a]?{Rk:d * b,Tla:this.rz[a] / this.T6 * (1 - d)}:{Rk:d * b};}return {Rk:(null === (b=this.W.next) || void 0 === b?0:b[a])?1 / this.Sx.length:0};};a.prototype.uBb=function(a){return -1 < this.Sx.indexOf(a);};a.prototype.aTa=function(a){var b;if(void 0 === this.W.next)this.rz={};else {b=this.W.next;this.rz=Object.keys(b).reduce(function(c,d){var f;f=a?a[d] || 0:b[d].weight;void 0 !== f && null !== f && 0 <= f && (c[d]=f);return c;},{});}this.zXb();};a.prototype.qmb=function(){var a;a=this;return this.iL.reduce(function(b,c){return b + a.rz[c];},0);};a.prototype.rmb=function(){var a;a=this;return this.iL.filter(function(b){return c(a.AE(b));}).reduce(function(b,c){return b + a.rz[c];},0);};a.prototype.zXb=function(){this.$Ha=this.ZHa=void 0;};return a;})();b.zCa=d;},function(d,b,a){var k,m,f;function c(a,b){var c,d;c=Object.keys(a);if(c.some(function(c){var d,f,g,h;return (null === (d=a[c]) || void 0 === d?void 0:d.od) !== (null === (f=b[c]) || void 0 === f?void 0:f.od) || (null === (g=a[c]) || void 0 === g?void 0:g.weight) !== (null === (h=b[c]) || void 0 === h?void 0:h.weight);}))return !0;d=Object.keys(b);return 0 !== k.__spread(m.Er(c,d),m.Er(d,c)).length?!0:!1;}function g(a,b){return a.some(function(a,c){var d;return 0 !== m.Er(a,null !== (d=b[c]) && void 0 !== d?d:[]).length;}) || a.length !== b.length?!0:!1;}Object.defineProperty(b,"__esModule",{value:!0});b.NKa=b.YLa=void 0;k=a(0);m=a(34);f=a(1E3);b.YLa=function(a){return new f.Awa(function(b){return Object.keys(b.W.next || ({})).map(function(c){var d,f,g;c=a.wf(c);d=null !== (g=null === (f=b.Yr) || void 0 === f?void 0:f.Fa(b.Tk).da) && void 0 !== g?g:Infinity;return {cXb:c,weight:d};});});};b.NKa=function(a,b){var d,f,h,l,q,n;d=Object.keys(a.Ja);f=Object.keys(b.Ja);h=f.filter(function(a){return -1 === d.indexOf(a);});l=d.filter(function(a){return -1 === f.indexOf(a);});q=d.filter(function(d){var h,l,k,m,q;if(-1 === f.indexOf(d))h=!1;else {h=a.Ja[d];d=b.Ja[d];h=h.yh !== d.yh || h.zd !== d.zd || h.Ac !== d.Ac || h.od !== d.od || h.fa !== d.fa || g(null !== (l=h.MJ) && void 0 !== l?l:[],null !== (k=d.MJ) && void 0 !== k?k:[]) || c(null !== (m=h.next) && void 0 !== m?m:{},null !== (q=d.next) && void 0 !== q?q:{})?!0:!1;}return h;});n=m.Er(d,k.__spread(q,h,l));return {SP:h,NL:l,Qmb:q,CVb:n};};},function(d,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Awa=void 0;c=a(5);g=a(249);k=a(1001);m=a(436);d=(function(){function a(a){this.Etb=a;this.Tta=!1;this.G7=new k.uba();this.bv=new k.uba();this.cJa=new m.tba();}a.prototype.nXb=function(a,b){var f,h,l;function d(){var a,c,d,g,q,n;a=k.pop();c=l.get(a);d=c.Oq;g=c.eA;c=c.state;if(!m.G7.has(a)){m.G7.add(a);d=b(a,g,d,c);q=d.F7;n=d.state;h(a).forEach(function(b){var c,d;c=b.cXb;if(!f.G7.has(c) && (b=g + b.weight,q))if(f.bv.has(c)){d=f.cJa.get(c);b < d.eA && (d.eA=b,d.Oq=a,d.state=n,k.GMb(c));}else (f.bv.add(c),l.set(c,{eA:b,Oq:a,state:n}),k.push(c));});}}f=this;h=this.Etb;l=this.cJa;c.assert(!this.Tta);this.Tta=!0;this.G7.clear();this.bv.clear();l.set(a,{eA:0,state:{root:!1,y_a:0}});for(var k=new g.hX([a],function(a,b){return l.get(a).eA - l.get(b).eA;}),m=this;!k.empty;){d();}this.Tta=!1;};return a;})();b.Awa=d;},function(d,b){var g,k,m;function a(a){return void 0 !== (null === a || void 0 === a?void 0:a.jFa);}function c(b){return (a(b)?b:Object.defineProperties(b,{jFa:{value:{},configurable:!1,enumerable:!1}})).jFa;}Object.defineProperty(b,"__esModule",{value:!0});b.uba=void 0;k=null !== (g=Number.MAX_SAFE_INTEGER) && void 0 !== g?g:1E9;m=Date.now() % k;d=(function(){function b(){this.o6=0;this.id=m=(m + 1) % k;}b.prototype.add=function(a){c(a)[this.id]=this.o6;return this;};b.prototype.has=function(b){return a(b) && c(b)[this.id] === this.o6;};b.prototype["delete"]=function(a){if(!this.has(a))return !1;c(a)[this.id]=void 0;return !0;};b.prototype.clear=function(){this.o6=(this.o6 + 1) % k;return this;};return b;})();b.uba=d;},function(d,b,a){var g,k,m,f,h;function c(a){return {value:a.Kb,parent:a.Oq};}Object.defineProperty(b,"__esModule",{value:!0});b.oCa=void 0;g=a(0);k=a(9);m=a(34);f=a(5);h=a(1003);d=(function(){function a(){this.Lb=new k.BAa();this.yy=new h.HEa();}Object.defineProperties(a.prototype,{empty:{get:function(){return this.Lb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{size:{get:function(){return this.Lb.size;},enumerable:!1,configurable:!0}});a.prototype.reset=function(){var a;a=this.Lb.values();this.Lb.clear();this.yy.clear();a.forEach(function(a){return a.fg();});};a.prototype.tE=function(a){return this.Lb.get(a);};a.prototype.has=function(a){return this.Lb.has(a);};a.prototype.eRa=function(a){return this.yy.parent(a);};a.prototype.Pqa=function(a){var b;if(!this.Lb["delete"](a.W.id,a))return !1;b=this.yy.children(a);this.yy.root === a?0 === b.length?this.yy.clear():(f.assert(1 === b.length,"cannot remove the root branch with multiple successors"),this.yy.TOb(b[0])):(f.assert(0 === b.length,"cannot remove non-root branch with successors"),this.yy.remove(a));return !0;};a.prototype.forEach=function(a){var b;b=this;this.Lb.forEach(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.Lb.reduce(function(b,d,f){return a(b,d,f,c);},b);};a.prototype.map=function(a){var b;b=this;return this.Lb.map(function(c,d){return a(c,d,b);});};a.prototype.filter=function(a){var b;b=this;return this.Lb.filter(function(c,d){return a(c,d,b);});};a.prototype.Cxb=function(){return this.filter(function(a){return a.GK;}).map(function(a){return a.W.id;});};a.prototype.MVb=function(a,b){var d,f,g;d=this;f=this.kGb(a,b);a=f.SP;b=f.Jn;g=this.yy.GNb(f.target.map(c));f=g.NL;g=g.k_a;f.forEach(function(a){return d.Lb["delete"](a.W.id,a);});a.forEach(function(a){a=a.Kb;return d.Lb.set(a.W.id,a);});return {SP:a.map(function(a){return a.Kb;}),NL:f,k_a:g.map(function(a){return a.value;}),Jn:b};};a.prototype.kGb=function(a,b){var d,h,l;function c(a,c){(a=b(a.W.id,c)) && h.push({Kb:a,Oq:c});return a;}d=this;h=[];l=[];return {target:a.reduce(function(a,b,h){var k,q;f.assert(0 === h || b.Oq);if(b.Oq && (q=null === (k=m.tJa(a,function(a){return a.Kb.W.id === b.Oq;})) || void 0 === k?void 0:k.Kb,!q))return (f.assert(void 0 !== m.Pg(l,function(a){return a.W.id === b.Oq;}),"predecessorSegmentId " + b.Oq + " specified without previously specifying predecessor requiredBranch."),l.push(b),a);(k=m.Pg(d.tE(b.W.id),function(a){return d.yy.parent(a) === q || 0 === h;})) && k.rRb(b.W);(k=null !== k && void 0 !== k?k:c(b,q))?(k.Mn=b.Mn,a.push({Kb:k,Oq:q})):l.push(g.__assign(g.__assign({},b),{aMb:q}));return a;},[]),SP:h,Jn:l};};return a;})();b.oCa=d;},function(d,b,a){var g,k,m;function c(a){return 0 === a.length || void 0 === a[0].parent && a.every(function(b,c){return 0 === c || m.Dw(a,function(a){return a.value === b.parent;}) < c;});}Object.defineProperty(b,"__esModule",{value:!0});b.HEa=void 0;g=a(436);k=a(5);m=a(34);d=(function(){function a(){this.J=new g.tba();}Object.defineProperties(a.prototype,{empty:{get:function(){return !this.oy;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{root:{get:function(){var a;return null === (a=this.oy) || void 0 === a?void 0:a.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{values:{get:function(){var a;a=[];this.jPa(function(b){return ! !a.push(b);});return a;},enumerable:!1,configurable:!0}});a.prototype.has=function(a){return ! !this.J.get(a);};a.prototype.parent=function(a){var b;a=this.J.get(a);k.assert(a,"Attempted to find the parent of a node not in the tree");return null === (b=a.parent) || void 0 === b?void 0:b.value;};a.prototype.children=function(a){a=this.J.get(a);k.assert(a,"Attempted to find the children of a node not in the tree");return a.children?a.children.map(function(a){return a.value;}):[];};a.prototype.add=function(a,b){var c;k.assert(!this.J.get(a),"Attempted to add a value to tree that is already present");c={value:a};void 0 === this.oy?(k.assert(void 0 === b,"a parent cannot be specified when the tree is empty"),this.oy=c):(k.assert(void 0 !== b,"a parent must be specified when the tree is non-empty"),b=this.J.get(b),k.assert(b,"Parent value does not exist in tree"),this.GJa(c,b));this.J.set(a,c);return this;};a.prototype.remove=function(a){a=this.J.get(a);k.assert(a,"Attempted to remove a node not in the tree");this.removeNode(a);return this;};a.prototype.removeNode=function(a){var b;b=this;this.zja(function(a){return b.J["delete"](a);},a.value);void 0 === a.parent?this.oy=void 0:this.detach(a);};a.prototype.move=function(a,b){a=this.J.get(a);b=this.J.get(b);k.assert(a,"cannot move a value that is not in the tree");k.assert(b,"cannot move a value to a parent value not in the tree");k.assert(a.parent,"cannot move the root node");k.assert(!this.XCb(a,b),"cannot move a node below itself or one of its decendants");a.parent !== b && (this.detach(a),this.GJa(a,b));return this;};a.prototype.TOb=function(a){var b,c;b=this;a=this.J.get(a);k.assert(a,"cannot replant at a value that is not in the tree");c=[];this.detach(a);this.zja(function(a){b.J["delete"](a);c.unshift(a);return !0;});this.oy=a;};a.prototype.clear=function(){this.oy && this.remove(this.oy.value);return this;};a.prototype.iPa=function(a,b){var c,d;c=this;a=this.J.get(a);k.assert(a,"cannot iterate children of a value not in the tree");null === (d=a.children) || void 0 === d?void 0:d.forEach(function(a){return b(a.value,c);});};a.prototype.jPa=function(a,b){var c;c=this;k.assert(!this.empty || void 0 === b,"cannot iterate from a value on an empty tree");this.empty || (b=null !== b && void 0 !== b?b:this.oy.value,a(b,this) && this.iPa(b,function(b){return c.jPa(a,b);}));};a.prototype.zja=function(a,b){var c;c=this;k.assert(!this.empty || void 0 === b,"cannot iterate from a value on an empty tree");this.empty || (b=null !== b && void 0 !== b?b:this.oy.value,this.iPa(b,function(b){return c.zja(a,b);}),a(b,this));};a.prototype.GNb=function(a){var b,d,f;b=this;k.assert(c(a),"entries must be in topological order");0 === a.length?(d=this.values,f=[],this.clear()):(f=a.filter(function(a){return b.has(a.value) && a.parent !== b.parent(a.value);}),d=this.values.filter(function(b){return -1 === m.Dw(a,function(a){return a.value === b;});}),this.clear(),a.forEach(function(a){return b.add(a.value,a.parent);}));return {NL:d,k_a:f};};a.prototype.GJa=function(a,b){var c;a.parent=b;(null !== (c=b.children) && void 0 !== c?c:b.children=[]).push(a);};a.prototype.detach=function(a){var b;k.assert(a.parent,"cannot detach the root");k.assert(void 0 !== a.parent.children,"logic error: parent node does not have children");b=a.parent.children.indexOf(a);k.assert(0 <= b,"logic error: node does not appear in the children of its parent");a.parent.children.splice(b,1);a.parent=void 0;};a.prototype.XCb=function(a,b){for(;void 0 !== b;){if(b === a)return !0;b=b.parent;}return !1;};return a;})();b.HEa=d;},function(d,b,a){var c,g,k,m,f,h,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.qva=void 0;c=a(0);g=c.__importDefault(a(3));k=a(17);m=a(9);f=a(21);h=a(5);q=a(125);n=a(83);d=(function(){function a(a,b,c,d,f,g,h){var l;l=this;void 0 === h && (h=500);this.G=a;this.config=b;this.kb=c;this.events=d;this.Ria=f;this.ah=g;this.Olb=h;this.WYa=this.lk=0;this.mu={Sr:0};this.state=new m.Gt(k.ac.ak);this.kB=new m.Gt(k.oa.oh);this.Wj=new q.SC({WE:10,Uu:this,source:"BufferStateTracker",cfa:function(){return {isBuffering:l.gg,alwaysRunUnderflowTimer:l.config.JI};}});}Object.defineProperties(a.prototype,{Sr:{get:function(){return this.mu.Sr;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gg:{get:function(){return k.zx(this.state.value);},enumerable:!1,configurable:!0}});a.prototype.t7=function(a){var b;b=this;Array.isArray(a) || (a=[a]);a.forEach(function(a){0 === a.I && (b.zKa=c.__assign(c.__assign({},b.zKa),{audio:{trackId:a.Xa,trackIndex:a.KM}}));});};a.prototype.mXa=function(a){this.XF(a,k.ac.cd);};a.prototype.uJb=function(){this.mu.Sr++;};a.prototype.nXa=function(a){this.config.JI || void 0 === this.Ex && this.gg && this.xha();this.Ex={DE:a.httpCode,wg:a.errorCode,ri:a.nativeCode};};a.prototype.XJb=function(){this.Ex=void 0;this.config.JI || this.z0();};a.prototype.Ik=function(a){this.gg || (this.XF(a,k.ac.mf),this.gg && (this.Ex || this.config.JI) && this.xha());};a.prototype.UJb=function(a,b){this.state.value !== k.ac.cd && this.XF(a,k.ac.nO);this.t7(b);};a.prototype.VQb=function(a,b){h.assert(this.state.value === k.ac.cd && void 0 === this.vM);this.vM=a;b && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:b.Xa,trackIndex:b.KM}),this.t7(b));};a.prototype.eRb=function(a,b,c){h.assert(this.gg);this.lma=null !== a && void 0 !== a?a:this.lma;this.jma=null !== b && void 0 !== b?b:this.jma;void 0 === this.U2?this.U2=c:void 0 !== (null === c || void 0 === c?void 0:c.reason) && (this.U2.reason=c.reason);};a.prototype.tg=function(a,b,c){h.assert(this.gg && void 0 !== this.vM && void 0 === this.MD && void 0 === this.B7 && void 0 === this.VZ);this.MD=a;this.B7=b;this.VZ=c;this.Mo=100;this.oLa();this.z0();this.state.value === k.ac.mf && (this.WYa=g["default"].time.aa());this.O0();this.set(k.ac.bk);this.VZ=this.B7=this.MD=this.U2=this.jma=this.lma=this.vM=void 0;};a.prototype.stop=function(){this.set(k.ac.ak);this.oLa();this.z0();};a.prototype.iLa=function(a,b,c,d){var m,q,n,r,p,u,v,B,y,A,t;function f(a){var b;return {reason:a.reason,complete:a.complete,bl:null !== (b=a.Kz) && void 0 !== b?b:0};}function l(c){return c?c.Eu() || c.gp()?d.Bga(m.state.value,a,B >= m.config.fy,b,c,m.Sr):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};}m=this;h.assert(this.gg);if(!(this.state.value === k.ac.mf && g["default"].time.aa() < this.WYa + this.config.WVa)){v=c.wka(0);c=c.wka(1);B=g["default"].time.aa() - this.lk;if(v || c){y=l(v);A=l(c);this.Wj.vw({as:f(y),vs:f(A),bt:B});t=c?A:y;t.A4a=c && A.Kz || 0;t.IJa=v && y.Kz || 0;this.config.Nlb && (null !== (q=null === v || void 0 === v?void 0:v.gp()) && void 0 !== q?q:1) && (null !== (n=null === c || void 0 === c?void 0:c.gp()) && void 0 !== n?n:1) && t.A4a > this.config.Ou && t.IJa > this.config.Ou && (y.complete=!0,A.complete=!0,t.reason="complete");y.complete && A.complete?(t.complete=!0,this.tg(null !== (r=t.reason) && void 0 !== r?r:"unknown",null !== (p=t.A4a) && void 0 !== p?p:0,null !== (u=t.IJa) && void 0 !== u?u:0)):(t.complete=!1,this.$lb(t),this.Wj.vw({bp:this.Mo}));}}};a.prototype.$lb=function(a){var b,c,d;d=a.yi;a.TA?d=(g["default"].time.aa() - this.lk) / this.config.fy:d || (d=(null !== (b=a.Kz) && void 0 !== b?b:0) / this.config.jj);a=Math.min(Math.max(Math.round(100 * d),null !== (c=this.Mo) && void 0 !== c?c:0),99);a != this.Mo && (this.Mo=a);};a.prototype.XF=function(a,b){h.assert(b === k.ac.cd || void 0 !== a);this.vM=a;this.Mo=0;this.J4=void 0;this.mu.Sr=0;a=this.state.value === k.ac.cd || this.state.value === k.ac.mf;this.lk=g["default"].time.aa();this.set(b);a || (this.Itb(),this.BRb());};a.prototype.set=function(a){this.state.set(a);switch(a){case k.ac.ak:this.kB.set(k.oa.ak);break;case k.ac.cd:case k.ac.nO:this.kB.set(k.oa.cd);break;case k.ac.mf:this.kB.set(k.oa.mf);break;case k.ac.bk:this.kB.set(k.oa.Uc);}};a.prototype.Itb=function(){h.assert(this.events && void 0 !== this.Mo);this.J4=this.Mo;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:g["default"].time.aa(),percentage:this.Mo});};a.prototype.BRb=function(){var a;a=this;this.Qoa=setInterval(function(){return a.Htb();},this.Olb);};a.prototype.oLa=function(){this.Qoa && (clearInterval(this.Qoa),this.Qoa=void 0);};a.prototype.Htb=function(){this.gg && this.events && void 0 !== this.Mo && this.Mo !== this.J4 && this.events.emit("buffering",{type:"buffering",time:g["default"].time.aa(),percentage:this.Mo}) && (this.J4=this.Mo);};a.prototype.O0=function(){var a;h.assert(this.events && this.vM && void 0 !== this.MD && void 0 !== this.VZ && void 0 !== this.B7);this.J4=this.Mo;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:g["default"].time.aa(),actualStartPosition:this.vM,reason:this.MD,aBufferLevelMs:this.VZ,vBufferLevelMs:this.B7,selector:this.lma,initBitrate:this.jma,initSelReason:null === (a=this.U2) || void 0 === a?void 0:a.reason,skipbackBufferSizeBytes:this.M8b},this.zKa));};a.prototype.xha=function(){var a;a=this;this.config.h4a && (!this.Dy || this.Dy.state !== n.$k.complete && this.Dy.state !== n.$k.xJ?void 0 === this.Dy && (this.Dy=this.ah.iJ(function(){return a.D3a();})):this.Dy.Im());};a.prototype.z0=function(){this.Dy && (this.Dy.state !== n.$k.xJ && this.Dy.Tb(),this.Dy=void 0);};a.prototype.D3a=function(){var a,b,d;return c.__generator(this,function(c){switch(c.label){case 0:return (a=this.config.S3,this.G.trace("BufferingStateTracker: underflow, wait " + a + "ms"),[4,n.Sl.AV(f.S.ec(a))]);case 1:(c.Bi(),c.label=2);case 2:if(!this.gg)return [3,4];b=this.kb.A3 || 0;d=g["default"].time.aa() - b;if(d >= a)return (this.G.trace("Forcing streaming failure, ${elapsed}ms since data received"),this.Ria.WJb(this.Ex),[2]);this.G.trace("BufferingStateTracker: network activity, wait " + (a - d) + "ms");return [4,n.Sl.AV(f.S.ec(a - d))];case 3:return (c.Bi(),[3,2]);case 4:return [2];}});};c.__decorate([q.Rb({Jc:"onTemporaryNetworkError",km:!0})],a.prototype,"nXa",null);c.__decorate([q.Rb({Jc:"onUnderflow",km:!0})],a.prototype,"Ik",null);c.__decorate([q.Rb({Jc:"bufferingComplete",km:!0})],a.prototype,"tg",null);c.__decorate([q.Rb({Jc:"stop",km:!0})],a.prototype,"stop",null);c.__decorate([q.Rb({Jc:"checkStreamingBufferingComplete",km:!0})],a.prototype,"iLa",null);c.__decorate([q.Rb({Jc:"createUnderflowTask",km:!0})],a.prototype,"xha",null);c.__decorate([q.Rb({Jc:"destroyUnderflowTask",km:!0})],a.prototype,"z0",null);c.__decorate([q.Rb({Jc:"onUnderflowTimeout",km:!0})],a.prototype,"D3a",null);return a;})();b.qva=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.BOa=void 0;c=a(34);b.BOa=function(a,b){var d;d=[];a=a.map(function(a){var f,g;f=b(a.N);g=c.Er(f,a.bh).map(function(a){return a.I;});d=c.xJa(d,g);return {Kb:a,bh:f};});return {Rmb:d,Flb:a};};},function(d,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.FDa=void 0;c=a(0);g=a(21);k=a(5);d=(function(){function a(){}a.KAb=function(a){var b,d,f;if(a.yn){a=c.__read(a.bh,2);f=a[1];a=null === (b=a[0].Om) || void 0 === b?void 0:b.Yr;b=null === (d=null === f || void 0 === f?void 0:f.Om) || void 0 === d?void 0:d.Yr;k.assert(a);d=b?g.S.min(a,b):a;return {jXb:a,kXb:d};}};return a;})();b.FDa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.lva=void 0;c=a(83);g=a(19);d=(function(){function a(a,b,c,d,g){this.ah=a;this.ar=b;this.uHb=c;this.iJb=d;this.console=g;}a.nxb=function(a){var b;return null !== (b=a.vi) && void 0 !== b?b:a.Opa;};a.ryb=function(a){var b,c;b=a.W;c=a.Sx;a=a.iL;if(b.yh)return b.yh;if(1 === c.length)return c[0];if(1 === a.length)return a[0];};a.prototype.VUb=function(b,d){var f,l,k;f=this;null === (l=this.m0) || void 0 === l?void 0:l.Tb();l=a.nxb(b).Fa(this.uHb);k=b.W;k.Ys || 1 >= k.Sx.length || (d.ql(l)?(g.ma && this.console.trace("BranchDecisionMaker executing task for " + k.id + " right away as " + (l.da + " is in the past")),this.m0=this.ar.e0(c.Sl.sXb,function(){return f.OUa(k);})):(g.ma && this.console.trace("BranchDecisionMaker scheduling task for " + k.id + " at " + l.da),this.m0=this.ah.e0(c.Sl.zV(l),function(){return f.OUa(k);})));};a.prototype.reset=function(){var a;null === (a=this.m0) || void 0 === a?void 0:a.Tb();this.m0=void 0;};a.prototype.OUa=function(b){var c;c=a.ryb(b);g.ma && this.console.trace("BranchDecisionMaker making decision for " + b.id + ", decision is " + c);this.iJb(b.id,c,!0);};return a;})();b.lva=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zRa=void 0;b.zRa=function(a,b){return a.reduce(function(a,c){return a + c.Jxb(b).da;},0);};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.mMa=void 0;c=a(0);g=a(17);b.mMa=function(a){var h,l,k;function b(a){g.zx(a.newValue) && !g.zx(a.oldValue)?(null === k || void 0 === k?void 0:k.Tb(),k=l.e0.apply(l,c.__spread(d))):null === k || void 0 === k?void 0:k.Tb();}for(var d=[],h=1;h < arguments.length;h++){d[h - 1]=arguments[h];}h=a.sf;l=a.ar;h.state.addListener(b);b({oldValue:g.ac.ak,newValue:h.state.value});};},function(d,b,a){var g;function c(a,b,c){return c[a] > (b[a] || Infinity)?1 === a?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;}Object.defineProperty(b,"__esModule",{value:!0});b.dEa=void 0;g=a(19);d=(function(){function a(a,b,c,d){this.cb=a;this.console=b;this.vQa=c;this.uQa=d;}a.prototype.xmb=function(a){var b,d;b=this.anb(a);if(b || (b=this.fLa(a)))return {result:!1,reason:b};b=this.uQa();d=this.vQa();return {result:!0,reason:c(a,b,d)};};a.prototype.anb=function(a){var b,d;this.cb.Y1().total > (this.cb.xka() || Infinity) && (b="playgraphMemoryLimit");if(this.cb.config.Kta){b=this.uQa();d=this.vQa();b=d.total > (b.total || Infinity)?"globalMemoryLimit":c(a,b,d);}g.ma && b && this.console.log("checkIssueRequestByMemory: Cannot issue request due to " + b);return b;};a.prototype.fLa=function(a){var b;b=this.cb.config.Px;if(this.cb.dyb(a) >= (b || Infinity))return "mediaDurationLimit";};return a;})();b.dEa=d;},function(d,b,a){var c,g,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.jDa=void 0;c=a(0);g=a(5);k=c.__importDefault(a(3));m=a(125);f=a(83);h=a(9);d=(function(){var c41;c41=2;for(;c41 !== 13;){switch(c41){case 8:var G3f="g";G3f+="L";G3f+="a";var f3f="checkRequestO";f3f+="pport";f3f+="unit";f3f+="yRunner";var Z3f="B";Z3f+="F";var V3f="remov";V3f+="e";V3f+="Request";var N3f="y";N3f+="w";var y3f="add";y3f+="Reque";y3f+="st";c.__decorate([m.Rb({Jc:y3f,km:!0})],a.prototype,N3f,null);c.__decorate([m.Rb({Jc:V3f,km:!0})],a.prototype,Z3f,null);c.__decorate([m.Rb({Jc:f3f,km:!0})],a.prototype,G3f,null);return a;break;case 2:var T3f="i";T3f+="m";var J3f="chec";J3f+="kRe";J3f+="questOpportu";J3f+="nity";Object.defineProperties(a.prototype,{NIb:{get:function(){var g41;g41=2;for(;g41 !== 1;){switch(g41){case 4:return this.dD;break;g41=1;break;case 2:return this.dD;break;}}},enumerable:!1,configurable:!0}});a.prototype.im=function(){var h41;h41=2;for(;h41 !== 5;){switch(h41){case 2:this.An.vw({taskState:this.Aga.state});this.Aga.state !== f.$k.b6 && this.Aga.Im();h41=5;break;}}};a.prototype.yw=function(a){var i41;i41=2;for(;i41 !== 4;){switch(i41){case 2:this.An.vw({mediaType:a.I,contentStartPts:a.Qb,contentEndPts:a.Pb});this.dD++;i41=5;break;case 5:var d3f="More than maxAllowedOutstandi";d3f+="ngRequests are";d3f+=" o";d3f+="utstand";d3f+="ing";g.assert(this.dD <= this.config.R3,d3f);i41=4;break;}}};a.prototype.BF=function(a){var j41;j41=2;for(;j41 !== 3;){switch(j41){case 4:var q3f="removeRe";q3f+="q";q3f+="uest";this.im(q3f);j41=3;break;case 2:var X3f="Received remove request w";X3f+="hen there are no requests outst";X3f+="anding";this.An.vw({mediaType:a.I,contentStartPts:a.Qb,contentEndPts:a.Pb});this.dD--;g.assert(0 <= this.dD,X3f);j41=4;break;case 14:this.im("");j41=4;break;j41=3;break;}}};a.prototype.gLa=function(a){var k41,b,d,f;k41=2;for(;k41 !== 5;){switch(k41){case 2:return c.__generator(this,function(){var l41;l41=2;for(;l41 !== 6;){switch(l41){case 2:var h3f="def";h3f+="au";h3f+="l";h3f+="t";b=this.config.R3;d=k[h3f].time.aa() - a;f=0;l41=4;break;case 3:l41=this.dD < b && this.s3()?9:8;break;case 4:this.s_a.push(d);l41=3;break;case 8:var P3f="requestOpportunityRunner";P3f+="Compl";P3f+="ete";this.An.RP(P3f,{requestsIssued:f,scheduledMs:a,timeSinceScheduled:d},!0);return [2];break;case 9:f++;l41=3;break;}}});break;}}};c.__decorate([m.Rb({Jc:J3f,km:!0,Dr:!0})],a.prototype,T3f,null);c41=8;break;}}function a(a,b,c){var d41,d;d41=2;for(;d41 !== 14;){switch(d41){case 3:var w3f="RequestP";w3f+="a";w3f+="cer";var S3f="1SI";S3f+="Y";S3f+="bZ";S3f+="r";S3f+="NJCp9";var K3f="m";K3f+="edia|as";K3f+="e";K3f+="js";var r3f="AS";r3f+="EJS";r3f+="_";r3f+="REQUES";r3f+="T_PACER";var Y3f="def";Y3f+="a";Y3f+="u";Y3f+="lt";this.console=new k[Y3f].Console(r3f,K3f);S3f;this.An=new m.SC({Uu:this,source:w3f,cfa:function(){var e41;e41=2;for(;e41 !== 1;){switch(e41){case 4:return {numOutstanding:d.dD};break;e41=1;break;case 2:return {numOutstanding:d.dD};break;}}},WE:10});this.s_a=new h.ZX();d41=6;break;case 2:d=this;this.s3=a;this.config=b;this.dD=0;d41=3;break;case 6:this.Aga=c.iJ(function(){var f41;f41=2;for(;f41 !== 1;){switch(f41){case 4:return d.gLa(k[""].time.aa());break;f41=1;break;case 2:var R3f="defa";R3f+="u";R3f+="l";R3f+="t";return d.gLa(k[R3f].time.aa());break;}}});d41=14;break;}}}})();b.jDa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ixa=void 0;c=a(69);d=(function(){function a(a){this.kb=a;}Object.defineProperties(a.prototype,{tk:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.tu=function(a){var b;if(a.Lj === c.mh.fx && this.kb){a={};b=this.kb.get();b && b.avtp && b.avtp.Ca && (a.avtp=b.avtp.Ca,a.dltm=b.avtp.E0);b && b.cdnavtp && (a.cdnavtp=b.cdnavtp,a.activecdnavtp=b.activecdnavtp);if(b=this.kb.a2())(b.bytesRequestedPacingVideo && (a.bytesRequestedPacingVideo=b.bytesRequestedPacingVideo,a.bytestotalVideo=b.bytestotalVideo),b.bytesRequestedPacingAudio && (a.bytesRequestedPacingAudio=b.bytesRequestedPacingAudio,a.bytestotalAudio=b.bytestotalAudio));this.kb.flush();if(b=this.kb.oQa())for(var d in b){b.hasOwnProperty(d) && (a["ne" + d]=Number(b[d]).toFixed(6));}return a;}};return a;})();b.ixa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ZDa=void 0;c=a(69);d=(function(){function a(a){a.events.on("streamSelection",this.SJb.bind(this));}a.prototype.SJb=function(a){0 === a.mediaType && void 0 === this.WSa?this.WSa=a:1 === a.mediaType && void 0 === this.ZSa && (this.ZSa=a);};Object.defineProperties(a.prototype,{tk:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.tu=function(a){var b;if(a.Lj === c.mh.uM)return (a=null !== (b=this.ZSa) && void 0 !== b?b:this.WSa,{histdiscbw:null === a || void 0 === a?void 0:a.selDiscBw,histage:null === a || void 0 === a?void 0:a.histAge});};return a;})();b.ZDa=d;},function(d,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.qEa=void 0;d=a(0);c=a(16);g=a(19);k=d.__importDefault(a(3));a=(function(){function a(a){this.ah=a;this.rY=[];this.reset();}Object.defineProperties(a.prototype,{tk:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$S:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return g.ma;},enumerable:!1,configurable:!0}});a.prototype.reset=function(){var a,b;a=this;null === (b=this.VH) || void 0 === b?void 0:b.clear();this.VH=new c.qg();this.VH.on(this.ah,"clockChanged",function(){a.reset();a.rR("initial");});this.VH.on(this.ah,"stopping",function(){a.rR("stopping");});this.VH.on(this.ah.ta,"clockReset",function(){a.rR("clockReset");});this.VH.on(this.ah.ta,"stopStart",function(){a.rR("stopStart");});this.VH.on(this.ah.ta,"speedChanged",function(){a.rR("speedChanged");});};a.prototype.rR=function(a){this.rY.push({reason:a,audit:this.ah.$wb(),time:k["default"].time.aa()});5 < this.rY.length && this.rY.shift();};a.prototype.tu=function(){return this.rY;};return a;})();b.qEa=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.lDa=void 0;c=a(69);d=(function(){function a(a,b){this.kb=a;this.t_a=b;}Object.defineProperties(a.prototype,{tk:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.tu=function(a){var b;a=a.Lj;if(a === c.mh.fx || a === c.mh.Hp){a={numOutstandingRequests:this.t_a.NIb,requestOpportunityDelayStats:this.t_a.s_a};b=this.kb.rIa;b && b.length && (a.activeRequests=JSON.stringify(b));return a;}};return a;})();b.lDa=d;},function(d,b,a){var c,g,k,m,f,h,q,n,r,p,A,y,B,t,J,D,T,R;Object.defineProperty(b,"__esModule",{value:!0});b.ICa=void 0;c=a(0);g=a(16);k=a(17);m=a(9);f=a(1017);h=a(34);q=a(5);n=a(1018);r=a(19);p=a(92);A=a(1019);y=c.__importDefault(a(3));B=a(1020);t=a(1021);J=a(1022);D=a(259);T=a(1024);R=a(1025);d=(function(){function a(a,b,c,d,f){void 0 === d && (d=new t.twa());void 0 === f && (f=new B.swa());this.tOa=a;this.config=b;this.NZa=d;this.Rj=[];this.QYa=[];this.XM=[];this.events=new g.EventEmitter();this.G=m.Fu(y["default"],c,"PREFETCH");this.Yea(new J.bwa(b));this.Yea(new R.JDa(b));this.J0a({GE:b.hMb});this.$ra(f);}Object.defineProperties(a.prototype,{dqa:{get:function(){return this.Rj.map(function(a){return a.context;});},enumerable:!1,configurable:!0}});a.prototype.pRb=function(a){r.ma && q.assert(a,"Reconciliation strategy is undefined");this.NZa=a;};a.prototype.Yea=function(a){this.QYa.unshift(a);return this;};a.prototype.GRb=function(a){r.ma && this.G.debug("Wish list changed",{B7b:a.length});this.XM=a;this.lqa();};a.prototype.reset=function(){var a,b,g,h,l,k,m;try{for(var d=c.__values(this.Rj),f=d.next();!f.done;f=d.next()){g=f.value;h=g.cb;l=g.v3;k=g.context;if(h){h.fg();l.clear();m=D.e2(k.fe,h.cb);h.gU(m);}}}catch(Q){a={error:Q};}finally{try{f && !f.done && (b=d["return"]) && b.call(d);}finally{if(a)throw a.error;}}};a.prototype.J0a=function(a){r.ma && this.G.debug("Budget changed",{L7b:this.kQ,A7b:a});this.kQ=a;this.lqa();};a.prototype.pnb=function(a,b){var c,d,f,g,h;if(b=this.NZa.Kvb(this.Rj,{cb:a,wi:b})){f=this.XM.indexOf(b.context.fe);r.ma && this.G.debug("Claiming item: " + D.js(b.context.fe.key),{kk:y["default"].time.aa() - b.c7,buffer:null === (c=b.cb) || void 0 === c?void 0:c.dj(m.S.lb)});this.uia(b.context,{STa:!0});if(b.cb){c=b.cb;g=b.context;h=b.Sq;T.FCa.UOb(c,b.v3,this.G);a=D.e2(g.fe,a);h.SPb(null !== (d=c.r2(a)) && void 0 !== d?d:m.S.lb,f);c.Ata({GE:this.config.As || Infinity});}}this.config.Ljb || this.reset();return null === b || void 0 === b?void 0:b.cb;};a.prototype.onb=function(){};a.prototype.getStats=function(){var a;a=y["default"].time.aa();return {EXb:this.XM.length,dqa:this.dqa.length,dMa:this.Rj.map(function(b){var c,d,f,g;return {id:D.js(b.context.fe.key),buffer:null === (c=b.cb) || void 0 === c?void 0:c.dj(m.S.lb),budget:b.context.MTa,weight:b.context.q5,age:a - b.c7,timeOpened:a - (null !== (d=b.P2a) && void 0 !== d?d:0),state:k.ac[null !== (g=null === (f=b.cb) || void 0 === f?void 0:f.ug.value) && void 0 !== g?g:k.ac.ak]};})};};a.prototype.uia=function(a,b){var d,f,g;void 0 === b && (b={});f=c.__assign({STa:!1,QTa:!1},b);b=f.STa;f=f.QTa;g=h.Pg(this.Rj,function(b){return b.context === a;});g && (this.Rj.splice(this.Rj.indexOf(g),1),f || (this.XM=this.XM.filter(function(b){return b !== a.fe;})),r.ma && this.G.debug("Dropping playgraph",{kk:y["default"].time.aa() - g.c7,buffer:null === (d=g.cb) || void 0 === d?void 0:d.dj(m.S.lb),n8b:!b}),b || this.Ps(g),this.lqa());};a.prototype.$ra=function(a){q.assert(a,"Playgraph resolver is undefined");this.Spa=a;return this;};a.prototype.lqa=function(){var a,b,d,g,l,k;a=this;b=f.Mva.TCb({DXb:this.XM,OAb:this.kQ},this.QYa.map(function(a){return a.mga.bind(a);})).Rj;d=h.Er(b,this.Rj,function(a,b){return D.isEqual(a.fe.key,b.context.fe.key);});g=h.Er(this.Rj,b,function(a,b){return D.isEqual(a.context.fe.key,b.fe.key);});l=h.Er(this.Rj,g);r.ma && this.G.debug("Re-evaluated prefetch items. new:" + d.length + ", evict: " + g.length + ", update: " + d.length);g=g.map(function(b){var c;c=b.context.fe.key;r.ma && a.G.debug("Releasing playgraph",D.js(c));return a.Ps(b).then(function(){a.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:b.context.fe});});});k=l.map(function(d){return c.__awaiter(a,void 0,void 0,function(){var a,f;return c.__generator(this,function(c){switch(c.label){case 0:return (a=h.Pg(b,function(a){return D.isEqual(a.fe.key,d.context.fe.key);}),q.assert(a,"Couldn't find the requested item context"),[4,d.p5]);case 1:return (f=c.Bi(),h.Pg(this.Rj,function(a){return a === d;}) && (this.pJa(d.context,f),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:d.context.fe})),[2]);}});});});d=d.map(function(b){var c;c=a.Wqb(b);a.events.emit("itemQueued",{type:"itemQueued",wishListItem:b.fe});return c;});this.Rj=c.__spread(l,d);l=d.map(function(a){return a.p5.then(function(){});});l=g.concat(k).concat(l);Promise.all(l).then(function(){});};a.prototype.Ps=function(a){var b;b=this;return a.p5.then(function(d){return c.__awaiter(b,void 0,void 0,function(){var b;return c.__generator(this,function(c){switch(c.label){case 0:return (r.ma && this.G.debug("Removing prefetch playgraph",{size:d.dj(m.S.lb)}),a.Xia.clear(),[4,this.tOa()]);case 1:return (b=c.Bi(),b.Ps(d),[2]);}});});});};a.prototype.Tqb=function(a){return c.__awaiter(this,void 0,void 0,function(){var b,d,f,g,h,l;l=this;return c.__generator(this,function(c){switch(c.label){case 0:return (b=a.context,d=D.js(b.fe.key),r.ma && this.G.debug("Creating playgraph",d),[4,this.Spa.aVa(b)]);case 1:return (f=c.Bi(),[4,this.tOa()]);case 2:return (g=c.Bi(),h=g.HI(f,b.q5,b.wi,b.fe.wV,!1),a.Xia.addListener(h.events,"error",function(a){r.ma && l.G.debug("Prefetch playgraph resulted in error",a.s5b);l.uia(b);}),[2,h]);}});});};a.prototype.aKb=function(a,b){var c,d,f;c=this;d=a.context;f=D.js(d.fe.key);this.pJa(d,b);b.open();b.TF({jv:function(a,b){var c;c=a.defaultTrackOrderList[0].audioTrackId;return h.Dw(b,function(a){return a.track_id === c;});}},{jv:function(a,b){var c;c=a.defaultTrackOrderList[0].videoTrackId;return h.Dw(b,function(a){return a.track_id === c;});}});b.gU(D.e2(d.fe,b.cb));b=d.fe.wV.uu(f);b.events && a.Xia.addListener(b.events,"viewableExpired",function(){a.P6b=!0;c.uia(a.context,{QTa:!0});});};a.prototype.pJa=function(a,b){var c;b.Z3a(a.q5);b.Ata(a.MTa);a=a.jTb;c=a.video;b.b1a(new p.NC(a.audio,!0),new p.NC(c,!0));};a.prototype.Wqb=function(a){var b,d,f;b=this;d=new n.GCa();f={context:a,c7:y["default"].time.aa(),Xia:new g.qg(),Sq:d};f.p5=this.Tqb(f);f.p5.then(function(g){return c.__awaiter(b,void 0,void 0,function(){var b;b=this;return c.__generator(this,function(){try{return (f.cb=g,g.em(d),d.Ckb(g),f.v3=new A.rxa(g.events,{$Rb:function(a){var b;b=a.fR;switch(b){case "buffering":return !1;case "bufferingStarted":f.v3.YZa(function(a){return "bufferingComplete" === a.fR || "updateStreamingPts" === a.fR;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":f.v3.YZa(function(a){return a.fR === b;});default:return !0;}}}),g.events.on("bufferingComplete",function(){b.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:a.fe});}),this.aKb(f,g),f.P2a=y["default"].time.aa(),[2,g]);}catch(sa){throw (r.ma && this.G.error("Exception occurred creating playgraph",sa),this.Ps(f),sa);}});});});return f;};return a;})();b.ICa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mva=void 0;d=(function(){function a(){}a.TCb=function(a,b){var f;function c(a){return d(f++)(a,c);}function d(a){return a >= b.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + a);}:b[a];}f=0;return c(a);};return a;})();b.Mva=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.GCa=void 0;c=a(0).__importDefault(a(3));g=a(69);d=(function(){function a(){this.uk=c["default"].time.aa();this.fd={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}a.prototype.Ckb=function(a){this.cb=a;};a.prototype.SPb=function(a,b){var d;a=null === (d=this.cb) || void 0 === d?void 0:d.dj(a);this.fd={isPrefetchItem:!0,prefetchedVideoMs:a.eV,prefetchedAudioMs:a.cV,prefetchClaimDurationMs:c["default"].time.aa() - this.uk,prefetchRank:b};};Object.defineProperties(a.prototype,{tk:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.tu=function(a){if(a.Lj === g.mh.uM)return this.fd;};return a;})();b.GCa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.rxa=void 0;c=a(0);d=(function(){function a(a,b){void 0 === b && (b={});this.Yo=a;this.options=b;this.mE=[];this.hS=new g(a,this.gjb.bind(this));}a.prototype.gjb=function(a){for(var b,c,d,g,l,k,m=[],n=1;n < arguments.length;n++){m[n - 1]=arguments[n];}m={fR:a,Dr:m};(null !== (d=null === (c=(b=this.options).$Rb) || void 0 === c?void 0:c.call(b,m,this.mE)) && void 0 !== d?d:1) && this.mE.push(m);return null !== (k=null === (l=(g=this.options).I8b) || void 0 === l?void 0:l.call(g,m)) && void 0 !== k?k:!0;};a.prototype.YZa=function(a){this.mE=this.mE.filter(function(b,c){return !a(b,c);});};a.prototype.Sqa=function(){var a;a=this;this.hS.F3a();this.mE.forEach(function(b){var d;(d=a.Yo).emit.apply(d,c.__spread([b.fR],b.Dr));});this.hS.install();};Object.defineProperties(a.prototype,{length:{get:function(){return this.mE.length;},enumerable:!1,configurable:!0}});a.prototype.clear=function(){this.mE=[];};a.prototype.Tb=function(){this.hS.F3a();};return a;})();b.rxa=d;g=(function(){function a(a,b){var d;d=this;this.Yo=a;this.oQ=b;this.hS=function(a){for(var b,f=[],g=1;g < arguments.length;g++){f[g - 1]=arguments[g];}return d.oQ.apply(d,c.__spread([a],f))?(b=d.wXa).call.apply(b,c.__spread([d.Yo,a],f)):!1;};this.wXa=this.Yo.emit;this.install();}a.prototype.install=function(){this.Yo.emit=this.hS;};a.prototype.F3a=function(){this.Yo.emit=this.wXa;};return a;})();},function(d,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.swa=void 0;c=a(0);g=a(439);k=c.__importDefault(a(3));m=a(259);d=(function(){function a(){}a.prototype.aVa=function(a){return c.__awaiter(this,void 0,void 0,function(){var b,d,f,h,l;return c.__generator(this,function(c){switch(c.label){case 0:b=a.fe.key;if(!m.lS(b))return [3,2];d=b.fa;f=a.fe.wV.uu(d);return [4,k["default"].Promise.resolve(f.vV)];case 1:return (h=c.Bi(),l=h.pa,l.Oo?[2,g.cJ(l.Oo)]:[2,g.CU(d,"ps0")]);case 2:return [2,b.cb];}});});};return a;})();b.swa=d;},function(d,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.twa=void 0;c=a(0);g=a(5);k=a(259);d=(function(){function a(){}a.js=function(a){var b,c;b=a.Ja;a=a.ff;c=b[a].fa;Object.keys(b).forEach(function(a){return g.assert(b[a].fa === c);});return b[a].fa;};a.prototype.Kvb=function(b,d){return c.__read(b.filter(function(b){return a.js(d.cb) === k.js(b.context.fe.key);}),1)[0];};return a;})();b.twa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.bwa=b.ewa=void 0;c=a(92);g=a(1023);b.ewa=625E3;d=(function(){function a(a){this.config=a;}a.prototype.mga=function(a){var d,h,l;d=this.config.OQ;h=(this.config.NS || this.config.r0) * b.ewa / 1E3;l=Math.floor(a.OAb.GE / h);return {Rj:a.DXb.sort(function(a,b){return a.Ud - b.Ud;}).slice(0,d).map(function(a,b){var d;d=a.key.config;return {MTa:{GE:b > l - 1?0:h},fe:a,q5:1,wi:d,jTb:{audio:[c.WD(d),new g.Oba()],video:[c.XD(d),new g.Oba()]}};})};};return a;})();b.bwa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Oba=void 0;c=a(17);d=(function(){function a(){}a.prototype.ol=function(a,b){return b === c.ac.bk?[]:a;};return a;})();b.Oba=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.FCa=void 0;c=a(19);d=(function(){function a(){}a.UOb=function(a,b,d){var f;f=a.open;a.open=function(){c.ma && d.log("Replaying " + b.length + " events from prefetched playgraph");b.Sqa();b.Tb();a.open=f;return f.call(a);};};return a;})();b.FCa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.JDa=void 0;d=(function(){function a(a){this.config=a;}a.prototype.mga=function(a,b){var c,d;c=this;a=b(a);d=a.Rj.map(function(a){return a.fe.Ud;});a.Rj.forEach(function(a){a.q5=c.config.jMb / (2 << d.lastIndexOf(a.fe.Ud));});return a;};return a;})();b.JDa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xCa=void 0;d=(function(){function a(a){var b;b=this;a=a.im;this.BE=function(){b.im();};this.im=a;}a.prototype.HI=function(a){a.events.on("requestsPruned",this.BE);};a.prototype.Ps=function(a){a.events.removeListener("requestsPruned",this.BE);};return a;})();b.xCa=d;},function(d,b,a){var c,g,k,m,f,h,q,n,r,p,A,y,B,t,J,D,T,R,U;Object.defineProperty(b,"__esModule",{value:!0});b.MDa=void 0;c=a(0);g=a(16);k=c.__importStar(a(8));m=a(17);f=a(435);h=a(17);q=a(9);n=a(5);r=a(21);p=a(226);A=a(69);y=a(92);B=a(125);t=a(258);J=c.__importDefault(a(3));D=a(1028);T=a(1029);R=J["default"].Promise;U=0;d=(function(a){function b(b,d,f,l,k,m,r,p,u,v,I){var J,E,V,R,Z;R=a.call(this) || this;R.console=b;R.Fq=d;R.dP=f;R.CI=k;R.HU=m;R.Xw=p;R.P=v;R.config=I;R.aD=!1;R.qY=!1;R.Ut=void 0;R.tg=function(){var a,b,c,d,f;null === (a=R.uY) || void 0 === a?void 0:a.clear();a=R.Gdb;f=R.Sgb;n.assert(a);R.ig && n.assert(f);R.hk.value !== h.oa.Qv && R.hk.value !== h.oa.ak && (null !== (b=R.jb) && void 0 !== b && b.Au?(b=null === (d=null === (c=R.Fq.Ga.kb.get()) || void 0 === c?void 0:c.Ka) || void 0 === d?void 0:d.Ca,R.Wa.t3a("startplay",A.mh.uM),R.i7.RP("emitBufferingComplete",{}),D.O0(R,a,R.jb.le,b,f)):R.console.error("Shim received buffering complete but player has no position (player " + (R.jb?"":"un") + "defined, state " + R.hk.value + ")"));};R.NJa=function(){var a,b,c;R.i7.RP("audioTrackSwitchComplete",{});n.assert(void 0 !== R.kw);b=R.dP.audio_tracks[R.kw];c=R.kw;R.kw=void 0;D.XNa(R,b,c);null === (a=R.bXa) || void 0 === a?void 0:a.call(R);R.bXa=void 0;};n.assert(2 >= l.length,"Ase session shim suports a maximum of 1 parallel graph.");f=c.__read(l,2);b=f[0];f=f[1];R.dg=new g.qg();R.fa=b.cb.Ja[m[0].va].fa;R.hk=new q.Gt(h.oa.oh);R.UM=new y.wH(R.console);R.Wa=b;R.ig=f;l.forEach(function(a){var b,c;b=a.XD(R.UM);c=a.WD();a.b1a(c,b);});R.V0a();R.Y4b=!1;R.qNa=!1;D.bVa(R.console,d,R,b,f);Z=U++;R.i7=new B.SC({Uu:R,source:"ShimSession",console:R.console,WE:50,cfa:function(){return {shimId:Z};}});R.Wa.em(new t.RC(R.i7));R.Nta=void 0 !== (null === (V=null === (E=(J=R.P).ER) || void 0 === E?void 0:E.call(J)) || void 0 === V?void 0:V.na);R.Hk=T.SJa(v);d=R.kMa({De:R.YUa(R.Wa.cb.De),X1:R.$Qa.bind(R)});R.jb=d;R.ig && (R.Lk=R.kMa({De:R.YUa(R.ig.cb.De),X1:R.$Qa.bind(R)}));R.jb.events.on("segmentPresenting",function(){R.Ut=R.qGa();});R.on("streamerend",function(){return R.oTb();});return R;}c.__extends(b,a);Object.defineProperties(b.prototype,{u:{get:function(){return this.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ea:{get:function(){return this.Xw.ea;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hg:{get:function(){return this.dg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qd:{get:function(){return {DCb:{1:{$:{sa:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fta:{get:function(){return void 0 !== this.kw;},enumerable:!1,configurable:!0}});b.prototype.cFb=function(){var a,b,c,d,f;a=this;f=null === (d=null === (c=(b=this.P).ER) || void 0 === c?void 0:c.call(b)) || void 0 === d?void 0:d.na;n.assert(f,"video element is not defined");f.addEventListener("play",function(){return a.Aea();});f.addEventListener("pause",function(){return a.gk();});};b.prototype.oTb=function(){this.Fq.Ho(!0,this.Xw.sessionId);};b.prototype.QB=function(a,b){var c;this.Wa.Ii((c={},c[a]=b,c));};b.prototype.open=function(){var a,b;this.aD || (this.aD=!0,this.Fq.Ho(this.config.fq,this.Xw.sessionId),this.Wa.open(),null === (a=this.ig) || void 0 === a?void 0:a.open(),this.emit("openComplete",{type:"openComplete"}),this.Wa.gU(this.HU[0]),n.assert(this.jb,"asePlayer should be defined on session.open"),this.HU[1] && (a=this.Wa.CA(this.HU[0]),n.assert(a,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (b=this.ig) || void 0 === b?void 0:b.gU(this.HU[1],a.Wz)),D.$Ua(this.Fq,this,this.jb,this.console),this.hk.set(h.oa.cd),this.Gy(this.tg),this.Wa.HJa(this.jb),this.ig && (n.assert(this.Lk,"parallelPlayer should be defined on session.open"),this.ig.HJa(this.Lk)),this.Nta && this.cFb());};b.prototype.$Qa=function(){this.Lu || (this.Lu=new J["default"].MediaSource(this.Hk),this.Lu.Yb || (this.Lu.Yb=J["default"].MediaSource.Yb));return this.Lu;};b.prototype.kMa=function(a){void 0 === a && (a={});a=c.__assign({Ou:this.config.Ou},a);return this.Fq.Ga.rjb(this.Hk,a);};b.prototype.YUa=function(a){return a?null === a || void 0 === a?void 0:a.map(function(a){return "video" === a?1:0;}):[0,1];};b.prototype.close=function(){this.aD && (this.aD=!1);this.Fq.Ho(!0,this.Xw.sessionId,!0);};Object.defineProperties(b.prototype,{CD:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});b.prototype.flush=function(){var a;this.aD && this.hk.value !== h.oa.ak && this.hk.value !== h.oa.Qv && this.stop();this.Wa.t3a("endplay",A.mh.fx);this.Wa.fg();null === (a=this.ig) || void 0 === a?void 0:a.fg();this.Fq.Tf.save();this.Fq.In.save();};b.prototype.paused=function(){this.Nta || this.gk();};b.prototype.Ey=function(){this.Nta || this.Aea();};b.prototype.gk=function(){this.hk.value === h.oa.Uc && (this.hk.set(h.oa.uj),this.Hk.emit("paused",{type:"paused",jd:this.Hk.ad}));};b.prototype.Aea=function(){this.hk.value === h.oa.uj && (this.hk.set(h.oa.Uc),this.Hk.emit("playing",{type:"playing",jd:this.Hk.ad}));};b.prototype.cc=function(){var a;this.aD && this.hk.value !== h.oa.ak && this.hk.value !== h.oa.Qv && this.stop();this.Fq.IOb(this);this.aD && this.close();this.Wv && (clearInterval(this.Wv),this.Wv=void 0);this.jb && this.Fq.Ga.RT(this.jb);this.Lk && this.Fq.Ga.RT(this.Lk);null === (a=this.Lu) || void 0 === a?void 0:a.mq();};b.prototype.suspend=function(){n.assert(!1,"Not supported");};b.prototype.resume=function(){n.assert(!1,"Not supported");};b.prototype.play=function(){var a;a=this;this.Wa.state !== f.eo.CLOSED && (n.assert(this.jb,"ShimSession.play(), expected asePlayer to exist."),this.jb.resume(this.qY?[1]:void 0),this.ig && (n.assert(this.Lk,"ShimSession.play(), expected parallelPlayer to exist."),this.Lk.resume(this.qY?[1]:void 0)),this.hk.set(h.oa.Uc),this.Hk.emit("playing",{type:"playing",jd:this.Hk.ad}),this.emit("play"),this.Wv || (this.Wv=setInterval(function(){return a.vIb();},this.config.KD)));};b.prototype.stop=function(){this.hk.set(h.oa.Qv);n.assert(this.jb,"ShimSession.stop(), expected asePlayer to exist.");this.jb.pause();this.ig && (n.assert(this.Lk,"ShimSession.stop(), expected parallelPlayer to exist."),this.Lk.pause());this.Hk.emit("paused",{type:"paused",jd:this.Hk.ad});this.emit("stop");};b.prototype.Vr=function(a,b){var c,d;void 0 === b && (b=!0);if(!this.jb)return this.fail("Must call open prior to drmReady");a=parseInt(a);k.isFinite(a) && (b?(this.jb.rU(a),null === (c=this.Lk) || void 0 === c?void 0:c.rU(a)):(this.jb.Vra(a),null === (d=this.Lk) || void 0 === d?void 0:d.Vra(a)));};b.prototype.nK=function(){var a;if(!this.jb || !this.jb.Au)return !1;a=this.jb.xn(this.Wa.cb.Ja[this.jb.rn.va].fa);return a && this.ig && this.Lk?this.Lk.xn(this.ig.cb.Ja[this.Lk.rn.va].fa):a;};b.prototype.Hp=function(){this.hk.set(h.oa.mf);this.Hk.emit("underflow",{type:"underflow",jd:this.Hk.ad});this.Gy(this.tg);};b.prototype.V1=function(a){var b;b=A.mh.uM;switch(a){case "intrplay":b=A.mh.Hp;break;case "endplay":b=A.mh.fx;}a=this.Wa.V1(b);return c.__assign(c.__assign({},a),{aseApiVersion:this.CD});};b.prototype.AL=function(){this.Hk.emit("playbackRateChanged",{type:"playbackRateChanged",jd:this.Hk.ad});};b.prototype.Wn=function(){var a;a=this.Hk.Zd();a={type:"skipped",pts:r.S.ec(a)};this.Hk.emit(a.type,a);return new p.rO(R.resolve()).K_a;};b.prototype.YI=function(a,b){var c;b=this.Qka(b || 0,a);return null === (c=this.Wa.tn(b,a)) || void 0 === c?void 0:c.Qb;};b.prototype.Qo=function(a,b){var c;c=new r.S(b,1E3);return (c=this.Wa.Nq(c,{A1a:!0,z1a:!0}))?this.Wa.cb.Ja[c.va].Ac + Number(c.offset.da.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + a + ", playerPts: " + b);};b.prototype.Ww=function(a,b){a=this.Qka(a || 0,b);a={va:a,offset:new r.S(b - this.Wa.cb.Ja[a].Ac,1E3)};return (a=this.Wa.r2(a))?a.da:b;};b.prototype.vK=function(){var a,b,c;b={};c=null === (a=this.Wa) || void 0 === a?void 0:a.UJ();a=this.ig?this.ig.UJ():c;c && (b.vbuflmsec=c.totalvbuflmsecs,b.vbuflbytes=c.vbuflbytes);a && (b.abuflmsec=a.totalabuflmsecs,b.abuflbytes=a.abuflbytes);return b;};b.prototype.i5=function(){return this.aB("pipeliningDisabled");};b.prototype.uE=function(){return {Hd:0};};b.prototype.vn=function(){var a,b;return null !== (a=this.Ut) && void 0 !== a?a:(null === (b=this.jb) || void 0 === b?0:b.z2())?this.qGa():{id:this.HU[0].va,Hd:0,Qb:Infinity,Pb:0,de:Infinity,Rc:0};};b.prototype.qGa=function(){var a,b,c,d,f,g,h,l,k;n.assert(this.jb,"attempted to get presenting branch information with no player");n.assert(this.jb.z2(),"attempted to get presenting branch information but player has no branches");g=this.jb.vn() || ({});h=g.W;l=g.Lo;k=g.Opa;g=g.n5;return {id:h.id,Hd:null !== (a=null === l || void 0 === l?void 0:l.da) && void 0 !== a?a:0,Qb:null !== (b=null === h || void 0 === h?void 0:h.Tk.da) && void 0 !== b?b:Infinity,Pb:null !== (c=null === h || void 0 === h?void 0:h.Yr.da) && void 0 !== c?c:0,de:null !== (d=null === k || void 0 === k?void 0:k.da) && void 0 !== d?d:Infinity,Rc:null !== (f=null === g || void 0 === g?void 0:g.da) && void 0 !== f?f:0};};b.prototype.f_a=function(){return this.aB("removeSession");};b.prototype.Jm=function(a,b,c){void 0 === b && (b=0);n.assert(!this.ig,"Seeking with dual playgraphs not supported.");b=null !== c && void 0 !== c?c:this.Qka(b,a);this.Fq.Ho(this.config.fq,this.Xw.sessionId);a={va:b,offset:r.S.ec(a - this.Wa.cb.Ja[b].Ac)};this.Wa.gU(a);n.assert(this.jb);this.jb.resume();this.hk.set(h.oa.cd);this.Gy(this.tg);a=this.Wa.Y_a(a);n.assert(a,"Valid position must be provided for seek");return a.offset.da;};b.prototype.seek=function(a,b){a=this.Qo(b,a);return this.Jm(a,b);};b.prototype.ln=function(a,b,c){var d,f;d=this.vn().id;f=this.Wa.izb(d,a);if(b){if(!f.UWb)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (a + " for current segment: " + d)),!1);if(void 0 !== f.Qu)return f.Qu === a;this.Wa.Un(d,a,!1,b);return !0;}if(void 0 !== f.Qu)return (c || this.Jm(f.Qb,0),!1);f.yKa?(n.assert(this.jb),this.jb.reset(),this.Wa.Un(d,a,!1,b),this.jb.resume(),this.hk.set(h.oa.cd),this.Gy(this.tg)):c || this.Jm(f.Qb,0);return ! !f.yKa;};b.prototype.xw=function(){return this.aB("addManifest");};b.prototype.MP=function(){return this.aB("activateManifest");};b.prototype.epa=function(){this.HFa();};b.prototype.$F=function(a){var b,c,d,f,g;b=this.ig?this.Lk:this.jb;c=a.FD;n.assert(!this.ig,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.kw)return !1;a=this.dP.audio_tracks;if(!a.some(function(a,b){if(a.track_id === c)return (d=a,f=b,!0);}))return !1;a=a[this.CI[0]];this.kw=f;g=null === b || void 0 === b?void 0:b.JB;g?this.HFa():(this.qY=!0,null === b || void 0 === b?void 0:b.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:d.language,newNumChannels:d.channels,sourceBufferReset:g}));return !0;};b.prototype.Hl=function(a,b){this.UM.Hl(a,b);};b.prototype.Rg=function(a){return this.jb?this.jb.Rg(r.S.ec(a)):!1;};b.prototype.X0=function(){return this.aB("evaluateQoE");};b.prototype.Bsa=function(){return this.aB("stopBuffering");};b.prototype.XF=function(){return this.aB("startBuffering");};b.prototype.uRa=function(){return this.aB("getStreamingStatistics");};b.prototype.fail=function(a){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:a,manifestIndex:0});};b.prototype.Qka=function(a,b){return 0 !== a?this.fail("Unexpected manifestIndex: " + a + ", single viewable playback only supports manifestIndex: 0"):this.Mvb(b);};b.prototype.Mvb=function(a){var b,c,d,f,h,l,k;b=this.Wa.cb;c=[];n.assert(0 <= a,"contentPts must be 0 or greater for segmentId lookup");for(var g in b.Ja){h=b.Ja[g];l=h.Ac;h=h.zd;k=a < Number(null !== h && void 0 !== h?h:Infinity);if(l <= a && k)c.push(g);else if((l=Math.min(Math.abs(a - l),Math.abs(a - h)),void 0 === d || l < d))(d=l,f=g);}n.assert(1 >= c.length,"Overlapped segments detected in branching, this is not supported");a=c[0] || f;n.assert(void 0 !== a,"segmentId from contentPts lookup failed");return a;};b.prototype.vIb=function(){var a,b;b=null === (a=this.Wa) || void 0 === a?void 0:a.UJ();a=this.ig?this.ig.UJ():b;b && a && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:a.abuflbytes,vbuflbytes:b.vbuflbytes,totalabuflmsecs:a.totalabuflmsecs,totalvbuflmsecs:b.totalvbuflmsecs,currentBandwidth:b.currentBandwidth});};b.prototype.aB=function(a){return this.fail("Method not implemented " + a);};b.prototype.HFa=function(){n.assert(void 0 !== this.kw);this.CI[0]=this.kw;this.V0a();this.Gy(this.NJa);};b.prototype.V0a=function(){var a;a=this;this.ig?(this.Wa.TF({jv:function(){}},{jv:function(){return a.CI[1];}}),this.ig.TF({jv:function(){return a.CI[0];}},{jv:function(){}})):this.Wa.TF({jv:function(){return a.CI[0];}},{jv:function(){return a.CI[1];}});this.qY=!1;};b.prototype.UQb=function(a){this.Gdb=a;};b.prototype.kRb=function(a){this.Sgb=a;};b.prototype.Gy=function(a){var b;a !== this.NJa && void 0 !== this.kw?this.bXa=a:(null === (b=this.uY) || void 0 === b?void 0:b.clear(),this.uY=this.ig?q.Gt.R4a([this.Wa.ug,this.jb.Jq,this.ig.ug,this.Lk.Jq],[m.ac.bk,!0,m.ac.bk,!0],this.lMa(a)):q.Gt.R4a([this.Wa.ug,this.jb.Jq],[m.ac.bk,!0],this.lMa(a)));};b.prototype.lMa=function(a){var b;b=this;return function(c){var d;c && (null === (d=b.uY) || void 0 === d?void 0:d.clear(),b.uY=void 0,R.resolve().then(a));};};c.__decorate([B.Rb({Jc:"updateChoiceMapEntry",Dr:!0})],b.prototype,"QB",null);c.__decorate([B.Rb({Jc:"open"})],b.prototype,"open",null);c.__decorate([B.Rb({Jc:"close"})],b.prototype,"close",null);c.__decorate([B.Rb({Jc:"paused"})],b.prototype,"gk",null);c.__decorate([B.Rb({Jc:"unpaused"})],b.prototype,"Aea",null);c.__decorate([B.Rb({Jc:"cleanup"})],b.prototype,"cc",null);c.__decorate([B.Rb({Jc:"suspend"})],b.prototype,"suspend",null);c.__decorate([B.Rb({Jc:"resume"})],b.prototype,"resume",null);c.__decorate([B.Rb({Jc:"play"})],b.prototype,"play",null);c.__decorate([B.Rb({Jc:"stop"})],b.prototype,"stop",null);c.__decorate([B.Rb({Dr:!0,Jc:"drmReady"})],b.prototype,"Vr",null);c.__decorate([B.Rb({Jc:"underflow"})],b.prototype,"Hp",null);c.__decorate([B.Rb({Jc:"getLogdataReport"})],b.prototype,"V1",null);c.__decorate([B.Rb({Jc:"skipped"})],b.prototype,"Wn",null);c.__decorate([B.Rb({Jc:"seekByContentPts"})],b.prototype,"Jm",null);c.__decorate([B.Rb({Jc:"seek"})],b.prototype,"seek",null);c.__decorate([B.Rb({Jc:"chooseNextSegment",Dr:!0})],b.prototype,"ln",null);c.__decorate([B.Rb({Jc:"onAudioTrackSwitchStarted"})],b.prototype,"epa",null);c.__decorate([B.Rb({Jc:"switchTracks"})],b.prototype,"$F",null);return b;})(g.EventEmitter);b.MDa=d;},function(d,b,a){var k,m;function c(a,b,c){var d,f;d=Array.isArray(c)?c[0]:c;f=Array.isArray(c)?c[1]:c;b.on(d,function(b){a.emit(f,k.__assign(k.__assign({},b),{type:f}));});}function g(a,b,c,d){var f,g;b.events.once(a,function(a){(f=a) && g && d(f,g);});c.events.once(a,function(a){g=a;f && g && d(f,g);});}Object.defineProperty(b,"__esModule",{value:!0});b.XNa=b.O0=b.$Ua=b.bVa=void 0;k=a(0);m=a(19);b.bVa=function(a,b,d,l,n){var h;function f(a,b){c(d,a,b);}b=n?[l,n]:[l];["buffering",["debug","managerdebugevent"],"endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(a){return f(l.events,a);});n?(f(n.events,"initialAudioTrack"),g("openComplete",l,n,function(a){d.emit("openComplete",a);}),g("streamerEnd",l,n,function(a){d.emit("streamerend",k.__assign(k.__assign({},a),{type:"streamerend"}));})):(f(l.events,"openComplete"),f(l.events,["streamerEnd","streamerend"]),f(l.events,"initialAudioTrack"));l.events.on("logdata",function(a){d.emit("logdata",k.__assign(k.__assign({},a),{fields:k.__assign(k.__assign({},a.fields),{aseApiVersion:d.CD})}));});h=!0;l.events.on("bufferingStarted",function(a){d.fta && h?h=!1:(d.i7.RP("bufferingStarted",{}),d.emit("bufferingStarted",a));});l.events.on("bufferingComplete",function(a){d.fta?h=!0:d.UQb(a);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(a){d.fta || d.kRb(a);});l.events.on("error",function(a){a=k.__assign(k.__assign({},a),{manifestIndex:0});d.emit("error",a);});d.on("error",function(){});l.events.on("segmentComplete",function(a){d.emit("segmentComplete",{type:"segmentComplete",mediaType:a.mediaType,manifestIndex:0,segmentId:a.segmentId});});l.events.on("segmentNormalized",function(a){var b;b=Math.floor(a.viewableContentEnd.da);d.emit("maxPosition",{type:"maxPosition",index:0,endPts:b,maxPts:b,maxSeekPts:Math.floor(a.viewableEarliestContentEnd.da)});d.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:b,maxPts:b});});l.events.on("segmentStarting",function(a){d.emit("maxBitrates",{type:"maxBitrates",audio:a.maxBitrates.audio,video:a.maxBitrates.video});d.emit("segmentStarting",a);});b.forEach(function(b){b.events.on("serverSwitch",function(a){d.emit("serverSwitch",{type:"serverSwitch",segmentId:a.segmentId,mediatype:a.mediatype,server:a.server,reason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});});b.events.on("streamSelected",function(a){var c;c=b.CA(a.position);d.emit("streamSelected",{type:"streamSelected",nativetime:a.nativetime,mediaType:a.mediaType,streamId:a.streamId,manifestIndex:0,trackIndex:a.trackIndex,streamIndex:a.streamIndex,movieTime:c.Wz.da,bandwidth:a.bandwidth,longtermBw:a.longtermBw,rebuffer:a.rebuffer});});b.events.on("updateStreamingPts",function(b){var c;c=d.u;m.ma && a.trace("converting updateStreamingPts, movieId:",c);d.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:b.mediaType,manifestIndex:0,trackIndex:b.trackIndex,segmentId:b.position.va,movieTime:Math.floor(b.completePlayerStreamingTimestamp.da)});});});};b.$Ua=function(a,b,d,g){[["debug","managerdebugevent"],"segmentAppended","startEvent","logdata"].forEach(function(a){return c(b,d.events,a);});d.events.on("streamPresenting",function(a){var c,d;c=a.playerTimestamp.da;d=b.Wa.CA(a.position);void 0 === d?g.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(a)):b.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(c),contentStartPts:Math.floor(d.Wz.da),mediaType:a.mediaType,manifestIndex:0,trackIndex:a.trackIndex,streamIndex:a.streamIndex});});d.events.on("segmentPresenting",function(a){var c,d,f;c=b.Wa.CA(a.position);d=a.playerTimestamp.Fa(c.Wz);f=a.position.va;b.qNa || (b.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:a.playerTimestamp.da,movieId:c.fa.toString(),replace:!1,contentOffset:d.da}),b.qNa=!0);b.emit("segmentPresenting",{type:"segmentPresenting",segmentId:f,contentOffset:d.da,metrics:a.metrics});});d.events.on("ptsChanged",function(a){b.emit("ptschanged",a.initialTimestamp.da);b.Hk.emit("skipped");});};b.O0=function(a,b,c,d,g){var f;c=c.da;g=null !== g && void 0 !== g?g:b;a.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:!1,hashindsight:!1,buffCompleteReason:b.reason,actualbw:d,initSelReason:null !== (f=b.initSelReason) && void 0 !== f?f:"unknown",bcVBufferLevelMs:b.vBufferLevelMs,bcABufferLevelMs:g.aBufferLevelMs}});a.emit("ptschanged",c);a.emit("bufferingComplete",{type:"bufferingComplete",time:b.time,actualStartPts:c,aBufferLevelMs:g.aBufferLevelMs,vBufferLevelMs:b.vBufferLevelMs,selector:b.selector,initBitrate:b.initBitrate,skipbackBufferSizeBytes:b.skipbackBufferSizeBytes});};b.XNa=function(a,b,c){a.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:b.track_id,trackIndex:c});};},function(d,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.SJa=void 0;d=a(0);c=a(16);g=d.__importDefault(a(110));k=a(9);b.SJa=function(a){if(a.cdb)return a;g["default"](c.EventEmitter.prototype,a);Object.defineProperties(a,{cdb:{value:!0},ad:{get:function(){return new k.S(this.Zd(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.un?this.un():1,.01);}}});return a;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sn=b.XLa=void 0;b.XLa={Nu:["minInitVideoBitrate",-Infinity],uoa:["minHCInitVideoBitrate",-Infinity],Ox:["maxInitVideoBitrate",Infinity],VS:["minInitAudioBitrate",-Infinity],US:["minHCInitAudioBitrate",-Infinity],HS:["maxInitAudioBitrate",Infinity],k4:["minAcceptableVideoBitrate",-Infinity],SS:["minAcceptableVMAF",0],pHb:["minAcceptableVMAFRebufferScalingFactor",0],soa:["minAllowedVideoBitrate",-Infinity],mGb:["maxAllowedVideoBitrate",Infinity],aF:["minAllowedVmaf",-Infinity],eVa:["maxAllowedVmaf",Infinity],zM:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],R0:["enableResolutionVMAFStreamFilter",!1],Bpa:["percentCapTitlesForResolutionVMAFStreamFilter",100],W5:["resolutionVMAFCappingRuleList",[]],DSa:["ignoreUserFilterOnEmptyResult",!0],WS:["minRequiredBuffer",2E4],p4:["minRequiredAudioBuffer",0],jj:["minPrebufSize",5800],toa:["minCheckBufferingCompleteInterval",200],jOa:["enableMoreFrequentBufferingCompleteCheck",!1],WVa:["minimumBufferingCompleteInterval",1E4],Q5:["requireDownloadDataAtBuffering",!1],NSa:["indicatorForDownloadDataAtBuffering","oncomplete"],R5:["requireSetupConnectionDuringBuffering",!1],Eqa:["rebufferingFactor",1],Iq:["maxBufferingTime",2E3],Lta:["useMaxPrebufSize",!0],YA:["maxPrebufSize",4E4],$na:["maxRebufSize",Infinity],fvb:["fastRebufferRecoveryThreshold",Infinity],evb:["fastRebufferRecoverBwThrehold",3E3],R2:["initialBitrateSelectionCurve",null],SSa:["initSelectionLowerBound",-Infinity],TSa:["initSelectionUpperBound",Infinity],Z6:["throughputPercentForAudio",15],Mfa:["bandwidthMargin",0],Ofa:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],dlb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Rw:76376,scale:18862.4,gamma:3.0569}],Nfa:["bandwidthMarginContinuous",!1],elb:["bandwidthMarginForAudio",!0],Nsa:["switchConfigBasedOnInSessionTput",!0],dha:["conservBandwidthMargin",20],wQ:["conservBandwidthMarginTputThreshold",6E3],eha:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],u2a:["switchAlgoBasedOnHistIQR",!1],KB:["switchConfigBasedOnThroughputHistory","iqr"],Zna:["maxPlayerStateToSwitchConfig",-1],Bna:["lowEndMarkingCriteria","iqr"],W9:["IQRThreshold",.5],Jla:["histIQRCalcToUse","simple"],Gr:["bandwidthManifold",{curves:[{min:.05,max:.82,Rw:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Rw:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],As:["maxTotalBufferLevelPerSession",0],vSa:["highWatermarkLevel",3E4],b3a:["toStableThreshold",3E4],g7:["toUnstableThreshold",0],qsa:["skipBitrateInUpswitch",!1],Wta:["watermarkLevelForSkipStart",8E3],Cla:["highStreamRetentionWindow",9E4],Cna:["lowStreamTransitionWindow",51E4],Ela:["highStreamRetentionWindowUp",5E5],Ena:["lowStreamTransitionWindowUp",1E5],Dla:["highStreamRetentionWindowDown",6E5],Dna:["lowStreamTransitionWindowDown",0],Bla:["highStreamInfeasibleBitrateFactor",.5],Hx:["lowestBufForUpswitch",9E3],K3:["lockPeriodAfterDownswitch",15E3],Gna:["lowWatermarkLevel",15E3],Ix:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Hna:["lowestWaterMarkLevelBufferRelaxed",!1],koa:["mediaRate",1.5],Y3:["maxTrailingBufferLen",15E3],XP:["audioBufferTargetAvailableSize",262144],qV:["videoBufferTargetAvailableSize",1048576],yVa:["maxVideoTrailingBufferSize",8388608],gVa:["maxAudioTrailingBufferSize",393216],f1:["fastUpswitchFactor",3],gvb:["fastUpswitchFactorWithoutHeaders",3],eja:["fastDownswitchFactor",3],Px:["maxMediaBufferAllowed",27E4],q7b:["minMediaBufferLen",1E4],osa:["simulatePartialBlocks",!0],t1a:["simulateBufferFull",!0],fha:["considerConnectTime",!0],cha:["connectTimeMultiplier",1],GUa:["lowGradeModeEnterThreshold",12E4],HUa:["lowGradeModeExitThreshold",9E4],kVa:["maxDomainFailureWaitDuration",3E4],fVa:["maxAttemptsOnFailure",18],DOa:["exhaustAllLocationsForFailure",!0],qVa:["maxNetworkErrorsDuringBuffering",20],S3:["maxBufferingTimeAllowedWithNetworkError",6E4],JI:["alwaysRunUnderflowTimer",!0],LOa:["fastDomainSelectionBwThreshold",2E3],G2a:["throughputProbingEnterThreshold",4E4],H2a:["throughputProbingExitThreshold",34E3],tUa:["locationProbingTimeout",1E4],QOa:["finalLocationSelectionBwThreshold",1E4],E2a:["throughputHighConfidenceLevel",.75],F2a:["throughputLowConfidenceLevel",.4],sna:["locationStatisticsUpdateInterval",6E4],uFb:["locationSelectorPersistFailures",!0],lOa:["enablePerfBasedLocationSwitch",!1],Z6b:["maxRateMaxFragmentGroups",4500],Gpa:["pipelineScheduleTimeoutMs",2],Qx:["maxPartialBuffersAtBufferingStart",2],voa:["minPendingBufferLen",3E3],XA:["maxPendingBufferLen",6E3],cub:["enableNginxRateLimit",!1],G4:["nginxSendingRate",4E4],gub:["enableRequestPacingToken",!1],TGb:["mediaRequestPacingSpeed",2],kma:["initialMediaRequestToken",2E4],Q3:["maxActiveRequestsSABCell100",2],V3:["maxPendingBufferLenSABCell100",500],A_a:["resetActiveRequestsAtSessionInit",!0],aOa:["enableCprAudio",!1],bOa:["enableCprVideo",!1],Bnb:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3]}],WSb:["staticPacingRateKbps",0],rKb:["paceRateSelectorAlgorithm","default"],kOa:["enablePaceReportLogging",!1],aoa:["maxStreamingSkew",2E3],pGb:["maxBufferOccupancyForSkewCheck",Infinity],wWb:["useBufferOccupancySkipBack",!0],Xna:["maxPendingBufferPercentage",10],TK:["maxRequestsInBuffer",120],B2:["headerRequestSize",4096],BBb:["headerCacheEstimateHeaderSize",!1],gF:["neverWipeHeaderCache",!1],p4a:["useSidxInfoFromManifestForHeaderRequestSize",!1],e1:["fastPlayHeaderRequestSize",0],VE:["maxRequestSize",0],bL:["minRequestSize",65536],TS:["minBufferLenForHeaderDownloading",1E4],y1a:["smartHeaderPreDownloading",!1],Ptb:["enableAllHeadersPreDownloading",!1],Q7b:["onlyAllowPtsUpdatePolling",!1],vHb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],ZT:["reserveForSkipbackBufferMs",15E3],Yoa:["numExtraFragmentsAllowed",2],rp:["pipelineEnabled",!0],SK:["maxParallelConnections",3],FWb:["usePipelineForAudio",!1],EWb:["usePipelineDetectionForAudio",!1],B1a:["socketReceiveBufferSize",0],r_:["audioSocketReceiveBufferSize",32768],TM:["videoSocketReceiveBufferSize",65536],n4a:["usePipelineDetectionForVideo",!1],zHb:["minVideoSocketReceiveBufferSize",65536],zla:["headersSocketReceiveBufferSize",32768],NRb:["shareDownloadTracks",!0],ORb:["shareOpenRangeTracks",!1],e5:["perPipelineRequestQueues",!1],xoa:["minTimeBetweenHeaderRequests",void 0],r7:["updatePtsIntervalMs",1E3],Yfa:["bufferTraceDenominator",0],KD:["bufferLevelNotifyIntervalMs",2E3],Gsa:["streamingStatusIntervalMs",2E3],fy:["prebufferTimeLimit",6E4],m4:["minBufferLevelForTrackSwitch",2E3],eub:["enablePenaltyForLongConnectTime",!1],zpa:["penaltyFactorForLongConnectTime",2],Ana:["longConnectTimeThreshold",200],afa:["additionalBufferingLongConnectTime",2E3],bfa:["additionalBufferingPerFailure",8E3],OT:["rebufferCheckDuration",6E4],iOa:["enableLookaheadHints",!1],BUa:["lookaheadFragments",2],hA:["enableOCSideChannel",!0],iqa:["probeRequestTimeoutMilliseconds",3E4],i8b:["probeRequestConnectTimeoutMilliseconds",8E3],uX:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],hub:["enableSCByteRangeHints",!1],P3a:["updateDrmRequestOnNetworkFailure",!0],jVa:["maxDiffAudioVideoEndPtsMs",1E3],S6b:["maxAudioFragmentOverlapMs",80],fsb:["deferAseHeaderCache",!1],dNa:["deferAseScheduling",!1],sUb:["timeBeforeEndOfStreamBufferMark",6E3],Una:["maxFastPlayBufferInMs",2E4],Tna:["maxFastPlayBitThreshold",2E8],hVa:["maxBufferingCompleteBufferInMs",Infinity],l4:["minAudioMediaRequestSizeBytes",0],r4:["minVideoMediaRequestSizeBytes",0],oGb:["maxAudioMediaRequestSizeBytes",Infinity],BGb:["maxVideoMediaRequestSizeBytes",Infinity],vGb:["maxMediaRequestSizeBytesInFraction",1],ZK:["minAudioMediaRequestDuration",0],dL:["minVideoMediaRequestDuration",0],aL:["minMediaRequestDuration",0],nGb:["maxAudioMediaRequestDuration",Infinity],AGb:["maxVideoMediaRequestDuration",Infinity],IS:["maxMediaRequestDuration",Infinity],hfa:["allowFirstRequestAggregation",!1],rHb:["minAudioMediaRequestDurationCache",0],yHb:["minVideoMediaRequestDurationCache",0],bub:["enableMultiFragmentRequest",!1],NM:[["useHeaderCache","usehc"],!0],v7:[["useHeaderCacheData","usehcd"],!0],OQ:["defaultHeaderCacheSize",4],Tha:["defaultHeaderCacheDataCount",4],r0:["defaultHeaderCacheDataPrefetchMs",0],vla:["headerCacheMaxPendingData",6],wla:["headerCachePriorityLimit",5],pSa:["headerCacheAdoptBothAV",!1],GWb:["usePipelineForBranchedAudio",!0],inb:["childBranchBatchedAmount",1E4],Ou:["minimumTimeBeforeBranchDecision",2E3],yGb:["maxRequestsToAttachOnBranchActivation",void 0],YVa:["minimumJustInTimeBufferLevel",3E3],Xtb:["enableJustInTimeAppends",!1],dOa:["enableDelayedSeamless",!1],f4b:["branchEndPtsIntervalMs",250],eCb:["ignorePtsJustBeforeCurrentSegment",!1],mVa:["maxFragsForFittableOnBranching",300],NKb:["pausePlaylistAtEnd",!0],Vib:["adaptiveParallelTimeoutMs",1E3],FJ:["enableAdaptiveParallelStreaming",!1],Xfa:["bufferThresholdToSwitchToSingleConnMs",45E3],Wfa:["bufferThresholdToSwitchToParallelConnMs",35E3],Mtb:["enableAPSForBranching",!1],J7:["waitForPendingConnAdaptation",!1],Hoa:["networkFailureResetWaitMs",2E3],Goa:["networkFailureAbandonMs",6E4],X3:["maxThrottledNetworkFailures",5],Y6:["throttledNetworkFailureThresholdMs",200],Fna:["lowThroughputThreshold",400],$ia:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],rUb:["timeAtEachBitrateRoundRobin",1E4],IPb:["roundRobinDirection","forward"],VBb:["httpsConnectErrorAsPerm",!1],fWa:["mp4ParsingInNative",!1],zh:["enableManagerDebugTraces",!1],VUa:["managerDebugMessageInterval",1E3],UUa:["managerDebugMessageCount",20],OWa:["notifyManifestCacheEom",!0],cR:["enableUsingHeaderCount",!1],D1a:["sourceBufferInOrderAppend",!0],Rs:["requireAudioStreamToEncompassVideo",!1],UIa:["allowAudioToStreamPastVideo",!1],iMa:["countGapInBuffer",!1],VIa:["allowCallToStreamSelector",!1],tKa:["bufferThresholdForAbort",2E4],N6:["ase_stream_selector","optimized"],Ffa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],hma:["initBitrateSelectorAlgorithm","default"],bga:["bufferingSelectorAlgorithm","default"],mTb:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],nOa:["enableThroughputTraceResearchData",!1],I2a:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],fv:["researchEnvironmentEnabled",!1],jub:["enableStreamSelectionAugmentData",!1],Qkb:["augmentDataNumOfChunks",30],RMa:["ase_ls_failure_simulation",""],Jha:["ase_dump_fragments",!1],Lha:["ase_location_history",0],Mha:["ase_throughput",0],TMa:["ase_simulate_verbose",!1],Gg:["stallAtFrameCount",void 0],J1a:["stallAtFrameCountAudio",void 0],Qna:["marginPredictor","simple"],h4a:["useBackupUnderflowTimer",!0],u9b:["useManifestDrmHeader",!0],v9b:["useOnlyManifestDrmHeader",!0],Ioa:["networkMeasurementGranularity","video_location"],bIb:["netIntrStoreWindow",36E3],z7b:["minNetIntrDuration",8E3],Heb:["fastHistoricBandwidthExpirationTime",10368E3],jfb:["bandwidthExpirationTime",5184E3],Geb:["failureExpirationTime",86400],oHa:["historyTimeOfDayGranularity",4],Deb:["expandDownloadTime",!0],Tfb:["minimumMeasurementTime",500],Sfb:["minimumMeasurementBytes",131072],fhb:["throughputMeasurementTimeout",2E3],ehb:["initThroughputMeasureDataSize",262144],Dfb:["historicBandwidthUpdateInterval",2E3],Rfb:["minimumBufferToStopProbing",1E4],L3b:["throughputPredictor","ewma"],Ara:["secondThroughputEstimator","slidingwindow"],e0a:["secondThroughputMeasureWindowInMs",3E5],K3b:["throughputMeasureWindow",5E3],M3b:["throughputWarmupTime",5E3],J3b:["throughputIQRMeasureWindow",1E3],r3b:["IQRBucketizerWindow",15E3],nVa:["maxIQRSamples",100],SVa:["minIQRSamples",5],G3b:["connectTimeHalflife",10],A3b:["responseTimeHalflife",10],z3b:["historicThroughputHalflife",14400],y3b:["historicResponseTimeHalflife",100],x3b:["historicHttpResponseTimeHalflife",100],cya:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],bHa:["minReportedNetIntrDuration",4E3],I3b:["throughputBucketMs",500],u3b:["bucketHoltWintersWindow",2E3],ueb:["enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],Eeb:["experimentalFilter",["throughput-wssl"]],kda:["filterDefinitionOverrides",{}],ieb:["defaultFilter","throughput-ewma"],Rhb:["secondaryFilter","throughput-sw"],TH:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],Q0:["enableHudsonFieldTest",!1],S0:["enableWsslEstimate",!1],coa:["maxWsslRequestSize",131072],boa:["maxWsslRequestRatio",.2],Y4a:["wsslAggregationMethod","max"],YR:["hudsonTitles",["81127954","70125931","80158148"]],Qla:["hudsonStreams",("2076313785 2076314053 2076314493 2076314871 2076314922 2076315208 2076315730 2076316089 2076316293 2076316728").split(" ")],Wna:["maxPartialBuffersAtHudson",1],iT:["numberOfChunksPerSegment",4],X6:["targetContentLatency",1E4],Rsa:["targetLongContentLatency",3E4],s4:["minimumTimeDelay",1],bR:["enableSessionHistoryReport",!0],yia:["earlyStageEstimatePeriod",1E4],eUa:["lateStageEstimatePeriod",3E4],U3:["maxNumSessionHistoryStored",10],q4:["minSessionHistoryDuration",3E5],EBb:["highAndStableModelName","baseline"],Dia:["enableHighAndStablePredictor",!1],o4:["minNumSessionHistory",5],a4b:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],D2:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],FBb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],$Z:["addHeaderDataToNetworkMonitor",!0],zsa:["startMonitorOnLoadStart",!1],Uqa:["reportFailedRequestsToNetworkMonitor",!1],h5:["periodicHistoryPersistMs",0],e6:["saveVideoBitrateMs",0],bT:["needMinimumNetworkConfidence",!0],Sfa:["biasTowardHistoricalThroughput",!1],yFb:["logMemoryUsage",!1],qSa:["headerCacheTruncateHeaderAfterParsing",!0],Ls:["probeServerWhenError",!0],Bw:["allowSwitchback",!0],wF:["probeDetailDenominator",100],T3:["maxDelayToReportFailure",300],fq:["allowParallelStreaming",!1],RGb:["mediaPrefetchDisabled",!1],QVa:["minBufferLevelToAllowPrefetch",5E3],DJ:["editVideoFragments",!1],l5b:["editAudioFragments",!0],cQb:["seamlessAudio",!1],dIb:["newSeamlessAudio",!1],dQb:["seamlessAudioProfiles",[]],eQb:["seamlessAudioProfilesAndTitles",{}],XL:["seamlessAudioMaximumSyncError",void 0],YL:["seamlessAudioMinimumSyncError",void 0],X2:["insertSilentFrames",0],Y2:["insertSilentFramesOnSeek",!1],Z2:["insertSilentFramesOnSeekForTitles",[]],dTa:["insertSilentFramesOnSeekCount",3],iwb:["forceDiscontinuityAtTransition",!0],Jsa:["supportAudioResetOnDiscontinuity",void 0],U6:["supportAudioEasingOnDiscontinuity",void 0],Ftb:["editCompleteFragments",!0],BHb:["minimumAudioFramesPerFragment",1],Hz:["applyProfileTimestampOffset",!1],$i:["applyProfileStreamingOffset",!0],dZa:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],pVb:["truncateEndOfStreamAudio",!1],yWb:["useDpiAssumedAacEncoderDelay",!0],g4:["mediaSourceSupportsNegativePts",!1],$K:["minAudioPtsGap",void 0],Kkb:["audioOverlapGuardSampleCount",2],mOa:["enableRecordJSBridgePerf",!1],e$:["JSBridgeTDigestConfig",{maxc:25,c:.5}],oUb:["throughputThresholdSelectorParam",0],uWb:["upswitchDuringBufferingFactor",2],Qjb:["allowUpswitchDuringBuffering",!1],aMa:["contentOverrides",void 0],jha:["contentProfileOverrides",void 0],Ila:["hindsightDenominator",0],Hla:["hindsightDebugDenominator",0],E2:["hindsightAlgorithmsEnabled",[]],F2:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],kJa:["appendMediaRequestOnComplete",!1],I7:["waitForDrmToAppendMedia",!1],q1:["forceAppendHeadersAfterDrm",!1],Nha:["declareBufferingCompleteAtSegmentEnd",!1],Iu:["maxActiveRequestsPerSession",void 0],nna:["limitAudioDiscountByMaxAudioBitrate",!1],mfa:["appendFirstHeaderOnComplete",!0],P6:["strictBufferCapacityCheck",!1],VP:["aseReportDenominator",0],wfa:["aseReportIntervalMs",3E5],lta:["translateToVp9Draft",!1],DM:["switchableAudioProfiles",[]],Lkb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],v2a:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Nkb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],wVa:["maxStartingVideoVMAF",110],cL:["minStartingVideoVMAF",1],NP:["activateSelectStartingVMAF",!1],k6:["selectStartingVMAFTDigest",-1],aM:["selectStartingVMAFMethod","fallback"],q0a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],jB:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],Osb:["disablePtsStartsEvent",!0],Gqa:["recordFirstFragmentOnSubBranchCreate",!0],CVa:["mediaCacheConvertToBinaryData",!1],goa:["mediaCacheSaveOneObject",!1],dVa:["markRequestActiveOnFirstByte",!1],L0:["earlyAppendSingleChildBranch",!0],OM:["useNativeDataViewMethods",!0],jfa:["alwaysNotifyEOSForPlaygraph",!1],xWb:["useCorrectDrainingAmounts",!0],iE:["enableNewAse",!1],Ml:["useNewApi",!1],cia:["aseDiagnostics",[{tk:"queue-audit",enabled:!0},{tk:"task-audit",enabled:!0},{tk:"trace-ShimSession",enabled:!0},{tk:"trace-engine",enabled:!0},{tk:"trace-RequestPacer",enabled:!0},{tk:"trace-BufferStateTracker",enabled:!0},{tk:"trace-GraphStreamingProcess",enabled:!0},{tk:"trace-AsePlaygraph",enabled:!0}]],Dlb:["branchDistanceThreshold",6E4],R3:["maxAllowedOutstandingRequests",4],woa:["minStreamableConcurrencyWindow",3E3],xVa:["maxStreamableConcurrencyWindow",Infinity],Esa:["streamableConcurrencyFactor",.3],mQ:["bufferingConcurrencyWindow",7800],Rjb:["alwaysAllowContiguousRequestsWhenStreaming",!1],MKb:["pauseOnConcurrencyFailure",!0],hMb:["prefetchBudgetInBytes",0],INb:["rebufferRiskHalfLife",1E4],Kta:["useBufferSizeLimiter",!1],mXb:["viewableReleaseTimeoutMs",1E3],jMb:["prefetchWeightBudget",32],yoa:["minimumDownstreamBranchProbability",.075],Nlb:["bufferingCompleteOnBranchComplete",!1]};b.sn=b.XLa;},function(d,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ty=b.aH=b.Uy=b.FS=b.ODa=void 0;c=a(0);g=a(94);Object.defineProperty(b,"Mp4FragmentParser",{enumerable:!0,get:function(){return g.aH;}});Object.defineProperty(b,"Mp4FragmentSlicer",{enumerable:!0,get:function(){return g.Ty;}});Object.defineProperty(b,"makeMdatHeader",{enumerable:!0,get:function(){return g.FS;}});Object.defineProperty(b,"SidxBox",{enumerable:!0,get:function(){return g.ODa;}});k=c.__importDefault(a(3));d=(function(a){function b(c,d,f,g,l){return a.call(this,b.console,c,d,f,g,l) || this;}c.__extends(b,a);Object.defineProperties(b,{console:{get:function(){return this.G || (this.G=new k["default"].Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return b;})(g.Uy);b.Uy=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zMa=void 0;b.zMa=function(a,b,d,g){return {gRa:function(){var b;b=a.Fka();g.ms && (b+=g.ms);return b;},la:b,request:d,xm:!1};};},function(d,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.eB=void 0;d=a(1);c=a(444);g=a(1034);k=a(162);b.eB=new d.Tc(function(a){a(c.jX).to(g.zAa).Z();a(k.UN).bV(function(a){return function(){return a.mb.get(c.jX).SHb;};});});},function(d,b,a){var g;function c(){var a;a=this;this.ready=!1;this.SHb=new Promise(function(b){a.sPb=b;});}Object.defineProperty(b,"__esModule",{value:!0});b.zAa=void 0;d=a(0);a=a(1);c.prototype.THb=function(a){this.ready || (this.sPb(a),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};g=c;g=d.__decorate([a.O()],g);b.zAa=g;},function(d,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.li=void 0;d=a(1);c=a(84);g=a(445);k=a(1036);m=a(447);f=a(1037);b.li=new d.Tc(function(a){a(c.tt).hf(function(){return function(){return ka._cad_global.device;};});a(m.S8).to(f.ywa).Z();a(g.R8).to(k.wwa).Z();});},function(d,b,a){var g,k,m,f,h,n;function c(a,b){this.ta=a;this.uqa=b;}Object.defineProperty(b,"__esModule",{value:!0});b.wwa=void 0;d=a(0);g=a(35);k=a(4);m=a(135);f=a(446);h=a(53);a=a(1);c.prototype.Gwb=function(){for(var a="",b=this.ta.Ae.ca(k.ga),c=6;c--;){a=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[b % 32] + a;b=Math.floor(b / 32);}for(;30 > a.length;){a+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.uqa.rZa(new f.wba(0,31,h.ZWa))];}return a;};n=c;n=d.__decorate([a.O(),d.__param(0,a.l(g.fh)),d.__param(1,a.l(m.jO))],n);b.wwa=n;},function(d,b,a){var g,k,m,f,h,n,p,r,v,A,y,B,t;function c(a,b,c,d,f,g,l,h,k,m){this.Esb=a;this.Uk=b;this.Sa=d;this.Aha=f;this.oc=g;this.debug=l;this.SWb=h;this.zha=k;this.RKb=m;this.l9=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.tb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.ywa=void 0;d=a(0);g=a(2);k=a(22);m=a(1038);f=a(6);h=a(445);n=a(41);p=a(87);r=a(27);v=a(1);A=a(63);y=a(448);B=a(449);a=a(450);c.prototype.GOa=function(a){try{return a.match(this.l9)[2];}catch(D){}};c.prototype.IOa=function(a){try{return a.match(this.l9)[1];}catch(D){}};c.prototype.create=function(a){var b;b=this;return new Promise(function(c,d){b.Uk.create().then(function(f){var h,k,n,q,r,p;function l(f){b.Sa.gn(f) && b.Sa.gn(h)?(k=new m.xwa(f,h,void 0,n,a.bia || "cadmium"),c(k)):d({ka:g.K.iwa});}h=a.lA;if(a.cka)(n="bind_device",b.RKb.Oe(b.log,{}).then(function(a){l(a.esn);})["catch"](function(a){d(a);}));else if(a.B1){r=a.mi;if(b.Sa.gn(r)){p=b.IOa(r);p != a.lA && b.log.error("esn prefix from ui is different",{ui:p,cad:a.lA,ua:a.userAgent});}else a.vna && b.log.error("esn from ui is missing");f.load(a.nNa).then(function(a){q=a.value;b.Sa.gn(q) && (!1,b.Sa.gn(r)?(a=b.GOa(r),n=a === q?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):n="storage_esn_not_in_config",l(h + q));})["catch"](function(c){var q;function k(){f.save(a.nNa,q,!1).then(function(){l(h + q);})["catch"](function(a){d(a);});}function m(){q=b.Esb.Gwb();!1;k();}c.ka === g.K.Yy?b.Sa.gn(a.mi)?(q=b.GOa(a.mi),b.Sa.gn(q)?(n="config_since_not_in_storage",k()):(n="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.mi),m())):(n="generated_since_not_in_config_and_storage",m()):d(c);});}else a.Gsb && b.Aha && b.Aha.getKeyByName?b.Aha.getKeyByName(a.Rkb).then(function(a){a=a.id;if(b.Sa.Eo(a))(a=String.fromCharCode.apply(void 0,b.oc.decode(a)),b.debug.assert("" != a),h=b.IOa(a),l(a));else throw "ESN from getKeyByName is not a string";})["catch"](function(a){d({ka:g.K.E8,Ab:b.SWb.Ue(a)});}):a.Fsb && b.zha && b.zha.dQa?b.zha.dQa().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=h + a;b.debug.assert(b.l9.test(a));l(c);})["catch"](function(){d({ka:g.K.E8});}):l();})["catch"](function(a){d(a);});});};t=c;t=d.__decorate([v.O(),d.__param(0,v.l(h.R8)),d.__param(1,v.l(A.mt)),d.__param(2,v.l(f.zb)),d.__param(3,v.l(k.He)),d.__param(4,v.l(B.B8)),d.__param(5,v.l(n.Ki)),d.__param(6,v.l(p.st)),d.__param(7,v.l(r.rg)),d.__param(8,v.l(y.A8)),d.__param(9,v.l(a.vaa))],t);b.ywa=t;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xwa=void 0;b.xwa=function(a,b,d,g){this.mi=a;this.lA=b;this.Uia=g;};},function(d,b,a){var c,g,k,m,f,h,n,p,r,v,A,y,B,t,J,D,T,R,U,V,E,Z;Object.defineProperty(b,"__esModule",{value:!0});b.zUa=void 0;d=a(1);c=a(162);g=a(1040);k=a(1041);m=a(1042);f=a(1043);h=a(1044);n=a(14);p=a(1045);r=a(1046);v=a(1047);A=a(42);y=a(84);B=a(456);t=a(452);J=a(451);D=a(76);T=a(262);R=a(50);U=a(457);V=a(1048);E=a(460);Z=a(461);b.zUa=new d.Tc(function(a){a(R.Sm).to(k.mza).Z();a(t.T$).to(m.tAa).Z();a(J.w$).to(f.wza).Z();a(T.u$).to(h.tza).Z();a(R.bX).to(p.lza).Z();a(D.At).to(r.rza).Z();a(T.t$).to(v.sza).Z();a(U.v$).to(V.uza).Z();a(E.X8).to(Z.Cwa).Z();a(B.Q7).to(g.sua).Z();a(R.p$).bV(function(a){return function(){return a.mb.get(c.UN)().then(function(b){return new Promise(function(c){var f,g,h;function d(){g() && h() && b.x4?c(a.mb.get(R.Sm)):f.bd(d);}f=a.mb.get(A.ph);g=a.mb.get(n.Sc);h=a.mb.get(y.tt);f.bd(d);});});};});});},function(d,b,a){var g,k,m,f,h,n,p;function c(a,b,c,d){var f;f=this;this.HFb=a;this.RE=b;this.config=d;this.Hqa=[];this.HFb.K5(g.i5a,this.aBb.bind(this));c().then(function(a){var b;b=d().Wr.hwb;f.uGb=b?p.Ni[b.toUpperCase()]:p.Ni.ERROR;f.Mj=a;f.EQb();});}Object.defineProperty(b,"__esModule",{value:!0});b.sua=void 0;d=a(0);k=a(1);m=a(14);f=a(107);h=a(50);n=a(76);p=a(6);c.prototype.aBb=function(a,b){this.Mj?this.pZa(a,b):this.Hqa.push([a,b]);};c.prototype.EQb=function(){var a,b;a=this;b=this.Hqa;this.Hqa=[];b.forEach(function(b){a.pZa(b[0],b[1]);});};c.prototype.pZa=function(a,b){var c;if(this.Mj && this.URb(a)){c={debugMessage:a.message,debugCategory:a.kn};a.fd.forEach(function(a){return c=Object.assign(Object.assign({},c),a.value);});c=Object.assign(Object.assign({},c),{prefix:"debug"});a=this.RE.Qr("debug",p.Ni[a.level].toLowerCase(),c,b);this.Mj.kd(a);}};c.prototype.URb=function(a){var b;b=this.uGb;return void 0 !== b && a.level <= b && !a.fd.find(function(a){return a.eR(p.xN);});};a=g=c;a.i5a="adaptorAll";a=g=d.__decorate([k.O(),d.__param(0,k.l(f.qC)),d.__param(1,k.l(n.At)),d.__param(2,k.l(h.p$)),d.__param(3,k.l(m.Sc))],a);b.sua=a;},function(d,b,a){var g,k,m,f,h,n,p,r,v,A,y;function c(a,b,c,d,f,g,h){this.config=a;this.json=b;this.Ea=c;this.wFb=d;this.QS=g;this.Kha=h;this.l3=this.wm=!1;this.listeners=[];k.En(this,"json");this.la=f.tb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.mza=void 0;d=a(0);g=a(1);k=a(53);m=a(33);f=a(451);h=a(42);n=a(6);p=a(50);r=a(452);v=a(2);A=a(90);a(179);y=a(453);c.prototype.$a=function(){this.wm=!0;};c.prototype.kd=function(a){var b;b=this;this.dSb(a) || (!1,0 < a.size.qk(this.config.rGb)?this.la.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(this.listeners.forEach(function(b){return b.ZGb(a);}),!1,this.QS.Vea(a),this.Ea.bd(function(){b.Uvb();})));};c.prototype.flush=function(a){var b;a=void 0 === a?!1:a;b=this;return this.l3?(this.la.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,d){b.la.trace("Flushing",n.xN);b.Di();b.Ea.bd(function(){b.Lra(a).then(function(){c();})["catch"](function(a){d(a);});});});};c.prototype.addListener=function(a){this.listeners.push(a);};c.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0 <= a && this.listeners.splice(a,1);};c.prototype.Lra=function(a){var b,c;a=void 0 === a?!1:a;b=this;if(!this.wm)return (this.la.trace("LogBatcher is not initialized"),Promise.resolve());if(this.l3)return (this.la.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());c=this.QS.ixb();if(0 === c.length && !a)return (this.la.trace("No logblobs to send"),Promise.resolve());!1;this.Di();this.listeners.forEach(function(){});a=Promise.resolve();for(var d={},f=N(c),g=f.next();!g.done;(d={Qfa:d.Qfa},g=f.next())){d.Qfa=g.value;a=a.then((function(a){return function(){return b.AQb(a.Qfa);};})(d));}return a.then(function(){return b.iA();})["catch"](function(a){c.filter(function(a){return !a.Ax;}).forEach(function(a){return a.rq();});b.iA();throw Error("Send failure. " + a);});};c.prototype.AQb=function(a){var b;b=this;this.la.trace("Sending batch: " + a.size,n.xN);return Promise.resolve(this.QS.zOb(a)).then(function(){return b.wFb.send(a.ZE);}).then(function(){return a.CM();})["catch"](function(c){b.la.warn("Failed to send batch of logblobs.",c,n.xN);a.rq();b.QRb(c) && b.QS.Wib(a);b.eSb(c) && (b.l3=!0);throw c;});};c.prototype.QRb=function(a){return a.Ug === v.VW.nBa?!1:this.config.Tea;};c.prototype.eSb=function(a){return a.vd === v.K.Hxa || a.vd === v.K.KN || a.vd === v.K.ON?!0:!1;};c.prototype.Uvb=function(){var a;a=this;0 < this.QS.size.qk(this.config.oVa)?this.Lra()["catch"](function(b){return a.la.warn("Failed to send log messages on size threshold. " + b);}):this.iA();};c.prototype.Di=function(){this.LE && (!1,this.LE.cancel(),this.LE=void 0);};c.prototype.iA=function(){this.LE || (!1,this.LE=this.Ea.zi(this.config.BQb,this.Vx.bind(this)));};c.prototype.Vx=function(){var a;a=this;this.l3=!1;this.Di();this.Lra()["catch"](function(b){return a.la.warn("Failed to send log messages on timer. " + b);});};c.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(J){}return b;};c.prototype.dSb=function(a){return 0 <= this.config.o1a.indexOf(a.type)?!0:a.type === y.Ie.debug?0 <= this.config.n1a.indexOf(a.data.debugCategory):!1;};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(p.bX)),d.__param(1,g.l(m.Py)),d.__param(2,g.l(h.ph)),d.__param(3,g.l(f.w$)),d.__param(4,g.l(n.zb)),d.__param(5,g.l(r.T$)),d.__param(6,g.l(A.wN))],a);b.mza=a;},function(d,b,a){var k,m,f,h,n,p,r;function c(a){this.wI=f.lb;this.Oda=[];this.XO=this.YY=!1;this.uFa=0;a && (this.wI=a.size,this.Oda=a.ZE,a instanceof c && (this.uFa=a.Gkb + 1));}function g(a,b,c,d){this.$Gb=a;this.config=b;this.Af=c;this.json=d;m.En(this,"json");this.la=this.Af.tb("MessageQueue");this.Ir=[];}Object.defineProperty(b,"__esModule",{value:!0});b.tAa=void 0;d=a(0);k=a(1);m=a(53);f=a(46);h=a(262);n=a(6);p=a(33);a=a(50);g.prototype.Vea=function(a){var b,c;0 === this.Ir.length && this.Ir.push(this.fka());if(a=this.Szb(a)){b=this.$Gb.measure([a]);c=this.Ir[this.Ir.length - 1];0 < c.size.add(b).qk(this.config.oVa) && (c=this.fka(),this.Ir.push(c));c.Vea(a);}};g.prototype.ixb=function(){var a;a=this.Ir.filter(function(a){return a.zmb;});this.Ir.push(this.fka());a.forEach(function(a){return a.gGb();});return a;};g.prototype.Wib=function(a){a.Ax || this.Ir.unshift(new c(a));};g.prototype.zOb=function(a){a=this.Ir.indexOf(a);0 <= a && this.Ir.splice(a,1);};g.prototype.Szb=function(a){try{return {data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};}catch(B){var b,c;b={};a=a.data;c=a.debugMessage;c && "string" === typeof c && (b.originalDebugMessage=c);(a=a.debugCategory) && "string" === typeof a && (b.originalDebugCategory=a);this.la.error("JSON.stringify error: " + B.message,b);}};g.prototype.fka=function(){return new c();};ma.Object.defineProperties(g.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Ir.reduce(function(a,b){return a.add(b.size);},f.lb);}}});r=g;r=d.__decorate([k.O(),d.__param(0,k.l(h.u$)),d.__param(1,k.l(a.bX)),d.__param(2,k.l(n.zb)),d.__param(3,k.l(p.Py))],r);b.tAa=r;c.prototype.CM=function(){this.YY=!1;this.XO=!0;};c.prototype.rq=function(){this.YY=!1;};c.prototype.Vea=function(a){this.Oda.push(a);this.wI=this.wI.add(a.size);};c.prototype.gGb=function(){this.YY=!0;};ma.Object.defineProperties(c.prototype,{Gkb:{configurable:!0,enumerable:!0,get:function(){return this.uFa;}},size:{configurable:!0,enumerable:!0,get:function(){return this.wI;}},ZE:{configurable:!0,enumerable:!0,get:function(){return this.Oda;}},zmb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.ZE.length && !1 === this.YY;}},Ax:{configurable:!0,enumerable:!0,get:function(){return this.XO;}}});},function(d,b,a){var k,m,f,h,n,p,r,v,A,y,B;function c(a,b,c,d,f,g,h,l){this.za=a;this.platform=c;this.li=d;this.json=f;this.Ed=g;this.Gh=h;this.FFb=l;m.En(this,"json");this.la=b.tb("LogblobSender");}function g(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.wza=void 0;d=a(0);k=a(1);m=a(53);f=a(33);h=a(4);n=a(27);p=a(18);r=a(31);v=a(84);A=a(6);y=a(454);a=a(66);c.prototype.send=function(a){var b;b=this;return new Promise(function(c,d){var f;try{f=a.reduce(function(a,c){a.entries.push(b.Gqb(c));return a;},new g());c(b.Jwb(f));}catch(U){b.la.error(U.message);d(U);}}).then(function(a){return b.Ora(a);});};c.prototype.Gqb=function(a){return this.Ed.YS(this.Ed.YS({},a.data),{esn:this.li().mi,sev:a.severity,type:a.type,lver:this.platform.EFb,jssid:this.za.id,devmod:this.platform.aia,jsoffms:a.timestamp.Fa(this.za.PE).ca(h.ga),clienttime:a.timestamp.ca(h.ga),client_utc:a.timestamp.ca(h.Wm),uiver:this.Gh.By});};c.prototype.Jwb=function(a){var b;b=this;try{return this.json.stringify(a);}catch(R){for(var c={},d=0;d < a.entries.length;(c={KU:c.KU,Me:c.Me},++d)){c.Me=Object.assign({},a.entries[d]);try{this.json.stringify(c.Me);}catch(U){c.KU=void 0;this.Ed.jA(c.Me,(function(a){return function(c,d){try{b.json.stringify(d);}catch(ta){a.KU=ta.message;a.Me[c]=a.KU;}};})(c));c.Me.stringifyException=c.KU;c.Me.originalType=c.Me.type;c.Me.type="debug";c.Me.sev="error";}}return this.json.stringify(a);}};c.prototype.Ora=function(a){var b;b=this;return this.FFb.Oe(this.la,{logblobs:a}).then(function(){!1;})["catch"](function(a){b.la.error("PBO logblob failed",a);return Promise.reject(a);});};B=c;B=d.__decorate([k.O(),d.__param(0,k.l(p.Fd)),d.__param(1,k.l(A.zb)),d.__param(2,k.l(r.vj)),d.__param(3,k.l(v.tt)),d.__param(4,k.l(f.Py)),d.__param(5,k.l(n.rg)),d.__param(6,k.l(a.pr)),d.__param(7,k.l(y.Eaa))],B);b.wza=B;},function(d,b,a){var g,k,m;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.tza=void 0;d=a(0);g=a(1);k=a(262);m=a(46);c.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.zFb());}).reduce(function(a,b){return a.add(b);},m.ba(0));};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(k.t$))],a);b.tza=a;},function(d,b,a){var g,k,m,f,h,n,p;function c(a,b){a=n.Se.call(this,a,"PboConfigImpl") || this;a.config=b;a.rGb=g.ba(5E5);a.BQb=k.t4(1);a.oVa=g.ba(1E6);return a;}Object.defineProperty(b,"__esModule",{value:!0});b.lza=void 0;d=a(0);g=a(46);k=a(4);m=a(1);f=a(14);h=a(43);n=a(44);a=a(32);L(c,n.Se);ma.Object.defineProperties(c.prototype,{Tea:{configurable:!0,enumerable:!0,get:function(){return this.config().Tea;}},o1a:{configurable:!0,enumerable:!0,get:function(){return [];}},n1a:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});p=c;d.__decorate([h.config(h.object(),"shedLogblobTypes")],p.prototype,"o1a",null);d.__decorate([h.config(h.Io("string"),"shedDebugTypes")],p.prototype,"n1a",null);p=d.__decorate([m.O(),d.__param(0,m.l(a.ck)),d.__param(1,m.l(f.Sc))],p);b.lza=p;},function(d,b,a){var k,m,f,h,n,p,r,v,A;function c(a,b,c,d,f,g,l,k,m,n){this.platform=b;this.Bha=c;this.type=d;this.severity=f;this.timestamp=g;this.za=k;this.data=l;this.data.type=d;this.data.sev=f;this.data.devmod=this.platform.aia;this.data.clver=this.platform.version;a && a.Bj && (a.Bj.os && (this.data.osplatform=a.Bj.os.name,this.data.osver=a.Bj.os.version),this.data.browsername=a.Bj.name,this.data.browserver=a.Bj.version);a.Jma && (this.data.tester=!0);a.DA && !this.data.groupname && (this.data.groupname=a.DA);a.ZI && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + a.ZI:a.ZI);a.rG && (this.data.uigroupname=a.rG);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.za.Pyb();this.data.uniqueLogId=m.EPa();this.data.appId=this.za.id;n && (a=this.za.Bb(),this.data.soffms=a.Fa(n.Mk).ca(h.ga),this.data.mid=this.data.mid || n.u,this.data.lvpi=n.N3,this.data.uiLabel=n.Dd,this.data.uxLabels=n.z7,d="startup" === d?"playbackxid":"xid",this.data[d]="xid" === d && this.data.xid || n.ea,n.OF && (d=n.OF,(n=n.OF.split(".")) && 1 < n.length && "S" !== n[0][0] && (d="SABTest" + n[0] + ".Cell" + n[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + d:d));}function g(a,b,c,d,f,g){this.ta=a;this.Bha=b;this.config=c;this.za=d;this.TWb=f;this.platform=g;}Object.defineProperty(b,"__esModule",{value:!0});b.rza=void 0;d=a(0);k=a(46);m=a(1);f=a(35);h=a(4);n=a(328);p=a(36);r=a(18);v=a(455);a=a(31);g.prototype.Qr=function(a,b,d,f){return new c(this.config,this.platform,this.Bha,a,b,this.ta.Ae,d,this.za,this.TWb,f);};A=g;A=d.__decorate([m.O(),d.__param(0,m.l(f.fh)),d.__param(1,m.l(n.C8)),d.__param(2,m.l(p.Rl)),d.__param(3,m.l(r.Fd)),d.__param(4,m.l(v.ica)),d.__param(5,m.l(a.vj))],A);b.rza=A;ma.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.JKa || (this.JKa=k.ba(this.Bha.encode(this.data).length));return this.JKa;}}});},function(d,b,a){var g,k,m;function c(a){this.li=a;}Object.defineProperty(b,"__esModule",{value:!0});b.sza=void 0;d=a(0);g=a(1);k=a(46);a=a(84);c.prototype.zFb=function(){var a;a=this.li()?this.li().mi.length:40;return k.ba(a + 33);};m=c;m=d.__decorate([g.O(),d.__param(0,g.l(a.tt))],m);b.sza=m;},function(d,b,a){var g,k,m,f,h,n,p,r,v,A,y,B,t,J,D,T,R,U,V,E;function c(a,b,c,d,f,g,h,l,k,m,n,q,r,p,u,v,A,B){this.J2a=a;this.L_=b;this.Mj=c;this.hoa=d;this.bja=f;this.Wd=g;this.H0=h;this.ef=l;this.config=k;this.kc=m;this.ta=n;this.za=q;this.platform=r;this.Kn=p;this.RE=u;this.wi=v;this.uq=A;this.$E=B;}Object.defineProperty(b,"__esModule",{value:!0});b.uza=void 0;d=a(0);g=a(212);k=a(346);m=a(50);f=a(27);h=a(355);n=a(216);p=a(1);r=a(458);v=a(460);A=a(111);y=a(14);B=a(35);t=a(18);J=a(31);D=a(76);T=a(98);R=a(147);U=a(33);V=a(36);a=a(263);c.prototype.create=function(a,b,c){return new r.vza(a,b,c,this.J2a,this.L_,this.Mj,this.hoa,this.bja,this.Wd,this.H0,this.ef,this.config,this.kc,this.ta,this.za,this.platform,this.Kn,this.RE,this.wi,this.uq,this.$E);};E=c;E=d.__decorate([p.O(),d.__param(0,p.l(g.fY)),d.__param(1,p.l(k.v8)),d.__param(2,p.l(m.Sm)),d.__param(3,p.l(h.L$)),d.__param(4,p.l(n.t9)),d.__param(5,p.l(f.rg)),d.__param(6,p.l(v.X8)),d.__param(7,p.l(A.Qy)),d.__param(8,p.l(y.Sc)),d.__param(9,p.l(T.Sv)),d.__param(10,p.l(B.fh)),d.__param(11,p.l(t.Fd)),d.__param(12,p.l(J.vj)),d.__param(13,p.l(U.lH)),d.__param(14,p.l(D.At)),d.__param(15,p.l(R.oH)),d.__param(16,p.l(V.Rl)),d.__param(17,p.l(a.gX))],E);b.uza=E;},function(d,b,a){var g;function c(a,b,c){a=g.iW.call(this,a,b) || this;a.Qz=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Jva=void 0;g=a(459);L(c,g.iW);b.Jva=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iVa=void 0;b.iVa=function(a,b){var f,h;if(0 !== a.length){if(1 === a.length)return a[0];for(var c=a[0],d=b(c),g=1;g < a.length;g++){f=a[g];h=b(f);h > d && (c=f,d=h);}return c;}};},function(d,b,a){var c,g,k,m,f,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.rWa=void 0;d=a(1);c=a(1052);g=a(111);k=a(462);m=a(1053);f=a(264);h=a(463);n=a(1054);b.rWa=new d.Tc(function(a){a(k.qca).to(c.gFa).Z();a(g.Qy).NB(function(){return ka._cad_global.http;});a(f.XN).to(m.HAa).Z();a(h.daa).ci(n["default"]);});},function(d,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.gFa=void 0;d=a(0);a=a(1);c.prototype.create=function(){return new XMLHttpRequest();};g=c;g=d.__decorate([a.O()],g);b.gFa=g;},function(d,b,a){var g,k,m,f;function c(a,b,c){this.config=a;this.sFb=b;this.kb=c;}Object.defineProperty(b,"__esModule",{value:!0});b.HAa=void 0;d=a(0);g=a(299);k=a(1);m=a(160);a=a(463);c.prototype.qha=function(){if(this.config.k4a)return this.kb(this.sFb());};f=c;f=d.__decorate([k.O(),d.__param(0,k.l(g.caa)),d.__param(1,k.l(m.baa)),d.__param(2,k.l(a.daa))],f);b.HAa=f;},function(d,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1055);g=a(1056);k=a(1057);b["default"]=function(a){var b;a=new c.R7(a);b=new k.rab(a);return new g.qab(a,b);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){this.sUa=a;}a.prototype.Wra=function(a){try{this.sUa.setItem("gtp",JSON.stringify(a));}catch(l){return !1;}return !0;};a.prototype.wQa=function(){var a;try{a=this.sUa.getItem("gtp");if(a)return JSON.parse(a);}catch(l){}};a.prototype.wn=function(){var a;a=this.wQa();if(a && a.tp)return a.tp.a;};a.prototype.Gyb=function(){var a;a=this.oka();if(a)return a.p25;};a.prototype.Hyb=function(){var a;a=this.oka();if(a)return a.p50;};a.prototype.Iyb=function(){var a;a=this.oka();if(a)return a.p75;};a.prototype.oka=function(){var a;a=this.wQa();if(a && (a=a.iqr))return a;};return a;})();b.R7=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a,b){this.bu=a;this.gT=b;}a.prototype.Wra=function(a){return this.bu.Wra(a);};a.prototype.wn=function(){return this.bu.wn();};a.prototype.kzb=function(){return this.gT.gT();};return a;})();b.qab=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){this.bu=a;}a.prototype.gT=function(){var a,b,d;a=this.bu.Gyb();b=this.bu.Hyb();d=this.bu.Iyb();if("number" === typeof a && "number" === typeof b && "number" === typeof d)return (d - a) / b;};return a;})();b.rab=d;},function(d,b,a){var c,g,k,m,f,h,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.APa=void 0;d=a(1);c=a(1059);g=a(1060);k=a(1061);m=a(1062);f=a(1063);h=a(464);n=a(465);p=a(153);b.APa=new d.Tc(function(a){a(p.A9).to(c.Fxa).Z();a(p.yba).to(g.dDa).Z();a(p.xba).to(k.cDa).Z();a(h.y9).to(m.Dxa).Z();a(n.R9).to(f.fya).Z();});},function(d,b,a){var g,k,m,f,h,n,p,r;function c(a,b,c,d,f,g,h){this.config=a;this.zSa=b;this.Ea=c;this.Yg=d;this.XOb=f;this.Tqa=g;this.bEb=0;this.la=h.tb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.Fxa=void 0;d=a(0);k=a(1);m=a(4);f=a(42);h=a(6);n=a(464);p=a(465);a=a(153);c.prototype.start=function(){this.config.enabled && !this.Uq && (this.Uq=this.Ea.zi(this.config.K1a,this.zB.bind(this)));};c.prototype.stop=function(){this.Uq && (this.Uq.cancel(),this.Uq=void 0);};c.prototype.zB=function(){var a,b;a=this;b="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.bEb++;this.oAb(b).then(function(b){return Promise.all(b.Ge.map(function(c){return a.kBb(b,c.url,c.name);})).then(function(c){0 < c.length && a.XOb.VT({data:c,context:b.context,zna:b.zna});}).then(function(){return b;});}).then(function(b){a.Uq && (b.NTa?a.Uq=a.Ea.zi(b.NTa,a.zB.bind(a)):a.stop());})["catch"](function(b){return a.la.error("FTL run failed",b);});};c.prototype.oAb=function(a){var b;b=this;return this.zSa.get(a,!1).then(function(c){var d;if(200 != c.status || null == c.body)return (b.Tqa.VT({url:a,status:c.status,Fpa:"FTL API request failed",Ld:c.Ld}),Promise.reject(Error("FTL API request failed: " + c.status)));d=b.Yg.parse(c.body);return d instanceof Error?(b.Tqa.VT({url:a,status:4,Fpa:"FTL Probe API JSON parsing error",Ld:c.Ld}),Promise.reject(d)):Promise.resolve(d);})["catch"](function(c){c instanceof Error && (b.Tqa.VT({url:a,status:0,Fpa:c.message}),b.la.error("FTL API call failed",c.message));return Promise.reject(c);});};c.prototype.kBb=function(a,b,c){var d;d=this;return new Promise(function(f,h){var u;for(var l,k,n,q=[],r={},p=0;p < a.gNb;(r={lm:r.lm,rqa:r.rqa},++p)){r.lm=p < a.mZa.length?a.mZa[p]:m.lb;r.rqa="" + b + (-1 === b.indexOf("?")?"?":"&") + "pulse=" + (p + 1);u=(function(b){return function(){return new Promise(function(c,f){d.Ea.zi(b.lm,function(){g.NMb(d.zSa,b.rqa,a.fNb).then(function(a){function b(a,b,c){a || (a=c.headers[b]);return a;}l=b(l,"via",a);k=b(k,"x-ftl-probe-data",a);n=b(n,"x-ftl-error",a);c({status:a.status,Ld:a.Ld,dXb:l || "",mnb:k || "",kE:n || ""});})["catch"](function(a){f(a);});});});};})(r);q.push(0 < p?q[p - 1].then(u):u());}Promise.all(q).then(function(a){f({url:b,name:c,data:a});})["catch"](function(a){h(a);});});};c.NMb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};r=g=c;r=g=d.__decorate([k.O(),d.__param(0,k.l(a.z9)),d.__param(1,k.l(p.R9)),d.__param(2,k.l(f.ph)),d.__param(3,k.l(n.y9)),d.__param(4,k.l(a.yba)),d.__param(5,k.l(a.xba)),d.__param(6,k.l(h.zb))],r);b.Fxa=r;},function(d,b,a){var g,k,m,f,h,n;function c(a,b){this.Mj=a;this.poa=b;}Object.defineProperty(b,"__esModule",{value:!0});b.dDa=void 0;d=a(0);k=a(1);m=a(46);f=a(4);h=a(50);a=a(76);c.prototype.VT=function(a){var b;b={ctx:a.context,data:a.data.map(function(a){return {name:a.name,url:a.url,data:a.data.map(function(a){return g.HXb({d:a.Ld.duration.ca(f.ga),sc:a.status,sz:a.Ld.size.ca(m.qt),via:a.dXb,cip:a.mnb,err:a.kE},a);})};})};a=this.poa.Qr(a.zna,"info",b);this.Mj.kd(a);};c.HXb=function(a,b){g.au(a,"dns",b.Ld.ANa);g.au(a,"tcp",b.Ld.Ssa);g.au(a,"tls",b.Ld.bta);g.au(a,"ttfb",b.Ld.Ysa);return a;};c.au=function(a,b,c){c && (a[b]=c.ca(f.ga));return a;};n=g=c;n=g=d.__decorate([k.O(),d.__param(0,k.l(h.Sm)),d.__param(1,k.l(a.At))],n);b.dDa=n;},function(d,b,a){var g,k,m,f,h,n;function c(a,b){this.Mj=a;this.poa=b;}Object.defineProperty(b,"__esModule",{value:!0});b.cDa=void 0;d=a(0);k=a(1);m=a(46);f=a(4);h=a(50);a=a(76);c.prototype.VT=function(a){a=this.poa.Qr("ftlProbeError","info",g.GXb({url:a.url,sc:a.status,pf_err:a.Fpa},a));this.Mj.kd(a);};c.GXb=function(a,b){b.Ld && (b=b.Ld,g.au(a,"d",b.duration),g.au(a,"dns",b.ANa),g.au(a,"tcp",b.Ssa),g.au(a,"tls",b.bta),g.au(a,"ttfb",b.Ysa),a.sz=b.size.ca(m.qt));return a;};c.au=function(a,b,c){c && (a[b]=c.ca(f.ga));return a;};n=g=c;n=g=d.__decorate([k.O(),d.__param(0,k.l(h.Sm)),d.__param(1,k.l(a.At))],n);b.cDa=n;},function(d,b,a){var g,k,m,f,h;function c(a,b){this.is=a;this.json=b;k.En(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.Dxa=void 0;d=a(0);g=a(1);k=a(53);m=a(33);f=a(4);a=a(22);c.prototype.parse=function(a){var c;a=this.json.parse(a);if(!this.is.Kea(a))throw Error("FtlProbe: param: not an object");if(a.next && !this.is.JP(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.JP(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays && !this.is.Cw(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.JP(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Cw(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.gn(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.BD(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b < a.urls.length;++b){c=a.urls[b];if(!this.is.Kea(c))throw Error("FtlProbe: param.urls[" + b + "]: not an object");if(!this.is.Eo(c.name))throw Error("FtlProbe: param.urls[" + b + "].name: not a string");if(!this.is.Eo(c.url))throw Error("FtlProbe: param.urls[" + b + "].url: not a string");}return {gNb:a.pulses,mZa:a.pulse_delays?a.pulse_delays.map(f.Nb):[],fNb:f.Nb(a.pulse_timeout),NTa:a.next?f.Nb(a.next):void 0,Ge:a.urls,zna:a.logblob,context:a.ctx};};h=c;h=d.__decorate([g.O(),d.__param(0,g.l(a.He)),d.__param(1,g.l(m.Py))],h);b.Dxa=h;},function(d,b,a){var g,k,m,f,h,n,p,r,v;function c(a,b,c){this.ta=a;this.LXb=b;this.performance=c;k.En(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.fya=void 0;d=a(0);k=a(53);m=a(1064);f=a(46);h=a(33);n=a(35);p=a(1);r=a(462);v=a(4);c.prototype.get=function(a,b,c){var d;d=this;return new Promise(function(h,l){var k,m,n;try{k=d.LXb.create();("withCredentials" in k) || l(Error("Missing CORS support"));k.open("GET",a,!0);b && (k.withCredentials=!0);c && (k.timeout=c.ca(v.ga));m=d.ta.Ae;n=void 0;k.onreadystatechange=function(){var b;switch(k.readyState){case XMLHttpRequest.HEADERS_RECEIVED:n=d.ta.Ae.Fa(m);break;case XMLHttpRequest.DONE:(b=d.ta.Ae.Fa(m),b={body:k.responseText,status:k.status,headers:g.AKb(k.getAllResponseHeaders()),Ld:d.yka(a,f.ba(k.responseText.length),b,n)});h(b);}};k.send();}catch(V){l(V);}});};c.AKb=function(a){var b,d,f;b={};a=a.split("\r\n");for(var c=0;c < a.length;c++){d=a[c];f=d.indexOf(": ");0 < f && (b[d.substring(0,f).toLowerCase()]=d.substring(f + 2));}return b;};c.prototype.yka=function(a,b,c,d){b={size:b,duration:c,Ysa:d};if(!this.performance || !this.performance.getEntriesByName)return b;c=this.performance.getEntriesByName(a);if(0 == c.length && (c=this.performance.getEntriesByName(a + "/"),0 == c.length))return b;a=c[c.length - 1];b=m.RUa(b);a.Qrb && (b.size=f.ba(a.Qrb));0 < a.duration?b.duration=v.timestamp(a.duration):0 < a.startTime && 0 < a.responseEnd && (b.duration=v.timestamp(a.responseEnd - a.startTime));0 < a.requestStart && (b.ANa=v.timestamp(a.domainLookupEnd - a.domainLookupStart),b.Ssa=v.timestamp(a.connectEnd - a.connectStart),b.Ysa=v.timestamp(a.responseStart - a.startTime),0 === a.secureConnectionStart?b.bta=v.timestamp(0):void 0 !== a.secureConnectionStart && (c=a.connectEnd - a.secureConnectionStart,b.bta=v.timestamp(c),b.Ssa=v.timestamp(a.connectEnd - a.connectStart - c)));return b;};a=g=c;a=g=d.__decorate([p.O(),d.__param(0,p.l(n.fh)),d.__param(1,p.l(r.qca)),d.__param(2,p.l(h.GX)),d.__param(2,p.optional())],a);b.fya=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.SFb=b.RUa=b.QFb=void 0;b.QFb=function(a){return a;};b.RUa=function(a){return a;};b.SFb=function(a){return Object.assign({},a);};},function(d,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.iZa=void 0;d=a(1);c=a(317);g=a(1066);k=a(181);m=a(1067);b.iZa=new d.Tc(function(a){a(c.a9).to(g.Iwa).Z();a(k.VG).to(m.iza).Z();});},function(d,b,a){var g,k,m,f,h,n,p,r;function c(a,b,c,d){this.Ed=a;this.Hr=b;this.RWb=c;this.LK=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Iwa=void 0;d=a(0);g=a(1);k=a(27);m=a(41);f=a(104);h=a(132);n=a(61);p=a(103);a=a(181);c.prototype.pi=function(a){var b;b=this;return this.Ed.Sz(a.aj[0].data[0],[8,4])?Promise.resolve({qc:[{id:"ddd",QA:"cert",KK:void 0}],Cn:[{sessionId:"ddd",data:new Uint8Array(this.Hr.decode(p.aFa))}]}):this.Ed.Sz(a.aj[0].data[0],this.RWb.decode("certificate"))?Promise.resolve({qc:[{id:"ddd",QA:"cert",KK:void 0}],Cn:[{sessionId:"ddd",data:new Uint8Array(this.Hr.decode(p.v9))}]}):this.LK.uw(this.vwb(a)).then(function(a){return b.wwb(a);});};c.prototype.release=function(a){var b;b=this;return this.LK.release(this.zwb(a)).then(function(c){return b.Awb(c,a);});};c.prototype.vwb=function(a){var b,c;b=this;c=a.aj.map(function(a){return a.data.map(function(c){return {sessionId:a.sessionId,dataBase64:b.Hr.encode(c)};});});return {ea:a.ea,ti:a.ti,I0:a.I0,gj:n.mna(a.gj),ju:h.Qm[a.ju],aj:c.reduce(function(a,b){return a.concat(b);},[]),MS:a.MS,hj:a.hj};};c.prototype.zwb=function(a){var b;b={};a.aj && a.qc[0].id && (b[a.qc[0].id]=this.Hr.encode(a.aj[0]));return a && a.aj?{ea:a.ea,qc:a.qc,iQb:b}:{ea:a.ea,qc:a.qc};};c.prototype.wwb=function(a){return {qc:a.qc,Cn:a.Cn};};c.prototype.Awb=function(a,b){return a && a.response && a.response.data && b.qc[0].id && (a=a.response.data[b.qc[0].id])?{response:this.Hr.decode(a)}:{};};r=c;r=d.__decorate([g.O(),d.__param(0,g.l(k.rg)),d.__param(1,g.l(m.Ki)),d.__param(2,g.l(f.cz)),d.__param(3,g.l(a.VG))],r);b.Iwa=r;},function(d,b,a){var g,k,m,f,h,n;function c(a,b,c,d,f){this.Pib=a;this.pOb=b;this.w_a=d;this.J_a=f;this.la=c.tb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.iza=void 0;d=a(0);g=a(1);k=a(6);m=a(466);a(467);f=a(469);h=a(470);a=a(265);c.prototype.uw=function(a){var b,c;b=this;!1;c=this.w_a.$Ub(a);return this.Pib.$o(this.la,a.hj,c).then(function(a){a.map(function(a){return a.IEb;});return b.J_a.k3a(a);})["catch"](function(a){b.la.error("PBO license failed",a);return Promise.reject(a);});};c.prototype.release=function(a){var b;b=this;!1;a=this.w_a.cVb(a);return this.pOb.Oe(this.la,a).then(function(a){return b.J_a.dVb(a);})["catch"](function(a){b.la.error("PBO release license failed",a);return Promise.reject(a);});};n=c;n=d.__decorate([g.O(),d.__param(0,g.l(m.uaa)),d.__param(1,g.l(f.Kaa)),d.__param(2,g.l(k.zb)),d.__param(3,g.l(h.Baa)),d.__param(4,g.l(a.CX))],n);b.iza=n;},function(d,b,a){var g,k,m,f,h,n,p,r,v,A,y,B;function c(a){return function(){return a.mb.get(g.Iaa).$a();};}Object.defineProperty(b,"__esModule",{value:!0});b.sF=void 0;d=a(1);g=a(182);k=a(211);m=a(266);f=a(471);h=a(1069);n=a(1070);p=a(472);r=a(1071);v=a(473);A=a(1072);y=a(267);B=a(1073);b.sF=new d.Tc(function(a){a(p.dba).to(r.jCa).Z();a(k.FX).to(m.JBa).Z();a(f.waa).to(h.rBa).Z();a(g.Iaa).to(n.KBa).Z();a(g.bO).bV(c);a(v.zaa).to(A.vBa).Z().BV();a(y.Jaa).to(B.LBa).Z();a(y.Gaa).to(B.HBa).Z();a(y.Haa).to(B.IBa).Z();});},function(d,b,a){var m,f,h,n,p,r,v,A,y,B;function c(){}function g(){}function k(a,b,d,f,g){var l;l=this;this.is=a;this.Uk=b;this.config=d;this.cA=f;this.TKb=g;this.ov=function(){return new c().encode({version:l.version,data:l.sF});};this.pWb=function(a){a=l.oWb(a);l.TKb.ht(a);return a;};this.oWb=function(a){var b;if(l.is.gn(a))return l.sWb(a);b=a.version;if(void 0 != b && l.is.Sh(b) && 1 == b)return l.tWb(a);b=a.version;if(void 0 != b && l.is.Sh(b) && 2 == b)return new c().decode(a);if(a.version && l.is.Sh(a.version))throw new p.Bc(h.L.Ny,h.K.rva,void 0,void 0,void 0,"Version number is not supported. Version: " + a.version,void 0,a);throw new p.Bc(h.L.Ny,h.K.Jy,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.Wq=new r.X9(2,this.config().BYa,"" !== this.config().BYa && 0 < this.config().GLb,this.Uk,this.ov);}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;d=a(0);m=a(1);f=a(14);h=a(2);n=a(22);p=a(40);r=a(297);v=a(63);A=a(84);y=a(266);a=a(267);k.prototype.ANb=function(){return this.Wq.load(this.pWb)["catch"](function(a){throw new p.Bc(h.L.Ny,a.ka || a.vd,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};k.prototype.qjb=function(a){return this.Wq.add(a);};k.prototype.d_a=function(a){return this.Wq.remove(a,function(a,b){return a.ea === b.ea;});};k.prototype.Gta=function(a){return this.Wq.update(a,function(a,b){return a.ea === b.ea;});};k.prototype.toString=function(){return JSON.stringify(this.ov(),null,"  ");};k.prototype.b4a=function(a){return a?"/events?playbackContextId=" + a + "&esn=" + this.cA().mi:"";};k.prototype.Jta=function(a){return a.map(function(a){return {Jd:a.downloadableId,duration:a.duration};});};k.prototype.c4a=function(a){var b;return a?{total:a.playTimes.total,lG:null !== (b=a.playTimes.totalContentTime) && void 0 !== b?b:a.playTimes.total,audio:this.Jta(a.playTimes.audio || []),video:this.Jta(a.playTimes.video || []),text:this.Jta(a.playTimes.timedtext || [])}:{total:0,lG:0,audio:[],video:[],text:[]};};k.prototype.sWb=function(a){var b,c,d;b=this;a=JSON.parse(a);c={type:"online",href:this.b4a(a.playbackContextId),ea:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,tQ:a.timestamp,oU:a.playback?1E3 * a.playback.startEpoch:-1,UK:a.mediaId,wT:this.c4a(a.playback),Xa:"",Tn:{},profileId:a.accountKey};d=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.Uk.create().then(function(a){a.save(b.config().UQ,d,!1);});if("" === c.href || "" === c.ea)throw new p.Bc(h.L.Ny,h.K.Jy);return {version:2,data:[c]};};k.prototype.tWb=function(a){var b;b=this;if(!a.playdata || !this.is.Cw(a.playdata))throw new p.Bc(h.L.Ny,h.K.Jy,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return {version:2,data:(function(a){return a.map(function(a){return {type:a.type,href:b.b4a(a.playbackContextId),ea:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,tQ:a.timestamp,oU:a.playback?1E3 * a.playback.startEpoch:-1,UK:a.mediaId,wT:b.c4a(a.playback),Xa:"",Tn:{},profileId:a.profileId};});})(a.playdata)};};ma.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Wq.version;}},sF:{configurable:!0,enumerable:!0,get:function(){return this.Wq.fu;}}});B=k;B=d.__decorate([m.O(),d.__param(0,m.l(n.He)),d.__param(1,m.l(v.mt)),d.__param(2,m.l(f.Sc)),d.__param(3,m.l(A.tt)),d.__param(4,m.l(a.Haa))],B);b.rBa=B;g.prototype.encode=function(a){var b;b=new y.EX();return a.map(b.encode);};g.prototype.decode=function(a){var b;b=new y.EX();return a.map(b.decode);};c.prototype.encode=function(a){return {version:a.version,data:new g().encode(a.data)};};c.prototype.decode=function(a){return {version:a.version,data:new g().decode(a.data)};};},function(d,b,a){var m,f,h,n,p,r,v,A,y,B,t,J,D,T;function c(a,b,c,d,f,h,l,k){this.config=a;this.Ea=c;this.rv=d;this.Gs=f;this.l5=h;this.lj=l;this.NE=Promise.resolve();this.closed=!1;this.log=b.tb("PlaydataServices");this.rF=[];this.active=new Set();this.BPb=new g(a,k);}function g(a,b){this.config=a;this.ta=b;}function k(a,b,c,d,f,g){this.log=a;this.Ea=b;this.$h=c;this.Gs=d;this.rv=f;this.wLb=g;this.JOa=this.mk=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.KBa=b.ybb=void 0;d=a(0);m=a(1);f=a(4);h=a(6);n=a(42);p=a(211);r=a(471);v=a(13);A=a(472);y=a(2);B=a(266);t=a(473);J=a(118);D=a(35);a=a(116);k.prototype.v4=function(a,b){var d;function c(){var a;a=d.Gs.create(d.$h);d.rv.Gta(a)["catch"](function(a){var b;b=d.JOa?h.Ni.lca:h.Ni.ERROR;d.JOa=!0;d.log.write(b,"Unable to save playdata changes to IDB",a);});}d=this;this.log.trace("Adding initial playdata",b);this.rv.qjb(b).then(function(){d.log.trace("Scheduling monitor",{interval:a});d.Uq=d.Ea.vra(a,c);})["catch"](function(f){d.log.error("Unable to add playdata",{error:f,playdata:new B.EX().encode(b)});d.Uq=d.Ea.vra(a,c);});};k.prototype.stop=function(a){var b,c;b=this;if(this.mk)return Promise.resolve();this.Uq && this.Uq.cancel();c=this.Gs.create(this.$h);return this.rv.Gta(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.$h.background)return (b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve());b.log.trace("Sending final playdata to the server",c);return b.wLb.y0a(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return (b.log.trace("Removing playdata from the persisted store",c),b.rv.d_a(c));b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.u);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};k.prototype.cancel=function(){this.mk=!0;this.Uq && this.Uq.cancel();this.rv.Gta(this.Gs.create(this.$h));};ma.Object.defineProperties(g.prototype,{vmb:{configurable:!0,enumerable:!0,get:function(){var a;a=this.ta.Ae;return !this.NE || 0 <= a.Fa(this.NE).qk(this.config.PTa)?(this.NE=a,!0):!1;}}});b.ybb=g;c.prototype.$a=function(){var a;a=this;this.vm || (this.log.trace("Starting playdata services"),this.vm=this.rv.ANb().then(function(){!1;return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.vm;};c.prototype.close=function(){this.closed=!0;this.rF.forEach(function(a){a.v4.cancel();});};c.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.xL && b.Mra?this.zQb(a):Promise.resolve();};c.prototype.uM=function(a){this.closed || this.NSb(a);};c.prototype.V1a=function(a){var b,c,d;b=this;if(this.closed)return Promise.resolve();c=this.Gs.create(a);this.active["delete"](c.ea);a=N(J.Es(function(a){return a.key === c.ea;},this.rF));d=a.next().value;this.rF=a.next().value;return Promise.all(d.map(function(a){a.W1a=!0;return a.v4.stop(b.config.Mra);})).then(function(){});};c.prototype.hXa=function(a){var b,c;b=this;c=a.ha;this.N1a(c);this.Pra(c,a.zQ)["catch"](function(a){b.log.error("Start command failed",{playdata:a.sF,error:a.kE});});this.LSb(a);};c.prototype.NSb=function(a){var b;b=this;a.addEventListener(v.V.Gq,function(c){var d;if(void 0 !== c.FL){d=a.sm(c.FL);b.V1a(d);c.LA || new Promise(function(b){var c;if(a.Hs.value)b();else {c=function(d){d.newValue && (b(),a.Hs.removeListener(c));};a.Hs.addListener(c);}}).then(function(){return b.hXa(a);});}});a.addEventListener(v.V.Fs,function(){b.hXa(a);});a.background || a.addEventListener(v.V.MK,function(c){c=a.sm(c.u);b.N1a(c);});a.addEventListener(v.V.Pf,function(){b.bTb();});a.addEventListener(v.V.s4a,function(){b.FQb(a.ha)["catch"](function(b){(b=b.Mpa) && a.SD(b);});});a.Oc.addListener(function(){a.Va.hia?b.log.trace("stickiness is disabled for timedtext"):b.x0a(a.ha);});a.Zc.addListener(function(){a.Va.hia?b.log.trace("stickiness is disabled for audio"):b.x0a(a.ha)["catch"](function(b){(b=b.Mpa) && a.SD(b);});});};c.prototype.N1a=function(a){var b,c;a.ud("pdb");if(this.config.Dpa.EDb()){b=this.Gs.create(a);c=b.ea;this.rF.some(function(a){return a.key === c;})?this.log.trace("Already collecting online playdata, ignoring",b):(this.log.info("Starting to collect online playdata",b),this.active.add(c),this.rF.push({key:c,v4:this.bzb(a,b),kv:!1,W1a:!1}));}};c.prototype.zQb=function(a){var b,c,d,f;b=this;c=this.rv.sF.filter(function(a){return !b.active.has(a.ea);});d=void 0;f=void 0;a && Infinity === a?d=c:(c=N(J.Es(function(b){return b.u === a;},c)),d=c.next().value,f=c.next().value);f && 0 < f.length && this.Ea.zi(this.config.u0a,function(){b.w0a(f);});return d && 0 !== d.length?this.w0a(d):Promise.resolve();};c.prototype.w0a=function(a){var c;function b(a){return c.l5.y0a(a).then(function(){return c.FOb(a);});}c=this;return a.reduce(function(a,c){return a.then(function(){return b(c);});},Promise.resolve());};c.prototype.FOb=function(a){var b;b=this;return this.rv.d_a(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};c.prototype.bzb=function(a,b){a=new k(this.log,this.Ea,a,this.Gs,this.rv,this.l5);a.v4(this.config.Dpa,b);return a;};c.prototype.Pra=function(a,b){var c,d;c=this;d=this.Gs.xqb(a,b);return this.l5.Pra(a,d).then(function(){!1;c.rF.filter(function(b){return b.key === a.ea.toString();}).forEach(function(a){a.kv=!0;});})["catch"](function(a){throw {sF:d,kE:a};});};c.prototype.FQb=function(a){return this.BPb.vmb?this.nU(t.BX.nS,a,y.L.g$):Promise.resolve();};c.prototype.x0a=function(a){return this.nU(t.BX.splice,a,y.L.pDa);};c.prototype.nU=function(a,b,c){var f;function d(a){var b;b=f.rF.filter(function(b){return b.key === a.ea.toString();});return 0 === b.length?!0:b.reduce(function(a,b){return a || b.W1a || !b.kv;},!1);}f=this;return d(b)?this.NE:this.NE=this.NE["catch"](function(){return Promise.resolve();}).then(function(){var c;if(d(b))return Promise.resolve();!1;c=f.Gs.create(b);return f.l5.nU(a,b,c);}).then(function(a){!1;return a;})["catch"](function(d){var g;f.log.error("Failed to send event",{eventKey:a,xid:b.ea,error:d});d.Pia?g=f.lj(c,d):d.Pu === y.kX.fca && (g=f.lj(c,d));throw {kE:d,Mpa:g};});};c.prototype.LSb=function(a){this.bSb(a) && this.ysa(this.Jyb(a.ha),a);};c.prototype.ysa=function(a,b){var c;c=this;!1;this.Kga();this.Pma=this.Ea.zi(a,function(){c.Kga();c.nU(t.BX.nS,b.ha,y.L.g$).then(function(){c.ysa(a,b);})["catch"](function(d){var f;f=d.kE;(d=d.Mpa) && b.SD(d);f.Pu === y.kX.fca && c.ysa(a,b);});});};c.prototype.bTb=function(){this.Kga();};c.prototype.bSb=function(a){return a.state.value == v.Db.wd;};c.prototype.Kga=function(){this.Pma && (this.Pma.cancel(),this.Pma=void 0);};c.prototype.Jyb=function(a){return a.Va.Ala?f.Nb(a.Va.Ala):this.config.OTa;};T=c;T=d.__decorate([m.O(),d.__param(0,m.l(A.dba)),d.__param(1,m.l(h.zb)),d.__param(2,m.l(n.ph)),d.__param(3,m.l(r.waa)),d.__param(4,m.l(p.FX)),d.__param(5,m.l(t.zaa)),d.__param(6,m.l(a.EC)),d.__param(7,m.l(D.fh))],T);b.KBa=T;},function(d,b,a){var g,k,m,f,h,n;function c(a,b){a=k.Se.call(this,a,"PlaydataConfigImpl") || this;a.config=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.jCa=void 0;d=a(0);g=a(1);k=a(44);m=a(32);f=a(43);h=a(4);a=a(36);L(c,k.Se);ma.Object.defineProperties(c.prototype,{xL:{configurable:!0,enumerable:!0,get:function(){return this.config.lu?"unsentplaydatatest":"unsentplaydata";}},Mra:{configurable:!0,enumerable:!0,get:function(){return !0;}},u0a:{configurable:!0,enumerable:!0,get:function(){return h.Nb(1E4);}},Dpa:{configurable:!0,enumerable:!0,get:function(){return h.Nb(4E3);}},OTa:{configurable:!0,enumerable:!0,get:function(){return h.t4(1);}},PTa:{configurable:!0,enumerable:!0,get:function(){return h.$g(30);}}});n=c;d.__decorate([f.config(f.string,"playdataPersistKey")],n.prototype,"xL",null);d.__decorate([f.config(f.Mc,"sendPersistedPlaydata")],n.prototype,"Mra",null);d.__decorate([f.config(f.Zh,"playdataSendDelayMilliseconds")],n.prototype,"u0a",null);d.__decorate([f.config(f.Zh,"playdataPersistIntervalMilliseconds")],n.prototype,"Dpa",null);d.__decorate([f.config(f.Zh,"heartbeatCooldown")],n.prototype,"OTa",null);d.__decorate([f.config(f.Zh,"keepAliveWindow")],n.prototype,"PTa",null);n=d.__decorate([g.O(),d.__param(0,g.l(m.ck)),d.__param(1,g.l(a.Rl))],n);b.jCa=n;},function(d,b,a){var g,k,m;function c(a,b){this.uQ=b;this.log=a.tb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.vBa=void 0;d=a(0);g=a(78);k=a(6);a=a(1);c.prototype.Pra=function(a,b){var c;c=this.uQ(g.Rm.start);return this.COa(c,a,b);};c.prototype.y0a=function(a){var b;b=this;return this.uQ(g.Rm.stop).Oe(this.log,a).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};c.prototype.nU=function(a,b,c){a=this.uQ(a);return this.COa(a,b,c);};c.prototype.COa=function(a,b,c){var d;d=this;return a.$o(this.log,b.pa.hj,c).then(function(){})["catch"](function(a){d.log.error("PBO event failed",a);throw a;});};m=c;m=d.__decorate([a.O(),d.__param(0,a.l(k.zb)),d.__param(1,a.l(g.pW))],m);b.vBa=m;},function(d,b,a){var m,f,h,n;function c(){}function g(a){this.SKb=a;}function k(a){this.UKb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.LBa=b.IBa=b.HBa=void 0;d=a(0);m=a(1);f=a(267);h=a(40);n=a(2);k.prototype.ht=function(a){a.map(this.UKb.ht);};a=k;a=d.__decorate([m.O(),d.__param(0,m.l(f.Jaa))],a);b.HBa=a;g.prototype.ht=function(a){this.SKb.ht(a.data);};a=g;a=d.__decorate([m.O(),d.__param(0,m.l(f.Gaa))],a);b.IBa=a;c.prototype.ht=function(a){var b;a.ea && "string" === typeof a.ea?a.href && "string" === typeof a.href?a.profileId && "string" === typeof a.profileId || (b="ProfileId value is corrupted."):b="Href value is corrupted.":b="Xid value is corrupted.";if(b)throw new h.Bc(n.L.Ny,n.K.Jy,void 0,void 0,void 0,b,void 0,a.ea);};f=c;f=d.__decorate([m.O()],f);b.LBa=f;},function(d,b,a){var g,k,m,f,h,n,p,r;function c(a){return function(){return new Promise(function(b,c){var d;d=a.mb.get(k.f9);d.$a().then(function(){b(d);})["catch"](function(a){c(a);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.PNa=void 0;d=a(1);g=a(474);a(1075);k=a(476);m=a(1077);f=a(91);h=a(1078);n=a(477);p=a(1079);r=a(1080);a(1081);b.PNa=new d.Tc(function(a){a(n.q$).to(p.nza).Z();a(g.d9).to(r.oza);a(f.aN).to(h.wua).Z();a(k.f9).to(m.Pwa).Z();a(k.e9).bV(c);});},function(d,b,a){var g,k,m,f,h,n,p;function c(a,b,c){var d;d=h.oO.call(this,a,b,"idb") || this;d.Uk=c;d.Q_a=function(a){d.isb(a.target.id).then(function(){return d.refresh();});};d.qJb=function(){d.vnb().then(function(){return d.refresh();});};d.KJb=function(){d.refresh();};d.tJb=function(){d.xob();};return d;}Object.defineProperty(b,"__esModule",{value:!0});b.p$a=void 0;d=a(0);g=a(1);k=a(27);m=a(22);f=a(161);h=a(475);n=a(126);p=a(268);L(c,h.oO);c.prototype.$a=function(){var a;a=this;if(this.wm)return Promise.resolve();ka.addEventListener("keydown",function(b){b.ctrlKey && b.altKey && b.shiftKey && b.keyCode == n.yt.m9a && a.toggle();});return this.Uk.create().then(function(b){a.storage=b;a.wm=!0;});};c.prototype.Jj=function(){return '<tr class="' + this.prefix + '-display-headerrow">' + ('<th width="30px"><span class="' + this.prefix + '-display-indexheader">#</span></th>') + ('<th width="150px"><span class="' + this.prefix + '-display-keyheader">Name</span></th>') + ('<th style="border-right:solid 0px"><span class="' + this.prefix + '-display-valueheader">Value</span></th>') + ('<th style="border-left:solid 0px" width="30px"><button id="' + this.prefix + '-display-close-btn">X</button></th>') + "</tr>";};c.prototype.Oka=function(a,b,c){var d;a=a.toString();d='<font color="#C41A16">"' + b + '"</font>';c=this.FKa.Cj({name:b,data:c});return "<tr>" + ('<td><span class="' + this.prefix + '-display-indexvalue">' + a + "</span></td>") + ('<td><span class="' + this.prefix + '-display-keyvalue">' + d + "</span></td>") + ('<td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + c + "</ul></td>") + ('<td style="border-left:solid 0px"><ul class="' + this.prefix + '-display-item-inline"><button id="' + b + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td>') + "</tr>";};c.prototype.$ka=function(a){var b,c;b=this;c='<table class="' + this.prefix + '-display-table" width="100%">' + this.Jj();Object.entries(a).forEach(function(a,d){var f;f=N(a);a=f.next().value;f=f.next().value;c+=b.Oka(d,a,f);});return c + "</table>";};c.prototype.YPa=function(){var a,b,c;a=this.Ed.createElement("button",h.CG,"Clear",{"class":this.prefix + "-display-btn"});b=this.Ed.createElement("button",h.CG,"Refresh",{"class":this.prefix + "-display-btn"});c=this.Ed.createElement("button",h.CG,"Copy",{"class":this.prefix + "-display-btn"});a.onclick=this.qJb;b.onclick=this.KJb;c.onclick=this.tJb;return [a,b,c];};c.prototype.kFb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.CSa=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.CSa;});};c.prototype.isb=function(a){return this.storage.remove(a);};c.prototype.vnb=function(){return this.storage.removeAll();};c.prototype.RZa=function(){var a;a=this;return this.kFb().then(function(b){return a.$ka(b);});};c.prototype.xob=function(){var a;a=JSON.stringify(this.CSa,null,4);p.VV.lha(a);};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(k.rg)),d.__param(1,g.l(m.He)),d.__param(2,g.l(f.YW))],a);b.p$a=a;},function(d,b){function a(a){this.is=a;this.gEb="#881391";this.rTb="#C41A16";this.Alb=this.RIb="#1C00CF";this.QCb="#D79BDB";this.GVb=this.MIb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.IEa=void 0;a.prototype.Cj=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.uA=function(a,b){return '<font color="' + ((void 0 === b?0:b)?this.QCb:this.gEb) + '">' + a + ": </font>";};a.prototype.GPa=function(a,b){b=b || "";a="" + ('<li><a href="#">' + this.uA(a) + "Array[" + b.length + "]</a>");a+="<ul>";for(var c=0;c < b.length;++c){a+=this.getValue(c.toString(),b[c]);}a+=this.getValue("length",b.length,!0);return a + "</ul></li>";};a.prototype.YQa=function(a,b){var c,d;c=this;if(b instanceof CryptoKey)return this.Hxb(a,b);d="";d=d + ('<li><a href="#">' + ("~~NONAME~~" !== a?this.uA(a):"") + "Object</a>");d=d + "<ul>";Object.entries(b).forEach(function(a){var b;b=N(a);a=b.next().value;b=b.next().value;d=a.startsWith("$")?d + c.getValue(a,"REMOVED"):d + c.getValue(a,b);});d+="</ul>";return d+="</li>";};a.prototype.Hxb=function(a,b){a="" + ('<li><a href="#">' + this.uA(a) + "CryptoKey</a>");a=a + "<ul>" + this.YQa("algorithm",b.algorithm);a+=this.LPa("extractable",b.extractable);a+=this.wRa("type",b.type);a+=this.GPa("usages",b.usages);return a + "</ul></li>";};a.prototype.ozb=function(a,b,d){return '<li><a href="#">' + this.uA(a,void 0 === d?!1:d) + ('<font color="' + this.RIb + '">' + b.toString() + "</font>") + "</a></li>";};a.prototype.LPa=function(a,b,d){return '<li><a href="#">' + this.uA(a,void 0 === d?!1:d) + ('<font color="' + this.Alb + '">' + b.toString() + "</font>") + "</a></li>";};a.prototype.wRa=function(a,b,d){128 < b.length && (b=b.substr(0,128) + "...");return '<li><a href="#">' + this.uA(a,void 0 === d?!1:d) + ('<font color="' + this.rTb + '">"' + b + '"</font>') + "</a></li>";};a.prototype.nzb=function(a){return '<li><a href="#">' + this.uA(a) + ('<font color="' + this.MIb + '">null</font>') + "</a></li>";};a.prototype.CAb=function(a,b){b="undefined" === typeof b?"":b.toString();255 < b.length && (b=b.substr(0,255) + "...");return '<li><a href="#">' + this.uA(a) + ('<font color="' + this.GVb + '">' + b + "</font>") + "</a></li>";};a.prototype.getValue=function(a,b,d){d=void 0 === d?!1:d;return null === b?"" + this.nzb(a):this.is.Cw(b)?"" + this.GPa(a,b):this.is.BD(b)?"" + this.YQa(a,b):this.is.Eo(b)?"" + this.wRa(a,b,d):this.is.Sh(b)?"" + this.ozb(a,b,d):this.is.IP(b)?"" + this.LPa(a,b,d):"" + this.CAb(a,b);};b.IEa=a;},function(d,b,a){var g,k;function c(a){this.Usb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Pwa=void 0;d=a(0);g=a(1);a=a(474);c.prototype.$a=function(){var a;a=this;this.vm || (this.vm=new Promise(function(b,c){var d;d=[];a.Usb.forEach(function(a){d.push(a.$a());});Promise.all(d).then(function(){b();})["catch"](function(a){c(a);});}));return this.vm;};k=c;k=d.__decorate([g.O(),d.__param(0,g.cF(a.d9))],k);b.Pwa=k;},function(d,b,a){var g,k;function c(){this.Fra="";this.J4a=[[],[]];this.$=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.wua=void 0;d=a(0);g=a(1);a(4);k=a(91);c.prototype.downloadRequest=function(a){var b;"" === this.Fra && (this.Fra=a.va);if(!a.vc){b=this.HUb(a);this.$[a.I].push(b);this.J4a[a.I].forEach(function(a){a.Q3b(b);});}};c.prototype.HUb=function(a){return {id:a.Bk(),va:a.va,I:a.I,Wh:a.Wh,startTime:a.ky,endTime:a.av,offset:a.Nn,WI:a.WI,VI:a.VI,duration:a.ex,U:a.U,state:k.W7.KNa,Hs:!1,m6b:!1,eSa:!1,b5b:k.V7.waiting};};c.prototype.update=function(a){this.J4a[a.I].forEach(function(b){b.r9b(a);});};ma.Object.defineProperties(c.prototype,{va:{configurable:!0,enumerable:!0,get:function(){return this.Fra;}}});a=c;a=d.__decorate([g.O()],a);b.wua=a;},function(d,b,a){var g,k,m,f,h;function c(a,b){a=m.Se.call(this,a,"LogDisplayConfigImpl") || this;a.sn=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.nza=void 0;d=a(0);g=a(1);k=a(43);m=a(44);f=a(32);a=a(130);L(c,m.Se);ma.Object.defineProperties(c.prototype,{ST:{configurable:!0,enumerable:!0,get:function(){return !0;}},NK:{configurable:!0,enumerable:!0,get:function(){return this.sn.NK;}},xUa:{configurable:!0,enumerable:!0,get:function(){return -1;}}});h=c;d.__decorate([k.config(k.Mc,"renderDomDiagnostics")],h.prototype,"ST",null);d.__decorate([k.config(k.a3,"logDisplayMaxEntryCount")],h.prototype,"NK",null);d.__decorate([k.config(k.a3,"logDisplayAutoshowLevel")],h.prototype,"xUa",null);h=d.__decorate([g.O(),d.__param(0,g.l(f.ck)),d.__param(1,g.l(a.kH))],h);b.nza=h;},function(d,b,a){var m,f,h,n,p,r,v,A,y,B,t,J,D,T,R,U;function c(a,b,c,d,f,g,h,l,m,n){var q;q=this;this.ta=a;this.app=b;this.Ed=c;this.Ea=d;this.Mm=f;this.config=g;this.cA=h;this.Usa=l;this.yrb=m;this.Uk=n;this.jUb=function(){q.mV.bd(function(){q.update();});};this.clear=function(){q.entries=[];q.update();};this.TVa=function(){q.ee.CK=!q.ee.CK;q.VA && q.bB && (q.ee.CK?(q.VA.style.display="inline-block",q.bB.style.display="none"):(q.bB.style.display="inline-block",q.VA.style.display="none"));q.UF(!1);};this.GFb=function(a){var b;q.entries.push(a);b=q.config.NK;0 <= b && q.entries.length > b && q.entries.shift();void 0 === q.ee.Qw[a.kn] && (q.ee.Qw[a.kn]=!0,q.UF(!1));q.ee.jp && !q.C2a?q.jUb():q.mV.bd();};this.dtb=function(){k.download("all",q.entries.map(function(a){return a.e7(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.wm=!1;this.ee={jp:!1,CK:!0,C0:!0,xna:B.Ni.U9,Qw:{}};this.mV=this.Usa(v.$g(1));this.vvb=this.yrb(v.Nb(250));this.entries=[];!1;!1;}function g(a){var b;this.elements=[];b=document.createElementNS(g.RU,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.oza=void 0;d=a(0);m=a(1);f=a(27);h=a(106);n=a(337);p=a(42);r=a(35);v=a(4);A=a(18);y=a(84);B=a(6);t=a(107);J=a(269);D=a(477);T=a(63);R=a(126);U=a(268);k.download=function(a,b){return k.nyb(a).then(function(a){return k.rAb(a,b.join("\r\n")).then(function(a){return k.$sb(a.filename,a.text);});});};k.nyb=function(a){return new Promise(function(b,c){var d,f,g,h,l,k,m;try{d=new Date();f=d.getDate().toString();g=(d.getMonth() + 1).toString();h=d.getFullYear().toString();l=d.getHours().toString();k=d.getMinutes().toString();m=d.getSeconds().toString();1 === f.length && (f="0" + f);1 === g.length && (g="0" + g);1 === l.length && (l="0" + l);1 === k.length && (k="0" + k);1 === m.length && (m="0" + m);b(h + g + f + l + k + m + "." + a + ".log");}catch(ca){c(ca);}});};k.rAb=function(a,b){return new Promise(function(c,d){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(ha){d(ha);}});};k.$sb=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(ta){return Promise.reject(ta);}};g.prototype.sM=function(){var a;a=document.createElementNS(g.RU,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",(1).toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};g.prototype.tM=function(a,b,c){var d;d=document.createElementNS(g.RU,"path");d.setAttribute("d",a);b && d.setAttribute("fill",b);c && d.setAttribute("fill-rule",c);this.addElement(d);return this;};g.prototype.IU=function(a,b,c,d,f){var h;f=void 0 === f?"#000000":f;h=document.createElementNS(g.RU,"rect");h.setAttribute("x",a.toString());h.setAttribute("y",b.toString());h.setAttribute("height",c.toString());h.setAttribute("width",d.toString());f && h.setAttribute("fill",f);this.addElement(h);return this;};g.prototype.PSb=function(){var a;a=document.createElementNS(g.RU,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};g.prototype.end=function(){this.elements.pop();return this;};g.prototype.Cj=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};g.prototype.addElement=function(a){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(a);this.elements.push(a);};ma.Object.defineProperties(g,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},aE:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});g.RU="http://www.w3.org/2000/svg";c.prototype.$a=function(){var a;a=this;this.vm || (this.vm=new Promise(function(b){ka.addEventListener("keydown",function(b){b.ctrlKey && b.altKey && b.shiftKey && (b.keyCode == R.yt.t$a?a.toggle():b.keyCode == R.yt.E && U.VV.lha(a.cA().mi));});a.Mm.K5(J.x$.A7a,a.GFb);b();}));return this.vm;};c.prototype.show=function(){document.body && (this.element || (this.kqb(),this.wm=!0),!this.ee.jp && this.element && (document.body.appendChild(this.element),this.ee.jp=!0,this.update(!0)));};c.prototype.yq=function(){this.wm && this.ee.jp && this.element && (document.body.removeChild(this.element),this.ee.jp=!1);};c.prototype.toggle=function(){this.ee.jp?this.yq():this.show();this.UF(!1);};c.prototype.kqb=function(){var a,b;try{a=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.$n=this.brb());a.appendChild(this.crb());a.appendChild(this.dqb());this.element=a;}catch(Z){console.error("Unable to create the log console",Z);}};c.prototype.brb=function(){var a,b;a=this;b=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.C2a=!0;a.update();a.$n && (a.$n.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.C2a=!1;a.update();a.$n && (a.$n.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};c.prototype.crb=function(){var a;a=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.Fqb());a.appendChild(this.vqb());a.appendChild(this.pqb());a.appendChild(this.erb());a.appendChild(this.hqb());a.appendChild(this.Mqb());a.appendChild(this.Jqb());a.appendChild(this.rqb());a.appendChild(this.iqb());return a;};c.prototype.dqb=function(){var a,b,c,d,f,g;a=this;b=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("div","padding:2px");d=this.createElement("select",this.vu(22,160,1,2),"<option>Select categories</option>");f=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(f);c.appendChild(d);c.addEventListener("mousedown",function(a){a.preventDefault();});g=!1;c.addEventListener("click",function(){g?f.style.display="none":(f.innerHTML="",["all","none"].concat(Object.keys(a.ee.Qw).sort()).forEach(function(b){f.appendChild(a.eqb(b,c));}),f.style.display="block");g=!g;});return b;};c.prototype.eqb=function(a,b){var c,d,f;c=this;d=this.createElement("label","display: block;margin:1px");d.htmlFor=a;f=this.createElement("input","margin:1px");f.type="checkbox";f.id=a;f.checked=this.ee.Qw[a];f.addEventListener("click",function(){"all" === a || "none" === a?(Object.keys(c.ee.Qw).forEach(function(b){c.ee.Qw[b]="all" === a;}),b.click()):c.ee.Qw[a]=!c.ee.Qw[a];c.UF(!0);});d.appendChild(f);d.insertAdjacentText("beforeend",18 < a.length?a.slice(0,15) + "...":a);return d;};c.prototype.Fqb=function(){var a,b;a=this;b=this.createElement("select",this.vu(22,NaN,1,2),'<option value="' + B.Ni.ERROR + '">Error</option>' + ('<option value="' + B.Ni.lca + '">Warn</option>') + ('<option value="' + B.Ni.U9 + '">Info</option>') + ('<option value="' + B.Ni.nEa + '">Trace</option>') + ('<option value="' + B.Ni.ma + '">Debug</option>'));b.value=this.ee.xna.toString();b.addEventListener("change",function(b){a.ee.xna=parseInt(b.target.value);a.UF(!0);},!1);return b;};c.prototype.vqb=function(){var b,c;function a(a){return b.vvb.bd(function(){var c;c=a.target.value;b.ee.filter=c?new RegExp(c):void 0;b.UF(!0);});}b=this;c=this.createElement("input",this.vu(14,150,1,2));c.value=this.ee.filter?this.ee.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};c.prototype.pqb=function(){var a,b,c,d;a=this;b=this.createElement("div",this.vu(NaN,NaN));c=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.ee.C0;c.addEventListener("change",function(b){a.ee.C0=b.target.checked;a.UF(!0);},!1);d=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");d.setAttribute("for","details");d.innerHTML="View details";b.appendChild(c);b.appendChild(d);return b;};c.prototype.erb=function(){var a,b,c;a=this;b=this.createElement("button",this.vu());c=new g("0 0 24 24").sM().PSb().end().tM("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",g.aE,"nonzero").end().end().Cj();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};c.prototype.hqb=function(){var a,b;a=this.createElement("button",this.vu());b=new g("0 0 24 24").sM().IU(0,0,24,24,g.background).end().tM("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",g.aE).end().end().Cj();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};c.prototype.Mqb=function(){var a;this.bB=this.createElement("button",this.vu());this.bB.style.display=this.ee.CK?"none":"inline-block";a=new g("0 0 24 24").sM().IU(0,0,24,24,g.background).end().tM("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",g.aE,"nonzero").end().end().Cj();this.bB.addEventListener("click",this.TVa,!1);this.bB.appendChild(a);this.bB.setAttribute("title","Shrink the log console");return this.bB;};c.prototype.Jqb=function(){var a;this.VA=this.createElement("button",this.vu());this.VA.style.display=this.ee.CK?"inline-block":"none";a=new g("0 0 24 24").sM().IU(4,4,16,16,g.background).end().tM("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",g.aE,"nonzero").end().end().Cj();this.VA.addEventListener("click",this.TVa,!1);this.VA.appendChild(a);this.VA.setAttribute("title","Expand the log console");return this.VA;};c.prototype.rqb=function(){var a,b;a=this.createElement("button",this.vu());b=new g("0 0 26 26").sM().IU(0,0,24,24,g.background).end().tM("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",g.aE,"nonzero").end().end().Cj();a.appendChild(b);a.addEventListener("click",this.dtb,!1);a.setAttribute("title","Download all log messages");return a;};c.prototype.iqb=function(){var a,b,c;a=this;b=this.createElement("button",this.vu());c=new g("0 0 24 24").sM().IU(0,0,24,24,g.background).end().tM("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",g.aE,"nonzero").end().end().Cj();b.appendChild(c);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};c.prototype.UF=function(a){var b;a=void 0 === a?!1:a;b=void 0 === b?!1:b;!1;a && this.update(b);};c.prototype.update=function(a){var b;a=void 0 === a?!1:a;b=this;this.element && this.config.ST && Promise.resolve(this.Rlb() + this.oyb().join("\r\n")).then(function(c){b.element && b.$n && (b.$n.value=c,b.element.style.cssText=b.ee.CK?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a && b.Ea.zi(v.lb,function(){b.$n.scrollTop=b.$n.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};c.prototype.oyb=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level || c.level) <= a.ee.xna && a.ee.Qw[c.kn] && (c=c.e7(!a.ee.C0,!a.ee.C0),a.ee.filter && !a.ee.filter.test(c) || b.push(c));});return b;};c.prototype.Rlb=function(){var a;a=this.cA();return "Version: 6.0029.052.051 \n" + ((a?"Esn: " + a.mi:"") + "\n") + ("JsSid: " + this.app.id + ", Epoch: " + this.ta.Ae.ca(v.Wm) + ", Start: " + this.app.PE.ca(v.Wm) + ", TimeZone: " + new Date().getTimezoneOffset() + "\n") + ("Href: " + location.href + "\n") + ("UserAgent: " + navigator.userAgent + "\n") + "--------------------------------------------------------------------------------\n";};c.prototype.createElement=function(a,b,c,d){return this.Ed.createElement(a,b,c,d);};c.prototype.vu=function(a,b,c,d){a=void 0 === a?26:a;b=void 0 === b?26:b;return "display:inline-block;border:" + (void 0 === c?0:c) + "px solid " + g.aE + ";padding:3px;" + (isNaN(a)?"":"height:" + a + "px") + ";" + (isNaN(b)?"":"width:" + b + "px") + ";margin:0px 3px;background-color:transparent;" + (d?"border-radius:" + d + "px;":"");};a=c;a.eTb="logDxDisplay";a=d.__decorate([m.O(),d.__param(0,m.l(r.fh)),d.__param(1,m.l(A.Fd)),d.__param(2,m.l(f.rg)),d.__param(3,m.l(p.ph)),d.__param(4,m.l(t.qC)),d.__param(5,m.l(D.q$)),d.__param(6,m.l(y.tt)),d.__param(7,m.l(h.OC)),d.__param(8,m.l(n.M8)),d.__param(9,m.l(T.mt))],a);b.oza=a;},function(d,b,a){var g,k,m,f,h,n,p,r;function c(a,b,c){var d;d=n.oO.call(this,a,b,"network") || this;d.Kha=c;d.D0=h.O8.aab;d.qGb=30;d.VJb=function(a){d.D0=a.target.value;d.refresh();};d.pJb=function(){d.data={};d.refresh();};d.Q_a=function(a){var b,c;b=Number(a.target.id);a=a.target.getAttribute("data-type");b=d.data[d.D0][b].value;c=JSON.stringify(b,null,4);"copy" === a?r.VV.lha(c):"log" === a && console.log(b);};return d;}Object.defineProperty(b,"__esModule",{value:!0});b.pab=void 0;d=a(0);g=a(1);k=a(27);m=a(22);f=a(90);h=a(179);n=a(475);p=a(126);r=a(268);L(c,n.oO);c.prototype.$a=function(){var a;a=this;if(this.wm)return Promise.resolve();ka.addEventListener("keydown",function(b){b.ctrlKey && b.altKey && b.shiftKey && b.keyCode == p.yt.fab && a.toggle();});this.data={};this.Kha.addListener(h.P8.xbb,function(b){var c;a.data[b.type] || (a.data[b.type]=[]);c=a.data[b.type];c.length === a.qGb && c.shift();c.push(b);b.type === a.D0 && a.refresh();});this.wm=!0;return Promise.resolve();};c.prototype.Jj=function(){return '<tr class="' + this.prefix + '-display-headerrow">' + ('<th width="30px"><span class="' + this.prefix + '-display-indexheader">#</span></th>') + ('<th width="150px"><span class="' + this.prefix + '-display-keyheader">Name</span></th>') + ('<th style="border-right:solid 0px"><span class="' + this.prefix + '-display-valueheader">Value</span></th>') + ('<th style="border-left:solid 0px" width="30px"><button id="' + this.prefix + '-display-close-btn">X</button></th>') + "</tr>";};c.prototype.Oka=function(a,b,c){var d;d=a.toString();b='<font color="#C41A16">"' + b + '"</font>';c=this.FKa.Cj(c);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + d + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + b + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + c + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + a + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + a + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};c.prototype.$ka=function(){for(var a='<table class="' + this.prefix + '-display-table" width="100%">' + this.Jj(),b=this.data[this.D0] || [],c=0;c < b.length;++c){a+=this.Oka(c,b[c].name,b[c].value);}return a + "</table>";};c.prototype.YPa=function(){var a;a=this.Ed.createElement("button",n.CG,"Clear",{"class":this.prefix + "-display-btn"});a.onclick=this.pJb;return [a,this.drb(),this.Xqb()];};c.prototype.drb=function(){var a;a=this.Ed.createElement("select",n.CG,Object.values(h.O8).reduce(function(a,b){return a + ('<option value="' + b + '">' + b + "</option>");},""),{"class":this.prefix + "-display-select"});a.onchange=this.VJb;return a;};c.prototype.Xqb=function(){var a,b,c,d;a=this;b=this.Ed.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.GT;b.onchange=function(){return a.PUb();};c=this.Ed.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});d=this.Ed.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});d.appendChild(b);d.appendChild(c);return d;};c.prototype.RZa=function(){return Promise.resolve(this.$ka());};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(k.rg)),d.__param(1,g.l(m.He)),d.__param(2,g.l(f.wN))],a);b.pab=a;},function(d,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;d=a(1);c=a(478);g=a(449);k=a(448);m=a(1083);f=a(10);b.crypto=new d.Tc(function(a){a(k.A8).to(m.cwa).Z();a(c.eaa).ci(f.Wy);a(g.B8).ci(f.pX);});},function(d,b,a){var g,k;function c(a){this.kIb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.cwa=void 0;d=a(0);g=a(478);a=a(1);c.prototype.dQa=function(){var a;a=this.kIb.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};k=c;k=d.__decorate([a.O(),d.__param(0,a.l(g.eaa))],k);b.cwa=k;},function(d,b,a){var c,g,k,m,f,h,n,p,r,v;Object.defineProperty(b,"__esModule",{value:!0});b.Wd=void 0;d=a(1);c=a(1085);g=a(1086);k=a(1087);m=a(133);f=a(298);h=a(455);n=a(1088);p=a(1089);r=a(479);v=a(1090);b.Wd=new d.Tc(function(a){a(m.cY).to(c.gEa).Z();a(f.LX).to(k.TCa).Z();a(h.ica).to(g.REa).Z();a(n.SAa).to(p.RAa).Z();a(r.oca).to(v.eFa).Z();});},function(d,b,a){var g,k,m,f,h,n;function c(a,b){this.is=a;this.json=b;k.En(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.gEa=void 0;d=a(0);k=a(53);m=a(33);f=a(1);h=a(22);n=a(133);c.prototype.yZa=function(a){var b;b=this;return g.read(a,function(a){return parseInt(a);},function(a){return b.is.kfa(a);});};c.prototype.yqa=function(a){var b;b=this;return g.read(a,function(a){return "true" == a?!0:"false" == a?!1:void 0;},function(a){return b.is.IP(a);});};c.prototype.zp=function(a){var b;b=this;return g.read(a,function(a){return parseInt(a);},function(a){return b.is.KI(a);});};c.prototype.xNb=function(a){var b;b=this;return g.read(a,function(a){return parseFloat(a);},function(a){return b.is.Sh(a);});};c.prototype.xZa=function(a,b){return g.read(a,function(a){return g.Dvb(a,b);},function(a){return void 0 !== a;});};c.prototype.Cqa=function(a,b){return g.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};c.prototype.zZa=function(a){var b,c;b=void 0 === b?function(){return !0;}:b;c=this;try{return g.read(a,function(a){return c.json.parse(decodeURIComponent(a));},function(a){return c.is.BD(a) && b(a);});}catch(A){return new n.jo();}};c.prototype.Qk=function(a,b,c){var d,f;c=void 0 === c?1:c;d=this;a=a.trim();f=b instanceof Function?b:this.Nqb(b,c);b=a.indexOf("[");c=a.lastIndexOf("]");if(0 != b || c != a.length - 1)return new n.jo();a=a.substring(b + 1,c);try{return g.EKb(a).map(function(a){a=f(d,g.YWb(a));if(a instanceof n.jo)throw a;return a;});}catch(B){return B instanceof n.jo?B:new n.jo();}};c.prototype.Nqb=function(a,b){var c;b=void 0 === b?1:b;c=this;return function(d,f){d=g.qzb(a);return 1 < b?c.Qk(f,a,b - 1):d(c,f);};};c.Dvb=function(a,b){var d;for(var c in b){d=parseInt(c);if(b[d] == a)return d;}};c.read=function(a,b,c){a=b(a);return void 0 !== a && c(a)?a:new n.jo();};c.qzb=function(a){switch(a){case "int":return function(a,b){return a.yZa(b);};case "bool":return function(a,b){return a.yqa(b);};case "uint":return function(a,b){return a.zp(b);};case "float":return function(a,b){return a.xNb(b);};case "string":return function(a,b){return a.Cqa(b);};case "object":return function(a,b){return a.zZa(b);};}};c.EKb=function(a){var k;for(var b=[["[","]"]],c=[],d=0,f=0,g=0,h=[],l={};f < a.length;(l={"char":l["char"]},++f)){l["char"]=a.charAt(f);k=void 0;"," == l["char"] && 0 == g?(c.push(a.substr(d,f - d)),d=f + 1):(k=b.find((function(a){return function(b){return b[0] == a["char"];};})(l)))?(++g,h.push(k)):0 < h.length && h[h.length - 1][1] == l["char"] && (--g,h.pop());}if(d != f)c.push(a.substr(d,f - d));else if(d == f && 0 < d)throw new n.jo();return c;};c.YWb=function(a){var b;b=a.charAt(0);if('"' == b || "'" == b){if(a.charAt(a.length - 1) != b)throw new n.jo();return a.substring(1,a.length - 1);}return a;};a=g=c;a=g=d.__decorate([f.O(),d.__param(0,f.l(h.He)),d.__param(1,f.l(m.Py))],a);b.gEa=a;},function(d,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.REa=void 0;d=a(0);a=a(1);c.prototype.EPa=function(a){var b;b=this;return a?(a ^ 16 * Math.random() >> a / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(a){return b.EPa(a);});};g=c;g=d.__decorate([a.O()],g);b.REa=g;},function(d,b,a){var g,k,m,f;function c(a){this.location=a;k.En(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.TCa=void 0;d=a(0);k=a(53);m=a(33);a=a(1);c.tT=function(a){var b,d,f;b={};if(0 < a.length){a=a.split("&");for(var c=0;c < a.length;c++){d=a[c].trim();f=d.indexOf("=");0 <= f?b[decodeURIComponent(d.substr(0,f).replace(g.kBa,"%20"))]=decodeURIComponent(d.substr(f + 1).replace(g.kBa,"%20")):b[d.toLowerCase()]="";}}return b;};ma.Object.defineProperties(c.prototype,{kNb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=g.tT(this.oZa);}},oZa:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0 !== this.KT)return this.KT;this.KT=this.location.search.substr(1);a=this.KT.indexOf("#");0 <= a && (this.KT=this.oZa.substr(0,a));return this.KT;}}});f=g=c;f.kBa=/[+]/g;f=g=d.__decorate([a.O(),d.__param(0,a.l(m.o$))],f);b.TCa=f;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.SAa=void 0;b.SAa="ObjectComparerSymbol";},function(d,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.RAa=void 0;d=a(0);g=a(1);k=a(191);c.prototype.compare=function(a,b){var c;c=[];this.Rga(a,b,"",c);return c;};c.prototype.Rga=function(a,b,c,d){var f;f=this;if(k.oC.Cw(a))k.oC.Cw(b) && a.length === b.length?a.forEach(function(g,h){f.Rga(a[h],b[h],c + "[" + h + "]",d);}):d.push({a:a,b:b,path:c});else if(k.oC.BD(a) && null != a){if(k.oC.BD(b) && null != b){for(var g in a){this.Rga(a[g],b[g],c + "." + g,d);}for(var h in b){(h in a) || void 0 === b[h] || d.push({a:void 0,b:b[h],path:c + "." + h});}}else d.push({a:a,b:b,path:c});}else a !== b && d.push({a:a,b:b,path:c});};a=c;a=d.__decorate([g.O()],a);b.RAa=a;},function(d,b,a){var g,k,m,f,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.eFa=void 0;d=a(0);g=a(1);k=a(10);m=a(31);f=a(270);h=a(7);c.prototype.Nzb=function(){var a;a=ka.devicePixelRatio || 1;return {width:this.Zda.eZb || k.Ft.width * a,height:this.Zda.dZb || k.Ft.height * a};};ma.Object.defineProperties(c.prototype,{Zda:{configurable:!0,enumerable:!0,get:function(){return h.ja.get(m.It);}}});a=c;d.__decorate([f.sS],a.prototype,"Zda",null);a=d.__decorate([g.O()],a);b.eFa=a;},function(d,b,a){var c,g,k,m,f,h,n,p,r,v,A,y,B,t,J,D;Object.defineProperty(b,"__esModule",{value:!0});b.kc=void 0;d=a(1);c=a(480);g=a(1092);k=a(98);m=a(271);f=a(1093);h=a(1094);n=a(1099);p=a(1100);r=a(1101);v=a(1102);A=a(1103);y=a(272);B=a(482);t=a(71);J=a(273);D=a(1106);b.kc=new d.Tc(function(a){a(c.Raa).to(g.WBa).Z();a(m.oba).to(f.JCa).Z();a(k.Sv).to(h.YEa).Z();a(y.IX).to(r.Uza).Z();a(y.mba).to(p.hza).Z();a(y.lba).to(n.dza).Z();a(y.kba).to(v.aya).Z();a(y.nba).to(A.jAa).Z();a(J.b8).LUb(function(){return t.vh.Fr.Vn.Ga.iy;});a(J.a8).to(D.Kua).Z();a(B.iba).to(B.yCa);});},function(d,b,a){var g,k,m;function c(a,b){this.Sa=b;this.la=a.tb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.WBa=void 0;d=a(0);g=a(1);k=a(6);a=a(22);c.prototype.usb=function(a){var b;b=this;try{return {direction:a.direction,F6b:a.layoutHasChanged,u8b:a.rowInteractionIndex,Oa:a.lolomos.map(function(a){return b.qsb(a);})};}catch(q){this.la.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};c.prototype.qsb=function(a){var b;b=this;return {context:a.context,list:a.list.map(function(a){return b.psb(a);}),requestId:a.requestId,rowIndex:a.rowIndex,v8b:a.rowSegment};};c.prototype.psb=function(a){var b,c;b={jd:a.pts,property:a.property,fa:a.viewableId,index:a.index};c=a.preplay;this.Sa.Qf(c) && (b.u5=this.tsb(c));a=a.params;this.Sa.Qf(a) && (b.fb=this.jNa(a));return b;};c.prototype.tsb=function(a){var b;b={jd:a.pts,fa:a.viewableId,yL:a.pipelineNum,index:a.index};a=a.params;this.Sa.Qf(a) && (b.fb=this.jNa(a));return b;};c.prototype.jNa=function(a){return {Dd:a.uiLabel,qj:a.trackingId,Tn:a.sessionParams};};c.prototype.kNa=function(a){var b;b=this;try{return a.map(function(a){return b.rsb(a);});}catch(q){this.la.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};c.prototype.rsb=function(a){var b,c;c=a.params;this.Sa.Qf(c) && (b=this.ssb(c));return {u:a.movieId,Ud:a.priority,force:a.force,fb:b,Dd:a.uiLabel,n9b:a.uiExpectedStartTime,m9b:a.uiExpectedEndTime,yk:a.firstTimeAdded};};c.prototype.ssb=function(a){var b,c;b=void 0;c=a.sessionParams;this.Sa.Qf(c) && (b=c);return {bQ:this.osb(a.authParams),Tn:b,qj:a.trackingId,X:a.startPts,pa:a.manifest,Kj:a.isBranching};};c.prototype.osb=function(a){return {nYa:null === a || void 0 === a?void 0:a.pinCapableClient};};m=c;m=d.__decorate([g.O(),d.__param(0,g.l(k.zb)),d.__param(1,g.l(a.He))],m);b.WBa=m;},function(d,b,a){var g,k,m,f,h,n,p,r,v,A;function c(a,b,c,d){this.is=c;this.app=d;this.log=a.tb("TaskScheduler");this.Jb=new v.tj();this.config=b();this.j0=this.HQ=0;this.eG=[];this.paused=!1;this.I6=[];this.NLa=[];this.ICb=this.config.pMb || A.append;this.addEventListener=this.Jb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.JCa=void 0;d=a(0);g=a(1);k=a(271);m=a(6);f=a(14);h=a(97);n=a(22);p=a(18);r=a(4);v=a(68);(function(a){a.wMb="prepend";a.append="append";a.ZBb="ignore";})(A || (A={}));c.prototype.IIa=function(a){this.log.trace("adding tasks, number of tasks: " + a.length);this.paused=!1;this.eG=this.JCb(a);this.HQ=0;this.j0+=1;this.Hc();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Hc=function(){var a,b,c,d;a=this;if(this.HQ === this.eG.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.HQ,numberOfTasks:this.eG.length});else {b=this.jzb();c=this.j0;b.startTime=this.app.Bb().ca(r.ga);b.status=h.If.kv;this.Jb.dc(k.pH.eUb,{u:b.u,type:b.type});this.I6.push(b);d=function(d){b.endTime=a.app.Bb().ca(r.ga);d();a.NLa.push(b);a.I6.splice(a.I6.indexOf(b),1);a.j0 === c && (a.HQ++,a.Hc());};b.KPb().then(function(){d(function(){b.status=h.If.CM;a.kqa(b,k.pH.fUb,"task succeeded");});})["catch"](function(c){d(function(){0 <= [h.If.mk,h.If.qga,h.If.J_,h.If.pga].indexOf(c.status)?(b.status=c.status,a.kqa(b,k.pH.cUb,"cancelled task")):(b.status=h.If.rq,a.kqa(b,k.pH.dUb,"task failed",c));});});}};c.prototype.jzb=function(){return this.eG[this.HQ];};c.prototype.getStats=function(a,b,c){var d,f,g,l;d=this.NLa.map(function(a){return a.gs();});f=this.I6.map(function(a){return a.gs();});g=this.is.Qf(a) && this.is.Qf(b);l={};if(this.is.Qf(c))return (l.LLa=d.filter(function(a){return a.movieId === c;}),l);d.concat(f).forEach(function(c){var d;l[c.type + "_" + c.status]=(l[c.type + "_" + c.status] | 0) + 1;d=c.status == h.If.kv?c.startTime:c.endTime;g && d && d >= a && d < b && (l[c.type + "_" + c.status + "_delta"]=(l[c.type + "_" + c.status + "_delta"] | 0) + 1);});return l;};c.prototype.kqa=function(a,b,c,d){var f;f=a.gs();d?this.log.warn(c,f,d):this.log.trace(c,f);this.Jb.dc(b,{u:a.u,type:a.type,reason:a.status});a.Ru(f);};c.prototype.JCb=function(a){var b,c;b=this.eG.filter(function(a){return a.dLb && a.status === h.If.pn;});c=this.ICb;return c === A.ZBb?[].concat(a):c === A.wMb?b.concat(a):a.concat(b);};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(m.zb)),d.__param(1,g.l(f.Sc)),d.__param(2,g.l(n.He)),d.__param(3,g.l(p.Fd))],a);b.JCa=a;},function(d,b,a){var k,m,f,h,n,p,r,v,A,y,B,t,J,D,T,R;function c(a,b,c,d,f,g,h,l,k,m,n,q){var r;r=this;this.MXb=c;this.Sa=d;this.app=f;this.ah=g;this.OOa=h;this.nvb=l;this.ovb=k;this.mvb=m;this.HEb=n;this.fja=q;this.events=new T.EventEmitter();this.log=a.tb("VideoPreparer");this.config=b();this.$ta={};this.w4={};this.ina={};this.jna={};this.gc={num_of_calls:0,num_of_movies:0};this.hm=new R({log:this.log,ta:{getTime:function(){return r.app.Bb().ca(A.ga);}},Promise:Promise,xm:!1,Xlb:this.config.sMb,Wlb:this.config.qMb,Rub:this.config.RYa,Qub:this.config.rMb});}function g(a){return void 0 !== a;}Object.defineProperty(b,"__esModule",{value:!0});b.YEa=void 0;d=a(0);k=a(1095);m=a(14);f=a(1);h=a(6);n=a(89);p=a(22);r=a(271);v=a(18);A=a(4);y=a(97);B=a(272);t=a(71);J=a(273);D=a(11);T=a(16);R=a(1096);c.prototype.PF=function(a,b,c,d){this.hm.setData(a,b,c,d);};c.prototype.PR=function(a,b){return this.hm.v2(a,b);};c.prototype.vq=function(a,b){return this.hm.getData(a,b);};c.prototype.IFb=function(){return this.SE();};c.prototype.PPa=function(a){var b;b=this.hm.getData(a,"ldl");this.hm.clearData(a,"ldl",void 0,!0);return b;};c.prototype.lXb=function(a){return this.wM === a || this.$D === a;};c.prototype.qB=function(a,b){var c,d,f;c=this;a=a.map(function(a){a.fb=a.fb || ({bQ:{nYa:!1},qj:0});c.Sa.cE(a.fb.qj) || (a.fb.qj=0);c.Sa.cE(a.jd) && (a.fb.X=a.jd);return a;});d=a.map(function(a){return c.BMa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);f=d.map(function(a){return a.u + "-" + a.type;});this.log.trace("prepare tasks",f);this.ah.IIa(d);this.gc.num_of_calls++;this.gc.num_of_movies+=a.length;};c.prototype.dMb=function(a,b){var c,d,f;c=this;d=a.map(function(a){return a.u + "";});a=a.map(function(a){a.fb=a.fb || ({bQ:{nYa:!1},qj:0});a.fb.Cd=!0;a.fb.eWa=d;return a;}).map(function(a){return c.BMa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);f=a.map(function(a){return a.u + "-" + a.type;});this.log.trace("predownload tasks",f);this.ah.IIa(a);};c.prototype.getStats=function(a,b,c){return Object.assign(Object.assign({},c && this.w4[c] || ({})),{eG:this.ah.getStats(a,b,c),cache:this.hm.getStats(a,b),Fwb:Object.assign(Object.assign(Object.assign({},this.eyb()),this.gc),this.fja.getStats())});};c.prototype.fBb=function(a){this.wM=a;};c.prototype.eBb=function(a){this.log.trace("task scheduler paused on playback created");this.ah.pause();this.config.lsb && this.hm.Gga(a,["manifest"]);this.config.ksb && this.hm.Gga(a,["ldl"]);this.fja.ZZa(a);this.$D=a;};c.prototype.YRa=function(){this.log.info("track changed, clearing all manifests from cache");this.hm.Gga("none",["manifest"]);};c.prototype.dBb=function(a){var b;b=this;this.config.hsb?this.hm.clearData(a,"manifest"):this.hm.v2(a,"manifest") && this.hm.getData(a,"manifest").then(function(c){c.Fc.isSupplemental || b.hm.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId [" + a + "] from cacheManager.",c);});this.Lga(a);this.wM=this.$D=void 0;};c.prototype.Lga=function(a){delete this.$ta[a];};c.prototype.jK=function(a){return this.$ta[a];};c.prototype.FMa=function(a){return this.$ta[a]=this.MXb.Yz();};c.prototype.uDb=function(a){return this.$D === a;};c.prototype.p1a=function(a,b,c){if(this.PR(a,"ldl"))return y.If.mk;if(!b.x2)return y.If.pga;if(this.config.atb && this.$D && this.$D !== a && !c.force)return y.If.qga;if(this.config.btb && this.wM && this.wM !== a && !c.force)return y.If.J_;this.$D && this.$D !== a && (this.ina[a]=(this.ina[a] | 0) + 1);this.wM && this.wM !== a && (this.jna[a]=(this.jna[a] | 0) + 1);};c.prototype.BMa=function(a,b){var c,d;a.Dd && a.fb && (a.fb.Dd=a.Dd);this.dWb(a.u,a.yk);c=this.Iqb(a,b);d=this.Dqb(a,null === c || void 0 === c?void 0:c.id,b);a=this.iSb(a)?[this.Lqb(a,null === c || void 0 === c?void 0:c.id,b)]:this.Eqb(a,null === c || void 0 === c?void 0:c.id,b);return [].concat([c,d],X(a)).filter(g);};c.prototype.Iqb=function(a,b){if(this.hm.v2(a.u,"manifest"))this.log.trace("manifest exists in cache for " + a.u);else return new k.GC("manifest",this.app.Bb().ca(A.ga),! !a.fb.Cd,void 0,b,this.OOa,a,this);};c.prototype.Dqb=function(a,b,c){if(this.config.HJ)if(this.hm.v2(a.u,"ldl"))!1;else return this.config.Ip?new k.GC("ldl",this.app.Bb().ca(A.ga),! !a.fb.Cd,b,c,this.nvb,a,this):new k.GC("ldl",this.app.Bb().ca(A.ga),! !a.fb.Cd,b,c,this.ovb,a,this);};c.prototype.Lqb=function(a,b,c){if(this.config.ZQ)return new k.GC("getMedia",this.app.Bb().ca(A.ga),! !a.fb.Cd,b,c,this.fja,a,this);};c.prototype.Eqb=function(a,b,c){if(this.config.ZQ)if(this.KHb(a.u))!1;else return [new k.GC("getMedia",this.app.Bb().ca(A.ga),! !a.fb.Cd,b,c,this.HEb,a,this),new k.GC("getHeaders",this.app.Bb().ca(A.ga),! !a.fb.Cd,b,c,this.mvb,a,this)];return [];};c.prototype.iSb=function(a){var b;return ! !D.V_(null === (b=a.fb) || void 0 === b?void 0:b.Dd).Ml;};c.prototype.dWb=function(a,b){this.w4[a] || (this.w4[a]={s5:0,yk:0});a=this.w4[a];a.s5=(void 0 !== a?void 0 !== a.s5?a.s5:0:0) + 1;a.yk=b;};c.prototype.eyb=function(){return {ldls_after_create:this.ina,ldls_after_start:this.jna};};c.prototype.KHb=function(a){return t.vh.Fr.jga().some(function(b){return b.u === a;});};c.prototype.SE=function(){return t.vh.Fr.SE();};a=c;a=d.__decorate([f.O(),d.__param(0,f.l(h.zb)),d.__param(1,f.l(m.Sc)),d.__param(2,f.l(n.Gv)),d.__param(3,f.l(p.He)),d.__param(4,f.l(v.Fd)),d.__param(5,f.l(r.oba)),d.__param(6,f.l(B.IX)),d.__param(7,f.l(B.mba)),d.__param(8,f.l(B.lba)),d.__param(9,f.l(B.kba)),d.__param(10,f.l(B.nba)),d.__param(11,f.l(J.a8))],a);b.YEa=a;},function(d,b,a){var g,k;function c(a,b,c,d,l,n,p,A){this.type=a;this.pn=b;this.dLb=void 0 === c?!1:c;this.KWa=l;this.pvb=n;this.EL=p;this.kc=A;this.id=++k;this.status=g.If.pn;}Object.defineProperty(b,"__esModule",{value:!0});b.GC=void 0;g=a(97);k=0;c.prototype.gs=function(){var a;a={id:this.id,type:this.type,created:this.pn,status:this.status,movieId:this.u};this.startTime && (a.startTime=this.startTime);this.endTime && this.startTime && (a.duration=this.endTime - this.startTime,a.endTime=this.endTime);return a;};c.prototype.Ru=function(a){this.KWa && this.KWa(a);};c.prototype.KPb=function(){return this.pvb.fetch(this.EL,this.kc);};ma.Object.defineProperties(c.prototype,{u:{configurable:!0,enumerable:!0,get:function(){return this.EL.u;}},Ud:{configurable:!0,enumerable:!0,get:function(){return this.EL.Ud;}}});b.GC=c;},function(d,b,a){var f;function c(){return Object.create(null);}function g(a){this.log=a.log;this.ta=a.ta;this.dB=c();this.Promise=a.Promise;this.Vw=a.Vw;this.vta=a.vta;this.xm=a.xm || !1;this.nu=c();this.Mz=c();this.Lz=c();this.Yhb(a);a.Yo && (this.Yo=a.Yo);}function k(a){return "undefined" !== typeof a;}function m(a){var d;for(var b=0,c=arguments.length;b < c;){d=arguments[b++];if(k(d))return d;}}a(1097);f=a(1098);g.prototype.Yhb=function(a){this.nu.manifest=m(a.Rub,f.nu.pa);this.nu.ldl=m(a.Qub,f.nu.tS);this.nu.metadata=m(a.w5b,f.nu.Td);this.Mz.manifest=m(a.Xlb,f.Mz.pa);this.Mz.ldl=m(a.Wlb,f.Mz.tS);this.Mz.metadata=m(a.o4b,f.Mz.Td);this.Lz.manifest=m(a.m4b,f.Lz.pa);this.Lz.ldl=m(a.l4b,f.Lz.tS);this.Lz.metadata=m(a.n4b,f.Lz.Td);};g.prototype.v2=function(a,b){this.Ro("undefined" !== typeof a);this.Ro("undefined" !== typeof b);return ! !this.dGa(a,b,void 0).value;};g.prototype.dGa=function(a,b,c){var d,f;d={value:null,reason:"",log:""};f=this.dB[b];if("undefined" === typeof f)return (d.log="cache miss: no data exists for field:" + b,d.reason="unavailable",d);"undefined" === typeof f[a]?(d.log="cache miss: no data exists for movieId:" + a,d.reason="unavailable"):(c=f[a][c?c:"DEFAULTCAPS"]) && c.value?this.g3(b,c.uk)?(d.log="cache miss: " + b + " data expired for movieId:" + a,d.reason="expired"):(d.log=this.Promise && c.value instanceof this.Promise?"cache hit: " + b + " request in flight for movieId:" + a:"cache hit: " + b + " available for movieId:" + a,d.value=c.value):(d.log="cache miss: " + b + " data not available for movieId:" + a,d.reason="unavailable");return d;};g.prototype.getData=function(a,b,c){this.Ro("undefined" !== typeof a);this.Ro("undefined" !== typeof b);a=this.dGa(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.vta?JSON.parse(this.vta(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};g.prototype.setData=function(a,b,d,f,g){var h,l,k;this.Ro("undefined" !== typeof a);this.Ro("undefined" !== typeof b);h=this.dB;l=g?g:"DEFAULTCAPS";h[b] || (h[b]=c(),Object.defineProperty(h[b],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(h[b],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));d=this.Vw?this.Vw(JSON.stringify(d),"gzip",!0):d;h=h[b];this.Gfb(a,b,l,h);k=this;f={uk:this.ta.getTime(),value:d,size:0,type:b,Zha:f,Pub:setTimeout(function(){k.clearData(a,b,l,!1,"expired");},this.nu[b] + 1)};h[a]=h[a] || c();h[a][l]=h[a][l] || c();h[a][l]=f;h.size+=0;h.numEntries++;this.Yo && this.Yo.emit("addedCacheItem",f);return f;};g.prototype.Gfb=function(a,b,c,d){var f,g,h,l,k,m,n,q,r;f=this;g=d.numEntries;h=this.Mz[b];m=d[a] && d[a][c];if(m && m.value)(l=a,k="promise_or_expired");else if(g >= h){q=Number.POSITIVE_INFINITY;Object.keys(d).every(function(a){var g;g=d[a] && d[a][c];g && g.value && f.g3(b,g.uk) && (r=a);g && g.value && g.uk < q && (q=g.uk,n=a);return !0;});l=r || n;k="cache_full";}this.xm && this.log.debug("makespace ",{maxCount:h,currentCount:d.numEntries,field:b,movieId:a,movieToBeRemoved:l});l && (f.clearData(l,b,c,void 0,k),this.log.debug("removed from cache: ",l,b));};g.prototype.Gga=function(a,b){var c,d;c=this;c.Ro("undefined" !== typeof a);d=a + "";b.forEach(function(a){var b;b=c.dB[a];b && Object.keys(b).forEach(function(b){b != d && c.clearData(b,a,void 0,void 0,"clear_all");});});};g.prototype.clearData=function(a,b,c,d,f){var g;this.Ro("undefined" !== typeof a);this.Ro("undefined" !== typeof b);g=this.dB[b];b=g?g[a]:void 0;c=c?c:"DEFAULTCAPS";if(b && b[c]){g.size-=b[c].size;g.numEntries--;if(g=b && b[c])(clearTimeout(g.Pub),b[c]=void 0,!d && g.Zha && g.Zha());this.Yo && (a={creationTime:g.uk,destroyFn:g.Zha,size:g.size,type:g.type,value:g.value,reason:f,movieId:a},this.Yo.emit("deletedCacheItem",a));}};g.prototype.flush=function(a){var b;this.Ro("undefined" !== typeof a);b=this.dB;b[a]=c();b[a].numEntries=0;b[a].size=0;};g.prototype.kLa=function(a,b){var c,d,f;this.Ro("undefined" !== typeof a);c=this;d=this.dB;f=b?b:"DEFAULTCAPS";d[a] instanceof Object && (b=Object.keys(d[a]),b.forEach(function(b){var g;g=d[a][b][f];c.ta.getTime() - g.uk > c.nu[a] && this.clearData(b,a,f,void 0,"clean_up");}));};g.prototype.g3=function(a,b){return this.ta.getTime() - b > this.nu[a];};g.prototype.getStats=function(a,b,c){var d,f,g,h,l;d={};f=this;g=f.dB;h=k(a) && k(b);l=c || "DEFAULTCAPS";Object.keys(g).forEach(function(c){var m,n;m=Object.keys(g[c]);n=g[c];m.forEach(function(g){!(g=n && n[g] && n[g][l]) || !k(g.value) || g.value instanceof this.Promise || (d[c]=(d[c] | 0) + 1,f.g3(g.type,g.uk) && (d[c + "_expired"]=(d[c + "_expired"] | 0) + 1),h && g.uk >= a && g.uk < b && (d[c + "_delta"]=(d[c + "_delta"] | 0) + 1));});});return d;};g.prototype.rd=function(a){var b,c,d,f;b=[];c=this;d=c.dB;f=a || "DEFAULTCAPS";Object.keys(d).forEach(function(a){var g,h;g=Object.keys(d[a]);h=d[a];g.forEach(function(d){var g,l;g=h && h[d] && h[d][f];g && k(g.value) && (l=c.g3(g.type,g.uk)?"expired":g.value instanceof this.Promise?"loading":"cached",b.push({movieId:d,state:l,type:a,size:g.size}));});});return b;};g.prototype.Yra=function(a,b){this.Ro("undefined" !== typeof a);this.Ro("undefined" !== typeof b);this.Lz[a]=b;};g.prototype.Ro=function(a){if(!a && (this.log.error("Debug Assert Failed",void 0),this.xm))throw Error("Debug Assert Failed ");};d.exports=g;},function(d){function b(a){var b;b=[];return (function k(a){if(a && "object" === typeof a){if(-1 !== b.indexOf(a))return !0;b.push(a);for(var c in a){if(a.hasOwnProperty(c) && k(a[c]))return !0;}}return !1;})(a);}d.exports=function(a,c){var g;if(c && b(a))return -1;c=[];a=[a];for(var d=0;a.length;){g=a.pop();if("boolean" === typeof g)d+=4;else if("string" === typeof g)d+=2 * g.length;else if("number" === typeof g)d+=8;else if("object" === typeof g && -1 === c.indexOf(g)){c.push(g);for(var m in g){a.push(g[m]);}}}return d;};},function(d){d.exports={nu:{pa:12E5,tS:9E5,Td:12E5},Mz:{pa:10,tS:10,Td:10},Lz:{pa:10240,tS:10240,Td:10240}};},function(d,b,a){var g,k,m,f,h,n,p,r,v,A,y,B,t,J,D;function c(a,b,c,d,f,g,h,l,k){this.Lq=c;this.FU=d;this.oc=f;this.ta=g;this.za=h;this.LK=l;this.sLb=k;this.log=a.tb("VideoPreparer");this.config=b();}Object.defineProperty(b,"__esModule",{value:!0});b.dza=void 0;d=a(0);g=a(1);k=a(6);m=a(14);f=a(97);h=a(77);n=a(61);p=a(31);r=a(117);v=a(181);A=a(41);y=a(4);B=a(35);t=a(18);J=a(127);a=a(194);c.prototype.fetch=function(a,b){var c;c=this;this.log.trace("Fetching LDL",J.kr(a));this.u=a.u;this.kc=b;return b.vq(a.u,"ldl")["catch"](function(){c.log.trace("Requesting a new license",J.kr(a));return b.vq(a.u,"manifest").then(function(d){var f,g;c.pa=d;c.Fc=d.Fc;if(d=c.kc.p1a(a.u,c.Fc,a))throw {status:d};d=c.Fc.jt[0].Ks;f=c.Fc.jt[0].qia;g=(d?d:[f]).map(function(a){return c.oc.decode(a.bytes);});c.ne=c.YD({ima:"cenc",VNa:c.log,Ria:function(a){return c.handleError(a);},ud:void 0,Toa:function(){},ta:{getTime:function(){return c.za.Bb().ca(y.ga);},L5b:function(){return c.ta.Ae.ca(y.Wm);}}});b.PF(a.u,"ldl",c.ne);return c.ne.create(c.config.Ce).then(function(){return c.ne.pi(n.ih.Hv,g,!0);}).then(function(){return c.ne;})["catch"](function(a){c.handleError(a);throw a;});})["catch"](function(a){c.log.warn("Manifest not available for ldl request",a);if(void 0 !== a.status)throw a;throw {status:f.If.mk};});});};c.prototype.handleError=function(a){this.log.warn("ldl is now invalid",a);this.ne.close();this.kc.PF(this.u,"ldl",void 0);this.kc.Lga(this.u);};c.prototype.YD=function(a){var b,c;b=this;if(!this.Lq.Bv || !this.Lq.Av){c=this.sLb();this.Lq.Bv=c.Fb;this.Lq.Av=c.request;}c=new this.Lq.Av(a.VNa,function(a){var c;c=[];a.aj.forEach(function(a){c.push({sessionId:a.sessionId,dataBase64:b.oc.encode(a.data)});});a={aj:c,I0:[b.Fc.nl],gj:h.Cv.fMa(a.gj),ti:b.Fc.ti,ea:b.kc.FMa(b.u),hj:b.pa.hj};b.log.trace("xid created ",{MovieId:b.u,xid:a.ea});return b.LK.uw(a);},void 0,{xm:!1,iS:!1});return this.Lq.Bv(a.VNa,a.ima,a.ud,{xm:!1,iS:!1,xTa:this.config.Gl,j0a:{JVa:this.config.h0a,ZKa:this.config.Cra},xB:c,eZa:this.config.pqa,na:void 0,vG:this.config.Bia,onerror:a.Ria,Toa:a.Toa,ta:a.ta,CLb:!1,JJa:this.FU.BQ([]),B4a:this.FU.GQ([]),qK:this.config.qK});};D=c;D=d.__decorate([g.O(),d.__param(0,g.l(k.zb)),d.__param(1,g.l(m.Sc)),d.__param(2,g.l(p.It)),d.__param(3,g.l(r.MC)),d.__param(4,g.l(A.Ki)),d.__param(5,g.l(B.fh)),d.__param(6,g.l(t.Fd)),d.__param(7,g.l(v.VG)),d.__param(8,g.l(a.eO))],D);b.dza=D;},function(d,b,a){var g,k,m,f,h,n,p,r,v;function c(a,b,c,d,f){this.oc=c;this.ttb=d;this.$A=f;this.log=a.tb("VideoPreparer");this.config=b();}Object.defineProperty(b,"__esModule",{value:!0});b.hza=void 0;d=a(0);g=a(1);k=a(6);m=a(14);f=a(61);h=a(41);n=a(112);p=a(113);r=a(97);v=a(127);c.prototype.fetch=function(a,b){var c;c=this;this.log.trace("Fetching LDL",v.kr(a));this.u=a.u;this.kc=b;return b.vq(a.u,"ldl")["catch"](function(){c.log.trace("Requesting a new license",v.kr(a));return b.vq(a.u,"manifest").then(function(d){var g,h,l,k;c.Fc=d.Fc;if(d.Uo)return Promise.resolve(d.Uo);g=c.kc.p1a(a.u,c.Fc,a);if(g)throw {status:g};h=c.Fc.jt[0].Ks;g=c.Fc.jt[0].qia;l=(h?h:[g]).map(function(a){return c.oc.decode(a.bytes);});k=c.ttb().then(function(g){var k;k={type:f.ih.Hv,rK:l,context:{Ce:c.config.Ce,Ks:h},Cg:{u:a.u,ea:b.FMa(a.u),ti:c.Fc.ti,nl:c.Fc.nl,hj:d.hj}};return g.qB(k,c.$A());})["catch"](function(a){c.handleError("Unable to prepare an EME session.",a);throw a;});c.kc.PF(a.u,"ldl",k,function(){if(!c.kc.lXb(a.u))try{k.then(function(a){a.close().subscribe(void 0,function(a){c.handleError("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){c.handleError("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(U){c.handleError("Unable to cleanup LDL session, unexpected exception.",U);}});return k;})["catch"](function(a){c.log.warn("Manifest not available for ldl request",a);if(void 0 !== a.status)throw a;throw {status:r.If.mk};});});};c.prototype.handleError=function(a,b){this.log.warn(a + " LDL is now invalid.",b);this.kc.PF(this.u,"ldl",void 0);this.kc.Lga(this.u);};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(k.zb)),d.__param(1,g.l(m.Sc)),d.__param(2,g.l(h.Ki)),d.__param(3,g.l(n.yN)),d.__param(4,g.l(p.vC))],a);b.hza=a;},function(d,b,a){var g,k,m,f,h,n,p,r,v,A,y;function c(a,b,c,d,f,g){this.Mna=c;this.GS=d;this.is=f;this.app=g;this.log=a.tb("VideoPreparer");this.config=b();}Object.defineProperty(b,"__esModule",{value:!0});b.Uza=void 0;d=a(0);g=a(14);k=a(1);m=a(6);f=a(22);h=a(18);n=a(4);p=a(97);r=a(166);v=a(128);A=a(127);y=a(40);c.prototype.fetch=function(a,b){var d,f,g;function c(){b.events.emit("manifestRemovedFromCache",{type:"manifestRemovedFromCache",fa:a.u});}d=this;this.log.trace("Fetching manifest",A.kr(a));f=a.fb;if(this.config.Mib && f && f.pa && !b.PR(a.u,"manifest") && (!(("clientGenesis" in f.pa) && f.pa.clientGenesis) || Date.now() - f.pa.clientGenesis < this.config.RYa)){g=this.Mna.create(f.pa);g.wB=this.app.Bb().ca(n.ga);g.FF=this.app.Bb().ca(n.ga);b.PF(a.u,"manifest",g,c);}return b.vq(a.u,"manifest")["catch"](function(){var g,h;d.log.trace("Requesting a new manifest",A.kr(a));if(b.PR(a.u,"manifest"))throw {status:p.If.mk};g=d.app.Bb().ca(n.ga);h=d.VFb(a.u,f).then(function(a){a.wB=g;a.FF=d.app.Bb().ca(n.ga);return a;})["catch"](function(c){b.PF(a.u,"manifest",void 0);d.log.error("Failed to prefetch manifest",y.Bc.Ue(c));throw c;});b.PF(a.u,"manifest",h,c);return h;});};c.prototype.VFb=function(a,b){this.is.BD(b) || (b={trackingId:b});b={Va:b,fa:a,tq:v.Oi.iH};this.log.trace("manifest request",{movieId:a});return this.GS.Oe(this.log,b);};a=c;a=d.__decorate([k.O(),d.__param(0,k.l(m.zb)),d.__param(1,k.l(g.Sc)),d.__param(2,k.l(r.ZG)),d.__param(3,k.l(v.DX)),d.__param(4,k.l(f.He)),d.__param(5,k.l(h.Fd))],a);b.Uza=a;},function(d,b,a){var g,k,m,f,h,n;function c(a,b){this.OB=b;this.log=a.tb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.aya=void 0;d=a(0);g=a(1);k=a(71);m=a(6);f=a(127);h=a(165);n=a(223);c.prototype.fetch=function(a,b){var c,d;c=this;this.log.trace("Fetching headers",f.kr(a));d=a.fb;return void 0 === d?Promise.reject("PrepareItemParams is not initialized for Headers Prepare"):new Promise(function(g,h){b.vq(a.u,"manifest").then(function(b){var h;h=new n.kY(c.log,c.OB).tpa(b.Fc.jt);b=f.Xja(b.Fc,h[0].xc,d,a.u);k.vh.Fr.C_(b,function(){return g({});});})["catch"](function(a){c.log.warn("Unable to fetch headers: " + (a.status?a.status:a));h(a);});});};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(m.zb)),d.__param(1,g.l(h.qO))],a);b.aya=a;},function(d,b,a){var g,k,m,f,h,n,p,r,v,A;function c(a,b,c,d){this.Sa=b;this.eu=c;this.OB=d;this.log=a.tb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.jAa=void 0;d=a(0);g=a(1);k=a(6);m=a(217);f=a(4);h=a(22);n=a(97);p=a(71);r=a(127);v=a(165);A=a(223);c.prototype.fetch=function(a,b){var c,d;c=this;this.log.trace("Fetching media",r.kr(a));d=a.fb;return void 0 === d?Promise.reject("PrepareItemParams is not initialized for Media Prepare"):new Promise(function(g,h){b.vq(a.u,"manifest").then(function(h){var l,k,m;if(void 0 === p.vh.Fr)throw (c.log.warn("Failing media prepare: aseManager is not initialized",r.kr(a)),{status:n.If.rq});h=h.Fc;l=new A.kY(c.log,c.OB).tpa(h.jt);l=r.Xja(h,l[0].xc,d,a.u);k=h.duration;l.jd=c.Sa.KI(d.X)?d.X:c.eu.QIa({PB:f.Nb(h.eu),u:a.u,xT:f.Nb(k),Va:d}).ca(f.ga);if(!b.uDb(a.u) || d.Cd || a.force){m=function(b){b.movieId === a.u && b.stats && b.stats.prebuffcomplete && (p.vh.Fr.removeEventListener("prebuffstats",m),g({}));};p.vh.Fr.addEventListener("prebuffstats",m);p.vh.Fr.C_(l);}else throw (c.log.warn("Cancelling media prepare: movie is already started",r.kr(a)),{status:n.If.J_});})["catch"](function(a){c.log.warn("Unable to fetch media: " + (a.status?a.status:a));h(a);});});};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(k.zb)),d.__param(1,g.l(h.He)),d.__param(2,g.l(m.QV)),d.__param(3,g.l(v.qO))],a);b.jAa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){a && (this.sU(a.ff),this.gsa(a.od),this.Y0a(a.Ja));}a.prototype.sU=function(a){this.ff=a;return this;};a.prototype.gsa=function(a){this.od=a;return this;};a.prototype.cq=function(a,b){this.Ja || (this.Ja={});this.Ja[a]=this.XMa(b);return this;};a.prototype.Y0a=function(a){var b;b=this;this.Ja={};Object.keys(a).forEach(function(c){return b.cq(c,a[c]);});};a.prototype.Cj=function(){if(!this.Ja)throw Error("Invalid playgraph - `segments` is not defined");if(!this.ff)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.Ja[this.ff])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");return Object.assign({ff:this.ff,Ja:this.Ja},this.od?{od:this.od}:{});};a.prototype.XMa=function(a){var b;b=this;return a && "object" === typeof a?Object.keys(a).reduce(function(c,d){c[d]="object" === typeof a[d]?b.XMa(a[d]):a[d];return c;},{}):a;};return a;})();b.nH=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(){}a.decode=function(b){return Object.assign({initialSegment:b.ff,segments:a.Prb(b.Ja)},void 0 !== b.od?{transitionType:b.od}:{});};a.encode=function(b){return Object.assign({ff:b.initialSegment,Ja:a.tub(b.segments)},void 0 !== b.transitionType?{od:b.transitionType}:{});};a.r6b=function(a){return void 0 !== a.ff && void 0 !== a.Ja;};a.x6b=function(a){return void 0 !== a.fa && void 0 !== a.Ac;};a.tub=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.rub(b[d]);return c;},{});};a.rub=function(b){return Object.assign({fa:b.viewableId,Ac:b.startTimeMs},b.endTimeMs?{zd:b.endTimeMs}:{},b.defaultNext?{yh:b.defaultNext}:{},b.weight?{weight:b.weight}:{},b.transitionType?{od:b.transitionType}:{},b.next?{next:a.pub(b.next)}:{},b.exitZones?{MJ:b.exitZones}:{},b.playbackRate?{playbackRate:b.playbackRate}:{});};a.pub=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.qub(b[d]);return c;},{});};a.qub=function(a){return Object.assign({},void 0 !== a.weight?{weight:a.weight}:{},a.transitionType?{od:a.transitionType}:{});};a.Prb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Orb(b[d]);return c;},{});};a.Orb=function(b){return Object.assign({viewableId:b.fa,startTimeMs:b.Ac},b.zd?{endTimeMs:b.zd}:{},b.yh?{defaultNext:b.yh}:{},b.weight?{weight:b.weight}:{},b.od?{transitionType:b.od}:{},b.next?{next:a.Mrb(b.next)}:{},b.MJ?{exitZones:b.MJ}:{},b.playbackRate?{playbackRate:b.playbackRate}:{});};a.Mrb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Nrb(b[d]);return c;},{});};a.Nrb=function(a){return Object.assign({},void 0 !== a.weight?{weight:a.weight}:{},a.od?{transitionType:a.od}:{});};return a;})();b.Bbb=d;},function(d,b,a){var k,m,f,h,n,p,r,v,A,y,B;function c(){var a;a=this;this.Pq=new Promise(function(b,c){a.resolve=b;a.reject=c;});}function g(a,b,c,d,f){var g;g=this;this.Spa=c;this.nMb=d;this.XFb=f;this.DV=[];this.hy=new Map();this.HJb=function(a){var b,c;a=a.wishListItem.key.fa;if(g.hy.has(a)){c=g.hy.get(a);a=c.EL;c=c.Xga;null === (b=c.resolve) || void 0 === b?void 0:b.call(c,a);}};this.eXa=function(a){var b,c;g.config.oMb?(g.ZZa(a.fa),g.i1a(g.DV)):null === (c=null === (b=g.hy.get(a.fa)) || void 0 === b?void 0:b.T4a.wV.uu(a.fa).events) || void 0 === c?void 0:c.emit("viewableExpired",{type:"viewableExpired"});};this.la=a.tb("VideoPreparer");this.config=b();}Object.defineProperty(b,"__esModule",{value:!0});b.Kua=void 0;d=a(0);k=a(6);a(127);m=a(71);f=a(48);h=a(14);n=a(1107);p=a(11);r=a(273);v=a(1);A=a(482);y=a(272);B=a(16);g.prototype.fetch=function(a,b){if(-1 === b.events.listeners("manifestRemovedFromCache").indexOf(this.eXa))b.events.on("manifestRemovedFromCache",this.eXa);!1;this.i1a(this.Nnb(this.jrb(a,b)));return this.hy.get(a.u).Xga.Pq;};g.prototype.getStats=function(){var a;a=this.iy.getStats();return {wishListLength:a.EXb,prefetchList:a.dqa,contents:a.dMa.map(function(a){return {id:a.id,age:a.kk,timeOpened:a.P2a,weight:a.weight,buffer:a.buffer && ({totalabuflmsecs:a.buffer.cV,totalvbuflmsecs:a.buffer.eV}),budget:{inMemoryBytes:a.kQ.GE}};})};};g.prototype.Nnb=function(a){return [].concat([a],X(this.DV.filter(function(b){return b.key.fa !== a.key.fa;}))).slice(0,this.config.lMb).map(this.config.mMb?function(a,b){return Object.assign({},a,{Ud:b});}:function(a){return a;});};g.prototype.Ryb=function(a,b){var c;c=this;return b.vq(a.u,"manifest")["catch"](function(){return c.XFb.fetch(a,b);}).then(function(a){return a.Fc;});};g.prototype.jrb=function(a,b){var d,g,h,l,k,n,q,r;n=new c();if(this.hy.has(a.u)){q=this.hy.get(a.u);r=q.EL;r.u === a.u && r.Dd === a.Dd && (k=q.T4a.key);this.iy.getStats().dMa.some(function(b){return b.id === a.u;}) && (n=q.Xga);}q=m.vh.yd.kq(p.U_(a.Dd));k || (k={fa:a.u,config:q});b={key:k,v6b:null !== (g=null === (d=a.fb) || void 0 === d?void 0:d.Cd) && void 0 !== g?g:!1,Ud:a.Ud,v_:f.S.ec(null !== (l=null === (h=a.fb) || void 0 === h?void 0:h.X) && void 0 !== l?l:0),wV:this.irb(a,b,q)};this.hy.set(a.u,{T4a:b,EL:a,Xga:n});return b;};g.prototype.irb=function(a,b,c){var d,f,g;d=this;f=a.u;g={get ea() {return b.jK(f);},get EOa() {return !b.PR(f,"manifest");},events:new B.EventEmitter(),Amb:function(){},get vV() {return d.Ryb(a,b).then(function(a){return {pa:a,Vh:a.aSa && !a.x2,config:c,s1a:{}};});},fa:f,equals:function(a){var c;c=b.jK(f);return a.fa === f && (!a.ea || !c || c === a.ea);}};return {uu:function(){return g;}};};g.prototype.S0a=function(a){this.DV=a;};g.prototype.i1a=function(a){this.S0a(a);this.iy.GRb(this.DV);};g.prototype.ZZa=function(a){this.hy.has(a) && (this.S0a(this.DV.filter(function(b){return b.key.fa !== a;})),this.hy["delete"](a));};ma.Object.defineProperties(g.prototype,{iy:{configurable:!0,enumerable:!0,get:function(){this.hw || (this.hw=this.nMb(),this.hw.$ra(this.Spa).Yea(new n.HCa(this.la)).J0a({GE:this.config.kMb}),this.hw.events.on("prefetchComplete",this.HJb));return this.hw;}}});a=g;a=d.__decorate([v.O(),d.__param(0,v.l(k.zb)),d.__param(1,v.l(h.Sc)),d.__param(2,v.l(A.iba)),d.__param(3,v.l(r.b8)),d.__param(4,v.l(y.IX))],a);b.Kua=a;},function(d,b){function a(a){this.log=a;}Object.defineProperty(b,"__esModule",{value:!0});b.HCa=void 0;a.hSb=function(a){return a.fe.key.config.Ml;};a.prototype.mga=function(b,d){b=d(b).Rj.filter(function(b){return a.hSb(b);});this.log.trace("Setting ASE prefetcher wishlist " + JSON.stringify(b.map(function(a){return a.fe.key.fa;})));return {Rj:b};};b.HCa=a;},function(d,b,a){var c,g,k,m,f,h,n,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.Ga=void 0;d=a(1);c=a(184);g=a(1109);k=a(483);m=a(1110);f=a(484);h=a(1111);n=a(1112);p=a(485);r=a(1113);b.Ga=new d.Tc(function(a){a(c.Y8).to(g.Dwa).Z();a(k.O$).to(m.gAa).Z();a(f.haa).to(h.WAa).Z();a(f.Q$).to(n.mAa).Z();a(p.P$).to(r.lAa).Z();});},function(d,b,a){var g,k,m,f,c;function c(a){function b(b,c){this.H=b;this.al=c;this.d1=!1;this.emit=f.prototype.emit;this.addListener=f.prototype.addListener;this.on=f.prototype.on;this.once=f.prototype.once;this.removeListener=f.prototype.removeListener;this.removeAllListeners=f.prototype.removeAllListeners;this.listeners=f.prototype.listeners;this.listenerCount=f.prototype.listenerCount;f.call(this);this.eg=a.tb("DownloadTrack");}b.prototype.mq=function(){!1;this.PZ=void 0;this.emit("destroyed");};b.prototype.toString=function(){return "id:" + this.PZ + " config: " + JSON.stringify(this.H);};b.prototype.toJSON=function(){return "Download Track id:" + this.PZ + " config: " + JSON.stringify(this.H);};b.prototype.J5=function(a){this.H.connections !== a.connections && (this.H=a);};b.prototype.ip=function(){return 1 < this.H.connections?!0:!1;};ma.Object.defineProperties(b.prototype,{Xa:{configurable:!0,enumerable:!0,get:function(){return this.PZ;}},pn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.PZ;}},config:{configurable:!0,enumerable:!0,get:function(){return this.H;}},qF:{configurable:!0,enumerable:!0,get:function(){return this.eg;}},zm:{configurable:!0,enumerable:!0,get:function(){return this.al.zm;}}});this.HG=Object.assign(b,new m.Ewa());}Object.defineProperty(b,"__esModule",{value:!0});b.Dwa=void 0;d=a(0);g=a(1);k=a(6);m=a(184);f=a(139).EventEmitter;c=d.__decorate([g.O(),d.__param(0,g.l(k.zb))],c);b.Dwa=c;},function(d,b,a){var g,k,m,f,h,n,p,r,v,A;function c(a,b,c,d,f,g){this.MI=a;this.ef=c;this.Sa=d;this.za=f;this.config=g;this.log=b.tb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.gAa=void 0;d=a(0);g=a(185);k=a(91);m=a(2);f=a(6);h=a(1);n=a(111);p=a(22);r=a(18);v=a(4);a=a(14);c.prototype.kx=function(){return this.za.Bb().ca(v.ga);};c.prototype.MWa=function(a,b){a.zIb({mediaRequest:a,timestamp:b});};c.prototype.dXa=function(a){var b;b=a.mediaRequest.Kq;b.readyState=g.Sb.mc.Mv;a=a.connect?a:{timestamp:this.kx(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.Soa(a);};c.prototype.R4=function(a){this.MWa(a.mediaRequest.Kq,a.timestamp);};c.prototype.S4=function(a){var b,c;b=a.mediaRequest.Kq;c=a.bytes;"undefined" === typeof b?!1:(b.readyState === g.Sb.mc.Ov && this.dXa(a),this.Sa.Sh(c) && (a.mediaRequest=b,a.timestamp=this.kx(),c > b.bf && (a.newBytes=c - b.bf,a.bytesLoaded=c,b.CIb(a))));};c.prototype.jF=function(a){var b,c,d,f;b=a.mediaRequest;c=a.errorcode;d=a.httpcode;f=g.Sb.nW;if("undefined" === typeof b)!1;else if((b=b.Kq,"undefined" === typeof b))!1;else if(b.readyState !== g.Sb.mc.MG)if(c === m.K.My)(b.readyState=g.Sb.mc.$M,a.mediaRequest=b,a.readyState=b.readyState,b.uIb(a));else {b.readyState=g.Sb.mc.MG;switch(c){case m.K.ON:d=f.uva;break;case m.K.Q9:d=f.N9;break;case m.K.LN:d=400 < d && 500 > d?f.P9:500 <= d?f.Yxa:f.N9;break;case m.K.MN:d=f.O9;break;case m.K.KN:d=f.vva;break;case m.K.NN:d=f.RW;break;case m.K.mC:d=f.RW;break;case m.K.Xxa:d=f.Wxa;break;case m.K.Txa:d=f.P9;break;case m.K.a8a:d=f.O9;break;default:d=f.RW;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=d;a.nativecode=c;b.Uoa(a);}};c.prototype.gpa=function(a,b){var c,d;c=b.request.Kq;if(c)if(b.ia){if((!1,a.j && c.readyState !== g.Sb.mc.DONE)){switch(c.readyState){case g.Sb.mc.$M:!1;return;case g.Sb.mc.MG:!1;break;case g.Sb.mc.Mv:break;case g.Sb.mc.Ov:this.dXa({mediaRequest:b.request});break;default:!1;}c.readyState=g.Sb.mc.DONE;if(!c.vc){d={mediaRequest:c,readyState:c.readyState,timestamp:this.kx(),cadmiumResponse:b};a.j.eta+=1;c.vAb();c.HDb() && (a.j.ira+=1,b.wl.Jh=Math.ceil(c.pja),b.wl.On=Math.ceil(c.TD),b.wl.requestTime=Math.floor(c.SA));c.eJ=d;c.Ru(d);}}}else (!1,c.readyState === g.Sb.mc.$M?!1:(a={mediaRequest:b.request,timestamp:this.kx(),errorcode:b.ka,httpcode:b.cj},this.jF(a)));};c.prototype.download=function(a,b){var c,d;c=this;b=this.ef.download(a,b);if(a.Kq){d=a.Kq;-1 < [g.Sb.mc.OPENED,g.Sb.mc.MG].indexOf(d.readyState) && (d.readyState=g.Sb.mc.Ov,this.config().SGb?b.gRb(function(a){c.R4(a);}):this.MWa(d,this.kx()));}b.Pea(function(b){c.gpa(a,b);});b.oRb(function(a){c.S4(a);});b.aRb(function(a){c.jF(a);});return b;};A=c;A=d.__decorate([h.O(),d.__param(0,h.l(k.aN)),d.__param(1,h.l(f.zb)),d.__param(2,h.l(n.Qy)),d.__param(3,h.l(p.He)),d.__param(4,h.l(r.Fd)),d.__param(5,h.l(a.Sc))],A);b.gAa=A;},function(d,b,a){var g,k,m;function c(a,b){this.ef=b;this.log=a.tb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.WAa=void 0;d=a(0);g=a(1);k=a(6);a=a(111);c.prototype.qR=function(a,b,c){a={url:a.url,bQb:c};!1;this.ef.nSb(a);};c.prototype.yD=function(a){try{a.Ola();}catch(h){this.log.warn("exception aborting request");}};m=c;m=d.__decorate([g.O(),d.__param(0,g.l(k.zb)),d.__param(1,g.l(a.Qy))],m);b.WAa=m;},function(d,b,a){var g,k,m,f,h,n,p,r,v,A,t;function c(a,b,c,d,f,g){this.za=a;this.uq=b;this.config=c;this.ef=f;this.QGb=g;this.log=d.tb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.mAa=void 0;d=a(0);g=a(48);k=a(1);m=a(6);f=a(111);h=a(483);n=a(79);p=a(185);r=a(18);v=a(4);A=a(36);a=a(14);c.prototype.qR=function(a,b,c){var f,h,k;function d(){a.removeEventListener(p.Sb.he.BC,d);a.iR?a.iR++:a.iR=1;a.iR >= f.config().dja.length && (a.iR=f.config().dja.length - 1);setTimeout(function(){f.qR(a,b,c);},f.config().dja[a.iR]);}f=this;a.w6b=!0;h=this.QGb.download({url:a.url,responseType:this.ef.Kbb.S5a,withCredentials:!1,dE:a.I === g.zc.Ta.AUDIO?"audio":"video",offset:b.start,length:a.Fi,track:{type:a.I === g.zc.Ta.AUDIO?n.jh.audio:n.jh.video},stream:{Jd:a.Da,U:a.U},Gc:a.Zb,Kq:a,B6:c,ft:this.uq.ft},function(b){b.ia && a.readyState !== p.Sb.mc.DONE && (a.readyState === p.Sb.mc.$M?!1:(a.readyState === p.Sb.mc.MG?!1:a.readyState === p.Sb.mc.Ov?(a.readyState=p.Sb.mc.Mv,a.Soa({mediaRequest:a,readyState:a.readyState,timestamp:f.kx(),connect:!1})):a.readyState !== p.Sb.mc.Ov && a.readyState !== p.Sb.mc.Mv && !1,a.readyState=p.Sb.mc.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:f.kx(),cadmiumResponse:b,response:b.content},a.eJ=b,a.Ru(b)));});if(a.vc){k={mediaRequest:a,readyState:a.readyState,timestamp:this.kx(),connect:!1};a.Soa(k);}a.addEventListener(p.Sb.he.BC,d);a.Ola=h.abort;};c.prototype.yD=function(a){try{a.Ola();}catch(I){this.log.warn("exception aborting request");}};c.prototype.kx=function(){return this.za.Bb().ca(v.ga);};t=c;t=d.__decorate([k.O(),d.__param(0,k.l(r.Fd)),d.__param(1,k.l(A.Rl)),d.__param(2,k.l(a.Sc)),d.__param(3,k.l(m.zb)),d.__param(4,k.l(f.Qy)),d.__param(5,k.l(h.O$))],t);b.mAa=t;},function(d,b,a){var g,k,m,f,h,n,p,r;function c(a,b,c,d,g,h){function k(f,k){this.track=f;this.label=k;this.Mg=r.Sb.mc.UNSENT;this.bf=0;this.Tq=[];this.requestId=h.Yz().toString();this.Sa=c;this.log=b.tb("MediaRequest");this.config=a;this.Jb=new p.tj();"notification" === this.label?this.config().hA && (this.zm=d):this.zm=g;!1;}function l(f,k){this.requestId=h.Yz().toString();this.Sa=c;this.log=b.tb("MediaRequest");this.config=a;this.Jb=new p.tj();this.label=k;"notification" === this.label?this.config().hA && (this.zm=d):this.zm=g;this.gS=this.VI=this.WI=void 0;this.track=f;this.B_=this.url=this.responseType=void 0;this.Mg=r.Sb.mc.UNSENT;this.ri=this.nE=this.wg=this.status=void 0;this.Dm=this.bf=0;this.connect=this.pja=this.TD=this.SA=this.Vma=this.sd=this.oja=this.ae=this.uI=void 0;this.Tq=[];this.pn=!1;!1;}k.prototype.addEventListener=function(a,b,c){this.Jb.addListener.call(this,a,b,c);};k.prototype.removeEventListener=function(a,b){this.Jb.removeListener.call(this,a,b);};k.prototype.emit=function(a,b,c){this.Jb.dc.call(this,a,b,c);};k.prototype.zIb=function(a){this.Mg === r.Sb.mc.OPENED && (this.gS=!0,this.ae=this.sd=a.timestamp,!1,this.Mg=r.Sb.mc.Ov,this.emit(r.Sb.he.OAa,a));};k.prototype.Soa=function(a){var b;if(this.Mg < r.Sb.mc.Mv){this.Tq=[];b=a.timestamp - this.ae;!this.vc && 0 < b && (this.connect=!0,this.Tq.push(b));!0 === this.config().dCb?this.oja=a.timestamp:this.oja=this.sd=a.timestamp;!1;this.Mg=r.Sb.mc.Mv;this.emit(r.Sb.he.NAa,a);}};k.prototype.CIb=function(a){this.Mg === r.Sb.mc.Mv && (!1,this.Vma=this.sd=a.timestamp,a.newBytes=a.bytesLoaded - this.bf,this.bf=a.bytesLoaded,this.Sa.Qf(this.Vma) && this.emit(r.Sb.he.PAa,a));};k.prototype.Ru=function(a){-1 < [r.Sb.mc.Ov,r.Sb.mc.Mv].indexOf(this.Mg) && (this.gS=!1,!1,this.sd=a.timestamp,this.Mg=r.Sb.mc.DONE,a.newBytes=this.Fi - this.bf,this.bf=this.Fi,this.Sa.Qf(this.TD) && (this.sd=this.TD,0 === a.newBytes && (this.Vma=this.TD)),this.Sa.Qf(this.SA) && (this.ae=this.SA),this.uI=a.response,this.emit(r.Sb.he.ZN,a));};k.prototype.uIb=function(a){this.gS=!1;!1;this.emit(r.Sb.he.zab,a);};k.prototype.Uoa=function(a){this.sd=a.timestamp;this.status=a.httpcode;this.wg=a.errorcode;this.nE=r.Sb.nW.name[this.wg];this.ri=a.nativecode;!1;this.emit(r.Sb.he.BC,a);this.gS=!1;};k.prototype.open=function(a,b,c,d,f,g,h){this.kv=!1;this.B_=b;this.url=a;this.responseType=c;!1;if(!this.url)return (!1,!1);this.Mg=r.Sb.mc.OPENED;this.zm.qR(this,b,h);return !0;};k.prototype.cc=function(){!1;-1 !== [r.Sb.mc.OPENED,r.Sb.mc.Ov,r.Sb.mc.Mv].indexOf(this.Mg) && this.abort();return !0;};k.prototype.lLa=function(){this.uI=void 0;this.eJ && (this.eJ.response=void 0,this.eJ.cadmiumResponse.content=void 0);this.Ola=void 0;};k.prototype.SU=function(a){!1;this.url=a;return !0;};k.prototype.abort=function(){this.Mg=r.Sb.mc.$M;this.zm.yD(this);return !0;};k.prototype.pause=function(){};k.prototype.getResponseHeader=function(){return null;};k.prototype.getAllResponseHeaders=function(){return "";};k.prototype.QT=function(){};k.prototype.Bk=function(){return this.requestId;};k.prototype.toString=function(){var a;a={requestId:this.Bk(),segmentId:this.va,isHeader:this.vc,ptsStart:this.ky,ptsOffset:this.Nn,responseType:this.responseType,duration:this.ex,readystate:this.Mg};this.stream && (a.bitrate=this.stream.U);return JSON.stringify(a);};k.prototype.toJSON=function(){return this.toString();};k.prototype.vAb=function(){var a,b;if(this.config().o4a && f.Et && f.Et.getEntriesByType && (!this.Sa.Qf(this.SA) || !this.Sa.Qf(this.TD) && this.Sa.Qf(this.url))){a="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.WI + "-" + this.VI + "*");b=new RegExp(a);a=f.Et.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Sa.Qf(a) && (0 < a.startTime && (this.SA=a.startTime,0 < a.requestStart && (this.SA=Math.max(this.SA,a.requestStart))),0 < a.responseStart && (this.pja=a.responseStart),0 < a.responseEnd && (this.TD=a.responseEnd));}};k.prototype.HDb=function(){return this.Sa.Qf(this.SA) && this.Sa.Qf(this.TD) && this.Sa.Qf(this.pja);};ma.Object.defineProperties(k.prototype,{Fi:{configurable:!0,enumerable:!0,get:function(){return this.B_.end - this.B_.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.VI - this.WI + 1;}},eSa:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},vc:{configurable:!0,enumerable:!0,get:function(){return !this.NA;}},response:{configurable:!0,enumerable:!0,get:function(){return this.uI;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Mg;},set:function(){}}});Object.getOwnPropertyNames(k.prototype).forEach(function(a){Object.defineProperty(l.prototype,a,Object.getOwnPropertyDescriptor(k.prototype,a));});this.Um=Object.assign(l,r.Sb);}Object.defineProperty(b,"__esModule",{value:!0});b.lAa=void 0;d=a(0);g=a(1);k=a(6);m=a(14);f=a(10);h=a(22);n=a(484);p=a(68);r=a(185);a=a(89);c=d.__decorate([g.O(),d.__param(0,g.l(m.Sc)),d.__param(1,g.l(k.zb)),d.__param(2,g.l(h.He)),d.__param(3,g.l(n.haa)),d.__param(4,g.l(n.Q$)),d.__param(5,g.l(a.Gv))],c);b.lAa=c;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.gWa=void 0;d=a(1);c=a(330);g=a(1115);b.gWa=new d.Tc(function(a){a(c.X$).to(g.yAa).Z();});},function(d,b,a){var g,k,m,f,h;function c(a){return k.Se.call(this,a,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yAa=void 0;d=a(0);g=a(43);k=a(44);m=a(1);f=a(32);h=a(4);L(c,k.Se);ma.Object.defineProperties(c.prototype,{XVa:{configurable:!0,enumerable:!0,get:function(){return h.Nb(5E3);}},tXa:{configurable:!0,enumerable:!0,get:function(){return h.Nb(1E3);}},uXa:{configurable:!0,enumerable:!0,get:function(){return h.Nb(1E3);}}});a=c;d.__decorate([g.config(g.Zh,"minDecoderBufferMilliseconds")],a.prototype,"XVa",null);d.__decorate([g.config(g.Zh,"optimalDecoderBufferMilliseconds")],a.prototype,"tXa",null);d.__decorate([g.config(g.Zh,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"uXa",null);a=d.__decorate([m.O(),d.__param(0,m.l(f.ck))],a);b.yAa=a;},function(d,b,a){var c,g,k,m,f,h,n,p,r,v;Object.defineProperty(b,"__esModule",{value:!0});b.fYa=void 0;d=a(1);c=a(486);g=a(1117);k=a(66);m=a(1119);f=a(489);h=a(1120);n=a(381);p=a(1121);r=a(186);v=a(1122);b.fYa=new d.Tc(function(a){a(k.pr).to(m.tBa).Z();a(c.xaa).to(g.uBa).Z();a(n.Daa).to(p.zBa);a(n.Caa).hf(function(a){return function(){return a.mb.get(n.Daa);};});a(f.Laa).to(h.OBa).Z();a(r.cO).to(v.MBa).Z();});},function(d,b,a){var m,f,h,n,p,r,v,A,t,B,I,J,D,T,R,U;function c(a){this.config=a;this.Tw=[];}function g(a,b,c){this.za=a;this.LM=b;this.context=c;this.startTime=this.za.Bb();}function k(a,b,d,f,g,h,k,l,m){this.q3a=b;this.json=d;this.za=f;this.uq=g;this.uqa=h;this.Ea=k;this.config=l;this.Jb=m;this.log=a.tb("Pbo");l.OZa && (this.Tw=new c(l));this.LM=this.q3a();}Object.defineProperty(b,"__esModule",{value:!0});b.uBa=void 0;d=a(0);m=a(1);f=a(4);h=a(487);n=a(6);p=a(33);r=a(18);v=a(36);A=a(135);t=a(42);B=a(488);I=a(66);J=a(90);D=a(13);T=a(45);R=a(1118);U={"shakti-":"akira","UI-":"chromecast"};k.prototype.send=function(a,b){var c;c=new g(this.za,this.LM,a);this.Tw && this.Tw.append(c);return this.Ora(a,b,c);};k.prototype.Ora=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.ny(a,b).then(function(a){var b,h;d.GQb(a);b=N(d.ZWb(a));h=b.next().value;b=b.next().value;h && (d.Inb(c),f(a));b && (d.zLa(c,b),g(b));})["catch"](function(a){var b;b=d.zLa(c,a);a.Ab && (a.Ab=[a.Ab," ",b].join(""));g(a);});});};k.prototype.GQb=function(a){(a=a.serverTime) && this.Jb.dc(D.b$.B0a,f.Nb(a));};k.prototype.ZWb=function(a){var b;!1;b=a.result;if(("deviceCommand" in a)){a=a.deviceCommand;this.log.trace("Received device command '" + a + "'");switch(a){case "reset":b="RESET_DEVICE";break;case "reload":b="RELOAD_DEVICE";break;case "exit":b="EXIT_DEVICE";break;default:(b="FAIL",this.log.error("Unhandled device command '" + a + "'"));}return [,{code:b,detail:{message:"Server sent device action to '" + a + "' device"}}];}if(b)return (!1,[b,void 0]);if(a.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}]);this.log.error("Response did not contain a result or an error",a);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};k.prototype.HKb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(Z){throw {oF:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw {oF:!0,code:"FAIL",message:"There is no result property on the response"};}throw {oF:!0,code:"FAIL",message:"There is no body property on the response"};};k.prototype.Fkb=function(a,b,c){var d;d=this;this.jWb(b,a);this.LM=this.q3a(c);return this.LM.send(b,c).then(function(a){return {ny:!1,result:d.HKb(a.body)};})["catch"](function(c){var f,g;f=R.yaa.Uyb(c);g=void 0 !== f?Math.min(f,b.lra):b.lra;return d.y6(b,c,a,g)?(f=d.lmb(c,a,g),d.log.warn("Method failed, retrying",Object.assign({Method:b.pk,Attempt:a + 1,WaitTime:f,MaxRetries:g},d.Oha(c))),Promise.resolve({ny:!0,lm:f,error:c})):Promise.resolve({ny:!1,error:c});});};k.prototype.Nwb=function(a){var b,c;if(!this.Lea || this.Lea.jKb !== a){b="";c=a;Object.entries(U).find(function(c){var d;d=N(c);c=d.next().value;d=d.next().value;if(0 === a.indexOf(c))return (b=d,a=a.slice(c.length),!0);});this.Lea={tLa:b,By:a,jKb:c};}return this.Lea;};k.prototype.jWb=function(a,b){var c,d,f,g;g=a.url.searchParams;g.set(T.Mt.Obb,(b + 1).toString());g.set(T.Mt.Kg,a.Zqa.toString());g.set(T.Mt.Pbb,a.Yqa);a=this.Nwb(null !== (c=this.config.By) && void 0 !== c?c:"");a.tLa && (g.set(T.Mt.$6a,a.tLa),a.By && g.set(T.Mt.Lcb,encodeURIComponent(a.By)),c=this.uq.Bj,(null === c || void 0 === c?0:c.name) && g.set(T.Mt.y6a,encodeURIComponent(c.name)),(null === c || void 0 === c?0:c.version) && g.set(T.Mt.z6a,encodeURIComponent(c.version)),(null === (d=null === c || void 0 === c?void 0:c.os) || void 0 === d?0:d.name) && g.set(T.Mt.Aab,encodeURIComponent(c.os.name)),(null === (f=null === c || void 0 === c?void 0:c.os) || void 0 === f?0:f.version) && g.set(T.Mt.Bab,encodeURIComponent(c.os.version)));};k.prototype.ny=function(a,b,c){var d;c=void 0 === c?0:c;d=this;return this.Fkb(c++,a,b).then(function(f){if(f.ny)return d.qXb(f.lm).then(function(){return d.ny(a,b,c);});if(f.error)throw f.error;if(void 0 === f.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return f.result;});};k.prototype.y6=function(a,b,c,d){var f;f=this.uq.M_a || R.yaa.IDb(b);if(f && c < d)return !0;f?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.pk,Attempt:c + 1,MaxRetries:d},this.Oha(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.pk},this.Oha(b)));return !1;};k.prototype.lmb=function(a,b,c){return a && a.yB && void 0 !== a.yB.retryAfterSeconds?f.$g(a.yB.retryAfterSeconds):f.Nb(this.uqa.rZa(1E3 * (0 === b?1:b),1E3 * Math.pow(2,Math.min(b,c))));};k.prototype.qXb=function(a){var b;b=this;return new Promise(function(c){b.Ea.zi(a || f.lb,c);});};k.prototype.Oha=function(a){return B.uTa(a)?a:{message:a.message,subCode:a.vd,extCode:a.Ug,mslCode:a.Pu,data:a.data};};k.prototype.Inb=function(a){a.CM();};k.prototype.zLa=function(a,b){var c;a.rq(b);if(this.Tw)try{c=this.json.stringify(this.Tw);this.log.error("PBO command history",c);return c;}catch(ta){}return "";};a=k;a=d.__decorate([m.O(),d.__param(0,m.l(n.zb)),d.__param(1,m.l(h.aca)),d.__param(2,m.l(p.Py)),d.__param(3,m.l(r.Fd)),d.__param(4,m.l(v.Rl)),d.__param(5,m.l(A.jO)),d.__param(6,m.l(t.ph)),d.__param(7,m.l(I.pr)),d.__param(8,m.l(J.uW))],a);b.uBa=a;g.prototype.CM=function(){this.ia=!0;this.elapsedTime=this.za.Bb().Fa(this.startTime);};g.prototype.rq=function(a){this.ia=!1;this.elapsedTime=this.za.Bb().Fa(this.startTime);this.yTb=a.vd || a.subCode;this.Uub=a.Ug || a.extCode;};g.prototype.toString=function(){return JSON.stringify(this);};g.prototype.toJSON=function(){var a;a=Object.assign({success:this.ia,method:this.context.pk,startTime:this.startTime.ca(f.ga),elapsedTime:this.elapsedTime?this.elapsedTime.ca(f.ga):"in progress"},this.LM.gha());return this.ia?a:Object.assign(Object.assign(Object.assign({},a),this.LM.gha()),{subcode:this.yTb,extcode:this.Uub});};c.prototype.append=function(a){this.Tw.push(a);0 < this.config.Kla && this.Tw.length > this.config.Kla && this.Tw.shift();};c.prototype.toJSON=function(){return this.Tw;};},function(d,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.yaa=void 0;g=a(2);c.IDb=function(a){var b,c;b=a && a.code;c=a && (a.ka || a.vd);a=a.Ug !== g.VW.nBa;c=! !c && c >= g.K.ON && c <= g.K.MN && a;return !("RETRY" !== b && "FAIL" !== b) || c;};c.Uyb=function(a){var b,c;c=null === (b=null === a || void 0 === a?void 0:a.yB) || void 0 === b?void 0:b.maxRetries;return "number" === typeof c?c:"FAIL" === (null === a || void 0 === a?void 0:a.code)?1:void 0;};b.yaa=c;},function(d,b,a){var g,k,m,f,h,n;function c(a,b,c){a=k.Se.call(this,a,"PboConfigImpl") || this;a.config=b;a.Tjb=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.tBa=void 0;d=a(0);g=a(1);k=a(44);m=a(32);f=a(43);h=a(14);a=a(114);L(c,k.Se);ma.Object.defineProperties(c.prototype,{By:{configurable:!0,enumerable:!0,get:function(){return this.config().Wr.By || "";}},m7:{configurable:!0,enumerable:!0,get:function(){return this.config().Wr.m7 || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},vXa:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Wr.bqa;}},n3:{configurable:!0,enumerable:!0,get:function(){return !1;}},HGb:{configurable:!0,enumerable:!0,get:function(){return !0;}},JGb:{configurable:!0,enumerable:!0,get:function(){return !0;}},C0a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Tjb.hKa,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.D0a);}},D0a:{configurable:!0,enumerable:!0,get:function(){return {};}},OZa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Kla:{configurable:!0,enumerable:!0,get:function(){return 10;}},KIa:{configurable:!0,enumerable:!0,get:function(){return !1;}},R_:{configurable:!0,enumerable:!0,get:function(){return !1;}},hOa:{configurable:!0,enumerable:!0,get:function(){return !1;}},j4a:{configurable:!0,enumerable:!0,get:function(){return !1;}},r4a:{configurable:!0,enumerable:!0,get:function(){return !1;}},gOa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});n=c;d.__decorate([f.config(f.string,"uiVersion")],n.prototype,"By",null);d.__decorate([f.config(f.string,"uiPlatform")],n.prototype,"m7",null);d.__decorate([f.config(f.Cy,"pboVersion")],n.prototype,"version",null);d.__decorate([f.config(f.string,"pboOrganization")],n.prototype,"vXa",null);d.__decorate([f.config(f.Q6,"pboLanguages")],n.prototype,"languages",null);d.__decorate([f.config(f.Mc,"hasLimitedPlaybackFunctionality")],n.prototype,"n3",null);d.__decorate([f.config(f.Mc,"mdxBindUsingNodeQuark")],n.prototype,"HGb",null);d.__decorate([f.config(f.Mc,"mdxPairUsingNodeQuark")],n.prototype,"JGb",null);d.__decorate([f.config(f.object(),"pboCommands")],n.prototype,"C0a",null);d.__decorate([f.config(f.object(),"pboCommandsOverride")],n.prototype,"D0a",null);d.__decorate([f.config(f.Mc,"pboRecordHistory")],n.prototype,"OZa",null);d.__decorate([f.config(f.Cy,"pboHistorySize")],n.prototype,"Kla",null);d.__decorate([f.config(f.Mc,"pboAddXEsnHeader")],n.prototype,"KIa",null);d.__decorate([f.config(f.Mc,"combineManifestAndLicense")],n.prototype,"R_",null);d.__decorate([f.config(f.Mc,"enableLicensedManifestForPrefetch")],n.prototype,"hOa",null);d.__decorate([f.config(f.Mc,"useLdlForPrefetchLicensedManifest")],n.prototype,"j4a",null);d.__decorate([f.config(f.Mc,"pboUseStudioManifest")],n.prototype,"r4a",null);d.__decorate([f.config(f.Mc,"pboEnableLeanManifest")],n.prototype,"gOa",null);n=d.__decorate([g.O(),d.__param(0,g.l(m.ck)),d.__param(1,g.l(h.Sc)),d.__param(2,g.l(a.WB))],n);b.tBa=n;},function(d,b,a){var k,m;function c(a,b,c,d,g,k,l){this.version=a;this.url=b;this.id=c;this.languages=d;this.fb=g;this.Ctb=k;this.QHb=l;}function g(a){this.Gh=a;}Object.defineProperty(b,"__esModule",{value:!0});b.OBa=void 0;d=a(0);k=a(1);a=a(66);g.prototype.create=function(a,b,d,g,k){return new c(this.Gh.version,b,a,this.Gh.languages,d,g,k);};m=g;m=d.__decorate([k.O(),d.__param(0,k.l(a.pr))],m);b.OBa=m;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.fb,echo:this.Ctb};};},function(d,b,a){var g,k,m;function c(a,b){this.cA=b;this.log=a.tb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.zBa=void 0;d=a(0);g=a(1);k=a(6);a=a(84);c.prototype.Uea=function(a){a && (!1,this.links=Object.assign(Object.assign({},this.links),a));};c.prototype.DR=function(a){!1;return this.links[a];};c.prototype.hjb=function(a){var b;b="playbackContextId=" + a.playbackContextId + "&esn=" + this.cA().mi;a="drmContextId=" + a.drmContextId;this.Uea({events:{rel:"events",href:"/events?" + b},license:{rel:"license",href:"/license?licenseType=standard&" + b + "&" + a},ldl:{rel:"ldl",href:"/license?licenseType=limited&" + b + "&" + a}});};m=c;m=d.__decorate([g.O(),d.__param(0,g.l(k.zb)),d.__param(1,g.l(a.tt))],m);b.zBa=m;},function(d,b,a){var g,k;function c(){this.LU=new k.mo();}Object.defineProperty(b,"__esModule",{value:!0});b.MBa=void 0;d=a(0);g=a(1);k=a(134);c.prototype.HL=function(a){this.LU.next(a);};ma.Object.defineProperties(c.prototype,{xB:{configurable:!0,enumerable:!0,get:function(){return this.LU;}}});a=c;a=d.__decorate([g.O()],a);b.MBa=a;},function(d,b,a){var c,g,k,m,f,h,n,p,r,v,A,t,B,I,J,D,T,R,U,F,E,L,N,P,aa,S,W,X,Q,ca,O,xa,Na,Ha,ja,da,ea,ga,ka;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;d=a(1);c=a(378);g=a(490);k=a(1124);m=a(492);f=a(1125);h=a(343);n=a(340);p=a(1126);r=a(1136);v=a(14);A=a(18);t=a(87);B=a(22);I=a(6);J=a(1137);D=a(493);T=a(1138);R=a(4);U=a(1139);F=a(1140);E=a(514);L=a(1141);N=a(90);P=a(494);aa=a(1142);S=a(106);W=a(27);X=a(117);Q=a(84);ca=a(263);O=a(517);xa=a(1143);Na=a(65);Ha=a(36);ja=a(495);da=a(1144);ea=a(496);ga=a(11);ka=a(29);b.j=new d.Tc(function(b){b(O.HX).to(xa.fCa).Z();b(ea.Y7).hf(function(){return function(b){var c,d;c=ga.V_(b.Dd);d=new (a(1145).Dua)(b,c.Ml);return c.Ml && c.iE && c.CWb?new (a(1146).Cua)(b,!0,d):d;};});b(c.bca).hf(function(b){var c;c=b.mb;return function(b,d,f,g,h,k,l,m,n){return new (a(1147).JEa)(c.get(U.dca),b,d,f,g,h,k,l,m,n);};});b(U.dca).to(F.MEa).Z();b(g.cca).to(k.LEa).Z();b(n.aba).to(p.bCa).Z();b(ja.Aba).to(da.gDa);b(ja.zba).Z2a(ja.Aba);b(h.U8).hf(function(b){var c;c=b.mb;return function(b){return new (a(1148).zwa)(c.get(N.T8),c.get(t.st),c.get(A.Fd),b);};});b(m.g8).hf(function(){return function(a){return new f.dva(a);};});b(J.Saa).hf(function(a){var b;b=a.mb;return function(a){return new r.YBa(a,b.get(I.zb),b.get(v.Sc),b.get(B.He),b.get(t.st));};});b(D.cba).hf(function(a){var b;b=a.mb;return function(a,c,d,f,g,h,k,l,m){return new T.hCa(a,c,d,f,g,h,k,l,m,b.get(J.Saa),b.get(O.HX));};});b(E.Hba).hf(function(a){return function(b){var c,d;c=a.mb.get(v.Sc);d=a.mb.get(I.zb);return new L.BDa(c,b,d);};});b(P.bba).hf(function(a){return function(b){var c,d,f,g,h;c=a.mb.get(Q.tt);d=a.mb.get(S.OC);f=a.mb.get(W.rg);g=a.mb.get(X.MC);h=a.mb.get(ka.iC);return new aa.dCa(b,c,d(R.$g(1)),f,g,h);};});b(ca.gX).NB(function(b){return new (a(1149).vAa)(b.mb.get(Na.$G),b.mb.get(Ha.Rl));}).Z();});},function(d,b,a){var g,k,m,f,h,n;function c(a,b){this.app=a;this.config=b;}Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;d=a(0);g=a(13);k=a(491);m=a(18);f=a(1);h=a(4);a=a(14);c.prototype.IJ=function(a){var b;a.hV={};if(!a.KE() && a.Ay && 0 < a.Ay.length && (a.zy=this.yQa(a),a.zy)){b=this.JRb(a);b() || (a.Ob.addListener(b),a.jf.addListener(b));}};c.prototype.JRb=function(a){var c;function b(){var d,f;if(!a.jf.value || a.Ob.value === g.sb.Zf)return !1;d=a.zy;f=d.rd();return f === k.qo.LOADING?!1:f !== k.qo.LOADED && d.ny?(d=c.xAb(a))?(a.hV.offset=c.app.Bb().ca(h.ga),a.zy=d,d.download(),!0):!1:(a.Ob.removeListener(b),a.jf.removeListener(b),!1);}c=this;return b;};c.prototype.xAb=function(a){var b,c;b=this.config();c=a.Ln.LR() < b.kVb;b=(a.jf.value?a.jf.value.U:0) > b.jVb;return this.Tzb(a,c && b);};c.prototype.Tzb=function(a,b){if(b && (b=this.yQa(a),this.jRa(a,b.size)))return (a.hV.z_a="h",b);b=this.Qyb(a);if(this.jRa(a,b.size))return (a.hV.z_a="l",b);};c.prototype.jRa=function(a,b){var c,d;c=this.config();d=Math.min(a.WP(),a.pV());return a.flb.cmb(b) * (1 + .01 * c.Ajb[2]) < d * c.nVb;};c.prototype.yQa=function(a){return a.Ay[a.Ay.length - 1];};c.prototype.Qyb=function(a){return a.Ay[0];};n=c;n=d.__decorate([f.O(),d.__param(0,f.l(m.Fd)),d.__param(1,f.l(a.Sc))],n);b.LEa=n;},function(d,b){function a(a){this.j=a;}Object.defineProperty(b,"__esModule",{value:!0});b.dva=void 0;a.prototype.Y3a=function(){var a;a=this.j.Ga;if(null !== a && void 0 !== a && a.mK()){a=a.kb.get();if(null === a || void 0 === a?0:a.ai)this.j.ai=a.ai.Ca;if(null === a || void 0 === a?0:a.Ka)this.j.Ka=a.Ka.Ca;}};a.prototype.wn=function(){-1 === this.j.Ka && this.Y3a();return this.j.Ka;};a.prototype.cmb=function(a){-1 !== this.j.ai && -1 !== this.j.Ka || this.Y3a();return -1 === this.j.ai || -1 === this.j.Ka?Number.MAX_VALUE:this.j.ai + 8 * a / this.j.Ka;};b.dva=a;},function(d,b,a){var g,k,m,f,h,n,p,r,v,t,y,B,I,J,D,T,R,U,F,E,L,N,P,aa,S,W,X;function c(a,b,c,d,f,g,h,k,l,m,n,q,p,r,v,u,t,A,B,y,J,I,D,E,T){this.EE=a;this.QI=b;this.za=c;this.ta=d;this.hlb=f;this.Usa=g;this.Nna=h;this.Ona=k;this.O3=l;this.kc=m;this.lj=n;this.wi=q;this.eu=p;this.Jpa=r;this.GS=v;this.nta=u;this.Mj=t;this.Al=A;this.Wd=B;this.Hpa=y;this.$Ob=J;this.vfa=I;this.$E=D;this.K_=E;this.MI=T;}Object.defineProperty(b,"__esModule",{value:!0});b.bCa=void 0;d=a(0);g=a(89);k=a(1);m=a(106);f=a(30);h=a(18);n=a(35);p=a(492);r=a(366);v=a(379);t=a(457);y=a(98);B=a(116);I=a(147);J=a(91);D=a(217);T=a(493);R=a(128);U=a(1127);F=a(490);E=a(50);L=a(27);N=a(494);P=a(65);aa=a(495);S=a(496);W=a(263);c.prototype.create=function(b,c,d,f,g,h){return new (a(497).cCa)(b,c,g,h,f,this.EE,d,this.za,this.QI,this.ta,this.Nna,this.hlb,this.Usa,this.Ona,this.O3,this.kc,this.lj,this.wi,this.eu,this.Jpa,this.GS,this.nta,this.Mj,this.Wd,this.Hpa,this.Al,this.$Ob(),this.vfa,this.$E,void 0,this.K_);};X=c;X=d.__decorate([k.O(),d.__param(0,k.l(g.Gv)),d.__param(1,k.l(f.Ig)),d.__param(2,k.l(h.Fd)),d.__param(3,k.l(n.fh)),d.__param(4,k.l(p.g8)),d.__param(5,k.l(m.OC)),d.__param(6,k.l(r.G$)),d.__param(7,k.l(v.I$)),d.__param(8,k.l(t.v$)),d.__param(9,k.l(y.Sv)),d.__param(10,k.l(B.EC)),d.__param(11,k.l(I.oH)),d.__param(12,k.l(D.QV)),d.__param(13,k.l(T.cba)),d.__param(14,k.l(R.DX)),d.__param(15,k.l(F.cca)),d.__param(16,k.l(E.Sm)),d.__param(17,k.l(P.$G)),d.__param(18,k.l(L.rg)),d.__param(19,k.l(N.bba)),d.__param(20,k.l(aa.zba)),d.__param(21,k.l(S.Y7)),d.__param(22,k.l(W.gX)),d.__param(23,k.l(U.Gva)),d.__param(23,k.optional()),d.__param(24,k.l(J.aN)),d.__param(24,k.optional())],X);b.bCa=X;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gva=b.Hva=void 0;d=b.Hva || (b.Hva={});d[d.Gab=0]="PAUSE";d[d.Lbb=1]="RESUME";d[d.LYb=2]="CAPTIONS_ON";d[d.KYb=3]="CAPTIONS_OFF";d[d.MYb=4]="CAPTION_LANGUAGE_CHANGED";d[d.ZXb=5]="AUDIO_LANGUAGE_CHANGED";d[d.v0b=6]="NEXT_EP";d[d.x1b=7]="PREV_EP";d[d.Nv=8]="SEEK";d[d.rDa=9]="STOP";b.Gva="CastInteractionTrackerSymbol";},function(d,b,a){var h,n,p,r,v,t,y,B,I,J,D,T,R,U,F,E,L,N,P,aa,S,W,X,Q,ca,O;function c(){this.h7=[];this.TUb=50;}function g(a){var b;b=this;this.j=a;this.P4a=Promise.resolve();this.m9=ka.WebKitMediaKeys || HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.zz=[];this.wr=new v.tj();this.PFa=this.Aca=0;this.DY=[];this.eg=B.Bh(this.j,"MediaElementASE");this.LHa=U.kh;this.Yca=!1;this.Rb=new c();this.en={};this.tGa={};this.O1=this.KO(function(){var a;if(b.na)return null !== (a=b.na.webkitDecodedFrameCount) && void 0 !== a?a:0;});this.tA=this.KO(function(){var a;if(b.na){a=b.WY();return a?a.totalVideoFrames:b.na.webkitDecodedFrameCount;}});this.vE=this.KO(function(){var a;if(b.na){a=b.WY();return a?a.droppedVideoFrames:b.na.webkitDroppedFrameCount;}});this.yR=this.KO(function(){var a;if(b.na){a=b.WY();return a && a.corruptedVideoFrames;}});this.R1=this.KO(function(){var a;if(b.na){a=b.WY();return a && E.hi(a.totalFrameDelay * U.Yj);}});this.OGa=function(a){return b.wr.dc(P.Pi.kUa,{fa:a});};this.Dk=B.ja.get(N.m$).create(r.config.Ip,this,this.j);r.config.RA && (this.P4a=new Promise(function(a){b.LHa=a;b.j.addEventListener(W.V.Pf,a);}));this.eg.trace("Created Media Element");this.addEventListener=this.wr.addListener;this.removeEventListener=this.wr.removeListener;this.na=k(this.j.SM);this.sourceBuffers=this.zz;}function k(a){var b,c;b=B.ja.get(aa.oca).Nzb();a=a.width / a.height * b.height;c=(b.width - a) / 2;return r.config.CRb?U.createElement("VIDEO","position:absolute;width:" + a + "px;height:" + b.height + "px;left:" + c + "px;top:0px"):U.createElement("VIDEO","position:absolute;width:100%;height:100%");}function m(a){a.preventDefault();return !1;}function f(a,b,c){var d,f,g;d=a.target;d=d && d.error;f=a.errorCode;g=d && d.code;U.ic(g) || (g=f && f.code);f=d && d.msExtendedCode;U.ic(f) || (f=d && d.systemCode);U.ic(f) || (f=a.systemCode);a=U.Hb({},{code:g,systemCode:f,trace:JSON.stringify(c)},{Wx:!0});b={ka:b(g),Ab:F.Ina(a)};try{d && d.message && (b.OS=d.message);}catch(Ta){}f=U.ce(f);L.qa(f) && (b.Ne=B.Pfa(f,4));return b;}Object.defineProperty(b,"__esModule",{value:!0});b.fAa=void 0;h=a(48);n=a(278);p=a(12);r=a(11);v=a(68);t=a(58);y=a(47);B=a(7);I=a(2);J=a(20);D=a(85);T=a(324);R=a(23);U=a(26);F=a(279);E=a(10);L=a(15);N=a(503);P=a(280);aa=a(479);S=a(4);W=a(13);X=a(158);Q=a(77);ca=! !(E.dH && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);O=ca && (HTMLVideoElement.prototype.webkitGenerateKeyRequest || E.cH);g.prototype.zR=function(a){try{this.na && (this.PFa=this.na.currentTime);}catch(Na){this.eg.error("Exception while getting VIDEO.currentTime",Na);a && this.NH(I.L.mbb,Na);}return E.hi(this.PFa * U.Yj);};g.prototype.seek=function(a){var b;J.yb(!this.Bo);this.GHa();b=this.zR(!0);if(!r.config.Ojb && E.tC(b - a) <= this.Era)(this.eg.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.Era}),this.Rb.trace("smallseek",a));else {this.Rb.trace("seek",a);try{this.eg.trace("Setting video elements currentTime",{From:D.Mh(b),To:D.Mh(a)});this.Bo={};this.na.currentTime=a / U.Yj;this.wr.dc(P.Pi.lq);}catch(Ha){this.eg.error("Exception while setting VIDEO.currentTime",Ha);this.NH(I.L.nbb,Ha);}}};g.prototype.kRa=function(){return ! !this.Bo;};g.prototype.addSourceBuffer=function(a){var b,c;b=U.ce(this.Aca.toString() + this.zz.length.toString());b={sourceId:this.Aca,z_:b};try{c=new n.N$(this.j,a,this.Nf,b,this.eg);this.zz.push(c);a == p.YG && c.rja && c.rja.addListener(this.LHa);return c;}catch(ja){c=U.Ue(ja);this.eg.error("Unable to add source buffer.",{error:c});this.j.ed(I.L.saa,{ka:a === h.zc.Xj.AUDIO?U.K.Jza:U.K.Kza,Ab:c});}};g.prototype.c_=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.wr.dc(P.Pi.E1a);return !0;};g.prototype.removeSourceBuffer=function(a){this.zz=this.zz.filter(function(b){return !y.HLa(a,b);});this.Nf.removeSourceBuffer(a);};g.prototype.endOfStream=function(){this.Rb.trace("endofstream");!1;r.config.nga && this.Nf.endOfStream();};g.prototype.mq=function(a){!1;this.zz=[];a && a.P7b();return !0;};g.prototype.PQb=function(a){this.Aca=a;};g.prototype.TQa=function(){if(this.Nf)return S.OYa(this.Nf.duration);};g.prototype.Hsb=function(){var a;if(!this.Yca && this.na && this.na.readyState >= Q.Cv.Qxa.HAVE_CURRENT_DATA){a=this.na.webkitDecodedFrameCount;if(void 0 === a || 0 < a || r.config.xXb)this.Yca=!0;}return this.Yca;};g.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(W.V.q1a,function(b){return a.Mgb(b);});if(ca){if(this.j.Dx){if(!O){this.MH(I.L.hBa);return;}if(E.cH && E.cH.isTypeSupported && this.Dk.Ce)try{if(!E.cH.isTypeSupported(this.Dk.Ce,"video/mp4")){this.qib(function(b){a.MH(I.L.qaa,b);});return;}}catch(ja){this.NH(I.L.qaa,ja);return;}}try{this.Nf=new E.dH();}catch(ja){this.NH(I.L.bbb,ja);return;}try{this.cm=URL.createObjectURL(this.Nf);}catch(ja){this.NH(I.L.cbb,ja);return;}try{this.Dk.ijb(this.OGa);this.Nf.addEventListener("sourceopen",function(b){return a.jHa(b);});this.Nf.addEventListener(this.m9 + "sourceopen",function(b){return a.jHa(b);});this.na.addEventListener("error",this.en.error=function(b){return a.oI(b);});this.na.addEventListener("seeking",this.en.seeking=function(){return a.Lgb();});this.na.addEventListener("seeked",this.en.seeked=function(){return a.Kgb();});this.na.addEventListener("timeupdate",this.en.timeupdate=function(){return a.Ogb();});this.na.addEventListener("loadstart",this.en.loadstart=function(){return a.hP();});this.na.addEventListener("volumechange",this.en.volumechange=function(b){return a.Pgb(b);});this.na.addEventListener(this.Dk.fF,this.en[this.Dk.fF]=function(b){return a.Jgb(b);});b=this.j.Wf;c=b.lastChild;c?b.insertBefore(this.na,c):b.appendChild(this.na);r.config.rNa && this.na.addEventListener("contextmenu",m);this.na.src=this.cm;t.Ve.addListener(t.lK,this.tGa[t.lK]=function(){return a.iHa();});this.iHa();}catch(ja){this.NH(I.L.dbb,ja);}}else this.MH(I.L.iBa);};g.prototype.close=function(){var b;function a(){b.cm && (b.GHa(),t.Ve.removeListener(t.lK,b.tGa[t.lK]),b.Udb());}b=this;this.Rb.trace("close");this.na.removeEventListener(this.Dk.fF,this.en[this.Dk.fF]);this.na.removeEventListener("error",this.en.error);this.na.removeEventListener("seeking",this.en.seeking);this.na.removeEventListener("seeked",this.en.seeked);this.na.removeEventListener("timeupdate",this.en.timeupdate);this.na.removeEventListener("loadstart",this.en.loadstart);this.na.removeEventListener("volumechange",this.en.volumechange);this.Dk.DOb(this.OGa);r.config.Ip?this.Dk.jYa().then(function(){return a();}):a();this.Dk.j_a && clearTimeout(this.Dk.j_a);};g.prototype.px=function(){return this.Rb.px();};g.prototype.Jgb=function(a){return this.Dk.jpa(a);};g.prototype.WY=function(){if(this.na)return this.na.getVideoPlaybackQuality && this.na.getVideoPlaybackQuality() || this.na.videoPlaybackQuality || this.na.playbackQuality;};g.prototype.$hb=function(){var a;a=this.j.Hj;return (a=a && a.errorCode) && 0 <= [I.L.yX,I.L.WW].indexOf(a);};g.prototype.Udb=function(){var a;a=!1;r.config.EMb && this.$hb() && (a=!0);r.config.znb && !a && (this.na.removeAttribute("src"),this.na.load && this.na.load());URL.revokeObjectURL(this.cm);r.config.rNa && this.na.removeEventListener("contextmenu",m);!a && this.na && this.j.Wf.removeChild(this.na);this.na=this.Nf=void 0;this.cm="";};g.prototype.iHa=function(){!0 === E.Je.hidden?this.DY.forEach(function(a){a.refresh();a.KSb();}):this.DY.forEach(function(a){a.refresh();a.aTb();});};g.prototype.KO=function(a){var b;b=B.ja.get(T.gaa)(a);this.DY.push(b);return function(){b.refresh();return b.Fxb();};};g.prototype.NH=function(a,b){var c,d;c={ka:U.K.ei,Ab:U.Ue(b)};try{(d=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == d.length && (c.Ne=d);}catch(Ca){}this.j.ed(a,c);};g.prototype.GHa=function(){this.DY.forEach(function(a){a.refresh();});};g.prototype.Seb=function(){return this.na && this.na.msGraphicsTrustStatus;};g.prototype.MH=function(a,b){this.j.ed(a,b,void 0);};g.prototype.qib=function(a){var c,d,g;function b(c){b=U.kh;d.Di();a(c);}c=this;d=B.ja.get(X.sH)(500,function(){b();});d.iA();try{g=this.j.jf.value.xq.t7b.children.filter(function(a){return "pssh" == a.type && a.f5b == p.Lwa;})[0];new E.cH(this.Dk.Ce).createSession("video/mp4",g.raw,null).addEventListener(this.m9 + "keyerror",function(a){b(f(a,I.r9,c.px()));});}catch(Wa){b();}};g.prototype.Mgb=function(a){var b,d,f,g,h,k,l;if(this.na){a=a.rV;b=this.Seb();b && (a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState="" + this.na.readyState;a.currentTime="" + this.na.currentTime;a.pbRate="" + this.na.playbackRate;}catch(Ka){}for(var b=this.zz.length,c;b--;){c=this.zz[b];d="";c.type == p.cX?d="audio":c.type == p.YG && (d="video");U.Hb(a,c.K1(),{prefix:d});r.config.Ztb && this.j.Hj && p.YG == c.type && (d=U.kM(c.M1()),3E3 > (d.data && d.data.length) && (d.data=R.hMa(d.data).join(),U.Hb(a,d,{prefix:c.type})));}this.Nf && (b=this.Nf.duration) && !isNaN(b) && (a.duration=b.toFixed(4));if(r.config.xFb)try{f=this.j.ne;g=f && f.hEb;if(g){h=g.expiration;isNaN(h) || (a.exp=h);k=g.keyStatuses.entries();if(k.next){l=k.next().value;l && (a.keyStatus=l[1]);}}}catch(Ka){}}};g.prototype.jHa=function(a){!1;this.bib || (this.bib=!0,this.wr.dc(P.Pi.F1a,a));};g.prototype.Lgb=function(){this.Rb.trace("seeking");this.eg.trace("Video element event: seeking");this.Bo?this.Bo.WIb=!0:(this.eg.error("unexpected seeking event"),r.config.jvb && this.MH(I.L.sbb,{Ab:{Trace:this.px()}}));};g.prototype.Kgb=function(){this.Rb.trace("seeked");this.eg.trace("Video element event: seeked");this.Bo?(J.yb(this.Bo.WIb),this.Bo.VIb=!0,this.gIa()):(this.eg.error("unexpected seeked event"),r.config.ivb && this.MH(I.L.rbb,{Ab:{Trace:this.px()}}));};g.prototype.Ogb=function(){var a;this.Rb.trace("timeupdate",null === (a=this.na) || void 0 === a?void 0:a.currentTime);!1;this.Bo && (this.Bo.YIb=!0,this.gIa());this.wr.dc(P.Pi.lq);};g.prototype.hP=function(){this.eg.trace("Video element event: loadstart");};g.prototype.Pgb=function(a){this.eg.trace("Video element event:",a.type);try{this.j.volume.set(this.na.volume);this.j.muted.set(this.na.muted);}catch(Na){this.eg.error("error updating volume",Na);}};g.prototype.oI=function(a){this.MH(I.L.kbb,f(a,I.qxa,this.px()));};g.prototype.gIa=function(){this.Bo && this.Bo.VIb && this.Bo.YIb && (this.Rb.trace("seekcomplete"),this.Bo=void 0,this.wr.dc(P.Pi.iU));};ma.Object.defineProperties(g.prototype,{Era:{configurable:!0,enumerable:!0,get:function(){return r.config.BSb;}}});b.fAa=g;c.prototype.trace=function(a,b){this.h7.push([a,b]);this.h7.length > this.TUb && this.h7.shift();};c.prototype.px=function(){return this.h7;};},function(d,b,a){var g,k,m,f,h,n,p,r,v,t,y,B;function c(a){var b;b=this;this.j=a;this.Isa=this.mWa=0;this.Pf=this.up=!1;this.Y5=0;this.IM=function(){var a,c;b.T5();b.IQ && (b.log.info("Deactivating",b.IQ),b.IB.xrb(b.Zd()));b.j.jk.set(null);b.hG.P0a(b.entries=void 0);b.mLa();a=b.j.Oc.value;a && a.zK() && !a.i3() && (a=null);if(a && b.j.Ob.value !== y.sb.Zf){c=b.Zd();b.IB.Sib(c,a);}a?(b.log.info("Activating",a),b.j.Jl.set(a.rd() === g.PC.Dba.LOADED?y.ge.wd:y.ge.cd),b.up || b.j.ud("tt_start"),a.getEntries().then(b.GI)["catch"](b.GI)):b.j.Jl.set(y.ge.wd);b.IQ=a;b.tG();};this.Qsa=function(){b.up && (b.hG.start(),b.j.Ob.value !== y.sb.Uc && b.hG.stop());};this.tG=function(){var a;b.j.state.value === y.Db.wd && b.j.Ob.value !== y.sb.Zf && (b.entries?a=b.hG.Pwb():b.j.Oc.value && (a=c.USb[b.j.Oc.value.rd()]));a && t.ic(a.startTime) && b.j.Zs.value !== a && (b.mWa++,b.Isa+=b.hG.UQa() - a.startTime,b.ZJa=Math.ceil(b.Isa / (b.mWa + 0)));b.j.Zs.set(a);};this.Zd=function(){var a;a=b.j.Fka();b.IQ && b.IQ.ms && (a+=b.IQ.ms);return a;};this.QJb=function(a){b.fireEvent(c.mSb,a);a && a.id && (b.IB.$3a(a.id),!1);b.log.trace("showsubtitle",b.xRa(a));};this.MJb=function(a){b.fireEvent(c.MOb,a);b.log.trace("removesubtitle",b.xRa(a));};this.Ik=function(){b.log.warn("imagesubs buffer underflow",b.j.Oc.value.Dh);b.j.Jl.set(y.ge.cd);};this.mJb=function(){b.log.info("imagesubs buffering complete",b.j.Oc.value.Dh);b.j.Jl.set(y.ge.wd);};this.P4=function(){b.up && b.xf && b.xf.et(b.Zd());};this.jXa=function(a){b.up && b.xf && (b.xf.pause(),b.xf.CB(a.Wh));};this.hB=function(){b.up && b.xf && b.xf.lZa();};this.fXa=function(a){b.xf && b.xf.Un(a.Sg,a.eT);};this.oXa=function(a){b.xf && b.xf.Ii(a.va,a.nWb);};this.FJb=function(){b.up=!0;v.Hc(function(){b.xf?b.xf.et(b.Zd()):b.Qsa();b.tG();});};this.DJb=function(){b.entries=void 0;b.mLa();b.hG.stop();b.tG();b.Pf=!0;b.T5();};this.npa=function(a){(a=a.newValue) && t.ic(a.id) && (b.IB.$3a(a.id),!1);};this.IJb=function(a){b.gWb(a.newValue,a.oldValue);b.Qsa();b.tG();};this.GI=function(a){var c;if(!b.Pf){c=a.track;if(c === b.j.Oc.value)try{c.hp?b.Qib(a):b.Rib(a);}catch(R){b.log.error("Error activating track:",R,c);return;}b.up || b.j.ud(a.ia?"tt_comp":"tt_err");a.ia?(f.config.U_a?setTimeout(function(){b.j.Jl.set(y.ge.wd);},f.config.U_a):b.j.Jl.set(y.ge.wd),c.hp || b.tG()):a.Cr?b.log.warn("aborted timed text track loading"):f.config.hvb?b.j.ed(r.L.$9a,{Ab:a.track?a.track.Dh:{}}):(b.log.error("ignore subtitle initialization error",a),b.j.Jl.set(y.ge.wd));}};this.Jb=new m.tj();this.IB=new p.jEa(n.Bh(a,"SubtitleTracker"),f.config.kub);this.log=n.Bh(a,"TimedTextManager");this.hG=new k.BEa(this.Zd,this.tG);this.j.Oc.addListener(this.IM);f.config.ZLb?(this.j.addEventListener(y.V.up,this.FJb),this.IM()):(this.j.Jl.set(y.ge.wd),this.j.addEventListener(y.V.up,function(){b.up=!0;b.IM();}));this.j.Ob.addListener(this.IJb);this.j.addEventListener(y.V.Vsa,this.Qsa);this.j.Zs.addListener(this.npa);this.j.addEventListener(y.V.Pf,this.DJb);}Object.defineProperty(b,"__esModule",{value:!0});b.zEa=void 0;g=a(224);k=a(504);m=a(68);f=a(11);h=a(47);n=a(7);p=a(1130);r=a(2);v=a(55);t=a(15);y=a(13);B=a(1131);c.prototype.addEventListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.fireEvent=function(a,b,c){this.Jb.dc(a,b,c);};c.prototype.Rea=function(a,b,c){var d;d=B.xEa.mqb(this.j,a,b,c);this.j.Kl.push(d);this.j.jn.forEach(function(a){h.vua(a.Kl,d);});this.j.Oc.set(d);this.j.fireEvent(y.V.iG);};c.prototype.gMb=function(a){this.dra(a)?a.getEntries().then(function(){}):Promise.resolve();};c.prototype.nAb=function(a){return this.IB.Uzb(a);};c.prototype.Zka=function(a){return this.IB.Zka(a);};c.prototype.k2=function(){var a,b;a=this.j.aV;b=f.config.T2a.characterSize;b={size:f.config.$sa.characterSize || b};a && (b.visibility=a.dla(),b.jQ=a.bla(),b.Hq=a.cla());return b;};c.prototype.yRb=function(a){f.config.$sa.characterSize=a;a=this.j.Oc.value;this.dra(a) && !a.hp && a.getEntries().then(this.GI)["catch"](this.GI);};c.prototype.gWb=function(a,b){var c;a === y.sb.Uc || a == y.sb.uj?b !== y.sb.Uc && b !== y.sb.uj && ((b=this.j.Oc.value) && !this.dra(b) || this.IB.sWa(this.Zd(),b || void 0,"presentingstate:" + a)):a !== y.sb.Zf && a !== y.sb.vt || this.IB.Gia(null !== (c=this.Zd()) && void 0 !== c?c:void 0,"presentingstate:" + a);};c.prototype.T5=function(){this.Y5=0;clearTimeout(this.DPb);};c.prototype.mLa=function(){this.xf && (this.xf.stop(),this.TUa("removeListener"));this.xf=void 0;};c.prototype.TUa=function(a){this.xf && (this.xf[a]("showsubtitle",this.QJb),this.xf[a]("removesubtitle",this.MJb),this.xf[a]("underflow",this.Ik),this.xf[a]("bufferingComplete",this.mJb),"addListener" === a?(this.j.addEventListener(y.V.lq,this.P4),this.j.addEventListener(y.V.El,this.jXa),this.j.addEventListener(y.V.LF,this.hB),this.j.addEventListener(y.V.E4,this.fXa),this.j.addEventListener(y.V.Eta,this.oXa)):(this.j.removeEventListener(y.V.lq,this.P4),this.j.removeEventListener(y.V.El,this.jXa),this.j.removeEventListener(y.V.LF,this.hB),this.j.removeEventListener(y.V.E4,this.fXa),this.j.removeEventListener(y.V.Eta,this.oXa)));};c.prototype.xRa=function(a){return {currentPts:this.Zd(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};c.prototype.Qib=function(a){var b,c;b=this;c=a.track;if(!c || !c.hp)throw Error("Not an image base subtitle");a.ia?(this.T5(),this.xf=c.xf,this.TUa("addListener"),this.log.info("Activated",c),this.j.jk.set(c),this.up?v.Hc(function(){b.xf.et(b.Zd());}):this.xf.pause()):this.L_a(c,a);};c.prototype.Rib=function(a){var b,c;b=a.track;c=a.entries;if(!b || b.hp)throw Error("Not a valid text track");c?(this.T5(),this.hG.P0a(this.entries=c),this.log.info("Activated",b),this.j.jk.set(b)):this.L_a(b,r.jr(a));this.tG();};c.prototype.L_a=function(a,b){var c,d;c=this;d=this.Y5 < f.config.zGb;d && (this.DPb=setTimeout(function(){c.Y5++;a.getEntries().then(c.GI)["catch"](c.GI);},f.config.xUb));this.log.error("Failed to activate" + ((null === a || void 0 === a?0:a.hp)?" img subtitle":""),{retry:d},b,a);};c.prototype.dra=function(a){return !(!a || a.zK() && !a.i3());};b.zEa=c;d={};c.USb=(d[g.PC.Dba.LOADING]={I6b:!0},d[g.PC.Dba.SN]={rq:!0},d);c.mSb="showsubtitle";c.MOb="removesubtitle";},function(d,b,a){var k;function c(a,b,c){this.start=a;this.track=b;this.BM=Array.isArray(c)?c:[];}function g(a,b){this.log=a;this.vG=b;this.wqa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.jEa=void 0;k=a(20);g.prototype.Sib=function(a,b){this.sWa(a,b,"activating");};g.prototype.xrb=function(a){this.Gia(a,"de-activating");};g.prototype.sWa=function(a,b,d){var f;this.vk && this.Gia(a,"close current for new");f=[];this.orphans.length && (f.push.apply(f,[].concat(X(this.orphans))),this.orphans=[]);this.vk=new c(a,b,f);this.vG && this.log.trace("new range: " + d,this.vk);};g.prototype.Gia=function(a,b){this.vk && (this.vk.end=a,this.wqa.push(this.vk),this.vG && this.log.trace("end range: " + b,this.vk || ({})),this.vk=void 0);};g.prototype.$3a=function(a){this.vk?this.vk.BM.push(a):this.orphans.push(a);};g.prototype.Zka=function(a){var b,d;b=this.wqa.slice(0);if(this.vk && "undefined" !== typeof a){d=new c(this.vk.start,this.vk.track,this.vk.BM);d.end=a;b.push(d);}a=b.reduce(function(a,b){var c,d,f,g;if(!b.track)return a;d=b.track.Jd;f=b.track.xA(b.start,b.end);if(!f)return a;g=new Set(b.BM);a[d]?(b=a[d],b.expected+=f.length,b.missed+=f.length - g.size):a[d]={dlid:d,bcp47:b.track.gm,profile:b.track.profile,expected:f.length,missed:f.length - g.size,startPts:null !== (c=b.track.gAb()) && void 0 !== c?c:0};return a;},{});a=Object.values(a);this.vG && this.log.trace("subtitleqoe:",JSON.stringify(a,null,"\t"));return a;};g.prototype.Uzb=function(a){var b,d,g,l;b=this.wqa.slice(0);d=0;g=0;this.vk && "undefined" != typeof a && (l=new c(this.vk.start,this.vk.track,this.vk.BM),l.end=a,b.push(l));b.forEach(function(a){var b,c;if(a.track){if(a.end < a.start){k.yb(!1,"negative range");a.AB=0;return;}b=new Set(a.BM);c=a.track.xA(a.start,a.end);a.a1=c?c.map(function(a){return a.id;}):[];a.AB=c?0 === c.length?100:100 * b.size / c.length:0;}else a.AB=100;b=a.end - a.start;d+=b;g+=a.AB * b;});l=d?Math.round(g / d):100;this.log.trace("qoe score " + l + ", at pts: " + a);this.vG && (a=b.map(function(a){return {start:a.start,"end  ":a.end,duration:a.end - a.start,score:Math.round(a.AB),lang:a.track?a.track.gm:"none","actual  ":a.BM.join(" "),expected:(a.a1 || []).join(" ")};}),this.log.trace("score for each range: ",JSON.stringify(a,function(a,b){return b;}," ")));return l;};b.jEa=g;},function(d,b,a){var g,k,m,f,h,n,p,r,v;function c(a,b,c,d,f){var g,k;a=h.PC.call(this,b,a,a,"1",{0:c},[{id:0,name:"custom"}],"xx",d || a,n.po.jH,"primary",null !== (g=null === f || void 0 === f?void 0:f.profile) && void 0 !== g?g:"custom",null !== (k=null === f || void 0 === f?void 0:f.midx) && void 0 !== k?k:{},!1,!1,null === f || void 0 === f?void 0:f.isLanguageLeftToRight) || this;a.j=b;a.url=c;a.options=f;a.ft=null === f || void 0 === f?void 0:f.useRangeHeader;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.xEa=void 0;d=a(57);g=a(11);k=a(58);m=a(7);f=a(26);h=a(224);n=a(138);p=a(67);r=a(126);v=a(13);d.$aa(d.Waa,function(a){var c;function b(b){var d;if(b.ctrlKey && b.altKey && b.shiftKey && b.keyCode == r.yt.Bcb){d=f.createElement("INPUT",void 0,void 0,{type:"file"});d.addEventListener("change",function(){var b,f,g;b=d.files[0];if(b){f=b.name;c.info("Loading file",{FileName:f});g=new FileReader();g.readAsText(b);g.addEventListener("load",function(){return a.Fp.Rea("nourl",f,{content:g.result});});}});d.click();}}c=m.Bh(a,"TimedTextCustomTrack");g.config.Gha && (c.info("Loading url",{Url:g.config.Gha}),a.Fp.Rea(g.config.Gha,"custom"));k.Ve.addListener(k.BA,b);a.addEventListener(v.V.Pf,function(){k.Ve.removeListener(k.BA,b);});});L(c,h.PC);c.mqb=function(a,b,d,f){var g;g="custom" + c.KCb++;return new c(g,a,b,d,f);};c.prototype.HNa=function(){var a;a=this;return new Promise(function(b,c){var d,f;if(null === (d=a.options) || void 0 === d?0:d.content)b(a.options.content);else if(a.url){f={responseType:p.Lla,url:a.url,track:a,Gc:null,dE:"tt-" + a.gm};a.j.K2.download(f,function(d){d.ia?b(d.content):(d.reason="downloadfailed",d.url=f.url,d.track=a,c(d));});}});};b.xEa=c;c.KCb=0;},function(d,b,a){var g,k,m,f,h,n;function c(a){var b,c;b=this;this.j=a;this.sJb=function(){var a;m.Ve.removeListener(m.q2,b.lXa);a=b.zq.cp();a && a.parentNode && a.parentNode.removeChild(a);};this.npa=function(a){b.zq.$Qb(a.newValue);};this.TJb=function(a){b.zq.fRb(a.newValue?a.newValue.m3:void 0);};this.lXa=function(){b.zq.PL();};this.zq=new h.yEa(f.config.Zsa,a.Oc.value?a.Oc.value.m3:void 0);c=a.SM;k.yb(.1 < c.width / c.height);this.zq.RQb(c.width / c.height);a.Wf.appendChild(this.zq.cp());a.Zs.addListener(this.npa);a.Oc.addListener(this.TJb);a.addEventListener(n.V.Pf,this.sJb,g.CC);m.Ve.addListener(m.q2,this.lXa);}Object.defineProperty(b,"__esModule",{value:!0});b.AEa=void 0;g=a(12);k=a(20);m=a(58);f=a(11);h=a(509);n=a(13);c.prototype.fsa=function(a){this.zq.fsa(a);};c.prototype.dla=function(){return this.zq.dla();};c.prototype.dsa=function(a){this.zq.dsa(a);};c.prototype.bla=function(){return this.zq.bla();};c.prototype.esa=function(a){this.zq.esa(a);};c.prototype.cla=function(){return this.zq.cla();};b.AEa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gZa=void 0;b.gZa=function(a){var b,d;b=!1;d=!1;return function(){if(b)d=!0;else for(d=!0;d;){d=!1;b=!0;a();b=!1;}};};},function(d,b,a){var g,k,m,f,h,n,p,r,v,t,y;function c(a){this.j=a;this.STb=!1;this.log=f.Bh(this.j,"MediaAppendManager");this.Gb=this.j.Gb;this.na=this.Gb.na;this.tV=this.ZP=!1;this.audio={type:m.jh.audio,$z:[],Fk:[],wL:!1};this.video={type:m.jh.video,$z:[],Fk:[],wL:!1};a={};this.mG=(a[g.zc.Xj.VIDEO]=this.video,a[g.zc.Xj.AUDIO]=this.audio,a);this.closed=!1;this.WA=k.config.WA;this.n4=k.config.n4;this.lF=k.SLa(! !this.j.Va.Kj).lF;this.$Ja=!0;n.yb(this.WA > this.n4,"bad config");n.yb(this.WA > this.lF,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.$za=void 0;g=a(48);k=a(11);m=a(79);f=a(7);h=a(2);n=a(20);p=a(26);r=a(13);v=a(167);t=a(4);y=a(77);c.prototype.J1=function(){var c,d;function a(a,c){return b(a,c.f4);}function b(a,b){var c,d,f,g;f=! !b.response;g=b.response;if(b.vc)return a + (g.byteLength || 0);b=(null !== (c=null === b || void 0 === b?void 0:b.VI) && void 0 !== c?c:0) - (null !== (d=null === b || void 0 === b?void 0:b.WI) && void 0 !== d?d:0);return (f?g.byteLength:b) + a;}c=this.mG[g.zc.Xj.VIDEO];d=this.mG[g.zc.Xj.AUDIO];return {videoToAppend:c.Fk.reduce(b,0),videoInBuffer:c.$z.reduce(a,0),audioToAppend:d.Fk.reduce(b,0),audioInBuffer:d.$z.reduce(a,0)};};c.prototype.KIb=function(){this.audio.nj && !this.audio.nj.Yh() && (!1,this.audio.nj.jJa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.qRb=function(){this.audio.ksa=!0;this.video.ksa=!0;};c.prototype.xRb=function(a){a === g.zc.Xj.AUDIO?this.ZP=!0:a === g.zc.Xj.VIDEO && (this.tV=!0);};c.prototype.Yh=function(){var a,b;return !(null === (a=this.audio.nj) || void 0 === a || !a.Yh()) || !(null === (b=this.video.nj) || void 0 === b || !b.Yh());};c.prototype.t6=function(a){var b,c;null === (b=this.audio.nj) || void 0 === b?void 0:b.t6(a);null === (c=this.video.nj) || void 0 === c?void 0:c.t6(a);};c.prototype.Xjb=function(a){var b;a.I === g.zc.Xj.AUDIO?this.ZP=!1:a.I === g.zc.Xj.VIDEO && (this.tV=!1);b=this.mG[a.I];b?b.Fk.push(a):n.yb(!1);};c.prototype.Vjb=function(a,b,c){b={I:a.type,NA:!1,response:b,Bk:function(){return "header";},get vc() {return !this.NA;},profile:c.profile};(a=this.mG[a.type])?a.Fk.push(b):n.yb(!1);};c.prototype.vRb=function(a){var b;b=this.mG[a.type];if(b)try{b.nj=a;}catch(J){this.ed(h.L.saa,{ka:v.Q1(a.type),Ab:p.Ue(J)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.ed=function(a,b,c){this.closed || this.j.ed(a,b,c);};c.prototype.Qha=function(a){return this.CNa(this.audio,a,this.n0()) && this.CNa(this.video,a,this.n0());};c.prototype.n0=function(){return this.j.Ob.value === r.sb.Zf?this.lF:this.n4;};c.prototype.GUb=function(){var a,b;a=this.video.Fk.filter(function(a){return !a.vc;}).reduce(function(a,b){return a + b.ex;},0);b=this.audio.Fk.filter(function(a){return !a.vc;}).reduce(function(a,b){return a + b.ex;},0);return Math.min(a,b);};c.prototype.CNa=function(a,b,c){var d;d=a.Rha;d=d && d.f4;return !a.nj || 0 === a.Fk.length && (a.type === m.jh.audio && this.ZP || a.type === m.jh.video && this.tV)?!0:d && d.av - b >= c || !1;};c.prototype.qta=function(a){var b,c;this.STb || (this.v3a(this.audio,a),this.v3a(this.video,a));!(this.closed || !(0 === this.audio.Fk.length && this.ZP || 0 === this.video.Fk.length && this.tV) || (null === (b=this.audio.nj) || void 0 === b?0:b.Yh()) || (null === (c=this.video.nj) || void 0 === c?0:c.Yh()) || this.Fia) && this.na.readyState > y.Cv.Qxa.HAVE_NOTHING && (this.Fia=!0,this.Gb.endOfStream());};c.prototype.v3a=function(a,b){var c,d,f;if(!this.closed && a.nj){c=a.nj;d=a.$z;!c.Yh() && 0 < d.length && (a.Rha=d[d.length - 1]);if(a.ksa){if(c.Yh())return;a.ksa=!1;f=this.Gb.TQa().MYa(t.Wm);0 < f && c.remove(0,f);}for(f=a.Fk[0];f && f.response && (f.vc || f.ky - b <= this.WA);){if((this.Fia=!1,this.vVb(f)))(a.Fk.shift(),f=a.Fk[0]);else break;}!c.Yh() && 0 < d.length && (a.Rha=d[d.length - 1]);}};c.prototype.vVb=function(a){var b,c,d;!1;n.yb(a && ! !a.response);b=a.response;c=a.I;d=this.mG[c];if(!this.closed && d.nj && !d.nj.Yh()){try{a.vc && a.profile && d.nj.Pmb(a.profile);this.log.trace("Feeding media segment to decoder",{Bytes:b.byteLength});d.nj.jJa(b,a);a.vc || d.$z.push(this.oqb(a));k.config.Rsb && !a.vc && a.lLa();}catch(T){"QuotaExceededError" != T.name?(this.log.error("Exception while appending media",a,T),this.ed(h.L.obb,v.Q1(c))):(this.j.p0=this.j.p0?this.j.p0 + 1:1,this.$Ja=!1,d.wL=!0);return;}return !0;}};c.prototype.fqb=function(a){var b;b=this.j.mBb(a.Zb);b || (this.log.warn("Could not find CDN",{cdnId:a.Zb}),b={id:a.Zb,rna:a.location});return b;};c.prototype.$qb=function(a){var b,c;c=a.Da;a.I === g.zc.Xj.AUDIO?b=this.j.ola(c):a.I === g.zc.Xj.VIDEO && (b=this.j.tla(c));b || this.log.error("Could not find stream",{stream:c});return b;};c.prototype.oqb=function(a){var b;b=this.$qb(a);return {f4:a,stream:b,jq:{startTime:Math.floor(a.ky),endTime:Math.floor(a.av)},Gc:this.fqb(a)};};c.prototype.xga=function(a){this.jLa(a,g.zc.Xj.AUDIO);this.jLa(a,g.zc.Xj.VIDEO);};c.prototype.jLa=function(a,b){var c,d,f,h,l,m,q,r,v;c=this;d=a;this.$Ja && (d-=k.config.ZT);f=this.mG[b];h=f.$z;q=!1;h.some(function(f,h){var k;k=f.f4;if(a < k.ky)return (n.yb(!1,"decoder content does not contain media time"),!0);d >= k.av && (l=h);if(a < k.av)return (m=h,h=b === g.zc.Xj.AUDIO?c.j.Dg:c.j.Df,f !== h.value && (h.set(f),q=!0),!0);});if((f.wL || q) && void 0 !== l && !this.Fia){if(l + 1 === m){if(0 === l)return;l--;}r=h[l].f4.av - 1;if(0 < r){v=f.nj;v && !v.Yh()?(v.remove(0,r / p.Yj),f.wL=!1,h.splice(0,l + 1)):(f.wL=!0,!1);}}};c.prototype.B_a=function(){!1;[this.audio,this.video].forEach(function(a){a.$z=[];a.Rha=void 0;a.Fk=[];});this.tV=this.ZP=!1;this.j.fireEvent(r.V.c4);};c.prototype.fla=function(){return [this.audio,this.video].filter(function(a){return a.nj;});};c.prototype.pxb=function(){var a,b;if(this.Yh())n.yb(!1,"should not be busy while checking buffer ranges");else {a=this.fla().map(function(a){var b,c,d,f,g;f=a.Fk.filter(function(a){return a.NA;});g=a.nj.buffered();a=g.length?Math.ceil(1E3 * g.start(0)):void 0;g=g.length?Math.floor(1E3 * g.end(g.length - 1)):void 0;a=null !== a && void 0 !== a?a:null === (b=f[0]) || void 0 === b?void 0:b.ky;b=null !== (d=null === (c=f[f.length - 1]) || void 0 === c?void 0:c.av) && void 0 !== d?d:g;if(void 0 !== a && void 0 !== b)return {start:a,end:b};});if(a.every(function(a){return a;})){b=Math.max.apply(Math,[].concat(X(a.map(function(a){return a.start;}))));a=Math.min.apply(Math,[].concat(X(a.map(function(a){return a.end;}))));if(a > b)return {start:t.Nb(b),end:t.Nb(a)};}}};c.prototype.skip=function(a){n.yb(!this.Yh(),"should not be busy while skipping");this.fla().forEach(function(a){a.wL=!0;});this.xga(a);this.fla().forEach(function(b){0 < b.$z.length || (b.Fk=b.Fk.filter(function(b){return b.vc || b.av > a?!0:!1;}));});};b.$za=c;},function(d,b,a){var g,k;function c(a,b){a=g.Cc.call(this,a) || this;a.Yna=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.gCa=void 0;g=a(149);k=a(85);L(c,g.Cc);c.prototype.set=function(a){g.Cc.prototype.set.call(this,k.io(a,0,this.Yna));};b.gCa=c;},function(d,b,a){var k,m,f,h,n,p,r,v;function c(a,b,c,d,f){var g;g=this;this.$h=a;this.config=c;this.Sa=d;this.debug=f;this.m5=[];this.Mq=[];this.Lpa=[];this.HD={};this.ENa=!1;this.fQ={};this.qma=0;this.log=b.tb("PlayTimeTracker");this.startTime=this.$h.nb.value;this.M3=this.config().Lib;this.CV();this.HD.abrdel=0;this.M3.forEach(function(a){a="abrdel" + a;g.fQ[a]=0;g.HD[a]=0;});}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.YBa=void 0;d=a(0);k=a(1);m=a(6);f=a(14);h=a(101);a(4);n=a(22);p=a(87);r=a(12);v=a(23);g.prototype.encode=function(a){return {key:a.key,downloadableId:a.Jd,bitrate:a.U,vmaf:a.rb,duration:a.duration,metric:a.RS,cdnId:a.Qz};};g.prototype.decode=function(a){return {key:a.key,Jd:a.downloadableId,U:a.bitrate,rb:a.vmaf,duration:a.duration,RS:a.metric,Qz:a.cdnId};};c.prototype.LR=function(){var a;this.WF(this.$h.nb.value);a=0;this.Mq.forEach(function(b){a+=(b.endTime - b.startTime) / b.xqa;});return Math.floor(a);};c.prototype.KRa=function(){var a;this.WF(this.$h.nb.value);a=0;this.Mq.forEach(function(b){a+=b.endTime - b.startTime;});this.debug.assert(a === Math.floor(a),"Value of totalContentPlayTime is not an integer.");return Math.floor(a);};c.prototype.Zwb=function(){this.WF(this.$h.nb.value);return {audio:this.BR(this.m5,this.gQa),video:this.BR(this.Mq,this.gQa)};};c.prototype.xzb=function(){var a;a={total:this.LR(),totalContentTime:this.KRa(),audio:this.BR(this.m5,this.P1),video:this.BR(this.Mq,this.P1),timedtext:this.BR(this.Lpa,this.P1)};this.debug.assert(!(!a.audio || !a.video));return a;};c.prototype.JPa=function(){var a,b;this.WF(this.$h.nb.value);a=this.Pja(this.Mq,this.mxb);try{b=this.KPa(a);}catch(B){return (this.log.warn("Failed to calc average bitrate."),null);}this.HD.abrdel=Math.round(b);return this.HD.abrdel;};c.prototype.exb=function(){var a,b;this.WF(this.$h.nb.value);a=this.Pja(this.Mq,this.LAb);try{b=this.KPa(a);}catch(B){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(b);};c.prototype.dxb=function(){var a,b;a=this;if(!this.ENa){b=this.LR();this.M3.forEach(function(c){var d,f,g;if(0 === a.fQ["abrdel" + c] && b > c * r.Yj){d=0;f=0;g=0;a.Mq.some(function(a){d+=a.stream.U * (a.endTime - a.startTime);f+=a.endTime - a.startTime;g=a.stream.U;if(f > c * r.Yj)return !0;});d && (a.fQ["abrdel" + c]=Math.round((d - g * (f - c * r.Yj)) / (c * r.Yj)));}});0 !== this.fQ["abrdel" + this.M3[this.M3.length - 1]] && (this.ENa=!0);v.Rd(this.fQ,function(b,c){a.HD[b]=0 === c?a.HD.abrdel:c;});}return this.HD;};c.prototype.fjb=function(a){this.qma+=a;};c.prototype.yBb=function(){return ! !(this.Mq[0] && this.Mq[0].stream && this.Sa.Qf(this.Mq[0].stream.rb));};c.prototype.CV=function(){var a;a=this;this.$h.Dg.addListener(function(b){a.kJ=a.YKa(a.kJ,a.m5,b.newValue);});this.$h.Df.addListener(function(b){a.nJ=a.YKa(a.nJ,a.Mq,b.newValue);});this.$h.playbackRate.addListener(function(b){a.WF(a.$h.nb.value,b.oldValue);});this.$h.jk.addListener(this.hJb.bind(this));};c.prototype.DIb=function(a,b){this.WF(a);this.startTime=b;this.nJ=this.kJ=void 0;this.mJ && (this.mJ.startTime=this.startTime);!1;};c.prototype.hJb=function(a){this.JT(this.mJ,this.Lpa,this.$h.nb.value);this.mJ=a.newValue?{track:a.newValue,startTime:this.$h.nb.value,endTime:h.Iv}:void 0;};c.prototype.WF=function(a,b){b=void 0 === b?this.$h.playbackRate.value:b;a && this.kJ && this.nJ && (a=Math.min(a,this.kJ.endTime,this.nJ.endTime),this.JT(this.kJ,this.m5,a,b),this.kJ.startTime=a,this.JT(this.nJ,this.Mq,a,b),this.nJ.startTime=a,this.mJ && (this.JT(this.mJ,this.Lpa,a,b),this.mJ.startTime=a),this.startTime=a,!1);};c.prototype.YKa=function(a,b,c){a && this.JT(a,b,Math.min(a.endTime,this.$h.nb.value));if(c && c.stream)return (a=c.jq,b=c.stream,{Gc:c.Gc,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime});};c.prototype.JT=function(a,b,c,d){d=void 0 === d?this.$h.playbackRate.value:d;a && c && c >= a.startTime && (a={Gc:a.Gc,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c,xqa:d},(c=b[b.length - 1]) && c.track === a.track && c.stream === a.stream && c.Gc === a.Gc && c.endTime === a.startTime && c.xqa === a.xqa?c.endTime=a.endTime:b.push(a),!1);};c.prototype.Pja=function(a,b){var c,d;c=this;d={};return a.reduce(function(a,f){var g,h,k;g=b.bind(c,f)();h=g.key;f=f.endTime - f.startTime;k=d[h];k?k.duration+=f:(delete g.key,k=g,k.duration=f,a.push(k),d[h]=k);return a;},[]);};c.prototype.BR=function(a,b){return this.Pja(a,b).map(function(a){return new g().encode(a);});};c.prototype.P1=function(a){var b,c,d;d=a.stream;d?(a=d.Jd,b=d.U,c=d.rb):a=a.track.Jd;return {key:a + "$" + (b || 0),Jd:a,U:b,rb:c};};c.prototype.gQa=function(a){var b;b=this.P1(a);a=a.Gc.id;return Object.assign({},b,{key:b.key + "$" + a,Qz:a});};c.prototype.mxb=function(a){a=(a=a.stream)?a.U:0;return {key:a,RS:a};};c.prototype.LAb=function(a){a=(a=a.stream)?a.rb:0;return {key:a,RS:a};};c.prototype.KPa=function(a){var b,c,d;b=this;c=0;a.forEach(function(a){if(b.Sa.Qf(a.duration) && b.Sa.Qf(a.RS))c+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!c)return 0;d=0;a.forEach(function(a){d+=a.RS * a.duration / c;});return d;};a=c;a=d.__decorate([k.O(),d.__param(1,k.l(m.zb)),d.__param(2,k.l(f.Sc)),d.__param(3,k.l(n.He)),d.__param(4,k.l(p.st))],a);b.YBa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Saa=void 0;b.Saa="PlayTimeTrackerFactorySymbol";},function(d,b,a){var g,k;function c(a,b,c,d,k,l,n,p,t,B,I){this.index=a;this.u=b;this.va=c;this.Va=d;this.ea=k;this.Mk=l;this.N3=n;this.oob=t;this.OVa=I;this.Zc=new g.Cc(null);this.og=new g.Cc(null);this.Oc=new g.Cc(null);this.jk=new g.Cc(null);this.Zs=new g.Cc(void 0);this.jf=new g.Cc(null);this.jl=new g.Cc(null);this.Dg=new g.Cc(null);this.Df=new g.Cc(null);this.nb=new g.Cc(void 0);this.playbackRate=new g.Cc(1);this.Ko=new g.Cc(null);this.Oz=this.OD="notcached";this.background=!1;p && (this.jf.set(p.jf.value),this.jl.set(p.jl.value));this.Ln=B(this);this.Al=this.OVa.nOb(this.ea,this.Mk);}Object.defineProperty(b,"__esModule",{value:!0});b.hCa=void 0;g=a(149);k=a(4);c.prototype.ud=function(a){this.Al.Go(a);};c.prototype.tx=function(a){var b;b=this;Object.entries(a).forEach(function(a){var c;c=N(a);a=c.next().value;c=c.next().value;b.Al.Go(a,k.Nb(c - b.Mk.ca(k.ga)));});};c.prototype.K4=function(){this.OVa.GOb(this.ea);};ma.Object.defineProperties(c.prototype,{Dd:{configurable:!0,enumerable:!0,get:function(){return this.Va.Dd;}},z7:{configurable:!0,enumerable:!0,get:function(){return this.Va.z7;}},nl:{configurable:!0,enumerable:!0,get:function(){return this.wc && this.wc.nl;}},jn:{configurable:!0,enumerable:!0,get:function(){return this.wc && this.wc.jn;}},Pm:{configurable:!0,enumerable:!0,get:function(){return this.wc && this.wc.Pm;}},Ay:{configurable:!0,enumerable:!0,get:function(){return this.wc && this.wc.Ay;}},Kl:{configurable:!0,enumerable:!0,get:function(){return this.wc && this.wc.Kl;}},ti:{configurable:!0,enumerable:!0,get:function(){return this.wc && this.wc.ti;}},Dx:{configurable:!0,enumerable:!0,get:function(){return this.wc && this.wc.Dx;}},Ms:{configurable:!0,enumerable:!0,get:function(){return this.wc && this.wc.Ms;}},nk:{configurable:!0,enumerable:!0,get:function(){return this.wc && this.wc.nk;}},r5:{configurable:!0,enumerable:!0,get:function(){return this.wc && this.wc.r5;}},Nr:{configurable:!0,enumerable:!0,get:function(){return this.Rca && 0 < this.Rca.ca(k.ga)?this.Rca:k.Nb(this.pa?this.pa.Fc.duration:0);},set:function(a){this.Rca=a;}},qj:{configurable:!0,enumerable:!0,get:function(){return this.Va.qj || 0;}},Dha:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.Y_?this.Y_:void 0 === this.nb.value?null:this.oob(this.nb.value,this.va);}},Fj:{configurable:!0,enumerable:!0,get:function(){var a,b;return null === (b=null === (a=this.pa) || void 0 === a?void 0:a.Fc.TKa) || void 0 === b?void 0:b.nF;}},OF:{configurable:!0,enumerable:!0,get:function(){var a,b;return null === (b=null === (a=this.pa) || void 0 === a?void 0:a.Fc.TKa) || void 0 === b?void 0:b.OF;}},Md:{configurable:!0,enumerable:!0,get:function(){return this.Al.Md;}}});b.hCa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dca=void 0;b.dca="TrickPlayParserSymbol";},function(d,b,a){var g,k,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.MEa=void 0;d=a(0);k=a(468);a=a(1);c.prototype.parse=function(a){var b,c;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);c=new k.mwa(b);a=this.zKb(c);b=this.BKb(c,b,a);return {xq:a,images:b};};c.prototype.zKb=function(a){var b,c,d,f;if(a.iRa() < this.jPb())throw Error("array buffer too short");g.Aza.forEach(function(b){if(b != a.JL())throw Error("BIF has invalid magic.");});b=a.KL();if(b > g.VERSION)throw Error("BIF version in unsupported");c=a.KL();if(0 == c)throw Error("BIF has no frames.");d=a.KL();f=a.Qk(g.UCa);return {version:b,SIb:c,W2a:d,oPb:f};};c.prototype.BKb=function(a,b,c){var g,h;for(var d=[],f=0;f <= c.SIb;f++){h={timestamp:a.KL(),offset:a.KL()};void 0 != g && d.push(b.subarray(g.offset,h.offset));g=h;}return d;};c.prototype.jPb=function(){return g.Aza.length + 4 + 4 + 4 + g.UCa;};m=g=c;m.Aza=[137,66,73,70,13,10,26,10];m.VERSION=0;m.UCa=44;m=g=d.__decorate([a.O()],m);b.MEa=m;},function(d,b,a){var g,k,m;function c(a,b,c){this.config=a;this.j=b;this.Af=c;this.uT=void 0;this.c5=!1;this.ana=0;this.log=this.Af.tb();}Object.defineProperty(b,"__esModule",{value:!0});b.BDa=void 0;g=a(13);k=a(4);m=a(85);c.prototype.gzb=function(a,b,c,d,l){var f,h,m,n,q;c=void 0 === c?this.j.va:c;d=void 0 === d?!1:d;f=b === g.xd.IC;h=this.j.GQa(c);m=this.mmb(f?a:this.snb(a,c),d,c,h);d=this.j.Ga;f?(a=m,m=d.Qo(h,m,c)):a=d.Ww(h,m,c);b === g.xd.Fv && (this.j.nKa=m);l=this.Rg(a,b,l);n=(b === g.xd.Nv || b === g.xd.rH) && !this.j.yTa;n=(f=f || l || n)?a:m;if(this.j.vp){q=this.config().lF;this.j.cSa(n,q) || b !== g.xd.Nv || (n=this.j.vp.ca(k.ga) - q - 1E3,f?(a=n,m=d.Qo(h,n,c)):(a=d.Ww(h,n,c),m=n));}return {D4:n,Wh:m,KLb:a,Rg:l};};c.prototype.mmb=function(a,b,c,d){a=this.FDb() || b?Math.round(a):this.fAb(a,c,d);this.j.Va.Kj && (a=this.lwb(a));this.config().Dra && (a+=this.config().Dra);return a;};c.prototype.Rg=function(a,b,c){if(this.config().Psb || b === g.xd.Fv || b === g.xd.IC || b === g.xd.rH || b === g.xd.qW || !c || a < c.start.ca(k.ga) || a >= c.end.ca(k.ga))return !1;b=this.j.Ga;return (null === b || void 0 === b?void 0:b.Vg()) && b.Rg(a) || !1;};c.prototype.FDb=function(){return this.j.Va.Kj?!0:"boolean" === typeof this.j.Va.CT?this.j.Va.CT:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().CT && this.config().$Lb:this.config().CT;};c.prototype.snb=function(a,b){var c;b=this.j.yu(b);c=b.Nr;b=(b.vVa || c).ca(k.ga) - this.config().IXb;return m.io(a,0,b);};c.prototype.fAb=function(a,b,c){var d;d=this.j.Va.Kj?this.config().m5b:this.config().DJ;return this.j.Ga.YI(a,c,d,b);};c.prototype.lwb=function(a){var b,c,d;b=this.j.wR();if(Object.values(b).find(function(b){var c;c=b.zd;c=a < (null !== c && void 0 !== c?c:Infinity);return b.Ac <= a && c;}))return (!1,a);d=a;Object.entries(b).forEach(function(b){var f;b=N(b);b.next();b=b.next().value.Ac;f=b - a;0 < f && (void 0 === c || f < c) && (c=f,d=b);});!1;return d;};ma.Object.defineProperties(c.prototype,{Bma:{configurable:!0,enumerable:!0,get:function(){return this.c5 || ! !this.uT;}}});b.BDa=c;},function(d,b,a){var g,k,m,f,h,n,p,r,v,t,y,B,I,J;function c(a,b,c,d,h,k){var l;l=this;this.j=a;this.li=b;this.mV=c;this.Ed=d;this.FU=h;this.mm=k;this.KMa={};this.update=function(){var a;if(l.$n.selectionStart == l.$n.selectionEnd){a="";l.T1().forEach(function(b){a=a?a + "\n":"";Object.entries(b).forEach(function(b){var c;c=N(b);b=c.next().value;c=c.next().value;a+=b + ": " + c + "\n";});});l.$n.style.fontSize=f.io(n.Jv(l.element.clientHeight / 60),8,18) + "px";l.$n.value=a;}};this.xJb=function(){var a,b;if(l.j.Vf){b=l.j.Vf.vE();b && (l.Eha=b - (null !== (a=l.d3a) && void 0 !== a?a:0),l.d3a=b,l.pL());}};this.pL=function(){l.mV.bd(l.update);};this.onkeydown=function(a){a.ctrlKey && a.altKey && a.shiftKey && (a.keyCode == v.yt.b7a || a.keyCode == v.yt.Q) && l.toggle();};this.xYa=[a.nb,a.Gc[g.zc.Ta.AUDIO],a.Gc[g.zc.Ta.VIDEO],a.Dg,a.Df,a.jl,a.jf,a.jk,a.state,a.fm,a.Ob,a.volume,a.muted];this.element=this.Ed.createElement("div","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});this.$n=this.Ed.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto",void 0,{readonly:"readonly"});this.element.appendChild(this.$n);this.controls=this.Ed.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);b=this.Ed.createElement("button",void 0,"X");b.addEventListener("click",function(){return l.yq();},!1);this.controls.appendChild(b);m.Ve.addListener(m.BA,this.onkeydown);a.addEventListener(r.V.Pf,function(){m.Ve.removeListener(m.BA,l.onkeydown);l.yq();});}Object.defineProperty(b,"__esModule",{value:!0});b.dCa=void 0;g=a(48);k=a(57);m=a(58);f=a(85);h=a(279);n=a(10);p=a(15);r=a(13);v=a(126);t=a(4);d={};y=(d[r.Db.eH]="Not Loaded",d[r.Db.LOADING]="Loading",d[r.Db.wd]="Normal",d[r.Db.CLOSING]="Closing",d[r.Db.CLOSED]="Closed",d);d={};B=(d[r.ge.wd]="Normal",d[r.ge.cd]="Pre-buffering",d[r.ge.qDa]="Network stalled",d);d={};I=(d[r.sb.Zf]="Waiting for decoder",d[r.sb.Uc]="Playing",d[r.sb.uj]="Paused",d[r.sb.vt]="Media ended",d);J=[r.V.c4,r.V.glb];c.prototype.YQb=function(a){this.KMa.DFR=a;};c.prototype.show=function(){var a;a=this;this.visible || (this.OCb=ka.setInterval(this.xJb,1E3),this.j.Wf.appendChild(this.element),this.xYa.forEach(function(b){b.addListener(a.pL);}),J.forEach(function(b){a.j.addEventListener(b,a.pL);}),this.visible=!0,this.mm.PU().then(function(b){a.ula=b;a.pL();}));this.update();};c.prototype.yq=function(){var a;a=this;this.visible && (clearInterval(this.OCb),this.d3a=this.Eha=void 0,this.j.Wf.removeChild(this.element),this.xYa.forEach(function(b){b.removeListener(a.pL);}),J.forEach(function(b){a.j.removeEventListener(b,a.pL);}),this.mV.bd(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.yq():this.show();};c.prototype.T1=function(){var b,c,d,l,m,q,r,v,u,A,J,F,L,Q,P,O,S,W,X,ja,da,ea,ga,ka,La,la,ma,oa,pa,ia,ua,va,ya,za,Aa,Ba,Da,Fa,Ga;u=[];A=this.li();u.push({Version:"6.0029.052.051",Esn:A?A.mi:"UNKNOWN",PBCID:this.j.Fj,UserAgent:n.Vm});try{J={MovieId:this.j.u,TrackingId:this.j.qj,Xid:this.j.ea + " (" + k.ko.map(function(a){return a.ea;}).join(", ") + ")",Position:f.Mh(this.j.nb.value),Duration:f.Mh(this.j.Nr.ca(t.ga)),PlayerDuration:f.Mh(this.j.vp.ca(t.ga)),Volume:n.hi(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.Va.Kj || this.j.Va.o3)(J["Segment Position"]=f.Mh(this.j.wA()),J.Segment=this.j.Gka());u.push(J);}catch(sb){}try{F=this.j.zm?this.j.zm.OBb():void 0;u.push({"Player state":y[this.j.state.value],"Buffering state":B[this.j.fm.value] + (p.qa(F)?", ETA:" + f.Mh(F):""),"Rendering state":I[this.j.Ob.value]});}catch(sb){}try{L=this.j.Rta() + this.j.zfa();Q=this.j.Dg.value;P=null === Q || void 0 === Q?void 0:Q.stream;O=this.j.Df.value;S=null === O || void 0 === O?void 0:O.stream;W=null !== (b=null === P || void 0 === P?void 0:P.U) && void 0 !== b?b:"?";X=S?S.U + " (" + S.width + "x" + S.height + ")":"?";ja=null !== (c=null === S || void 0 === S?void 0:S.rb) && void 0 !== c?c:"?";da=null !== (l=null === (d=this.j.jf.value) || void 0 === d?void 0:d.rb) && void 0 !== l?l:"?";ea=null !== (q=null === (m=this.j.jl.value) || void 0 === m?void 0:m.U) && void 0 !== q?q:"?";ga=null !== (v=null === (r=this.j.jf.value) || void 0 === r?void 0:r.U) && void 0 !== v?v:"?";ka=this.j.Gc[g.zc.Ta.VIDEO].value;La=this.j.Gc[g.zc.Ta.AUDIO].value;u.push({"Playing bitrate (a/v)":W + " / " + X,"Playing/Buffering vmaf":ja + "/" + da,"Buffering bitrate (a/v)":ea + " / " + ga,"Buffer size in Bytes (a/v)":this.j.zfa() + " / " + this.j.Rta(),"Buffer size in Bytes":"" + L,"Buffer size in Seconds (a/v)":f.Mh(this.j.WP()) + " / " + f.Mh(this.j.pV()),"Current CDN (a/v)":(La?La.name + ", Id: " + La.id:"?") + " / " + (ka?ka.name + ", Id: " + ka.id:"?")});}catch(sb){}try{if(this.j.Dg.value && this.j.Df.value){la=this.j.Dg.value.stream;ma=la.track;oa=this.j.Df.value.stream;pa=this.j.jk.value;ia=this.FU.GQ(this.j.og.value?this.j.og.value.xc:[]);ua=this.FU.BQ(ma.xc);va=oa.vg;ya=(/hevc/).test(va)?"hevc":(/vp9/).test(va)?"vp9":(/h264hpl/).test(va)?"avchigh":"avc";(/hdr/).test(va) && (ya+=", hdr");(/dv/).test(va) && (ya+=", dv");(/prk/).test(va) && (ya+=", prk");za=la.vg;Aa=(/xheaac/).test(za)?"xhe-aac":(/heaac/).test(za)?"he-aac":(/ddplus/).test(za)?"ddplus":"unknown";(/atmos/).test(za) && (Aa+=", atmos");u.push({"Audio Track":ma.gm + ", Id: " + ma.Xa + ", Channels: " + ma.Lr + ", Codec: " + ua + " (" + Aa + ")","Video Track":"Codec: " + ia + " (" + ya + ")","Timed Text Track":pa?pa.gm + ", Profile: " + pa.profile + ", Id: " + pa.Xa:"none"});}}catch(sb){}try{Ba=this.j.Vf;Da=this.j.jf.value?this.j.jf.value.z1:0;Fa=a(516).MUa;u.push({Framerate:Da.toFixed(3),"Current Dropped Frames":p.qa(this.Eha)?this.Eha:"","Total Frames":Ba.tA(),"Total Dropped Frames":Ba.vE(),"Total Corrupted Frames":Ba.yR(),"Total Frame Delay":Ba.R1(),"Main Thread stall/sec":Fa?Fa.zyb().join(" "):"DISABLED",VideoDiag:h.Ina(this.j.m2()),"HDR support":this.ula?this.ula.result + " (" + this.ula.reason + ")":"unknown"});}catch(sb){}try{u.push({Throughput:this.j.Ka + " kbps"});}catch(sb){}Ga=void 0;try{Object.entries(this.KMa).forEach(function(a){var b;b=N(a);a=b.next().value;b=b.next().value;Ga=Ga || ({});Ga[a]=JSON.stringify(b);});Ga && u.push(Ga);}catch(sb){}return u;};b.dCa=c;},function(d,b,a){var k,m,f,h;function c(a,b,c,d){this.ea=a;this.gPb=b;this.la=c;this.app=d;this.Md={};}function g(a,b){this.Af=a;this.app=b;this.Td={};this.la=a.tb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.fCa=void 0;d=a(0);k=a(1);m=a(6);f=a(18);h=a(4);g.prototype.nOb=function(a,b){this.Td[a] && this.la.warn("registerPlayback: xid " + a + " already registered, overriding");b=(b?b:this.app.Bb()).ca(h.ga);this.la.trace("registerPlayback: xid " + a + " at " + b);this.Td[a]=new c(a,b,this.la,this.app);return this.Td[a];};g.prototype.zzb=function(a){this.Td[a] || this.la.warn("getPlaybackMilestones: xid " + a + " is not registered");return this.Td[a];};g.prototype.GOb=function(a){this.la.trace("removePlayback: xid " + a);delete this.Td[a];};a=g;a=d.__decorate([k.O(),d.__param(0,k.l(m.zb)),d.__param(1,k.l(f.Fd))],a);b.fCa=a;c.prototype.Go=function(a,b){b=b?b.ca(h.ga):this.app.Bb().ca(h.ga) - this.gPb;this.la.trace("addMilestone: xid " + this.ea + " " + a + " at " + b);this.Md[a]=b;};},function(d,b,a){var g,k,m,f;function c(a){this.za=a;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.gDa=void 0;d=a(0);g=a(13);k=a(1);m=a(18);f=a(4);c.prototype.El=function(a){a.cause !== g.xd.Fv && (this.trace.unshift({time:this.za.Bb(),event:a}),5 < this.trace.length && this.trace.pop());};c.prototype.ARa=function(){var a,b;a=this;if(0 === this.trace.length)return {};b=this.trace[0];return {timeSinceLastRepositionMs:this.Q2a(b.time),lastRepositionCause:this.SPa(b.event.cause),repositionTrace:this.trace.map(function(b){return {timeSince:a.Q2a(b.time),cause:a.SPa(b.event.cause),newMediaTime:b.event.D4,oldMediaTime:b.event.dpa,contentPts:b.event.Wh,skip:b.event.skip};})};};c.prototype.Q2a=function(a){return this.za.Bb().Fa(a).ca(f.ga);};c.prototype.SPa=function(a){switch(a){case g.xd.Fv:return "initial";case g.xd.Nv:return "seek";case g.xd.IC:return "segment_changed";case g.xd.rH:return "track_changed";case g.xd.qW:return "force_rebuffer";}};a=c;a=d.__decorate([k.O(),d.__param(0,k.l(m.Fd))],a);b.gDa=a;},function(d,b,a){var g,k,m,f,h,n,p,r,v;function c(a,b){this.j=a;this.Ota=void 0 === b?!1:b;}Object.defineProperty(b,"__esModule",{value:!0});b.Dua=void 0;g=a(48);k=a(2);m=a(55);f=a(11);h=a(518);n=a(13);p=a(85);r=a(15);v=a(4);c.prototype.Ow=function(){this.Nm.Ow();};c.prototype.cc=function(){var a,b;null === (a=this.gb) || void 0 === a?void 0:a.close();null === (b=this.gb) || void 0 === b?void 0:b.cc();this.Nm && this.j.Hj && this.Nm.Ow();delete this.gb;delete this.Nm;};c.prototype.hsa=function(b){var c,d,h,k,l,m,n,q;c=b.vh;d=b.config;h=b.Wd;k=b.Qc;l=b.Ah;m=b.Fn;n=b.BB;b=b.Kx;this.Qc=k;this.Fn=m;this.BB=n;this.Nm=c.Fr;this.Kx=b;d.cwb && this.Nm.Ow();c.yd.set(a(178)(d),!0,l("ASE"));c.yd.set({maxNumberTitlesScheduled:d.LYa?d.LYa.maxNumberTitlesScheduled:1},!0,k);d.zob && 3E5 > this.j.pa.Fc.duration?c.yd.tL({expandDownloadTime:!1},!0,k):c.yd.tL({expandDownloadTime:c.yd.lYa().expandDownloadTime},!0,k);this.j.background || d.WLb && "postplay" === this.j.Dd?c.yd.tL({initBitrateSelectorAlgorithm:"historical"},!0,k):c.yd.tL({initBitrateSelectorAlgorithm:c.yd.lYa().initBitrateSelectorAlgorithm},!0,k);(d=this.j.og && this.j.og.value && this.j.og.value.xc) && d.length && (q=d[0].vg);c.yd.tL(f.aha(this.j.Va.Kj,this.j.Va.o3,q),!0,k);k={};k=h.YS(k,f.U_(this.j.Dd));this.e2a=c.yd.kq(k);this.e2a.Ml=this.Ota;g.platform.events.emit("networkchange",this.j.wc.OQb);this.j.Nm=this.Nm;};c.prototype.uK=function(a){var b,c,d;b=a.va;c=a.FQ;d=a.Zea;if(this.gb=this.Nm.nn(this.j.pa.Fc,[this.j.wc.YMa,this.j.wc.bNa],this.j.X,a.Xh,a.Xw,void 0,a.P,this.e2a,c(this.j.u),b))return (this.j.gb=this.gb,d(this.gb),[this.gb,this.Nm]);this.Qc.trace("Unable to initialize legacy ASE session");this.j.ed(k.L.P7);};c.prototype.fKa=function(a){var b,c,d,l,q,t,u,A,F,E,L,N,P,S,W,X,da,Q,ca,O,ea,ga,ka,ja,la,ma,oa,pa;b=a.ij;c=a.ae;d=this;pa=!1;null === (l=this.gb) || void 0 === l?void 0:l.addEventListener("error",function(a){"NFErr_MC_StreamingFailure" === a.error && (d.Qc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(a)),d.Qc.trace("StreamingFailure, buffer status:" + JSON.stringify(d.Fn())),m.Hc(function(){d.j.ed(k.L.P7,{ka:a.nativeCode,Ab:a.errormsg,cj:a.httpCode,cT:a.networkErrorCode});}));});null === (q=this.gb) || void 0 === q?void 0:q.addEventListener("logdata",function(a){"string" === typeof a.target && "object" === typeof a.fields && h.n_({Zia:a,ij:b,ae:c});});null === (t=this.gb) || void 0 === t?void 0:t.addEventListener("bufferingStarted",function(){d.j.fm.set(n.ge.cd);});null === (u=this.gb) || void 0 === u?void 0:u.addEventListener("bufferingComplete",function(a){var b;d.Qc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:a},d.Fn());d.j.No=a;d.j.fm.set(n.ge.wd);oa || (oa=!0,d.j.ud("pb"));null === (b=d.gb) || void 0 === b?void 0:b.play();});null === (A=this.gb) || void 0 === A?void 0:A.addEventListener("audioTrackSwitchStarted",function(){var a;null === (a=d.gb) || void 0 === a?void 0:a.epa();f.config.aYa && !d.j.paused.value && (pa=!0,d.j.paused.set(!0,{hT:!0}));});null === (F=this.gb) || void 0 === F?void 0:F.addEventListener("audioTrackSwitchComplete",function(){var a;d.j.paused.value && pa && (pa=!1,d.j.paused.set(!1,{hT:!0}));null === (a=d.j.Vf) || void 0 === a?void 0:a.SWa();});this.j.paused.addListener(function(a){var b;b=d.gb;!a.hT && b && (!0 === a.newValue?b.paused && b.paused():b.Ey && b.Ey());a.newValue || (pa=!1);d.Qc.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:p.Mh(d.j.nb.value)});});this.j.Zc.addListener(function(a){var b,c,f,g;if(d.gb)if(a.Ur && a.Ur.e_)d.Qc.trace("Not processing already applied track",null === (b=a.newValue) || void 0 === b?void 0:b.Xa);else {g=a.newValue;d.gb.$F({FD:g.xx,toJSON:function(){return g.Dh;}})?d.Qc.trace("ASE accepted the audio track switch",null === (f=a.newValue) || void 0 === f?void 0:f.Xa):(d.Qc.trace("ASE rejected the audio track switch",null === (c=a.newValue) || void 0 === c?void 0:c.Xa),a.oldValue.xx !== g.xx && d.j.Zc.set(a.oldValue,{e_:!0}));}});null === (E=this.gb) || void 0 === E?void 0:E.addEventListener("asereportenabled",function(){d.j.YQ=!0;});null === (L=this.gb) || void 0 === L?void 0:L.addEventListener("asereport",function(a){d.j.fireEvent(n.V.OI,a);});null === (N=this.gb) || void 0 === N?void 0:N.addEventListener("aseexception",function(a){d.j.fireEvent(n.V.NI,a);});null === (P=this.gb) || void 0 === P?void 0:P.addEventListener("hindsightreport",function(a){var b,c;b=r.qa(d.j.ae)?0:d.j.ae;c=a.report;c && c.length && c.forEach(function(a){a.bst-=b;a.pst-=b;void 0 === a.nd && a.tput && (a.tput.ts-=b);});d.j.Gla={ZOb:c,PBb:a.hptwbr,ASa:a.htwbr,b5:a.pbtwbr};a.rr && (d.j.Gla.S_a=a.rr);a.ra && (d.j.Gla.sNb=a.ra);});null === (S=this.gb) || void 0 === S?void 0:S.addEventListener("streamingstat",function(a){var b;b=a.bt;d.j.Ka=a.location.bandwidth;d.j.ai=a.location.httpResponseTime;b && (void 0 === d.j.LD && (d.j.LD={interval:f.config.KD,startTime:b.startTime,Fw:[],Fy:[]}),d.j.LD.Fw=d.j.LD.Fw.concat(b.Fw),d.j.LD.Fy=d.j.LD.Fy.concat(b.Fy));!1;});null === (W=this.gb) || void 0 === W?void 0:W.addEventListener("headerCacheDataHit",function(a){a.movieId === "" + d.j.u && (d.j.GA=a);});null === (X=this.gb) || void 0 === X?void 0:X.addEventListener("requestComplete",function(a){var b;b=(a=a && a.mediaRequest) && a.eJ && a.eJ.cadmiumResponse;b && d.j.fireEvent(n.V.fA,{response:b,u:d.j.yu(a.va).u});});null === (da=this.gb) || void 0 === da?void 0:da.addEventListener("maxvideobitratechanged",function(a){d.j.Z3.push(a);});null === (Q=this.gb) || void 0 === Q?void 0:Q.addEventListener("serverSwitch",function(a){var b;d.j.fireEvent(n.V.MF,a);"video" === a.mediatype?b=g.zc.Ta.VIDEO:"audio" === a.mediatype && (b=g.zc.Ta.AUDIO);r.ic(b) && d.BB(a.server,b);});null === (ca=this.gb) || void 0 === ca?void 0:ca.addEventListener("streamSelected",function(a){var b,c,f;f=[];a.mediaType === g.zc.Ta.VIDEO?(c=d.j.tla(a.streamId),b=d.j.jf,f=d.j.yA()):a.mediaType === g.zc.Ta.AUDIO && (c=d.j.ola(a.streamId),b=d.j.jl,f=d.j.IPa());c && b?(!1,b.set(c,{Fga:a.movieTime,aKa:a.bandwidth})):d.Qc.error("no matching stream for streamSelected event",{streamId:a.streamId,mediaType:a.mediaType,streamList:f,cachedManifest:d.j.Oz});});null === (O=this.gb) || void 0 === O?void 0:O.addEventListener("locationSelected",function(a){d.j.fireEvent(n.V.xs,a);});null === (ea=this.gb) || void 0 === ea?void 0:ea.addEventListener("segmentStarting",function(a){d.j.fireEvent(n.V.o0a,a);});null === (ga=this.gb) || void 0 === ga?void 0:ga.addEventListener("lastSegmentPts",function(a){d.j.fireEvent(n.V.n0a,a);});null === (ka=this.gb) || void 0 === ka?void 0:ka.addEventListener("segmentPresenting",function(a){d.j.fireEvent(n.V.LF,a);});null === (ja=this.gb) || void 0 === ja?void 0:ja.addEventListener("segmentAborted",function(a){d.j.fireEvent(n.V.l0a,a);});null === (la=this.gb) || void 0 === la?void 0:la.addEventListener("manifestPresenting",function(a){d.Kx({u:parseInt(a.movieId),LA:!1});});null === (ma=this.gb) || void 0 === ma?void 0:ma.addEventListener("maxPosition",function(a){var b,c;b=v.Nb(a.maxPts);c=v.Nb(a.maxSeekPts);if(a=d.j.dy[a.index])(a.Nr=b,a.vVa=c);d.j.vp || (d.j.vp=b);});};c.prototype.Vg=function(){return ! !this.gb;};c.prototype.mK=function(){return ! !this.Nm;};c.prototype.vn=function(){return this.gb.vn();};c.prototype.uE=function(a){return this.gb.uE(a);};c.prototype.vK=function(a){return this.gb.vK(a);};c.prototype.paused=function(){return this.gb.paused();};c.prototype.Ey=function(){return this.gb.Ey();};c.prototype.AL=function(){return this.gb.AL();};c.prototype.$F=function(a){return this.gb.$F(a);};c.prototype.Hp=function(a){return this.gb.Hp(a);};c.prototype.xw=function(a,b,c){return this.gb.xw(a,b,c);};c.prototype.Hl=function(a,b){return this.gb.Hl(a,b);};c.prototype.open=function(){return this.gb.open();};c.prototype.play=function(){return this.gb.play();};c.prototype.stop=function(){return this.gb.stop();};c.prototype.flush=function(){return this.gb.flush();};c.prototype.Qo=function(a,b,c){return this.gb.Qo(a,b,c);};c.prototype.Ww=function(a,b,c){return this.gb.Ww(a,b,c);};c.prototype.YI=function(a,b,c,d){var f;return null === (f=this.gb) || void 0 === f?void 0:f.YI(a,b,c,d);};c.prototype.Vr=function(a,b){return this.gb.Vr(String(a),b);};c.prototype.nK=function(){return this.gb.nK();};c.prototype.Rg=function(a){return this.gb.Rg(a);};c.prototype.Jm=function(a,b,c){return this.gb.Jm(a,b,c);};c.prototype.addEventListener=function(a,b){return this.gb.addEventListener(a,b);};c.prototype.removeEventListener=function(a,b){return this.gb.removeEventListener(a,b);};c.prototype.QB=function(a,b){return this.gb.QB(a,b);};c.prototype.ln=function(a,b,c){return this.gb.ln(a,b,c);};ma.Object.defineProperties(c.prototype,{kb:{configurable:!0,enumerable:!0,get:function(){return this.Nm.kb;}}});b.Dua=c;},function(d,b,a){var g,k,m,f,h,n,p,r;function c(a,b,c){this.j=a;this.Ota=void 0 === b?!0:b;this.Th=c;this.AGa=this.yGa=!1;this.Ut=void 0;}Object.defineProperty(b,"__esModule",{value:!0});b.Cua=void 0;g=a(48);k=a(55);m=a(2);f=a(518);h=a(13);n=a(11);p=a(15);r=a(4);c.prototype.Ow=function(){return this.Th.Ow();};c.prototype.cc=function(){this.Th.cc();};c.prototype.hsa=function(a){this.Th.hsa(a);this.Qc=a.Qc;this.Fn=a.Fn;this.BB=a.BB;this.Kx=a.Kx;this.yGa=!0;};c.prototype.uK=function(a){var b;b=N(this.Th.uK(a));a=b.next().value;b=b.next().value;this.gb=a;this.Nm=b;this.Wa=this.gb.Wa;this.jb=this.gb.jb;};c.prototype.fKa=function(a){var b,c,d,l,q,v;b=a.ae;c=a.ij;d=this;a=this.Wa.events;l=this.jb.events;a.addListener("error",function(a){"NFErr_MC_StreamingFailure" === a.error && (d.Qc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(a)),d.Qc.trace("StreamingFailure, buffer status:" + JSON.stringify(d.Fn())),k.Hc(function(){d.j.ed(m.L.P7,{ka:a.nativeCode,Ab:a.errormsg,cj:a.httpCode,cT:a.networkErrorCode});}));});a.addListener("logdata",function(a){var g;"string" === typeof a.target && "object" === typeof a.fields && (a.fields.aseApiVersion=null === (g=d.Wa) || void 0 === g?void 0:g.CD,f.n_({Zia:a,ij:c,ae:b}));});a.addListener("bufferingStarted",function(){d.j.fm.set(h.ge.cd);});a.addListener("bufferingComplete",function(a){d.Gy(function(){var g,k,l,m,n,p;p=null === (k=null === (g=d.Nm.kb.get()) || void 0 === g?void 0:g.Ka) || void 0 === k?void 0:k.Ca;g={type:"logdata",target:"startplay",fields:{hasasereport:!1,hashindsight:!1,buffCompleteReason:a.reason,actualbw:p,initSelReason:null !== (l=a.initSelReason) && void 0 !== l?l:"unknown",bcVBufferLevelMs:a.vBufferLevelMs,bcABufferLevelMs:a.aBufferLevelMs}};f.n_({Zia:g,ij:c,ae:b});null !== (m=d.jb) && void 0 !== m && m.Au?(d.Qc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:a},d.Fn()),d.j.No=Object.assign(Object.assign({},a),{dm:d.jb.le.da}),d.j.fm.set(h.ge.wd),d.j.paused.value && v && (v=!1,d.j.paused.set(!1,{hT:!0})),d.j.Vf.Unb(),q || (q=!0,d.j.ud("pb")),null === (n=d.gb) || void 0 === n?void 0:n.play()):d.Qc.error("Shim received buffering complete but player has no position (player " + (d.jb?"":"un") + "defined, state " + d.j.state + ")");});});this.j.Zc.addListener(function(a){var b,c,f,g,h,k,l,m;if(a.Ur && a.Ur.e_)d.Qc.trace("Not processing already applied track",null === (b=a.newValue) || void 0 === b?void 0:b.Xa);else {h=a.newValue;k=d.j.jn.findIndex(function(a){return a.Xa === h.Xa;});l=d.j.Pm.findIndex(function(a){var b,c,f;return a.Xa === (null === (f=null === (c=null === (b=d.j) || void 0 === b?void 0:b.og) || void 0 === c?void 0:c.value) || void 0 === f?void 0:f.Xa);});d.j.Vf.SSb();b={jv:function(){return k;}};m={jv:function(){return l;}};(null === (c=d.Wa) || void 0 === c?0:c.TF(b,m))?(d.Qc.trace("ASE accepted the audio track switch",null === (g=a.newValue) || void 0 === g?void 0:g.Xa),n.config.aYa && !d.j.paused.value && (v=!0,d.j.paused.set(!0,{hT:!0}))):(d.Qc.trace("ASE rejected the audio track switch",null === (f=a.newValue) || void 0 === f?void 0:f.Xa),a.oldValue.xx !== h.xx && d.j.Zc.set(a.oldValue,{e_:!0}));}});a.addListener("serverSwitch",function(a){var b;d.j.fireEvent(h.V.MF,a);"video" === a.mediatype?b=g.zc.Ta.VIDEO:"audio" === a.mediatype && (b=g.zc.Ta.AUDIO);p.ic(b) && d.BB(a.server,b);});a.addListener("streamSelected",function(a){var b,c,f,h;c=(null === (b=d.Wa) || void 0 === b?void 0:b.CA(a.position)).Wz.da;b=[];a.mediaType === g.zc.Ta.VIDEO?(h=d.j.tla(a.streamId),f=d.j.jf,b=d.j.yA()):a.mediaType === g.zc.Ta.AUDIO && (h=d.j.ola(a.streamId),f=d.j.jl,b=d.j.IPa());h && f?(!1,f.set(h,{Fga:c,aKa:a.bandwidth})):d.Qc.error("no matching stream for streamSelected event",{streamId:a.streamId,mediaType:a.mediaType,streamList:b,cachedManifest:d.j.Oz});});a.addListener("segmentNormalized",function(a){var b,c;b=d.j.yu(a.segmentId);c=Math.floor(a.viewableEarliestContentEnd.da);a=r.Nb(Math.floor(a.viewableContentEnd.da));c=r.Nb(c);b && (b.Nr=a,b.vVa=c);d.j.vp || (d.j.vp=a);});l.addListener("segmentPresenting",function(a){var b,c,f;b=d.Wa.CA(a.position);c=a.playerTimestamp.Fa(b.Wz);f=a.position.va;d.Kx({u:b.fa,LA:!1});d.j.fireEvent(h.V.LF,{type:"segmentPresenting",segmentId:f,contentOffset:c.da,metrics:a.metrics});d.Ut=d.jb.vn();});a.addListener("segmentStarting",function(a){return d.j.fireEvent(h.V.o0a,a);});a.addListener("lastSegmentPts",function(a){return d.j.fireEvent(h.V.n0a,a);});a.addListener("segmentAborted",function(a){d.j.fireEvent(h.V.l0a,a);});a.addListener("locationSelected",function(a){d.j.fireEvent(h.V.xs,a);});};c.prototype.mK=function(){return this.yGa;};c.prototype.Vg=function(){return this.AGa;};c.prototype.vn=function(){var a,b,c,d,f,g,h,k,l;h=this.jb.z2();h=(null !== (a=this.Ut) && void 0 !== a?a:h && this.jb.vn()) || ({});a=h.W;k=h.Lo;l=h.Opa;h=h.n5;return {id:String(null === a || void 0 === a?void 0:a.id),Hd:null !== (b=null === k || void 0 === k?void 0:k.da) && void 0 !== b?b:0,Qb:null !== (c=null === a || void 0 === a?void 0:a.Tk.da) && void 0 !== c?c:Infinity,Pb:null !== (d=null === a || void 0 === a?void 0:a.Yr.da) && void 0 !== d?d:0,de:null !== (f=null === l || void 0 === l?void 0:l.da) && void 0 !== f?f:Infinity,Rc:null !== (g=null === h || void 0 === h?void 0:h.da) && void 0 !== g?g:0};};c.prototype.uE=function(){return {Hd:0};};c.prototype.vK=function(){var a,b,c;b={};c=null === (a=this.Wa) || void 0 === a?void 0:a.UJ();c && (b.vbuflmsec=c.totalvbuflmsecs,b.vbuflbytes=c.vbuflbytes,b.abuflmsec=c.totalabuflmsecs,b.abuflbytes=c.abuflbytes);return b;};c.prototype.paused=function(){return this.Th.paused();};c.prototype.Ey=function(){return this.Th.Ey();};c.prototype.AL=function(){return this.Th.AL();};c.prototype.$F=function(a){return this.Th.$F(a);};c.prototype.Hp=function(a){return this.Th.Hp(a);};c.prototype.xw=function(a,b,c){return this.Th.xw(a,b,c);};c.prototype.Hl=function(a,b){return this.Th.Hl(a,b);};c.prototype.open=function(){this.AGa=!0;return this.Th.open();};c.prototype.play=function(){return this.Th.play();};c.prototype.stop=function(){return this.Th.stop();};c.prototype.flush=function(){return this.Th.flush();};c.prototype.Qo=function(a,b){var c;c=this.Wa.Nq(g.S.ec(b),{A1a:!0,z1a:!0});return c?this.Wa.cb.Ja[c.va].Ac + c.offset.da:this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + a + ", playerPts: " + b);};c.prototype.Ww=function(a,b,c){return this.Th.Ww(a,b,c);};c.prototype.YI=function(a,b,c,d){return this.Th.YI(a,b,c,d);};c.prototype.Vr=function(a,b){b=void 0 === b?!0:b;if(!this.Vg())return this.fail("Must call open prior to drmReady");Number.isFinite(a) && (b?this.jb.rU(a):this.jb.Vra(a));};c.prototype.nK=function(){var a;return null !== (a=this.jb) && void 0 !== a && a.Au?this.jb.xn(this.Wa.cb.Ja[this.jb.rn.va].fa):!1;};c.prototype.Rg=function(a){!1;return this.jb?this.jb.Rg(g.S.ec(a)):(!1,!1);};c.prototype.Jm=function(a,b,c){return this.Th.Jm(a,b,c);};c.prototype.addEventListener=function(a,b){return this.Th.addEventListener(a,b);};c.prototype.removeEventListener=function(a,b){return this.Th.removeEventListener(a,b);};c.prototype.QB=function(a,b){var c;c={};this.Wa.Ii((c[a]=b,c));};c.prototype.ln=function(a,b,c){return this.Th.ln(a,b,c);};c.prototype.fail=function(a){var b;null === (b=this.Wa) || void 0 === b?void 0:b.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:a});};c.prototype.Gy=function(a){var b,c,d,f,h,k,l,m;b=this;m=!0 === (null === (c=this.jb) || void 0 === c?void 0:c.Jq.value);c=(null === (d=this.Wa) || void 0 === d?void 0:d.ug.value) === g.ac.bk;null === (f=this.jb) || void 0 === f?void 0:f.Jq.removeListener(this.BVa);null === (h=this.Wa) || void 0 === h?void 0:h.ug.removeListener(this.AKa);m && c?a():(this.BVa=function(){return b.Gy(a);},this.AKa=function(){return b.Gy(a);},null === (k=this.jb) || void 0 === k?void 0:k.Jq.addListener(this.BVa),null === (l=this.Wa) || void 0 === l?void 0:l.ug.addListener(this.AKa));};ma.Object.defineProperties(c.prototype,{kb:{configurable:!0,enumerable:!0,get:function(){return this.Nm.kb;}}});b.Cua=c;},function(d,b,a){var g,k,m,f,h,n,p;function c(a,b,c,d,f,k,l,q,t,u){var r;r=this;this.mVb=a;this.j=b;this.id=c;this.height=d;this.width=f;this.mLb=k;this.nLb=l;this.size=q;this.ms=t;this.Ge=u;this.type=g.jh.ota;this.ny=!0;this.state=h.qo.tX;this.Dh={};this.p_={};this.UMb=function(a){if(a.ia)try{r.data=r.mVb.parse(a.content);r.state=h.qo.LOADED;r.log.trace("TrickPlay parsed",{Images:r.data.images.length},r.Dh);r.j.fireEvent(n.V.gV);}catch(E){r.state=h.qo.XAa;r.log.error("TrickPlay parse failed.",E);}else (r.state=h.qo.tX,r.log.error("TrickPlay download failed.",p.jr(a),r.Dh));};this.log=m.Bh(b,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.JEa=void 0;g=a(79);k=a(11);m=a(7);f=a(67);h=a(491);n=a(13);p=a(2);c.prototype.tyb=function(a){if(this.data && (this.ms && (a+=this.ms),a=Math.floor(a / this.data.xq.W2a),0 <= a && a < this.data.images.length))return {image:this.data.images[a],time:a * this.data.xq.W2a,height:this.height,width:this.width,pixelAspectHeight:this.mLb,pixelAspectWidth:this.nLb};};c.prototype.h2=function(){switch(this.state){case h.qo.LOADED:return "downloaded";case h.qo.LOADING:return "loading";case h.qo.SN:return "downloadfailed";case h.qo.XAa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var a;a=this.DAb();a?(this.state=h.qo.LOADING,this.gtb(a)):this.ny=!1;};c.prototype.rd=function(){return this.state;};c.prototype.DAb=function(){var a,b,c;a=this;b=Object.keys(this.Ge).find(function(b){return (a.p_[a.Ge[b]] || 0) <= k.config.iVb;});if(b){c=this.Ge[b];(c in this.p_)?this.p_[c]++:this.p_[c]=1;return {url:c,Qz:b};}};c.prototype.gtb=function(a){this.log.trace("Downloading",a.url,this.Dh);a={responseType:f.XR,Gc:this.Yja(a.Qz),url:a.url,track:this};this.j.K2.download(a,this.UMb);};c.prototype.Yja=function(a){return this.j.nk.find(function(b){return b && b.id === a;});};b.JEa=c;},function(d,b,a){var g;function c(a,b,c,d){this.dia=a;this.debug=b;this.za=c;this.j=d;this.X4=[];this.u4={};this.gia={};this.mja=!1;this.y2a=1;this.$ua=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.zwa=void 0;g=a(4);a(13);a(15);a(67);c.prototype.register=function(a,b){this.debug.assert(!(0 <= this.X4.indexOf(a)),"panel already registered");this.u4[a]=b;this.X4.push(a);};c.prototype.TWa=function(a){var b;b=this;this.gia[a]=!0;this.mja || (this.mja=!0,setTimeout(function(){return b.Vvb();},0));};c.prototype.azb=function(a){return (a=this.u4[a])?a():void 0;};c.prototype.T1=function(){var a;a=this.j.j5;return a?a.T1():[];};c.prototype.addEventListener=function(a,b){this.dia.addListener(a,b);this.u4[a] && this.TWa(a);};c.prototype.removeEventListener=function(a,b){this.dia.removeListener(a,b);};c.prototype.getTime=function(){return this.za.Bb().ca(g.ga);};c.prototype.Vvb=function(){this.mja=!1;for(var a=this.X4.length,b;a--;){b=this.X4[a];this.gia[b] && (this.gia[b]=!1,this.dia.dc(b + "changed",{getModel:this.u4[b]}));}};b.zwa=c;},function(d,b,a){var g,k,m,f,h,n,p;function c(a,b){var c;c=this;this.Al=a;this.uq=b;this.f3a=function(a){var b,d,f,g,h,k,l;b=c.y2a++;d=a.request.dE || "dl";f=c.JRa(d,"start");if(f){g=a.request.Kq;h=g.stream.N.Bl;g=N(g.stream.N.qh).next().value;if(h || g)if((h=null !== h && void 0 !== h?h:g.W.id,!c.T1a.has(h))){k=c.bRa(h);l=a.Qq;c.Al.mark(f,k,l?d + "-" + l + "-" + b:d);a.Pea(function(){var a,f;a=c.JRa(d,"end");f=l?d + "-" + l + "-" + b:d;a && c.Al.mark(a,k,f);});}}};this.y2a=0;this.T1a=new Set();this.Hra=new Map();b.aR && this.BXb();}Object.defineProperty(b,"__esModule",{value:!0});b.vAa=void 0;d=a(0);g=a(1);k=a(77);m=a(65);f=a(4);h=a(67);a=a(36);n={start:{video:k.Aa.mN,audio:k.Aa.iN},end:{video:k.Aa.lN,audio:k.Aa.hN}};c.prototype.cRa=function(a){var c,d,g,h,l,m,n,q;function b(b){return f.timestamp(c.PIa(f.timestamp(b),a,!0));}c=this;d=new Set();g=a.Md;h=a.ea;l=void 0 === a.M1a?null:a.M1a;m=a.va;n=this.Al.OQa(h);q=m && this.bRa(m);q && n.push.apply(n,[].concat(X(this.Al.OQa(q))));this.Al.b_a(a.ea);q && this.Al.b_a(q);m && this.T1a.add(m);m=[];("pr_ats" in g) && m.push({name:k.Aa.RX,Yq:b(g.pr_ats),ea:h,Fj:"request-pre-manifest"});("ats" in g) && m.push({name:k.Aa.PX,Yq:b(g.ats),ea:h,Fj:"request-manifest"});("pr_at" in g) && m.push({name:k.Aa.QX,Yq:b(g.pr_at),ea:h,Fj:"request-pre-manifest"});("at" in g) && m.push({name:k.Aa.OX,Yq:b(g.at),ea:h,Fj:"request-manifest"});("lg" in g) && m.push({name:k.Aa.NX,Yq:b(g.lg),ea:h,Fj:"request-license"});("lr" in g) && (m.push({name:k.Aa.MX,Yq:b(g.lr),ea:h,Fj:"request-license"}),m.push({name:k.Aa.IV,Yq:b(g.lr),ea:h,Fj:"apply-license"}));("ld" in g) && m.push({name:k.Aa.HV,Yq:b(g.ld),ea:h,Fj:"apply-license"});("tt_start" in g) && m.push({name:k.Aa.kN,Yq:b(g.tt_start),ea:h,Fj:"request-timed-text"});("tt_comp" in g) && m.push({name:k.Aa.jN,Yq:b(g.tt_comp),ea:h,Fj:"request-timed-text"});return m.concat(n).map(function(b){return c.EUb(b,a);}).filter(function(a){return a.ts <= (null !== l && void 0 !== l?l:a.ts)?("end" === a.step && d.add(a.eventId),!0):!1;}).filter(function(a){return "start" !== a.step || d.has(a.eventId)?!0:!1;}).sort(function(a,b){return a.ts - b.ts;}).reduce(function(a,b){var c;c=b.eventName;delete b.eventName;c && (a[c]=b);return a;},{});};c.prototype.Bjb=function(a,b,c){return (void 0 === c?0:c)?a.ca(f.ga) + b.Mk.ca(f.ga):a.ca(f.ga) - b.Mk.ca(f.ga);};c.prototype.PIa=function(a,b,c){c=void 0 === c?!1:c;if(b.Ll)if(c)a.ca(f.ga) + b.Ll;else return a.ca(f.ga) - b.Ll;return this.Bjb(a,b,c);};c.prototype.EUb=function(a,b){var c,d;c=a.Fj;d=a.name;return {eventName:this.qIb(d,c),eventId:c || d,ts:this.PIa(a.Yq,b),comp:this.xR(d),cat:this.vxb(d),step:this.iAb(d)};};c.prototype.qIb=function(a,b){switch(a){case k.Aa.kN:case k.Aa.jN:case k.Aa.iN:case k.Aa.hN:case k.Aa.mN:case k.Aa.lN:return a + "-" + b;default:return a;}};c.prototype.xR=function(a){switch(a){case k.Aa.RX:case k.Aa.QX:case k.Aa.PX:case k.Aa.OX:return "manifest";case k.Aa.NX:case k.Aa.MX:case k.Aa.Cba:case k.Aa.Bba:case k.Aa.tW:case k.Aa.sW:case k.Aa.IV:case k.Aa.HV:return "license";case k.Aa.kN:case k.Aa.jN:case k.Aa.iN:case k.Aa.hN:case k.Aa.mN:case k.Aa.lN:case k.Aa.O7:case k.Aa.N7:return "buffering";case k.Aa.maa:case k.Aa.laa:return "playback";default:return null;}};c.prototype.vxb=function(a){switch(a){case k.Aa.RX:case k.Aa.QX:case k.Aa.PX:case k.Aa.OX:return "aws";case k.Aa.NX:case k.Aa.MX:return "mixed";case k.Aa.maa:case k.Aa.laa:case k.Aa.Cba:case k.Aa.Bba:case k.Aa.tW:case k.Aa.sW:case k.Aa.IV:case k.Aa.HV:case k.Aa.O7:case k.Aa.N7:return "device";case k.Aa.kN:case k.Aa.jN:case k.Aa.iN:case k.Aa.hN:case k.Aa.mN:case k.Aa.lN:return "cdn";default:return null;}};c.prototype.iAb=function(a){switch(a){case k.Aa.RX:case k.Aa.maa:case k.Aa.PX:case k.Aa.NX:case k.Aa.O7:case k.Aa.kN:case k.Aa.iN:case k.Aa.mN:case k.Aa.Cba:case k.Aa.tW:case k.Aa.IV:return "start";case k.Aa.QX:case k.Aa.laa:case k.Aa.OX:case k.Aa.MX:case k.Aa.Bba:case k.Aa.sW:case k.Aa.HV:case k.Aa.N7:case k.Aa.jN:case k.Aa.hN:case k.Aa.lN:return "end";default:return null;}};c.prototype.JRa=function(a,b){if((a in n[b]))return n[b][a];};c.prototype.IVb=function(){h.ef.removeEventListener(h.H2,this.f3a);};c.prototype.BXb=function(){this.IVb();h.ef.addEventListener(h.H2,this.f3a);};c.prototype.bRa=function(a){var b;if(this.Hra.has(a))return this.Hra.get(a);b=Date.now();this.Hra.set(a,b);return b;};p=c;p=d.__decorate([g.O(),d.__param(0,g.l(m.$G)),d.__param(1,g.l(a.Rl))],p);b.vAa=p;},function(d,b,a){var c,g,k,m,f,h,n,p,r,t,A,y,B,I,J,D,F,R,U,V,E,L,N,P,S,W,X,da,Q,ca,O,ea,ga,ka,ja,la;Object.defineProperty(b,"__esModule",{value:!0});b.ELa=void 0;d=a(1);c=a(454);g=a(1151);k=a(128);m=a(1152);f=a(466);h=a(1153);n=a(469);p=a(1154);r=a(470);t=a(1155);A=a(265);y=a(1156);B=a(78);I=a(1157);J=a(1158);D=a(40);F=a(2);R=a(1159);U=a(1160);V=a(1161);E=a(49);L=a(1162);N=a(277);P=a(1163);S=a(1164);W=a(1165);X=a(450);da=a(1166);Q=a(1167);ca=a(1168);O=a(344);ea=a(1169);ga=a(66);ka=a(519);ja=a(1170);la=a(1171);b.ELa=new d.Tc(function(a){a(E.Zk).to(L.sBa);a(c.Eaa).to(g.ABa);a(N.AX).to(P.pBa);a(X.vaa).to(da.qBa);a(S.EBa).to(W.DBa);a(k.DX).to(m.BBa);a(ka.Faa).hf(function(a){return function(){var b;b=a.mb.get(ga.pr);return b && b.r4a?a.mb.resolve(la.PBa):a.mb.resolve(ja.CBa);};});a(f.uaa).to(h.oBa);a(n.Kaa).to(p.NBa);a(r.Baa).to(t.xBa);a(A.CX).to(y.yBa);a(B.Nba).to(I.YDa);a(B.Pba).to(J.aEa);a(B.h$).to(R.Tya);a(B.Lba).to(U.VDa);a(B.o9).to(V.kxa);a(ca.GBa).to(Q.FBa);a(O.Aaa).to(ea.wBa);a(B.pW).hf(function(a){return function(b){switch(b){case B.Rm.start:return a.mb.get(B.Nba);case B.Rm.stop:return a.mb.get(B.Pba);case B.Rm.nS:return a.mb.get(B.h$);case B.Rm.splice:return a.mb.get(B.Lba);case B.Rm.dR:return a.mb.get(B.o9);}throw new D.Bc(F.L.Mab,void 0,void 0,void 0,void 0,"The event key was invalid - " + b);};});});},function(d,b,a){var g,k,m,f,h;function c(a){return f.Lh.call(this,a,k.L.x$a,1,m.Nh.yUa,m.Kg.XG,m.Nh.yUa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ABa=void 0;d=a(0);g=a(1);k=a(2);m=a(45);f=a(72);a=a(49);L(c,f.Lh);c.prototype.Oe=function(a,b){var c;c=this;return this.send(a,"/" + this.name,b).then(function(a){return a.result;})["catch"](function(a){throw c.rm(a);});};c.prototype.$o=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};h=c;h=d.__decorate([g.O(),d.__param(0,g.l(a.Zk))],h);b.ABa=h;},function(d,b,a){var g,k,m,f,h,n,p,r,t,A,y;function c(a,b,c,d,g){a=f.Lh.call(this,a,k.L.MANIFEST,3,m.Nh.pa,m.Kg.xt,m.Nh.pa) || this;a.platform=b;a.Mna=c;a.JEb=d;a.ZFb=g;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.BBa=void 0;d=a(0);g=a(128);k=a(2);m=a(45);a(179);f=a(72);h=a(49);n=a(31);p=a(36);r=a(166);t=a(265);A=a(1);a=a(519);L(c,f.Lh);c.prototype.Oe=function(a,b){var c,d;c=this;this.tZ=b.tq === g.Oi.iH?"prefetch/manifest":m.Nh.pa;d=b.tq === g.Oi.VX?p.Dt.ECa:p.Dt.hO;return this.ZFb().transform(b,d).then(function(f){var h,k;f=N(f);h=f.next().value;k=f.next().value;!1;k.Uo && (c.tZ="licensedManifest");return c.send(a,k.pk,h,void 0,c.Pzb(b.tq),void 0,d).then(function(a){var d;a=c.Mna.create(a.result);d=a.Fc.jt.map(function(a){return a.pi;}).filter(Boolean);k.Uo && (0 < d.length?(d=c.JEb.k3a(d),k.Uo.zIa(d),a.Uo=k.Uo,a.oTa=b.tq === g.Oi.iH):k.Uo.close().subscribe());!1;return a;});})["catch"](function(a){!1;throw c.rm(a);});};c.prototype.$o=function(){return Promise.reject(Error("Links are not supported with manifest command"));};c.prototype.Pzb=function(a){switch(a){case g.Oi.$j:case g.Oi.$7a:return m.Kg.xt;case g.Oi.sba:case g.Oi.VX:return m.Kg.R$;case g.Oi.iH:return m.Kg.XG;}};y=c;y=d.__decorate([A.O(),d.__param(0,A.l(h.Zk)),d.__param(1,A.l(n.vj)),d.__param(2,A.l(r.ZG)),d.__param(3,A.l(t.CX)),d.__param(4,A.l(a.Faa))],y);b.BBa=y;},function(d,b,a){var g,k,m,f,h;function c(a){return f.Lh.call(this,a,k.L.ZW,3,m.Nh.pi,m.Kg.xt,m.Nh.pi) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oBa=void 0;d=a(0);g=a(1);k=a(2);m=a(45);f=a(72);a=a(49);L(c,f.Lh);c.prototype.Oe=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.$o=function(a,b,c){var d,f;d=this;b=b.DR(c.ona).href;f="license" === c.ona?m.Kg.xt:m.Kg.XG;this.tZ="ldl" === c.ona?"prefetch/license":m.Nh.pi;return this.send(a,b,c.inputs,"drmSessionId",f).then(function(a){a=a.result;d.dLa(a);d.Xmb(a);return a;})["catch"](function(a){throw d.rm(a);});};c.prototype.Xmb=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};h=c;h=d.__decorate([g.O(),d.__param(0,g.l(a.Zk))],h);b.oBa=h;},function(d,b,a){var g,k,m,f,h;function c(a){return f.Lh.call(this,a,k.L.Vbb,3,m.Nh.pi,m.Kg.R$,"release/license") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.NBa=void 0;d=a(0);g=a(1);k=a(2);m=a(45);f=a(72);a=a(49);L(c,f.Lh);c.prototype.Oe=function(a,b){var c;c=this;return this.send(a,"/bundle",b).then(function(a){a=a.result;c.dLa(a);return a;})["catch"](function(a){throw c.rm(a);});};c.prototype.$o=function(){return Promise.reject(Error("Links are unsupported with release"));};h=c;h=d.__decorate([g.O(),d.__param(0,g.l(a.Zk))],h);b.NBa=h;},function(d,b,a){var g,k,m;function c(a){this.ta=a;}Object.defineProperty(b,"__esModule",{value:!0});b.xBa=void 0;d=a(0);g=a(1);k=a(35);m=a(4);c.prototype.$Ub=function(a){var b;b=this.ta.Ae.ca(m.Wm);return {inputs:a.aj.map(function(c){return {drmSessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.ea.toString(),mdxControllerEsn:a.MS};}),ona:"standard" === a.gj.toLowerCase()?"license":"ldl"};};c.prototype.cVb=function(a){var b,c,d,f;b=this;c=a.iQb || ({});d=[];f=a.qc.map(function(f){var g;d.push(f.id);g=c[f.id];delete c[f.id];return {url:b.EKa(f.QA,f.KK),echo:"drmSessionId",params:{drmSessionId:f.id,secureStop:g,secureStopId:g?f.KK:void 0,xid:a.ea.toString()}};});Object.entries(c).forEach(function(c){var d;d=N(c);c=d.next().value;d=d.next().value;f.push({url:b.EKa(a.qc[0].QA),echo:"drmSessionId",params:{drmSessionId:c,secureStop:d,secureStopId:void 0,xid:a.ea.toString()}});});return f;};c.prototype.EKa=function(a,b){return "/releaseLicense?drmLicenseContextId=" + a + (b?"&licenseId=" + b:"");};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(k.fh))],a);b.xBa=a;},function(d,b,a){var g,k,m;function c(a,b){this.Ed=a;this.Hr=b;}Object.defineProperty(b,"__esModule",{value:!0});b.yBa=void 0;d=a(0);g=a(1);k=a(27);a=a(41);c.prototype.k3a=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.Ed.tT(a.substring(a.indexOf("?") + 1));});return {ia:!0,qc:a.map(function(a,b){return {id:a.drmSessionId,QA:c[b].drmlicensecontextid,KK:c[b].licenseid};}),Cn:a.map(function(a){return {data:b.Hr.decode(a.licenseResponseBase64),sessionId:a.drmSessionId};})};};c.prototype.dVb=function(a){return {ia:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.drmSessionId) && c && (a[b]=c);return a;},{})}};};m=c;m=d.__decorate([g.O(),d.__param(0,g.l(k.rg)),d.__param(1,g.l(a.Ki))],m);b.yBa=m;},function(d,b,a){var g,k,m,f,h,n;function c(a){return m.Lp.call(this,a,k.L.hcb,f.Rm.start,3,n.Kg.xt) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.YDa=void 0;d=a(0);g=a(1);k=a(2);m=a(150);f=a(78);h=a(49);n=a(45);L(c,m.Lp);a=c;a=d.__decorate([g.O(),d.__param(0,g.l(h.Zk))],a);b.YDa=a;},function(d,b,a){var g,k,m,f,h,n;function c(a){return m.Lp.call(this,a,k.L.rDa,f.Rm.stop,3,n.Kg.R$) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aEa=void 0;d=a(0);g=a(1);k=a(2);m=a(150);f=a(78);h=a(49);n=a(45);L(c,m.Lp);a=c;a=d.__decorate([g.O(),d.__param(0,g.l(h.Zk))],a);b.aEa=a;},function(d,b,a){var g,k,m,f,h,n;function c(a){return m.Lp.call(this,a,k.L.g$,f.Rm.nS,1,n.Kg.XG) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Tya=void 0;d=a(0);g=a(1);k=a(2);m=a(150);f=a(78);h=a(49);n=a(45);L(c,m.Lp);a=c;a=d.__decorate([g.O(),d.__param(0,g.l(h.Zk))],a);b.Tya=a;},function(d,b,a){var g,k,m,f,h,n;function c(a){return m.Lp.call(this,a,k.L.pDa,f.Rm.splice,1,n.Kg.XG) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.VDa=void 0;d=a(0);g=a(1);k=a(2);m=a(150);f=a(78);h=a(49);n=a(45);L(c,m.Lp);a=c;a=d.__decorate([g.O(),d.__param(0,g.l(h.Zk))],a);b.VDa=a;},function(d,b,a){var g,k,m,f,h,n;function c(a){return m.Lp.call(this,a,k.L.A8a,f.Rm.dR,3,n.Kg.XG) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.kxa=void 0;d=a(0);g=a(1);k=a(2);m=a(150);f=a(78);h=a(49);n=a(45);L(c,m.Lp);c.prototype.A_=function(a){return Object.assign(Object.assign({},m.Lp.prototype.A_.call(this,a)),{action:a.action});};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(h.Zk))],a);b.kxa=a;},function(d,b,a){var g,k,m,f,h,n,p,r,t;function c(a,b,c,d,f,g,h,k,l){this.Of=a;this.ef=b;this.Gh=c;this.Tsb=d;this.EE=f;this.vWb=g;this.Kha=h;this.cPb=k;this.cA=l;}Object.defineProperty(b,"__esModule",{value:!0});b.sBa=void 0;d=a(0);g=a(1);k=a(114);m=a(66);f=a(489);h=a(486);n=a(89);p=a(111);r=a(332);t=a(90);a=a(84);c=d.__decorate([g.O(),d.__param(0,g.l(k.WB)),d.__param(1,g.l(p.Qy)),d.__param(2,g.l(m.pr)),d.__param(3,g.l(h.xaa)),d.__param(4,g.l(n.Gv)),d.__param(5,g.l(r.gca)),d.__param(6,g.l(t.wN)),d.__param(7,g.l(f.Laa)),d.__param(8,g.l(a.tt))],c);b.sBa=c;},function(d,b,a){var g,k,m,f,h;function c(a){return f.Lh.call(this,a,k.L.T5a,2,m.Nh.bind,m.Kg.xt,m.Nh.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.pBa=void 0;d=a(0);g=a(1);k=a(2);m=a(45);f=a(72);a=a(49);L(c,f.Lh);c.prototype.Oe=function(a,b,c){var d;d=this;return this.send(a,"/" + this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.rm(a);});};c.prototype.$o=function(){return Promise.reject(Error("Links are unsupported with bind"));};h=c;h=d.__decorate([g.O(),d.__param(0,g.l(a.Zk))],h);b.pBa=h;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.EBa=void 0;b.EBa="PboPairCommandSymbol";},function(d,b,a){var g,k,m,f,h;function c(a){return f.Lh.call(this,a,k.L.Eab,2,m.Nh.JXa,m.Kg.xt,m.Nh.JXa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.DBa=void 0;d=a(0);g=a(1);k=a(2);m=a(45);f=a(72);a=a(49);L(c,f.Lh);c.prototype.Oe=function(a,b,c){var d;d=this;return this.send(a,"/" + this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.rm(a);});};c.prototype.$o=function(){return Promise.reject(Error("Links are unsupported with pair"));};h=c;h=d.__decorate([g.O(),d.__param(0,g.l(a.Zk))],h);b.DBa=h;},function(d,b,a){var g,k,m,f,h;function c(a){return f.Lh.call(this,a,k.L.U5a,2,m.Nh.bind,m.Kg.xt,m.Nh.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qBa=void 0;d=a(0);g=a(1);k=a(2);m=a(45);f=a(72);a=a(49);L(c,f.Lh);c.prototype.Oe=function(a,b,c){var d;d=this;return this.send(a,"/bindDevice",b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.rm(a);});};c.prototype.$o=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};h=c;h=d.__decorate([g.O(),d.__param(0,g.l(a.Zk))],h);b.qBa=h;},function(d,b,a){var g,k,m,f,h;function c(a){return f.Lh.call(this,a,k.L.Xab,1,m.Nh.ping,m.Kg.xt,m.Nh.ping) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FBa=void 0;d=a(0);g=a(1);k=a(2);m=a(45);f=a(72);a=a(49);L(c,f.Lh);c.prototype.Oe=function(a,b,c){var d;d=this;return this.send(a,"/" + this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.rm(a);});};c.prototype.$o=function(){return Promise.reject(Error("Links are unsupported with ping"));};h=c;h=d.__decorate([g.O(),d.__param(0,g.l(a.Zk))],h);b.FBa=h;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.GBa=void 0;b.GBa="PboPingCommandSymbol";},function(d,b,a){var g,k,m,f,h;function c(a){return f.Lh.call(this,a,k.L.U8a,2,m.Nh.pa,m.Kg.xt,"generateScreenshots") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wBa=void 0;d=a(0);g=a(1);k=a(2);m=a(45);f=a(72);a=a(49);L(c,f.Lh);c.prototype.Oe=function(a,b){var c;c=this;return this.send(a,"/generateScreenshots",b).then(function(a){return a.result;})["catch"](function(a){throw c.rm(a);});};c.prototype.$o=function(a,b,c){var d;d=this;return this.send(a,b.DR("generateScreenshots").href,c).then(function(a){return a.result;})["catch"](function(a){throw d.rm(a);});};h=c;h=d.__decorate([g.O(),d.__param(0,g.l(a.Zk))],h);b.wBa=h;},function(d,b,a){var g,k,m,f,h,n,p,r,t,A,y,B,I,J,D;function c(a,b,c,d,f,g,h,k,l,m){this.Gh=a;this.platform=b;this.config=c;this.Fmb=d;this.DLb=f;this.Ek=g;this.pQ=h;this.ta=k;this.e4=l;this.mm=m;}Object.defineProperty(b,"__esModule",{value:!0});b.CBa=void 0;d=a(0);g=a(1);k=a(128);m=a(14);f=a(222);h=a(365);n=a(517);p=a(75);r=a(31);t=a(35);A=a(4);y=a(152);B=a(66);I=a(334);J=a(29);D=a(61);c.prototype.transform=function(a,b){var c,d,g,h,l,m,n,p,q,r;c=this;h=a.Va;l=Object.assign({},h.bQ,h.Tn);m={};n=a.fa;m[n]={unletterboxed:! !l.preferUnletterboxed};p=this.config();q=p.HWb?30:25;r=p.Ip?this.Ek.byb():Promise.resolve(this.e4.fs());p=null === (g=null === (d=p.z3a) || void 0 === d?void 0:d[null === h || void 0 === h?void 0:h.Dd]) || void 0 === g?void 0:g.wG;return Promise.all([this.mm.BRa(),this.mm.DRa(p),this.mm.cK(),this.mm.b2(),this.wxb(a.ea,b),this.gyb(a),r]).then(function(b){var d,g,p,r,t,v;d=N(b);g=d.next().value;p=d.next().value;r=d.next().value;t=d.next().value;v=d.next().value;b=d.next().value;d=d.next().value;g=(g || []).concat(p || []).concat(c.config().nv).concat(["BIF240","BIF320"]).filter(Boolean);p=t && void 0 !== t.SUPPORTS_SECURE_STOP?! !t.SUPPORTS_SECURE_STOP:void 0;t=t?t.DEVICE_SECURITY_LEVEL:void 0;r={type:"standard",viewableId:n,profiles:g,flavor:a.tq,drmType:d,drmVersion:q,usePsshBox:!0,isBranching:! !a.Va.Kj,useHttpsStreams:!0,supportsUnequalizedDownloadables:c.config().RTb,imageSubtitleHeight:f.dY.Jka(),uiVersion:c.Gh.By,uiPlatform:c.Gh.m7,clientVersion:c.platform.version,supportsPreReleasePin:c.config().Wr.NTb,supportsWatermark:c.config().Wr.OTb,showAllSubDubTracks:c.config().Wr.kSb || ! !l.showAllSubDubTracks,packageId:c.szb(h),deviceSupportsSecureStop:p,deviceSecurityLevel:t,videoOutputInfo:r,titleSpecificData:m,preferAssistiveAudio:! !l.assistiveAudioPreferred,preferredTextLocale:l.preferredTextLocale,preferredAudioLocale:l.preferredAudioLocale,isUIAutoPlay:! !l.isUIAutoPlay,challenge:v,isNonMember:c.Gh.n3,pin:h.mYa,desiredVmaf:c.config().BWb?c.config().wsb:c.config().xsb};h.FOa && (r.extraParams=h.FOa);h.lNa && (r.desiredDownloadables=h.lNa);v={pk:b?"licensedManifest":"manifest",Uo:null === b || void 0 === b?void 0:b.Fb};b && (b={drmSessionId:b.Fb.lx() || "session",clientTime:c.ta.q6.ca(A.Wm),challengeBase64:b.wga},r.challenges={"default":[b]},r.profileGroups=[{name:"default",profiles:g}],r.licenseType=a.tq === k.Oi.iH && c.Gh.j4a?"limited":"standard",a.ea && (r.xid=a.ea.toString()));c.Gh.gOa && a.tq === k.Oi.VX && (r.maxSupportedLanguages=2);return [r,v];});};c.prototype.szb=function(a){if(this.config().C5.enabled){if(void 0 !== a.qp)return a.qp;if(void 0 !== this.config().C5.qp)return Number(this.config().C5.qp);}};c.prototype.wxb=function(a,b){var c;c=this;return this.Fmb.TPa(b).then(function(b){var d;d=a && c.DLb.zzb(a);d && d.Go("cad");return b;});};c.prototype.gyb=function(a){var b,c,d,f;b=a.tq === k.Oi.$j || a.tq === k.Oi.sba;a=a.tq === k.Oi.iH;c=this.config().Ip && this.Gh.R_;d=this.config().Ip && this.Gh.hOa;f=d?D.ih.Hv:D.ih.$j;return b && c || a && d?this.pQ.Tka(f):Promise.resolve(void 0);};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(B.pr)),d.__param(1,g.l(r.vj)),d.__param(2,g.l(m.Sc)),d.__param(3,g.l(h.r8)),d.__param(4,g.l(n.HX)),d.__param(5,g.l(p.nr)),d.__param(6,g.l(y.oN)),d.__param(7,g.l(t.fh)),d.__param(8,g.l(I.fX)),d.__param(9,g.l(J.iC))],a);b.CBa=a;},function(d,b,a){var g,k,m,f,h,n;function c(a,b,c,d){this.platform=a;this.config=b;this.pQ=c;this.mm=d;}Object.defineProperty(b,"__esModule",{value:!0});b.PBa=void 0;d=a(0);g=a(1);k=a(14);m=a(31);f=a(152);h=a(29);n=a(61);c.prototype.transform=function(a){var b,c;b=this;c=a.Va;return Promise.all([this.mm.BRa(),this.mm.DRa(),this.pQ.Tka(n.ih.$j)]).then(function(d){var f,g;f=N(d);d=f.next().value;g=f.next().value;f=f.next().value;return [{viewableId:a.fa,packageId:c.qp,assetId:c.yfa,challenge:f.wga,audioProfiles:d,textProfiles:b.config().nv,trickplayProfiles:["BIF240","BIF320"],videoProfiles:g,audioLanguages:c.Jkb,textLanguages:c.iUb},{Uo:null === f || void 0 === f?void 0:f.Fb,pk:"studioManifest"}];});};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(m.vj)),d.__param(1,g.l(k.Sc)),d.__param(2,g.l(f.oN)),d.__param(3,g.l(h.iC))],a);b.PBa=a;},function(d,b,a){var c,g,k,m,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.r3a=void 0;d=a(1);c=a(218);g=a(487);k=a(1173);m=a(1174);f=a(1175);h=a(36);b.r3a=new d.Tc(function(a){a(c.sO).to(f.GEa).Z();a(g.Y$).to(k.AAa);a(g.Mba).to(m.WDa);a(g.aca).hf(function(a){return function(b){var d;return a.mb.get(c.sO).z6(null !== (d=null === b || void 0 === b?void 0:b.QHb) && void 0 !== d?d:h.Dt.hO)?a.mb.get(g.Y$):a.mb.get(g.Mba);};});});},function(d,b,a){var g,k,m,f,h,n,p;function c(a,b,c,d){var f;f=this;this.eB=b;this.receiver=c;this.profile=d;this.log=a.tb("MslTransport");this.eB().then(function(a){return f.hWa=a;});}Object.defineProperty(b,"__esModule",{value:!0});b.AAa=void 0;d=a(0);g=a(1);k=a(6);m=a(162);f=a(4);h=a(186);a=a(101);n={license:!0};c.prototype.send=function(a,b){var c,d;c=this;d={iWa:Object.assign({ef:a.ef,log:a.log,profile:this.profile},a.slb),method:a.pk,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.ca(f.ga),NWb:this.profile,o8b:!n[a.pk],nIb:! !n[a.pk],xk:!0,Y5:a.lra,headers:a.headers};!1;return this.eB().then(function(f){return f.send(d).then(function(d){c.receiver.HL({command:a.pk,inputs:b,outputs:d});return d;})["catch"](function(d){var f;if(!d.error)throw (d.vd=d.ka || d.vd,c.receiver.HL({command:a.pk,inputs:b,outputs:d}),d);f=d.error;f.yB=d.yB;c.log.error("Error sending MSL request",{mslCode:f.Pu,subCode:f.vd,data:f.data,message:f.message});c.receiver.HL({command:a.pk,inputs:b,outputs:f});throw f;});});};c.prototype.gha=function(){var a;return {userTokens:null === (a=this.hWa) || void 0 === a?void 0:a.x4.getUserIdTokenKeys()};};p=c;p=d.__decorate([g.O(),d.__param(0,g.l(k.zb)),d.__param(1,g.l(m.UN)),d.__param(2,g.l(h.cO)),d.__param(3,g.l(a.iO))],p);b.AAa=p;},function(d,b,a){var g,k,m,f,h;function c(a,b,c){this.receiver=b;this.ef=c;this.log=a.tb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.WDa=void 0;d=a(0);g=a(1);k=a(4);m=a(6);f=a(186);a=a(111);c.prototype.send=function(a,b){var c,d;c=this;d={url:a.url.href,dE:"nq-" + a.pk,Wpa:JSON.stringify(b),X_:a.timeout.ca(k.ga),headers:a.headers,withCredentials:!0};!1;return new Promise(function(a,b){c.ef.download(d,function(c){c.ia?a(c):b(c);});}).then(function(d){d={status:"success",body:d.content};c.receiver.HL({command:a.pk,inputs:b,outputs:d});return d;})["catch"](function(d){var f;if(!d.error)throw (d.vd=d.ka || d.vd,c.receiver.HL({command:a.pk,inputs:b,outputs:d}),d);f=d.error;f.yB=d.yB;c.log.error("Error sending SSL request",{subCode:f.vd,data:f.content,message:f.message});c.receiver.HL({command:a.pk,inputs:b,outputs:f});throw f;});};c.prototype.gha=function(){return {};};h=c;h=d.__decorate([g.O(),d.__param(0,g.l(m.zb)),d.__param(1,g.l(f.cO)),d.__param(2,g.l(a.Qy))],h);b.WDa=h;},function(d,b,a){var g,k,m,f,h;function c(a){return k.Se.call(this,a,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GEa=void 0;d=a(0);g=a(1);k=a(44);m=a(32);f=a(43);h=a(36);L(c,k.Se);c.prototype.z6=function(a){var b,c;b=this.t4a;c=this.WIa;switch(a){case h.Dt.hO:return b;case h.Dt.ECa:return b && !c;case h.Dt.vab:return !1;}};ma.Object.defineProperties(c.prototype,{t4a:{configurable:!0,enumerable:!0,get:function(){return !0;}},WIa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;d.__decorate([f.config(f.Mc,"usesMsl")],a.prototype,"t4a",null);d.__decorate([f.config(f.Mc,"allowRequestsWithoutMsl")],a.prototype,"WIa",null);a=d.__decorate([g.O(),d.__param(0,g.l(m.ck))],a);b.GEa=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Dk=void 0;d=a(1);c=a(503);g=a(1177);b.Dk=new d.Tc(function(a){a(c.m$).to(g.fza);});},function(d,b,a){var g,k,m,f,h,n,p,r;function c(a,b,c,d,f){this.gE=a;this.bj=b;this.config=c;this.$A=d;this.kc=f;}Object.defineProperty(b,"__esModule",{value:!0});b.fza=void 0;d=a(0);g=a(1);k=a(112);m=a(1178);f=a(1179);h=a(60);n=a(14);p=a(113);a=a(98);c.prototype.create=function(a,b,c){return a?new m.gza(this.config(),this.bj,this.kc,b,c,this.gE,this.$A()):new f.cza(this.config,this.kc,b,c);};r=c;r=d.__decorate([g.O(),d.__param(0,g.l(k.yN)),d.__param(1,g.l(h.Op)),d.__param(2,g.l(n.Sc)),d.__param(3,g.l(p.vC)),d.__param(4,g.l(a.Sv))],r);b.fza=r;},function(d,b,a){var g,k,m,f,h,n,p,r,t,A;function c(a,b,c,d,f,g,h){d=r.fN.call(this,d,f) || this;d.config=a;d.bj=b;d.kc=c;d.gE=g;d.PS=h;d.log=k.Bh(d.j,"LicenseBroker");d.vS=new Set();d.joa=!1;return d;}Object.defineProperty(b,"__esModule",{value:!0});b.gza=void 0;d=a(0);g=a(2);k=a(7);m=a(12);f=a(322);h=a(4);n=a(1);p=a(270);r=a(520);t=a(61);A=a(13);L(c,r.fN);c.prototype.jpa=function(){var a,b,c;a=this;c=this.j.ha;this.vS.has(c.u) || (this.vS.add(c.u),((null === (b=c.pa) || void 0 === b?0:b.Uo)?this.$jb(c,c.pa.Uo):this.config.HJ && this.config.Js?this.akb(c):Promise.reject())["catch"](function(){return a.q_a(c);}).then(function(){return a.nJa(c);})["catch"](function(b){return a.mJa(c,b);})["catch"](function(b){return a.ed(b.code,b,b.Ug);}));};c.prototype.akb=function(a){var b;b=this;return this.kc.PPa(a.u).then(function(c){return b.qfa(c,a,"videopreparer");})["catch"](function(a){b.log.warn("eme not in cache",a);throw a;});};c.prototype.$jb=function(a,b){var c;c=this;return this.gE().then(function(d){var f;f=c.JQa(a);d.bWa(f,b);d.xS().subscribe(c.UPa(a));return c.qfa(b,a,"manifest");});};c.prototype.qfa=function(a,b,c){this.ZYa(a,b);b.OD=c;this.PS.QF(a.Am);return a.rfa().$s();};c.prototype.nwb=function(a){var b;b={};a.forEach(function(a){b[f.MNa(a.oHb)]=a.time.ca(h.ga);});return b;};c.prototype.ZYa=function(a,b){var c,d;c=this;b.ne=a;null === (d=a.mu()) || void 0 === d?void 0:d.subscribe(function(a){c.ed(a.code,a,a.Ug);});};c.prototype.nJa=function(a){var b;this.log.info("Successfully applied license for xid: " + a.ea + ", viewable: " + a.u + ", segment: " + a.va);b=a.ne;(null === b || void 0 === b?0:b.lna) && this.t2(b.lna);this.tx(a);this.joa?this.m1(a.u):this.QF(a);};c.prototype.mJa=function(a,b){this.tx(a);throw b;};c.prototype.tx=function(a){a.ne && a.tx(this.nwb(a.ne.Md));};c.prototype.UPa=function(a){var b;b=this;return {next:function(c){b.vS.add(a.u);b.t2(c);},error:m.kh,complete:m.kh};};c.prototype.JQa=function(a){var b;return {type:this.ska(),rK:a.Ms.map(function(a){return k.Hw(a);}),context:{Ce:this.config.Ce,na:this.Gb.na,Ks:null === (b=a.og.value) || void 0 === b?void 0:b.Ks},Cg:{u:a.u,ea:a.ea,ti:a.ti,nl:a.nl,hj:a.pa.hj}};};c.prototype.q_a=function(a){var b;b=this;return this.gE().then(function(c){var d;d=b.JQa(a);c.xS().subscribe(b.UPa(a));return c.pi(d,b.PS).qu(function(c){b.ZYa(c,a);b.j.fireEvent(A.V.MK,{u:a.u});return c.rfa();}).$s();});};c.prototype.QF=function(a){var b;b=this;if(this.joa)this.log.trace("Media Keys already set");else try{this.Gb.na?this.Gb.na.setMediaKeys(a.ne.Am).then(function(){b.m1(a.u);b.joa=!0;})["catch"](function(a){a=b.ORa(a);b.ed(g.L.raa,a,a.Ne);}):this.m1(a.u);}catch(I){this.ed(g.L.raa,I,void 0);}};c.prototype.jYa=function(){var a,b;a=this;b=this.j.ha.ne;return b?this.gE().then(function(c){return c.cTb(b,a.PS).qu(function(a){return a.oJa();}).qu(function(b){a.log.trace("Fulfilled the last secure stop");a.bj.Gl && a.j.Eq.f6({success:!0,persisted:!1});return b.close();}).$s()["catch"](function(b){a.log.error("Unable to get/add secure stop data",b);a.bj.Gl && a.j.Eq.f6({success:b.ia,ErrorCode:b.code,ErrorSubCode:b.vd,ErrorExternalCode:b.Ug,ErrorEdgeCode:b.CJ,ErrorDetails:b.bx});});}):Promise.resolve();};c.prototype.p_a=function(a){var b;a=void 0 === a?this.j:a;b=this;return this.q_a(a).then(function(){return b.nJa(a);})["catch"](function(c){return b.mJa(a,c);});};c.prototype.ska=function(){return this.bj.nR?t.ih.Hv:t.ih.$j;};ma.Object.defineProperties(c.prototype,{fF:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Ce:{configurable:!0,enumerable:!0,get:function(){return this.config.Ce;}}});a=c;d.__decorate([p.sS],a.prototype,"fF",null);a=d.__decorate([n.O()],a);b.gza=a;},function(d,b,a){var g,k,m,f,h,n,p,r,t,A,y;function c(a,b,c,d){c=t.fN.call(this,c,d) || this;c.config=a;c.kc=b;c.log=k.Bh(c.j,"LegacyLicenseBroker");c.Ce=c.config().Ce;c.config().pqa?f.vTa()?c.y7=!0:c.log.error("Promise based eme requested but platform does not support it",{browserua:h.Vm}):c.y7=!1;return c;}Object.defineProperty(b,"__esModule",{value:!0});b.cza=void 0;d=a(0);g=a(2);k=a(7);m=a(117);f=a(47);h=a(10);n=a(1);p=a(270);r=a(31);t=a(520);A=a(61);L(c,t.fN);c.prototype.pMa=function(a){var b;b=void 0 === b?this.j:b;return new this.Lq.Av(a,function(a){return b.yQ.rka(a);},function(a){return b.yQ.release(a);},{xm:!1,iS:!1});};c.prototype.YD=function(b,c){var d,f,h,l,n,p;c=void 0 === c?this.j:c;d=this;l=a(51).ki;this.Lq.Av || this.ed(g.L.ZW,g.K.s8a);h=k.Bh(c,"Eme");f=this.pMa(h);n=k.ja.get(m.MC);p=n.BQ(c.Zc.value.xc);n=n.GQ(c.og.value.xc);return this.Lq.Bv(h,b,function(a){return c.ud(a);},{xm:!1,iS:!1,xTa:this.config().Gl,j0a:{JVa:this.config().h0a,ZKa:this.config().Cra},ta:{getTime:l},xB:f,eZa:! !this.y7,na:this.Gb.na,vG:this.config().Bia,onerror:function(a,b,c){return d.ed(a,b,c);},Toa:function(a){return d.t2(a);},CLb:!0,JJa:p,B4a:n,qK:this.config().qK});};c.prototype.QF=function(a){var b;b=this;return this.y7?new Promise(function(c,d){if(b.Gb.na)b.Gb.na.setMediaKeys(a).then(function(){c();})["catch"](function(a){var c;c=b.ORa(a);d({ia:!1,code:g.L.raa,vd:c.ka,Ug:c.Ne,Ab:c.Ab,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};c.prototype.yOa=function(a){return {code:a.code,subCode:a.vd,extCode:a.Ug,edgeCode:a.CJ,message:a.message,errorDetails:a.Ab,errorData:a.W0,state:a.state};};c.prototype.Xra=function(a,b,c){var f,g,h;function d(){g.TT()["catch"](function(a){f.log.error("Unable to set the license",f.yOa(a));a.cause && a.cause.Ab && (a.Ab=a.Ab?a.Ab + a.cause.Ab:a.cause.Ab);f.ed(a.code,a,a.Ug);});}c=void 0 === c?this.j:c;f=this;g=c.ne;this.log.info("Setting the license");h=b?function(){return Promise.resolve();}:function(){return g.pi(f.ska(),a);};return (b?function(){return g.qfa(f.Gb.na);}:function(){return g.create(f.Ce).then(function(){return Promise.resolve();});})().then(function(){return f.config().T0a?f.QF(g.Am):Promise.resolve();}).then(h).then(function(){return f.config().T0a?Promise.resolve():f.QF(g.Am);}).then(function(){f.log.info("license set");f.m1(c.u);f.Gb.P4a.then(function(){f.config().RA && (b || f.config().nR) && (f.j_a=ka.setTimeout(d,f.config().RA));});})["catch"](function(a){f.log.error("Unable to set the license",f.yOa(a));a.cause && a.cause.Ab && (a.Ab=a.Ab?a.Ab + a.cause.Ab:a.cause.Ab);if(b)throw Error(a && a.message?a.message:"failed to set license");f.ed(a.code,a,a.Ug);});};c.prototype.jYa=function(){return Promise.resolve();};c.prototype.jpa=function(a){var c;function b(){var b;c.j.ne=c.YD(a.initDataType);b=[];c.j.Ms.forEach(function(a){b.push(k.Hw(a));});c.Xra(b);}c=this;this.log.trace("Received event: " + a.type);this.vS || (this.vS=!0,this.Lq.Bv?this.j.Ms?(!1,this.config().HJ && this.config().Js?this.kc.PPa(this.j.u).then(function(a){c.j.ne=a;return a.E9b.then(function(){var b;b=[];c.j.Ms.forEach(function(a){b.push(k.Hw(a));});return c.Xra(b,!0).then(function(){var b;if(a.B4b)c.ed(g.L.v8a);else {b=k.Bh(c.j,"Eme");a.s9b({log:b,N7b:function(a){return c.j.ud(a);}},{xB:c.pMa(b),onerror:function(a,b,d){return c.ed(a,b,d);}});(b=a.Z7b) && c.t2(b);c.j.tx(a.Md || ({}));c.j.OD="videopreparer";}});});})["catch"](function(a){c.log.warn("eme not in cache",a);b();}):b()):(this.log.error("Missing the PSSH on the video track, closing the player"),this.ed(g.L.ibb)):this.ed(g.L.ZW,g.K.t8a));};c.prototype.p_a=function(a){var b;a=void 0 === a?this.j:a;a.ne=this.YD("cenc");b=[];a.Ms.forEach(function(a){b.push(k.Hw(a));});return this.Xra(b,!1,a);};c.prototype.ska=function(){return this.config().nR?A.ih.Hv:A.ih.$j;};ma.Object.defineProperties(c.prototype,{Lq:{configurable:!0,enumerable:!0,get:function(){return k.ja.get(r.It);}},fF:{configurable:!0,enumerable:!0,get:function(){return this.y7?"encrypted":this.Gb.m9 + "needkey";}}});y=c;d.__decorate([p.sS],y.prototype,"Lq",null);d.__decorate([p.sS],y.prototype,"fF",null);y=d.__decorate([n.O()],y);b.cza=y;},function(d,b,a){var c,g,k,m,f,h,n,p,r,t;Object.defineProperty(b,"__esModule",{value:!0});b.Cf=void 0;d=a(1);c=a(521);g=a(1181);k=a(524);m=a(1187);f=a(183);h=a(1188);n=a(1189);p=a(147);r=a(523);t=a(1190);b.Cf=new d.Tc(function(a){a(c.gba).to(g.rCa).Z();a(k.jba).to(m.BCa).Z();a(f.gO).to(h.qCa).Z();a(p.oH).to(n.pCa).Z();a(r.hba).to(t.vCa).Z();});},function(d,b,a){var g,k,m,f,h,n,p,r,t;function c(a,b,c,d,f,g,h){this.Af=a;this.Yia=b;this.wi=c;this.CL=d;this.kta=f;this.NLb=g;this.EE=h;}Object.defineProperty(b,"__esModule",{value:!0});b.rCa=void 0;d=a(0);g=a(1);k=a(1182);m=a(6);f=a(147);h=a(335);n=a(523);p=a(183);r=a(342);a=a(89);c.prototype.create=function(a){return new k.sCa(a,this.Af,this.Yia,this.CL,this.wi,this.kta,this.NLb,this.EE);};t=c;t=d.__decorate([g.O(),d.__param(0,g.l(m.zb)),d.__param(1,g.l(h.LG)),d.__param(2,g.l(f.oH)),d.__param(3,g.l(p.gO)),d.__param(4,g.l(r.$ba)),d.__param(5,g.l(n.hba)),d.__param(6,g.l(a.Gv))],t);b.rCa=t;},function(d,b,a){var g,k,m,f,h,n;function c(a,b,c,d,g,k,l,p){this.CL=d;this.kta=k;this.lR=!1;this.ey=p.Yz();g.x7 && (a=new h.tCa().bVb(a));this.Kc=new f.ACa(a);this.Pl=new m.CCa(this.Kc);this.Pl.N0a(this.Kc.ha.fa);this.log=b.tb("PlaygraphManager");a=new n.wCa(g,this,this.Pl);this.Jb=c.create();this.cy=l.create(this.ey,this.Kc,this.Pl,this.log,a,this.Jb);this.LRb();}Object.defineProperty(b,"__esModule",{value:!0});b.sCa=void 0;g=a(13);k=a(281);m=a(1183);f=a(1184);h=a(1185);n=a(1186);c.prototype.Czb=function(){return this.ey;};c.prototype.M1=function(){return this.Kc.ha;};c.prototype.$Pa=function(){return this.Kc.Sg;};c.prototype.Dzb=function(){return this.Kc.Nk;};c.prototype.Un=function(a){for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}this.Kc.Un.apply(this.Kc,[].concat(X(b)));};c.prototype.xnb=function(a){for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}this.Kc.CJa(b);};c.prototype.W3a=function(a){this.Kc.Nk=a;};c.prototype.Ii=function(a,b){this.Kc.Ii(a,b);};c.prototype.jla=function(a,b,c){if(a !== this.Kc.Sg)throw Error("Invalid currentSegmentId");if(b !== this.Kc.wE(a))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + a + " -> " + b);return this.cy.SRa(b,c);};c.prototype.isReady=function(){return this.cy.isReady();};c.prototype.addListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.cp=function(){return this.cy.cp();};c.prototype.ni=function(){return this.cy.ni();};c.prototype.cq=function(a){var b,c;b=this;this.log.info("Adding segment - movieId: " + a.u + ", startPts: " + a.X + ", logicalEnd: " + ("" + a.Nj));null !== (c=a.fb) && void 0 !== c && c.Kj || a.id || (a.id=this.CL.sR(a.u));if(!this.lR)return (c=this.cy.ET(a),this.ni().xu().addEventListener(g.V.LF,function(a){return b.hB(a);}),this.lR=!0,c);if(c=Object.keys(this.Kc.Nk.Ja).find(function(c){return b.Kc.Nk.Ja[c].fa === a.u;}))return (a.Nj && this.Kc.cWb(c,a.Nj),null);this.Pl.pjb(a.u,Object.assign({},a.fb,a.X?{X:a.X}:{},a.Nj?{Nj:a.Nj}:{}));this.Kc.Nk=this.CL.Yjb(this.Kc.Nk,a);this.ni().xu().bq("addSegment movieId: " + a.u + ", startPts: " + a.X + ", logicalEnd: " + a.Nj);return this.cy.ET(a);};c.prototype.transition=function(a){var b;b=this.Kc.wE(this.Kc.Sg);return b?this.jla(this.Kc.Sg,b,a):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(a){return this.cy.close(a);};c.prototype.sm=function(a){if(this.Pl.iK(a).state == k.Rp.W8)return this.ni().xu().sm(a);};c.prototype.LRb=function(){var a;a=this;this.Kc.BTb(function(){a.Pl.lT();a.cy.lT();});this.Kc.CTb(function(b){a.cy.lpa(b);});this.addListener(g.FC.kU,function(){return a.OJb();});};c.prototype.OJb=function(){var a;a=this.ni().getError();a?this.Jb.dc(g.Vb.gga,a):(this.Jb.dc(g.Vb.LJa),this.Jb.dc(g.Vb.$P),this.Jb.dc(g.Vb.iG),this.Jb.dc(g.Vb.IM),this.Jb.dc(g.Vb.gV),this.Jb.dc(g.Vb.gga));};c.prototype.hB=function(a){var b,c,d;!1;b=a.metrics;if(b){c=this.ni().xu();d=c.yu(a.segmentId);b=c.yu(b.srcsegment);this.kta.VMb(a,d,b);}};b.sCa=c;},function(d,b,a){var g;function c(a){this.cb=a;this.VM={};this.lT();}Object.defineProperty(b,"__esModule",{value:!0});b.CCa=void 0;g=a(281);c.prototype.lT=function(){var a;a=this;Object.values(this.cb.Nk.Ja).forEach(function(b){b=b.fa;a.VM[b] || a.bTa(b);});this.p7();};c.prototype.iK=function(a){return this.VM[a];};c.prototype.cRb=function(a){this.Z1(a).state=g.Rp.Bxa;this.p7();};c.prototype.bRb=function(a,b){a=this.Z1(a);a.state=g.Rp.Error;a.error=b;a.I_a(!1);this.p7();};c.prototype.N0a=function(a){a=this.Z1(a);a.state=g.Rp.W8;a.I_a(!0);this.p7();};c.prototype.pjb=function(a,b){this.Z1(a).fb=b;};c.prototype.Z1=function(a){var b;return null !== (b=this.iK(a)) && void 0 !== b?b:this.bTa(a);};c.prototype.bTa=function(a){var b,c;b=void 0;c=new Promise(function(a,c){b=function(b){(b?a:c)();};});return this.VM[a]={state:g.Rp.JAa,DNb:c,I_a:b};};c.prototype.p7=function(){var b;this.wWa=void 0;for(var a=this.cb.Sg;a=this.cb.wE(a);){b=this.js(a);if(this.VM[b].state === g.Rp.Error)break;if(this.VM[b].state === g.Rp.Bxa)break;if(this.VM[b].state === g.Rp.JAa){this.wWa={fa:b,va:a};break;}}};c.prototype.js=function(a){return this.cb.Nk.Ja[a].fa;};b.CCa=c;},function(d,b,a){var g;function c(a){this.jZ={};this.rsa={};this.R3a=[];this.x1a=[];this.Nk=a;this.Sg=a.ff;}Object.defineProperty(b,"__esModule",{value:!0});b.ACa=void 0;g=a(148);c.prototype.Un=function(a){var d;for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}d=this;b.filter(function(a){return d.jU(a.va);}).filter(function(a){a=a.eT;return !a || d.jU(a);}).forEach(function(a){d.jZ[a.va]=d.Xoa(a.eT);});};c.prototype.CJa=function(a){var b;b=this;a.filter(function(a){return b.jU(a);}).forEach(function(a){b.jZ[a]=b.Xoa(b.wf(a).yh);});};c.prototype.Ii=function(a,b){var c,d,k;c=this.wf(a);if(c && c.next){d=new g.nH(this.Nk);k=Object.keys(c.next).reduce(function(a,d){a[d]=void 0 === b[d]?c.next[d]:Object.assign({},c.next[d],{weight:b[d]});return a;},{});k=Object.assign({},c,{next:k});d.cq(a,k);this.Nk=d.Cj();}};c.prototype.jU=function(a,b){b=void 0 === b?this.Nk.Ja:b;return (a in b);};c.prototype.wE=function(a){return this.jZ[a];};c.prototype.wf=function(a){return this.Nk.Ja[a];};c.prototype.pRa=function(a){return void 0 === this.rsa[a]?this.Xoa(this.wf(a).zd):this.rsa[a];};c.prototype.cWb=function(a,b){this.rsa[a]=b;this.HIb(a);};c.prototype.BTb=function(a){this.R3a.push(a);};c.prototype.CTb=function(a){this.x1a.push(a);};c.prototype.JIb=function(){var a;a=this;this.R3a.forEach(function(b){return b(a.Nk);});};c.prototype.HIb=function(a){this.x1a.forEach(function(b){return b(a);});};c.prototype.Xoa=function(a){return null === a?void 0:a;};ma.Object.defineProperties(c.prototype,{Nk:{configurable:!0,enumerable:!0,get:function(){return this.bhb;},set:function(a){if(this.Sg && !this.jU(this.Sg,a.Ja))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Sg);this.bhb=a;this.jZ={};a=Object.keys(a.Ja);this.CJa(a);this.JIb();}},Sg:{configurable:!0,enumerable:!0,get:function(){return this.geb;},set:function(a){if(!this.jU(a))throw Error("Provided currentSegmentId " + a + " does not exist in the current playgraph");this.geb=a;}},ha:{configurable:!0,enumerable:!0,get:function(){return this.wf(this.Sg);}}});b.ACa=c;},function(d,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.tCa=void 0;g=a(148);c.prototype.bVb=function(a){var b;if(!this.KDb(a.Ja))return a;b=new g.nH().sU(a.ff);Object.entries(a.Ja).forEach(function(c){var d;d=N(c);c=d.next().value;d=d.next().value;c === a.ff?b.cq(c,Object.assign(Object.assign({},d),{next:void 0,zd:void 0,yh:void 0})):b.cq(c,d);});return b.Cj();};c.prototype.KDb=function(a){a=Object.values(a).map(function(a){return a.fa;});return 1 === new Set(a).size;};b.tCa=c;},function(d,b,a){var g,k;function c(a,b,c){this.wi=a;this.Cf=b;this.Pl=c;}Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;g=a(4);k=a(522);c.prototype.aSb=function(){var a,b,c,d,l;a=this.Pl.wWa;if(!a)return {result:k.Qp.YN};b=this.Cf.Kc;if(b.Sg === a.va)return {result:k.Qp.rca,I4a:a};c=this.Vzb(b,b.Sg,a.va);if(!c)return {result:k.Qp.YN};d=c.duration;if(c.eA >= this.wi.TYa)return {result:k.Qp.YN};c=this.kQa(b.Sg);if(!c)return {result:k.Qp.YN};b=this.Cf.ni().L1() || 0;c=Math.max(0,c - b);d=c + d;l=this.wi.SYa.ca(g.ga);if(d <= l)return {result:k.Qp.rca,I4a:a};a=d - l;return c < a?{result:k.Qp.YN}:{result:k.Qp.Yya,Wh:b + a};};c.prototype.Vzb=function(a,b,c){var g,h,f;b=a.wE(b);for(var d=0,f=0;b !== c && void 0 !== b;){d++;g=a.wf(b);h=this.kQa(b) || Infinity;f=f + (h - g.Ac);b=a.wE(b);}return b?{eA:d,duration:f}:void 0;};c.prototype.kQa=function(a){var b,c;b=this.Cf.Kc;c=b.pRa(a);if(void 0 !== c)return c;a=b.wf(a);if(a=this.Cf.sm(a.fa))return a.Nr.ca(g.ga);};b.wCa=c;},function(d,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.BCa=void 0;d=a(0);g=a(1);c.prototype.create=function(b,c){return new (a(525).WEa)(b,c);};k=c;k=d.__decorate([g.O()],k);b.BCa=k;},function(d,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qCa=void 0;d=a(0);g=a(1);k=a(148);c.prototype.Uqb=function(a){var d,g,l;for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}d=this;if(0 === b.length)throw Error("Empty playgraph");g=new k.nH().sU(this.sR(b[0]));b.reverse().forEach(function(a){var b;b=d.sR(a);g.cq(b,Object.assign({fa:a,Ac:0},l?{yh:l}:{}));l=b;});return g.Cj();};c.prototype.sR=function(a,b){return a + ":[startPts:" + (void 0 === b?0:b) + "]";};c.prototype.Yjb=function(a,b){var c,d,f,g;void 0 === c && (c=null !== (f=b.id) && void 0 !== f?f:this.sR(b.u,b.X));void 0 === d && (d="pauseAtStart");f=this.Myb(a);g=new k.nH(a);g.cq(c,{fa:b.u,Ac:b.X || 0,od:d});a=a.Ja[f];b={};g.cq(f,Object.assign({},a,{yh:c,next:Object.assign({},a.next || ({}),(b[c]={},b))}));return g.Cj();};c.prototype.Myb=function(a){for(var b=a.ff,c=b;c=a.Ja[c].yh;){b=c;}return b;};a=c;a=d.__decorate([g.O()],a);b.qCa=a;},function(d,b,a){var g,k,m,f,h;function c(a){return k.Se.call(this,a,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.pCa=void 0;d=a(0);g=a(1);k=a(44);m=a(32);f=a(43);h=a(4);L(c,k.Se);ma.Object.defineProperties(c.prototype,{TYa:{configurable:!0,enumerable:!0,get:function(){return 2;}},SYa:{configurable:!0,enumerable:!0,get:function(){return h.t4(3);}},w7:{configurable:!0,enumerable:!0,get:function(){return !1;}},x7:{configurable:!0,enumerable:!0,get:function(){return !1;}},q4a:{configurable:!0,enumerable:!0,get:function(){return !0;}},mPa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;d.__decorate([f.config(f.Cy,"prepareSegmentsUpfront")],a.prototype,"TYa",null);d.__decorate([f.config(f.Zh,"prepareSegmentsDuration")],a.prototype,"SYa",null);d.__decorate([f.config(f.Mc,"usePlaygraphForPostPlay")],a.prototype,"w7",null);d.__decorate([f.config(f.Mc,"usePlaygraphForSkipSegment")],a.prototype,"x7",null);d.__decorate([f.config(f.Mc,"useSinglePlayerPlayback")],a.prototype,"q4a",null);d.__decorate([f.config(f.Mc,"forcePlaygraphTrace")],a.prototype,"mPa",null);a=d.__decorate([g.O(),d.__param(0,g.l(m.ck))],a);b.pCa=a;},function(d,b,a){var g,k,m,f,h,n,p,r,t,A,y;function c(a,b,c,d,f,g,h,k){this.za=a;this.lj=b;this.qQb=d;this.wi=g;this.cB=h;this.Kn=k;this.pQb=c.rA(!1,"6.0029.052.051",a.id,k,f);}Object.defineProperty(b,"__esModule",{value:!0});b.vCa=void 0;d=a(0);g=a(1);k=a(116);m=a(18);f=a(147);h=a(1191);n=a(339);p=a(210);r=a(14);t=a(526);A=a(209);a=a(33);c.prototype.create=function(a,b,c,d,f,g){var k;a=this.qQb.Hqb(a,this.pQb);k=this.wi.w7 || this.wi.q4a && 1 < Object.keys(b.Nk.Ja).length;d.debug("Using " + (k?"single":"multiple") + " player playback strategy");return k?new h.TDa(this.wi,b,c,d,this.lj,this.za,f,this.cB,a,g):new t.VN(b,c,a,g);};y=c;y=d.__decorate([g.O(),d.__param(0,g.l(m.Fd)),d.__param(1,g.l(k.EC)),d.__param(2,g.l(n.Iba)),d.__param(3,g.l(p.XX)),d.__param(4,g.l(r.Sc)),d.__param(5,g.l(f.oH)),d.__param(6,g.l(A.iX)),d.__param(7,g.l(a.lH))],y);b.vCa=y;},function(d,b,a){var g,k,m,f,h,n,p;function c(a,b,c,d,f,g,k,l,n,p){var q;q=h.VN.call(this,b,c,n,p) || this;q.wi=a;q.la=d;q.lj=f;q.za=g;q.OLb=k;q.lR=!1;q.eqa=Promise.resolve();q.$Va=l.rha({Ika:function(){return m.Nb(100);}},function(){return q.ni().L1() || 0;});return q;}Object.defineProperty(b,"__esModule",{value:!0});b.TDa=void 0;g=a(13);k=a(281);m=a(4);f=a(2);h=a(526);n=a(522);p=a(118);L(c,h.VN);c.prototype.lT=function(){this.rB();};c.prototype.lpa=function(){};c.prototype.SRa=function(a,b){var c,d,h,l;c=this.Kc.wf(a);if(this.wi.x7 && this.Kc.ha.fa === c.fa)return Promise.resolve(this.ni().seek(c.Ac,g.xd.Nv,void 0));d=this.Pl.iK(c.fa);b=p.ooa(d.fb,b);h=this.ni().xu();if(d.state !== k.Rp.W8)return (d=d.state === k.Rp.Error?d.error:this.lj(f.L.Zab,{Ab:a}),h.QAb({fa:c.fa,va:a,Va:b},d),h.bq("Transition " + this.Kc.Sg + "->" + a + " error " + d.eE),Promise.reject());c=h.Ga;if(null === c || void 0 === c || !c.Vg())throw (this.la.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.la.debug("going to next segment: " + this.Kc.Sg + " -> " + a);h.bq("Transition " + this.Kc.Sg + "->" + a);l=h.yu(a);l.Ll=this.za.Bb().ca(m.ga);l.Va=b;return (void 0 !== c.uE(a)?this.RAb(a,l.u):this.hU(a,l.u)).then(function(){h.nPa(l.u);});};c.prototype.hU=function(a,b){var c;c=this.Kc.Nk.Ja[a].Ac;this.la.debug("Segment is not pre-buffered - performing a regular seek");this.ni().xu().bq("NO DATA " + a + ", SEEKING " + c + ", viewableId: " + b);return Promise.resolve(this.ni().seek(c,g.xd.Nv,a,!0));};c.prototype.RAb=function(a,b){var c,d,f,h,k;c=this;d=this.ni().xu();f=d.Ga;if(null === f || void 0 === f || !f.Vg())throw Error("No streaming session");h=new Promise(function(a){function b(){c.la.debug("Stopped ASE");f.removeEventListener("stop",b);a();}f.addEventListener("stop",b);});k=new Promise(function(a){function b(){c.la.debug("Repositioned");d.removeEventListener(g.V.El,b);a();}function h(){c.la.debug("Repositioning");d.removeEventListener(g.V.DF,h);f.stop();}d.addEventListener(g.V.DF,h);d.addEventListener(g.V.El,b);});h=Promise.all([h,k]).then(function(){if(!f.ln(a,!1,!0))return (d.bq("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),c.hU(a,b));});k=f.Ww(void 0,this.Kc.Nk.Ja[a].Ac,a);this.la.debug("Calling seek on internal player to " + k);this.ni().seek(k,g.xd.IC,a,!0);return h;};c.prototype.ET=function(a){if(!this.lR)return (this.lR=!0,h.VN.prototype.ET.call(this,a));this.rB();this.eqa=this.ni().xu().Ob.when(function(a){return a !== g.sb.Zf;}).then(function(){});return this.Pl.iK(a.u).DNb;};c.prototype.rB=function(){var a,b;a=this;if(this.isReady()){this.$Va.cancel();b=this.OLb.aSb();b.result === n.Qp.Yya?this.$Va.observe(b.Wh,function(){a.rB();}):b.result === n.Qp.rca && this.vMb(b.I4a);}};c.prototype.vMb=function(a){var c,d,f,h,k,l,m;function b(a){a.u === k && (c.Kc.Sg=d,c.rB(),h.removeEventListener(g.V.Gq,b),c.Jb.dc(g.FC.kU));}c=this;d=a.va;f=this.Kc.wf(d);h=this.ni().xu();a=Object.assign(this.Pl.iK(a.fa).fb || ({}),{X:f.Ac,sa:f.zd,Kj:!1,n7:Date.now(),o3:!0});k=h.Wea({fa:f.fa,va:d,Va:a});l=h.sm(k);this.la.debug("Creating new playback xid: " + l.ea + ", movieId: " + l.u);h.addEventListener(g.V.Gq,b);m="pauseAtStart" !== f.od;this.Pl.cRb(f.fa);h.bq("queueManifest",l.va);this.eqa=a=this.eqa.then(function(){return h.mNb(k,m);}).then(function(){h.bq("queueManifest done",l.va);c.Pl.N0a(f.fa);h.iMb(l);})["catch"](function(a){h.bq("queueManifest error " + a.eE,l.va);c.Pl.bRb(f.fa,a);throw a;});a.then(function(){return c.rB();});};b.TDa=c;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.FJa=void 0;d=a(1);c=a(1193);g=a(30);b.FJa=new d.Tc(function(a){a(g.Ig).to(c.Uua).Z();});},function(d,b,a){var g,k,m,f,h,n,p,r,t,A,y,B,I;function c(a,b,c,d,f,g){var h;h=this;this.Vj=a;this.config=c;this.Gm=d;this.debug=f;this.za=g;this.$2a=[];this.Md={};this.log=b.tb("loadAsync");this.RFb=y.Gxa(function(a){h.oOb=!0;h.startTime=h.za.Bb().ca(t.ga);h.load(h.$2a).then(function(){h.endTime=h.za.Bb().ca(t.ga);a(I.se);})["catch"](function(b){h.endTime=h.za.Bb().ca(t.ga);a(b);});});}Object.defineProperty(b,"__esModule",{value:!0});b.Uua=void 0;d=a(0);g=a(65);k=a(2);m=a(1194);f=a(77);h=a(1);n=a(6);p=a(14);r=a(62);t=a(4);A=a(87);y=a(527);B=a(18);I=a(12);c.prototype.yS=function(a){this.RFb(a);};c.prototype.register=function(a,b){this.debug.assert(!this.oOb);this.$2a.push({jFb:this.smb(b),errorCode:a});};c.prototype.ud=function(a){this.debug.assert(void 0 === this.Md[a]);this.Md[a]=this.za.Bb().ca(t.ga);};c.prototype.load=function(a){var b;b=this;return m.YYa(a).then(function(a){b.Vj.mark(f.Cv.Qi.u5a);return a.reduce(function(a,c){return a.then(function(){return b.fFb(c);});},Promise.resolve()).then(function(){b.Vj.mark(f.Cv.Qi.s5a);});});};c.prototype.fFb=function(a){var b,c;b=this;c=a.jFb;!1;return this.Gm.Ap(t.Nb(this.config().zkb),c())["catch"](function(c){b.log.error("Failed to load component " + a.errorCode,c);b.Vj.mark(f.Cv.Qi.t5a);if(c instanceof r.oo)throw {ka:k.K.r5a,errorCode:a.errorCode};c.errorCode=c.errorCode || a.errorCode;c.ka=c.ka || k.K.q5a;throw c;});};c.prototype.smb=function(a){return function(){return new Promise(function(b,c){a(function(a){a.ia?b():c(a);});});};};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(g.az)),d.__param(1,h.l(n.zb)),d.__param(2,h.l(p.Sc)),d.__param(3,h.l(r.Xy)),d.__param(4,h.l(A.st)),d.__param(5,h.l(B.Fd))],a);b.Uua=a;},function(d,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.YYa=void 0;c=a(2);g=[c.L.I9a,c.L.vya,c.L.tya,c.L.uya,c.L.yya,c.L.qya,c.L.oya,c.L.V9,c.L.zya,c.L.rya,c.L.F9a,c.L.G9a,c.L.pya,c.L.Ny,c.L.lya,c.L.nya,c.L.wya,c.L.S9a,c.L.xya,c.L.J9a,c.L.L9a,c.L.P9a,c.L.N9a,c.L.M9a,c.L.K9a,c.L.O9a,c.L.R9a,c.L.sya,c.L.Q9a,c.L.mya];(function(a){a.sab=function(a){var f;for(var b={},d=0;d < a.length;d++){f=a[d];if(b[f.errorCode])return {errorCode:f.errorCode,ka:c.K.o5a};b[f.errorCode]=1;}};a.uab=function(a){var d;for(var b=0;b < a.length;b++){d=a[b];if(-1 === g.indexOf(d.errorCode))return {errorCode:d.errorCode,ka:c.K.p5a};}};})(k || (k={}));b.YYa=function(a){return new Promise(function(b,c){var d;d=k.uab(a);d && c(d);(d=k.sab(a)) && c(d);b(a.sort(function(a,b){return g.indexOf(a.errorCode) - g.indexOf(b.errorCode);}));});};},function(d,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.gJa=void 0;c=a(1196);g=a(114);d=a(1);k=a(101);m=a(14);b.gJa=new d.Tc(function(a){a(g.WB).to(c.rua).Z();});b.profile=new d.Tc(function(a){a(k.iO).NB(function(a){return (a=a.mb.get(m.Sc)()) && a.lu?"browsertest":"browser";});});},function(d,b,a){var g,k,m,f,h,n;function c(a,b,c,d){a=f.Se.call(this,a,void 0 === d?"AppInfoConfigImpl":d) || this;a.config=b;a.j7=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.rua=void 0;d=a(0);g=a(1);k=a(36);m=a(43);f=a(44);h=a(32);a=a(218);L(c,f.Se);c.prototype.mzb=function(a){return "" + this.sOa + (this.j7.z6(a)?"/msl_v1":"");};c.prototype.wzb=function(a){return "" + this.host + (this.j7.z6(a)?"/msl":"") + "/playapi";};ma.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},sOa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.KJ){case k.Dv.tcb:a="www.stage";break;case k.Dv.sEa:a="www-qa.test";break;case k.Dv.Nya:a="www-int.test";break;default:a="www";}return "https://" + a + ".netflix.com";}},hKa:{configurable:!0,enumerable:!0,get:function(){return "pbo_manifests";}}});n=c;d.__decorate([m.config(m.string,"apiEndpoint")],n.prototype,"endpoint",null);d.__decorate([m.config(m.string,"nqEndpoint")],n.prototype,"sOa",null);d.__decorate([m.config(m.string,"bindService")],n.prototype,"hKa",null);n=d.__decorate([g.O(),d.__param(0,g.l(h.ck)),d.__param(1,g.l(k.Rl)),d.__param(2,g.l(a.sO)),d.__param(3,g.l(h.fC)),d.__param(3,g.optional())],n);b.rua=n;},function(d,b,a){var h,n,p;function c(a){var b,c,f;b=0;this.Ha.info("show subtitle called at " + this.lz() + " for displayTime " + a.displayTime);this.emit("showsubtitle",a);c=this.nz[this.nz.length - 1];c.lM || (c.lM={});if("dfxp-ls-sdh" === this.dea)for(var d=0;d < a.vlb.length;d++){f=a.vlb[d];c.lM[f.id] || (b++,c.lM[f.id]=!0);}else c.lM[a.id] || (b++,c.lM[a.id]=!0);c.yU+=b;}function g(a){this.Ha.info("remove subtitle called at " + this.lz() + " for remove time " + (a.displayTime + a.duration));this.emit("removesubtitle",a);}function k(){this.Ha.info("underflow fired by the subtitle timer");this.emit("underflow");}function m(){this.Ha.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}function f(a){var b;this.Ha.info("ending subtitle interval at " + a);b=this.nz[this.nz.length - 1];b.sa=a;b.sa < b.X && (this.Ha.warn("correcting for interval where endPts is smaller than startPts"),b.X=0 < b.sa?b.sa - 1:0);b.b1=this.Yc.i2(b.X,b.sa);delete b.lM;b.b1 > b.yU && b.$ma && 500 > b.sa - b.$ma && (b.b1=this.Yc.i2(b.X,b.$ma));this.Ha.info("showed " + b.yU + " during this interval");this.Ha.info("expected " + b.b1 + " for this interval");}h=a(139).EventEmitter;n=a(1198);b=a(528)();p=a(1199);a=function v(a,b){var d,f;d=this;f=a.xm || !1;if(!(d instanceof v))return new v(a,b);h.call(d);d.Ha=a.la || console;d.uP=a.request;d.lz=a.gRa;d.ii=null;d.gk=!0;d.nz=[];d.dea=b.profile;d.cm=b.url;d.kD=b.jd;d.chb=b.fMb;d.keb=b.sn;d.gI=d.kD || 0;a={url:d.cm,request:d.uP,jd:d.kD,xml:b.xml,fMb:d.chb,sn:d.keb,la:d.Ha,xm:f,bufferSize:b.bufferSize,Bs:b.Bs,kZa:b.kZa || 0,uKa:b.uKa};if("nflx-cmisc" === d.dea)(a.offset=b.roa,a.size=b.NVa,a.h6=b.h6,a.$Na=b.$Na,d.Yc=new p(a));else throw Error("SubtitleManager: " + d.dea + " is an unsupported profile");d.Yc.on("ready",function(){var a,f;a=! !b.Xkb;d.Ha.info("ready event fired by subtitle stream");d.emit("ready");f=d.Yc.Ixb.bind(d.Yc);d.ii=new n(d.lz,f,d.Ha,b);d.ii.on("showsubtitle",c.bind(d));d.ii.on("removesubtitle",g.bind(d));d.ii.on("underflow",k.bind(d));d.ii.on("bufferingComplete",m.bind(d));a && (d.Ha.info("autostarting subtitles"),setTimeout(function(){d.et(d.lz());},10));});d.Yc.on("error",d.emit.bind(d,"error"));};a.prototype=Object.create(h.prototype);a.prototype.start=function(){this.Yc.start();};a.prototype.lZa=function(){this.gk || (this.gk=!0,f.call(this,this.gI));};a.prototype.et=function(a){!this.gk && 1E4 < Math.abs(a - this.gI) && (this.Ha.warn("Detected an unexpected pts jump larger than",1E4,"at",a,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.lZa());this.gI=a;this.gk && (this.gk=!1,this.Ha.info("creating a new subtitle interval at " + a),this.nz.push({X:a,yU:0}));null !== this.ii && (this.nz[this.nz.length - 1].$ma=a,this.ii.et(a));};a.prototype.stop=function(){var a;this.Ha.info("stop called");this.gk || this.pause();this.Yc.removeAllListeners(["ready"]);null !== this.ii && this.ii.stop();a=this.nz.reduce(function(a,b){a.r1a+=b.yU;a.a1+=b.b1;a.PCb.push(b);return a;},{r1a:0,a1:0,PCb:[]});"object" === typeof this.Yc && this.Yc.close();this.Ha.info("metrics: " + JSON.stringify(a));return a;};a.prototype.pause=function(){var a;a=this.lz();this.gk?this.Ha.warn("pause called on subtitle manager, but it was already paused!"):(this.Ha.info("pause called at " + a),this.gk=!0,f.call(this,a));null !== this.ii && this.ii.pause();};a.prototype.xA=function(a,b){return this.Yc.xA(a,b);};a.prototype.i2=function(a,b){return this.Yc.i2(a,b);};a.prototype.CB=function(a){var c;function b(){c.Ha.trace("bufferingComplete from setStreamStartPosition");c.emit("bufferingComplete");}c=this;"function" === typeof c.Yc.CB?c.Yc.CB(a,b):b();};a.prototype.Un=function(a,b){this.Yc.Un && this.Yc.Un(a,b);};a.prototype.Ii=function(a,b){this.Yc.Ii && this.Yc.Ii(a,b);};a=b([{request:"function",gRa:"function",la:"object"},"object"],a);d.exports=a;},function(d,b,a){var k;function c(a,b){return b.reduce(g.bind(this,a),[]);}function g(a,b,c){var d,f;d=c.displayTime - a;a=c.displayTime + c.duration - a;f=0 < b.length?b[0].timeout:Infinity;return 0 < d && d < f?[{timeout:d,type:"showsubtitle",Me:c}]:d === f?b.concat([{timeout:d,type:"showsubtitle",Me:c}]):0 < a && a < f?[{timeout:a,type:"removesubtitle",Me:c}]:a === f?b.concat([{timeout:a,type:"removesubtitle",Me:c}]):b;}k=a(139).EventEmitter;b=a(528)({});a=function f(a,b,c,d){if(!(this instanceof f))return new f(a,b,c,d);k.call(this);this.lz=a;this.Yeb=b;this.ow={};this.xI={};this.Ha=c || console;this.tY=!1;this.mhb=d && d.kZa || 0;};a.prototype=Object.create(k.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.ii);Object.keys(a.ow).forEach(function(b){a.emit("removesubtitle",a.ow[b]);});a.ow={};};a.prototype.pause=function(){clearTimeout(this.ii);};a.prototype.et=function(a,b){var d,f;d=this;f=d.lz();clearTimeout(this.ii);a=d.Yeb(f);null !== a && d.tY && (d.tY=!1,d.emit("bufferingComplete"));b="number" === typeof b?b:0;Object.keys(d.ow).forEach(function(a){a=d.ow[a];a.displayTime - d.mhb <= f && f < a.displayTime + a.duration || (delete d.ow[a.id],d.emit("removesubtitle",a));});Object.keys(d.xI).forEach(function(a){a=d.xI[a];f >= a.displayTime + a.duration && delete d.xI[a.id];});null !== a && 0 < a.length?(b=a.length,d.Ha.info("found " + b + " entries for pts " + f),a.forEach(function(a){a.displayTime - 0 <= f && f < a.displayTime + a.duration && !d.ow[a.id] && (d.emit("showsubtitle",a),d.ow[a.id]=a,delete d.xI[a.id]);}),b=a[a.length - 1],d.ow[b.id] || d.xI[b.id] || (d.emit("stagesubtitle",b),d.xI[b.id]=b),b=c(f,a),0 < b.length?d.wZ(b[0].timeout):d.wZ(2E4)):null === a?(a=250 * Math.pow(2,b),2E3 < a && (a=2E3),d.Ha.warn("checking buffer again in " + a + "ms"),d.tY || (d.tY=!0,d.emit("underflow")),d.wZ(a,b + 1)):d.wZ(2E4);};a.prototype.wZ=function(a,b){var c;c=this;c.Ha.info("Scheduling pts check.");c.ii=setTimeout(function(){c.et(c.lz(),b);},a);};d.exports=b(["function","function","object","object"],a);},function(d,b,a){var g,k,m,f,h,n,p;function c(a){g.call(this);this.cm=a.url;this.uP=a.request;this.kD=a.jd || 0;this.Ha=a.la;this.Rh=this.Wp=null;a.Bs?this.Wp=a.Bs:(this.ke=a.offset,this.wI=a.size);this.fl;this.Xda=a;}g=a(139).EventEmitter;k=a(1200);m=a(1201);f=a(1202);h=a(151);n=c.events={L$a:"midxready",bcb:"sidxready",Ibb:"ready",ERROR:"error"};p=c.q5b={J$a:"midxdownloaderror",K$a:"midxparseerror",kab:"nosidxfoundinmidx",$bb:"sidxdownloaderror",acb:"sidxparseerror"};c.prototype=Object.create(g.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{uo:{get:function(){return this.fl && this.fl.Fha;}}});c.prototype.start=function(){this.Wp?(this.Ha.warn("midx was prefectched and provided"),this.aGa(this.Wp)):this.oeb(this.ke,this.wI,this.hhb.bind(this));};c.prototype.close=function(){};c.prototype.xA=function(a,b){return this.fl && this.fl.Yka(a,b);};c.prototype.i2=function(a,b){return (a=this.xA(a,b))?a.length:a;};c.prototype.CB=function(a,b){this.Ha.debug("setStreamStartPosition: buffering subtitles at pts " + a);this.kD=a;this.fl?this.fl.CB(a,b):b && b();};c.prototype.Ixb=function(a){var b,c,d;if(!this.fl)return [];b=h.pyb(this.Wp);if(a > b)return [];this.fl && this.fl.oia(a);c=this.uo.Ws;d=this.uo.index;b=[];d=h.ic(d) && this.Rh[d + 1];if(!(d && d.entries.length || c && !(a > c.endTime)))return [];c && c.images.length && (b=this.mGa(c,a,[]));2 > b.length && d && d.images.length && (c=this.mGa(d,a,b),b.push.apply(b,c));return this.fl.jsa(a)?null:h.WLa(b);};c.prototype.Ii=function(a,b){this.fl && this.fl.Ii(a,b);};c.prototype.Un=function(a,b){this.fl && this.fl.Un(a,b);};c.prototype.oeb=function(a,b,c){this.Ha.debug("downloading midx...");this.CGa(a,b,"binary",c);};c.prototype.peb=function(a,b,c){this.Ha.debug("downloading sidx...");this.CGa(a,b,void 0,c);};c.prototype.CGa=function(a,b,c,d){this.uP({url:this.cm,offset:a,size:b,responseType:c},d);};c.prototype.hhb=function(a,b){if(a)this.emit(n.ERROR,h.CR(a,p.J$a));else try{this.Wp=new k(b);this.aGa(this.Wp);}catch(A){this.emit(n.ERROR,h.CR(A,p.K$a));}};c.prototype.aGa=function(a){var b;b=a.entries.reduce(function(a,b){return a + b.size;},0);b?(this.emit(n.L$a,a),this.peb(a.startOffset,b,this.khb.bind(this,a))):this.emit(n.ERROR,h.CR({},p.kab));};c.prototype.khb=function(a,b,c){var d,g,k,l;d=this;if(b)d.emit(n.ERROR,h.CR(b,p.$bb));else {g=0;k=0;d.Rh=[];try{l=0;a.entries.forEach(function(b){var f;f=new m(c,g,a.gma,d.Ha,k,k + b.duration,l);d.Rh.push(f);b.oSb=f;k=f.xp;g+=b.size;l++;});}catch(D){d.emit(n.ERROR,h.CR(D,p.acb));return;}d.emit(n.bcb,d.Rh);this.fl=new f(d.Xda,a,d.Rh);b=d.kD;d.Xda && d.Xda.h6 || (b=Math.max(d.kD - 1E4,0));this.fl.oia(b,function(a){a && d.Ha.error("initial sidx download failed");d.emit(n.Ibb);});}};c.prototype.mGa=function(a,b,c){var n;for(var d=a.entries,f=0,g=d.length,k=[],l,m=this.Wp;f < g;){l=d[f];if(l.om <= b)l.om + l.duration >= b && k.push(h.wha(l,a.images[f].data,m));else {n=k.length && k[k.length - 1] || c.length && c[c.length - 1];if(n && n.om > b && n.om !== l.om)break;n.FE !== l.FE && k.push(h.wha(l,a.images[f].data,m));}f++;}return k;};d.exports=c;},function(d,b,a){var g,k;function c(a,b){this.duration=a;this.size=b;this.oSb=void 0;}g=a(282);k=a(151);d.exports=function(a){var m;a=new g(a);this.identifier=a.zqa(4);k.assert("midx" === this.identifier);this.version=a.yp(4);k.assert(0 === this.version);this.gma=a.Qk(36);this.uk=a.LL();this.qp=a.LL();this.u=a.LL();this.FPb=a.Eg();this.GPb=a.Eg();this.language=a.Qk(16);a.Qk(16);this.startOffset=a.LL();this.Vo=a.Eg();for(var b=[],d=0,l=0;l < this.Vo;l++){m=new c(a.yp(4),a.Eg());b.push(m);d+=m.duration;}this.entries=b;this.endTime=d;};},function(d,b,a){var k,m;function c(a,b,c,d,g,k,l,m){this.om=a;this.duration=b;this.cKb=c;this.dKb=d;this.vSb=g;this.wSb=k;this.FE=l;this.Rla=m;}function g(a,b,d,g,l,n,p){var f;a=new k(a);f=0;a.position=b;this.Ha=g;this.identifier=a.zqa(4);m.assert("sidx" === this.identifier,g);this.gma=a.Qk(36);m.Onb(this.gma,d,g);this.duration=a.yp(4);this.Vo=a.Eg();this.cv=l;this.xp=n;this.index=p || 0;this.entries=[];this.images=[];for(this.lea=0;f < this.Vo;){b=new c(a.yp(4),a.yp(4),a.Eg(),a.Eg(),a.Eg(),a.Eg(),a.LL(),a.yp(4));f++;this.entries.push(b);}this.entries.length && (this.startTime=this.entries[0].om,this.endTime=this.entries[this.entries.length - 1].om + this.entries[this.entries.length - 1].duration);}k=a(282);m=a(151);g.prototype.rCb=function(){this.lea++;};g.prototype.Trb=function(){var a;a=0;this.lea--;1 > this.lea?this.images && 0 < this.images.length && (a+=m.Uka([this]),this.images=[]):this.Ha.debug("Not cleaning up shared sidx with range",this.cv,"-",this.xp);return a;};d.exports=g;},function(d,b,a){var m,f;function c(a,b){var d;a=a || 0;if(b)for(var c in b.Ja){d=b.Ja[c];if(a >= (d.Ac || 0) && (!d.zd || a < d.zd))return c;}}function g(a,b){return a && b && b.Ja[a];}function k(a,b,d){var f;this.Ha=a.la;this.Rh=d;this.yz=this.Tdb(a.h6);this.sg=[];f=d && d[d.length - 1];this.gI=f && (f.endTime || f.xp);this.Kf=new m(a,b,d);this.Ym=this.Zv(c(a.jd || 0,this.yz));}m=a(1203);f=a(1205);Object.defineProperties(k.prototype,{Fha:{get:function(){return this.Kf.Fha;}},HMa:{get:function(){return this.Kf.HMa || 0;}}});k.prototype.Yka=function(a,b){return this.Kf && this.Kf.Yka(a,b);};k.prototype.oia=function(a,b){this.Kf.XQb(a);this.jIa(a);if(!this.yz && this.gI && a > this.gI)b && b();else if((a=this.WFa(a,this.Ym,2,b),this.yz && 0 < this.Ym.yWa.length))b && b();else if(this.yz && this.Ym.xK && a){2 > this.sg.length && this.Zdb(this.Ym);b=Math.ceil(2 / (this.sg.length - 1));for(var c=0;c < this.sg.length && a && 3 > c;c++){a=this.sg[c];a=this.WFa(a.startTime,a,b);}}};k.prototype.jsa=function(a){return this.Kf.jsa(a)?(this.Kf.Ijb(),this.oia(a),this.Ym.xK=!1,!0):!1;};k.prototype.CB=function(a,b){var c;this.jIa(a);this.sg.forEach(function(a){a.xK=!1;});c=this.Ym.Lm && this.Ym.Lm[0];this.Kf.CB(a,c && c.index);(a=this.Kf.cAb(a)) && a.length?this.Kf.JNa(a,b):b && b();};k.prototype.Un=function(a,b){var c;this.Ha.debug("Set next segment to",b,"for segment",a);a=this.eGa(a) || this.Zv(a);a.s0a=b;c=this;a.fT=a.fT.filter(function(a){if(a.id === b)return !0;c.Zca(a);return !1;});};k.prototype.Ii=function(a,b){var c;c=g(a,this.yz);Object.keys(c.next).forEach(function(a){c.next[a].weight=b[a] || 0;});};k.prototype.Tdb=function(a){var b,d;b={};if(a=(a || ({})).Ja){b.Ja={};for(var c in a){d=a[c] || ({});b.Ja[c]={Ac:d.Ac,zd:d.zd,yh:d.yh,next:this.Sdb(d.next)};}}return b;};k.prototype.Sdb=function(a){var b,c;b={};for(c in a){b[c]={weight:(a[c] || ({})).weight};}return b;};k.prototype.jIa=function(a){var b,d;if(this.yz && this.Ym.startTime > a || this.Ym.endTime && this.Ym.endTime < a){b=this.Ym;d=c(a,this.yz);d?(this.Ha.debug("Switching segments from",this.Ym.id,"to",d,"at pts",a),this.Ym=this.eGa(d) || this.Zv(d),this.Zca(b)):this.Ha.debug("The pts is outside of the current segment but not in a new one yet");}};k.prototype.Zv=function(a){this.Ha.debug("SegmentManager: creating segment",a);a=new f(a,g(a,this.yz),this.Rh,this.Ha);this.sg.push(a);this.Ha.debug("SegmentManager: segment contains",a.Lm.length,"sidxes");return a;};k.prototype.Zca=function(a){var b;if(a && a !== this.Ym){this.Ha.debug("SegmentManager: deleting segment",a.id);a.fT.forEach(this.Zca.bind(this));this.sg=this.sg.filter(function(b){return b !== a;});b=a.kLa();this.Kf.sOb(b && b.size || 0,b && b.Lm);}};k.prototype.eGa=function(a){var c;for(var b=0;a && b < this.sg.length;b++){c=this.sg[b];if(a === c.id)return c;}};k.prototype.Zdb=function(a){var b,c,d;b=a.s0a;if(b && "" !== b)a.fT.push(this.Zv(b));else {b=a.yWa;for(c in b){d=b[c];if(!d || !d.weight)break;a.fT.push(this.Zv(c));}}};k.prototype.WFa=function(a,b,c,d){if(!b || b.xK)return (this.Ha.debug("Done driving segment",b && b.id),!0);if(!this.Kf.umb)return (this.Ha.debug("Throttling buffering in quiet period"),!1);this.Ha.debug("Drive streaming of segment",b.id,"from pts",a);c=(a=this.Kf.dAb(a,b,c)) && a.length || 0;if(0 === c)return (this.Ha.debug("Segment is fully downloaded",b && b.id),b.xK=!0,d && d(),!0);this.Ha.debug("Downloading",c,"sidxes in segment",b.id);return this.Kf.JNa(a,function(a,c){a && (b.xK=!1);d && d(a,c);});};d.exports=k;},function(d,b,a){var n,p;function c(a,b,c){var d;d=c.om <= a && a <= c.om + c.duration;return a <= c.om && c.om <= b || d;}function g(a,b,c){return b && (!b.entries.length && a > b.cv || a > b.endTime) && c.entries.length && a < c.endTime;}function k(a,b,c){this.oD=this.sr=0;this.Hfb=a.bufferSize || 4194304;this.uo=new h();this.jD;this.$C=a.xm;this.Ha=a.la;this.Wp=b;this.Rh=c;this.Ao=new n(a);this.xD=new f(this.Rh.length,a.$Na);this.qP=new m(a.uKa);}function m(a){this.xeb=0 !== a;this.on=!1;this.Ti=a || 3E3;this.ii;}function f(a,b){if(this.enabled=b)this.Lm=Array.apply(null,Array(a)).map(function(){return "-";});}function h(a,b){this.Ws=a;this.index=b;}n=a(1204);p=a(151);h.prototype.reset=function(){this.index=this.Ws=void 0;};f.prototype.ca=function(a){this.enabled && a < this.Lm.length && (this.Lm[a]="x");};f.prototype.yXa=function(a){this.enabled && a < this.Lm.length && (this.Lm[a]="-");};f.prototype.toString=function(){return this.enabled && "|" + this.Lm.join("") + "|";};m.prototype.start=function(){var a;if(this.xeb){a=this;this.on=!0;this.ii=setTimeout(function(){a.on=!1;a.ii=void 0;},this.Ti);}};m.prototype.stop=function(){this.on=!1;clearTimeout(this.ii);this.ii=void 0;};Object.defineProperties(k.prototype,{HMa:{get:function(){return this.sr;}},Fha:{get:function(){return this.uo;}},umb:{get:function(){return !this.qP.on;}}});k.prototype.cP=function(){this.xD.enabled && this.Ha.debug("Buffer: " + this.xD.toString());};k.prototype.Ihb=function(a){this.oD+=a;this.Ha.debug("Reserved buffer size is",this.sr + this.oD,"after reserving",a);};k.prototype.uib=function(a){this.oD-=a;this.Ha.debug("Reserved buffer size is",this.sr + this.oD,"after unreserving",a);};k.prototype.Rdb=function(a){this.sr+=a;this.Ha.debug("Buffer size is",this.sr,"after claiming",a);};k.prototype.HHa=function(a){this.sr-=a;this.Ha.debug("Buffer size is",this.sr,"after clearing",a);};k.prototype.sOb=function(a,b){var c;this.HHa(a);c=this;b && this.xD.enabled && (b.forEach(function(a){c.xD.yXa(a.index);}),this.cP());};k.prototype.jsa=function(a){var b;b=this.Jeb(a);return p.ESa(b) && p.ETb(a,b);};k.prototype.XQb=function(a){var b;b=this.sGa(a);(!b || b.index) !== (!this.uo || this.uo.index) && (this.jD=this.uo.Ws,b?(this.$C && this.Ha.debug("Current sidx is index",b.index),this.uo=b):(this.$C && this.Ha.debug("Current sidx is out of range"),this.uo.reset()));this.jD && "number" === typeof this.jD.index && (a < this.jD.cv - 35E3 || a > this.jD.xp + 35E3) && (this.Qca(this.jD.index),this.jD=void 0,this.cP());};k.prototype.CB=function(a,b){var c,d;c=this.Rh && this.Rh.length;for(b;b < c;b++){(d=this.Rh[b]) && ((d.endTime || d.xp) >= a - 1E4 && (d.endTime || d.xp) < a + 3E5 || this.Qca(b));}this.qP.stop();this.cP();};k.prototype.Ijb=function(){var a,b;this.Ha.debug("executing aggressive cleanup");a=this.Rh && this.Rh.length;for(b=0;b < a;b++){b === this.uo.index && (b+=2);this.Qca(b);}this.qP.stop();this.cP();};k.prototype.cAb=function(a){var b,c,d,f;b=[];c=this.sGa(a);if(!c)return (this.uo.reset(),b);this.uo=c;d=a + 1E4;c=c.index;f=this.Rh[c];c;for(f;c < this.Rh.length && d > f.cv;(c++,f=this.Rh[c])){p.ESa(f) && p.FTb(a,d,f) && b.push(f);}return b;};k.prototype.JNa=function(a,b){var c,d,f,g,h,k;if(!a || !a.length)return (b && b(null),!0);this.Ao.lP && 2 <= Object.keys(this.Ao.lP).length && !this.qP.on && (this.Ha.debug("Enabling buffering quiet period"),this.qP.start());c=this;d=a[0];f=a[a.length - 1];0 < d.entries.length && (g=d.entries[0].FE,h=d.entries[d.entries.length - 1]);0 < f.entries.length && (p.ic(g) || (g=f.entries[0].FE),h=f.entries[f.entries.length - 1]);if(g)k=h.FE + h.Rla - g;else return (b && b(null),!0);d=p.dka(g,k);if(this.Ao.lP[d])(this.Ha.debug("The request for",d,"is already pending. Not requesting again"),b && b());else if(this.hfb(p.Uka(a)))(this.Ha.debug("Reserving",k,"bytes for subtitle request",a[0].cv,a[a.length - 1].xp),this.Ihb(k),this.Ao.htb(a,g,k,function(d,f){c.Ha.debug("Claiming reserved space.  Expected",k,"received",f);c.xD.enabled && (a.forEach(function(a){c.xD.ca(a.index);}),c.cP());c.uib(k);c.Rdb(f);b && b(d);}));else return (this.Ha.debug("Not enough space in buffer to download all of the imaages in the list"),b && b(),!1);return !0;};k.prototype.Yka=function(a,b){var d,f,g;d=this.Wp;f=this.rGa(a,b,this.Rh);if(!f || 0 === f.length)return [];g=[];b=c.bind(null,a,b);for(var h=0;h < f.length;h++){a=f[h];g=g.concat(a.entries.filter(b));}g=g.map(function(a){return p.wha(a,null,d);});return p.WLa(g);};k.prototype.dAb=function(a,b,c){return this.rGa(a,b.endTime,b.Lm,c,!0);};k.prototype.rGa=function(a,b,c,d,f){var g,h,k,l;if(b && a > b || 0 > a)this.Ha.error("invalid range startPts: " + a + ", endPts: " + b);else {g=c && c.length || 0;h=[];if(c && 0 !== g){k=c[0].duration;l=c[0].cv;if(p.ic(k) && 0 < k)k=Math.floor((a - l) / k);else for((this.$C && this.Ha.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),k=0);k < g && (l=c[k],!p.ctb(l,a));k++){;}for(;k < g && (!d || h.length < d);){l=c[k];if(!f || !l.images.length && l.endTime > a)h.push(l);else if(h.length)break;if(b && b <= l.xp)break;k++;}return h;}}};k.prototype.Jeb=function(a){var b,c,f;b=this.Rh;if(b && 0 !== b.length){c=b[Math.floor(a / 6E4)];if(c && (c.cv > a || a > c.xp)){this.yeb || (this.yeb=!0,c=p.Lyb(this.Wp.language),this.Ha.error("bruteforce search for ",{movieId:this.Wp.u,packageId:this.Wp.qp,lang:c}));a:{for(var c=b.length,d=0;d < c;d++){f=b[d];if(f.cv <= a && a <= f.xp){c=f;break a;}}c=void 0;}}return c;}};k.prototype.sGa=function(a){var b,c,d,f,k,l,m,n;c=this.uo;d=c.Ws;f=c.index;n=this.Rh;this.Xca(p.ic(a));d && (d.entries.length?0 === f && a <= d.startTime || a >= d.startTime && a <= d.endTime?(m=!0,b=c):0 < f && (l=n[f - 1],g(a,l,d) && (m=!0,b=c)):(l=n[f - 1],k=n[f + 1],g(a,l,d)?(m=!0,b=c):k && k.endTime && a <= k.endTime && (a >= d.endTime || a >= d.xp) && (m=!0,b=new h(k,f + 1))));if(!m)for((c=n.length,d=0);d < c;d++){if((f=n[d],f.entries.length && a <= f.endTime)){b=new h(f,d);break;}}return b;};k.prototype.hfb=function(a){return this.sr + this.oD + a <= this.Hfb;};k.prototype.Qca=function(a){var b,c,d;b=this.Rh[a];c=b && b.images && b.images.length || 0;if(0 < c){d=p.Uka([b]);b.images=[];this.xD.yXa(a);this.HHa(d);this.$C && this.Ha.debug("cleaning up space from sidx",{index:a,start:b.startTime,size:d,images:c,D7b:this.sr});}};k.prototype.Xca=function(a){this.$C && p.assert(a,this.Ha);};d.exports=k;},function(d,b,a){var g,k;function c(a){this.cm=a.url;this.uP=a.request;this.kD=a.jd || 0;this.$C=a.xm;this.Ha=a.la;this.lP={};}g=a(282);k=a(151);c.prototype.htb=function(a,b,c,d){var f;f=k.dka(b,c);this.lP[f]=!0;a && a.forEach(function(a){a.r_a=!0;});this.uP({url:this.cm,offset:b,size:c},this.Hgb.bind(this,a,b,c,d));};c.prototype.Hgb=function(a,b,c,d,l,n){var f,h,m,p;f=this;h=k.dka(b,c);setTimeout(function(){delete f.lP[h];},1E3);if(l)(d && d(l,0),a && a.forEach(function(a){delete a.r_a;}));else {m=new g(n);p=0;a && a.forEach(function(a){delete a.r_a;a.entries.forEach(function(c,d){m.position=c.FE - b;c={data:m.Qk(c.Rla)};a.images[d]=c;k.XWb(a.images[d].data,f.Xca.bind(f));p+=a.images[d].data.length;});});d && d(null,p);}};c.prototype.Xca=function(a){this.$C && k.assert(a,this.Ha);};d.exports=c;},function(d){function b(a,b,d,g){this.Ha=g;this.id=a;this.startTime=b && b.Ac || 0;this.endTime=b && b.zd;this.yWa=b && b.next || [];this.s0a;this.fT=[];this.xK=!1;a=this.startTime;b=this.endTime;for(var c=[],f=0;f < d.length;f++){(g=d[f]) && (!b || b > g.cv) && a < g.xp && (g.rCb(),c.push(g));}this.Lm=c;}b.prototype.kLa=function(){this.Ha.debug("Cleaning up segment",this.id);for(var a,b=0,d,g=[],m=0;m < this.Lm.length;m++){a=this.Lm[m];(d=a.Trb()) && g.push(a);a && (b+=d);}this.Lm=[];return {size:b,Lm:g};};d.exports=b;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.QWb=b.Acb=b.ycb=b.xcb=b.zcb=void 0;c=a(26);g=a(10);b.zcb=function(a,b,c){for(c=(c - a.length) / b.length;0 < c--;){a+=b;}return a;};b.xcb=function(a,b,d){d=c.gf(d)?d:"...";return a.length <= b?a:a.substr(0,a.length - (a.length + d.length - b)) + d;};b.ycb=function(a,b){var d;for(var c=1;c < arguments.length;++c){;}d=g.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return "undefined" != typeof d[b]?d[b]:a;});};b.Acb=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d < b;d++){c[d]=a.charCodeAt(d);}return c.buffer;};b.QWb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,c){b[c]=a.charCodeAt(0);});return b;};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(7);b=a(107);a=a(269);d.ja.get(b.qC).K5(a.x$.Q6a,function(a){var b,c;b=a.level;if(!ka._cad_global.config || b <= ka._cad_global.config.DFb){a=a.e7();c=ka.console;1 >= b?c.error(a):2 >= b?c.warn(a):c.log(a);}});},function(d,b,a){var n,p,r,t,A;function c(a){var c,f;p.rJ(a);if(r.gf(a) && b.Cya.test(a)){c=a.split(".");if(4 === c.length){for(var d=0;d < c.length;d++){f=r.ce(c[d]);if(0 > f || !A.Bx(f,0,255) || 1 !== c[d].length && 0 === c[d].indexOf("0"))return;}return a;}}}function g(a){var b;b=0;if(c(a) === a)return (a=a.split("."),b+=r.ce(a[0]) << 24,b+=r.ce(a[1]) << 16,b+=r.ce(a[2]) << 8,b + r.ce(a[3]));}function k(a){var c;p.rJ(a);if(r.gf(a) && a.match(b.Dya)){c=a.split(":");-1 !== c[c.length - 1].indexOf(".") && (a=m(c[c.length - 1]),c.pop(),c.push(a[0]),c.push(a[1]),a=c.join(":"));a=a.split("::");if(!(2 < a.length || 1 === a.length && 8 !== c.length) && (c=1 < a.length?f(a):c,a=c.length,8 === a)){for(;a--;){if(!A.Bx(parseInt(c[a],16),0,n.Cza))return;}return c.join(":");}}}function m(a){var b;a=g(a) >>> 0;b=[];b.push((a >>> 16 & 65535).toString(16));b.push((a & 65535).toString(16));return b;}function f(a){var b,c,d;b=a[0].split(":");a=a[1].split(":");1 === b.length && "" === b[0] && (b=[]);1 === a.length && "" === a[0] && (a=[]);c=8 - (b.length + a.length);if(1 > c)return [];for(d=0;d < c;d++){b.push("0");}for(d=0;d < a.length;d++){b.push(a[d]);}return b;}function h(a){return -1 << 32 - a;}Object.defineProperty(b,"__esModule",{value:!0});b.i$a=b.n$a=b.k$a=b.j$a=b.m$a=b.h$a=b.l$a=b.nC=b.Dya=b.Cya=void 0;n=a(12);p=a(20);r=a(26);t=a(10);A=a(15);b.Cya=/^[0-9.]*$/;b.Dya=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.nC="0000000000000000";b.l$a=c;b.h$a=g;b.m$a=k;b.j$a=m;b.k$a=f;b.n$a=function(a,d,f){var l,m,n,p;l=c(a);m=k(a);n=c(d);p=k(d);if(!l && !m || !n && !p || l && !n || m && !p)return !1;if(a === l)return (f=h(f),(g(a) & f) !== (g(d) & f)?!1:!0);if(a === m){a=a.split(":");d=d.split(":");for(l=t.Jv(f / b.nC.length);l--;){if(a[l] !== d[l])return !1;}f%=b.nC.length;if(0 !== f)for((a=parseInt(a[l],16).toString(2),d=parseInt(d[l],16).toString(2),a=b.nC.substring(0,b.nC.length - a.length) + a,d=b.nC.substring(0,b.nC.length - d.length) + d,l=0);l < f;l++){if(a[l] !== d[l])return !1;}return !0;}return !1;};b.i$a=h;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(11);a(12);d=a(7);a(107);a(269);a(2);a(106);a(4);a=a(30);d.ja.get(a.Ig);!1;},function(d,b,a){var c,g,k,m,f,h,n,p,r;Object.defineProperty(b,"__esModule",{value:!0});c=a(47);g=a(12);k=a(11);m=a(2);f=a(293);h=a(31);n=a(10);p=a(7);d=a(30);r=p.ja.get(d.Ig);r.register(m.L.yya,function(a){n.Zz && n.Zz.generateKey && n.Zz.importKey && n.Zz.unwrapKey?!p.ja.get(h.It).z7a && k.config.cQ != f.cN.wbb && k.config.cQ != f.cN.I$a || n.pX?(r.ud("wcs"),c.pXa(n.Zz.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){r.ud("wcdone");a(g.se);},function(b){var c;b="" + b;0 <= b.indexOf("missing crypto.subtle")?c=m.K.mca:0 <= b.indexOf("timeout waiting for iframe to load") && (c=m.K.Xcb);a({ka:c,Ab:b});})):a({ka:m.K.Wcb}):a({ka:m.K.mca});});},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(2);c=a(7);g=a(476);a=a(30);c.ja.get(a.Ig).register(d.L.oya,function(a){c.ja.get(g.e9)().then(function(){a({ia:!0});})["catch"](function(b){c.log.error("error in initializing indexedDb debug tool",b);a({ia:!0});});});},function(d,b,a){var m,f,h,n;function c(a,b,c,d){var l,p,q;m.yb(n.zf(a) && !n.isArray(a));d=d || "";l="";p=a.hasOwnProperty(h.rj) && a[h.rj];p && f.Rd(p,function(a,b){l && (l+=" ");l+=a + '="' + k(b) + '"';});c=(b?b + ":":"") + c;p=d + "<" + c + (l?" " + l:"");q=a.hasOwnProperty(h.er) && a[h.er].trim && "" !== a[h.er].trim() && a[h.er];if(q)return p + ">" + k(q) + "</" + c + ">";a=g(a,b,d + "  ");return p + (a?">\n" + a + "\n" + d + "</" + c + ">":"/>");}function g(a,b,d){var g;m.yb(n.zf(a) && !n.isArray(a));d=d || "";g="";f.Rd(a,function(a,h){var p;if("$" != a[0])for(var l=f.DS(h),m=0;m < l.length;m++){if((h=l[m],g && (g+="\n"),n.zf(h)))g+=c(h,b,a,d);else {p=(b?b + ":":"") + a;g+=d + "<" + p + ">" + k(h) + "</" + p + ">";}}});return g;}function k(a){if(n.gf(a))return f.WR(a);if(n.qa(a))return (m.LQ(a,"Convert non-integer numbers to string for xml serialization."),"" + a);if(null === a || void 0 === a)return "";m.yb(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.OUb=b.eEb=b.dEb=void 0;m=a(20);f=a(23);h=a(146);n=a(15);b.dEb=c;b.eEb=g;b.OUb=k;},function(d,b,a){var c,g,k,m,f,h,n,p,r,t,A,y,B,I,J,D,F,L,U;Object.defineProperty(b,"__esModule",{value:!0});c=a(274);g=a(188);k=a(11);m=a(12);f=a(2);h=a(20);n=a(7);p=a(65);r=a(77);t=a(63);A=a(23);y=a(10);B=a(15);I=a(47);J=a(106);D=a(4);d=a(30);F=a(444);L={};U=n.ja.get(d.Ig);U.register(f.L.rya,function(a){var q,u,v,R,V,Q,T,O,N,P,S,W,X,da;function b(b){b && b.userList && k.config.XRb && (b.userList=[]);R({esn:g.li.mi,esnPrefix:g.li.lA,authenticationType:k.config.cQ,authenticationKeyNames:k.config.TJa,systemKeyWrapFormat:k.config.XTb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:X,storeState:b,notifyMilestone:U.ud.bind(U),log:T,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:f.K.Y$a,MSL_READ_TIMEOUT:f.K.X$a}},{result:function(a){d(a);},timeout:function(){a({ka:f.K.Mza});},error:function(b){a(l(f.K.Mza,void 0,b));}});}function d(b){var d,g,p;function c(){W && n.ja.get(t.mt).create().then(function(a){return a.save(P,g,!1);})["catch"](function(a){T.error("Error persisting msl store",f.jr(a));});}d=n.ja.get(J.OC)(D.Nb(100));p=V.extend({init:function(a){this.aHa=a;},getResponse:function(a,b,c){var d,f;b=this.aHa;d=b.iWa.ef || d;a=B.Kma(a.body)?n.Pta(a.body):a.body;h.rJ(a,"Msl should not be sending empty request");a={url:b.url,Wpa:a,withCredentials:!0,dE:"nq-" + b.method,headers:b.headers};b=this.aHa.timeout;a.X_=b;a.Noa=b;f=d.download(a,function(a){try{if(a.ia)c.result({body:a.content});else if(400 === a.cj && a.Ab)c.result({body:a.Ab});else throw A.Hb(new Q("HTTP error, SubCode: " + a.ka + (a.cj?", HttpCode: " + a.cj:"")),{cadmiumResponse:a});}catch(Lb){c.error(Lb);}});return {abort:function(){f.abort();}};}});N && b.addEventHandler("shouldpersist",function(a){g=a.storeState;d.bd(c);});A.Hb(L,{n6b:function(){S=!0;},send:function(a){function c(){var b,c;b=a.iWa;c={method:a.method,nonReplayable:a.nIb,encrypted:a.xk,userId:a.NWb,body:a.body,timeout:2 * a.timeout,url:new p(a),allowTokenRefresh:W,sendUserAuthIfRequired:da,shouldSendUserAuthData:k.config.cSb};b.TNa?(c.email=b.TNa,c.password=b.password || ""):b.QUb?(c.token=b.QUb,c.mechanism=b.g7b,b.Foa && (c.netflixId=b.Foa,c.secureNetflixId=b.hQb),b.nqa && (c.profileGuid=b.nqa)):b.Foa?(c.netflixId=b.Foa,c.secureNetflixId=b.hQb):b.IGb?(c.mdxControllerToken=b.IGb,c.mdxPin=b.e7b,c.mdxNonce=b.d7b,c.mdxEncryptedPinB64=b.c7b,c.mdxSignature=b.f7b):S || b.useNetflixUserAuthData?c.useNetflixUserAuthData=!0:b.nqa && (c.profileGuid=b.nqa);return c;}return new Promise(function(a,d){var g;g=c();b.send(g).then(function(b){S && (S=!1);a({ia:!0,body:b.body});})["catch"](function(a){var c,g;if(a.error){c=a.error.cadmiumResponse && a.error.cadmiumResponse.ka?a.error.cadmiumResponse.ka:b.isErrorReauth(a.error)?f.K.Lza:b.isErrorHeader(a.error)?f.K.R$a:f.K.Q$a;g=b.getErrorCode(a.error);d(l(c,g,a.error));}else (T.error("Unknown MSL error",a),a.vd=a.subCode,d({ka:a.vd?a.vd:f.K.Z$a}));});});},x4:b});a(m.se);n.ja.get(F.jX).THb(L);}function l(a,b,c){var d,f,g,h;h={ka:a,LJ:b};if(c){d=function(a){var b;a=a || "" + c;if(c.stack){b="" + c.stack;a=0 <= b.indexOf(a)?b:a + b;}return a;};if(g=c.cadmiumResponse){if(f=g.Ne && g.Ne.toString())g.Ne=f;g.ka=a;g.LJ=b;g.Ab=d(c.message);g.error={vd:a,Ug:f,Pu:b,data:c.cause,message:c.message};return g;}d=d(c.errorMessage);f=A.ce(c.internalCode) || A.ce(c.error && c.error.internalCode);g=void 0 !== c.Gub?I.apa(c.Gub):void 0;}d && (h.Ab=d);f && (h.Ne=f);h.error={vd:a,Ug:f.toString(),Pu:b,data:g,message:d};return h;}h.yb(k.config);q=n.ja.get(p.az);u=r.Cv.Qi;if(y.Wy && y.Zz && y.Zz.unwrapKey){try{v=ka.netflix.msl;R=v.createMslClient;V=v.IHttpLocation;Q=v.MslIoException;}catch(Ta){a({ka:f.K.S$a});return;}T=n.Ah("Msl");O=k.config.PHb;N=k.config.RHb;P=k.config.lu?"mslstoretest":"mslstore";v=c.YF.G0a;S=k.config.mCb;W=!v || v.ia;X=n.Hw(k.config.lu?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");da=! !k.config.Qra;n.ja.get(t.mt).create().then(function(c){O?c.remove(P).then(function(){b();})["catch"](function(a){T.error("Unable to delete MSL store",f.jr(a));b();}):N?c.load(P).then(function(a){q.mark(u.U$a);b(a.value);})["catch"](function(d){d.ka == f.K.Yy?(q.mark(u.W$a),b()):(T.error("Error loading msl store",f.jr(d)),q.mark(u.V$a),c.remove(P).then(function(){b();})["catch"](function(b){a(b);}));}):b();})["catch"](function(b){T.error("Error creating app storage while loading msl store",f.jr(b));a(b);});}else a({ka:f.K.T$a});});},function(d,b,a){var c,g,k,m,f,h,n,p,r,t,A,y,B,I,J;Object.defineProperty(b,"__esModule",{value:!0});c=a(180);g=a(12);k=a(11);m=a(57);f=a(51);d=a(2);h=a(7);n=a(65);p=a(10);r=a(55);t=a(15);A=a(50);y=a(76);a=a(30);J=h.ja.get(a.Ig);J.register(d.L.pya,function(a){var d;function b(){var a,b,g;a=J.startTime;b={browserua:p.Vm,browserhref:p.rX.href,initstart:a,initdelay:J.endTime - a};(a=p.Je.documentMode) && (b.browserdm="" + a);"undefined" !== typeof ka.nrdp && ka.nrdp.device && (b.firmware_version=ka.nrdp.device.firmwareVersion);t.Cx(k.config.NOa) && (b.fesn=k.config.NOa);Object.assign(b,c.Pka());g=p.Et && p.Et.timing;g && k.config.AFb.map(function(a){var c;c=g[a];c && (b["pt_" + a]=c - f.uLa());});a=d.MQa();Object.entries(a).forEach(function(a){var c;c=N(a);a=c.next().value;c=c.next().value;return b["m_" + a]=c;});a=I.Qr("startup","info",b,m.mH.tja);B.kd(a);}I=h.ja.get(y.At);B=h.ja.get(A.Sm);d=h.ja.get(n.az);J.yS(function(){B.$a();r.Hc(b);});a(g.se);});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c,g,k,m,f,h,n,p,r,t,A,y,B,I,J;Object.defineProperty(b,"__esModule",{value:!0});c=a(48);g=a(485);k=a(1217);m=a(278);f=a(11);h=a(12);n=a(184);p=a(530);r=a(51);d=a(2);t=a(7);A=a(264);y=a(10);B=a(187);b=a(30);I=a(57);J=a(71);t.ja.get(b.Ig).register(d.L.lya,function(b){var d,l,q,u,v,D,F;d=t.ja.get(A.XN).qha();l=t.ja.get(n.Y8).HG;q=t.ja.get(g.P$).Um;u={qF:t.uR("ASE"),hkb:t.uR("JS-ASE",void 0,"Platform"),Ah:t.uR,storage:B.storage,nq:B.nq,lzb:y.FG,getTime:r.ki,JK:{},Um:q,Kt:k.Kt,HG:l,MediaSource:p.nAa,SourceBuffer:m.N$,pl:function(){return [f.config.i_,f.config.k_];},Pr:function(a){I.ko.forEach(function(b){b.f1a(a);});}};l=new Promise(function(a){B.storage.load("nh",function(b){u.JK.nh=b.ia?b.data:void 0;a();});});q=new Promise(function(a){B.storage.load("lh",function(b){u.JK.lh=b.ia?b.data:void 0;a();});});v=new Promise(function(a){B.storage.load("gh",function(b){u.JK.gh=b.ia?b.data:void 0;a();});});D=new Promise(function(a){B.storage.load("sth",function(b){u.JK.sth=b.ia?b.data:void 0;a();});});F=new Promise(function(a){B.storage.load("vb",function(b){u.JK.vb=b.ia?b.data:void 0;a();});});Promise.all([l,q,F,D,v]).then(function(){var g;g=a(1219)(u);J.vh.yd=a(531);J.vh.yd.declare(c.sn);J.vh.yd.declare({RB:["useMediaCache",!1],dA:["diskCacheSizeLimit",0],O4b:["dailyDiskCacheWriteLimit",0],NS:["mediaCachePrefetchMs",8E3],foa:["mediaCachePartitionConfig",{}]});J.vh.yd.set(a(178)(f.config),!0,t.uR("ASE"));g=c.PUa(g);J.vh.Fr=new g(J.vh.yd,d);J.vh.Fr.$a(f.config.i_,f.config.k_,{qF:u.qF},f.config.ZT);b(h.se);})["catch"](function(a){u.qF.error("Exception loading location history from local storage",a);});});},function(d,b,a){var g,k,m,f,h,n,p;function c(){var a;a=new k.tj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.dc.bind(this);this.sZ=n++;this.eg=m.Ah("ProbeRequest");this.uHa=g.OCa;f.yb(void 0 !== this.uHa);this.Mg=b.Kt.mc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Kt=void 0;g=a(1218);k=a(68);m=a(7);f=a(20);h=a(26);n=0;(function(){function a(){return JSON.stringify({url:this.cm,id:this.sZ,affected:this.oY,readystate:this.Mg});}h.Hb(c.prototype,{Ru:function(a){a.affected=this.oY;a.probed={requestId:this.sZ,url:this.cm,Zb:this.yP,groupId:this.XY};this.emit(b.Kt.he.ZN,a);},Uoa:function(a){this.eib=a.httpcode;a.affected=this.oY;a.probed={requestId:this.sZ,url:this.cm,Zb:this.yP,groupId:this.XY};this.emit(b.Kt.he.BC,a);},open:function(a,c,d,f){if(!a)return (!1,!1);this.cm=a;this.oY=c;this.yP=d;this.Mg=b.Kt.mc.OPENED;this.Cfb=f;this.uHa.qR(this);return !0;},cc:function(){!1;return !0;},Bk:function(){return this.sZ;},toString:a,toJSON:a});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Mg;},set:function(){}},status:{get:function(){return this.eib;}},url:{get:function(){return this.cm;}},S3b:{get:function(){return this.oY;}},tFb:{get:function(){return this.Cfb;}}});})();(function(a){a.he={ZN:"pr0",BC:"pr1"};a.mc={UNSENT:0,OPENED:1,Ov:2,DONE:3,MG:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(p || (p={}));b.Kt=Object.assign(c,p);},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.OCa=void 0;c=a(7);g=a(67);b.OCa=(function(){c.Ah("ProbeDownloader");return {qR:function(a){a={url:a.url,JMb:a};!1;g.ef.MMb(a);}};})();},function(d,b,a){var h,n,p,r,t,A,y,B,I,J,D,F,L,N,V,E,P;function c(a,b,c){this.kn=a;this.lla=b;this.prefix=c;a=D(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function g(){this.mNa=n.nq.mNa.bind(n.nq);this.b0=n.nq.b0.bind(n.nq);this.zJ=n.nq.zJ;this.fH="NDA";}function k(){}function m(){return J?J:"0.0.0.0";}function f(a){a({xXa:0,UU:0,tSa:0,MOa:0});}h=a(16);n=a(187);g.prototype.set=function(a,b){t[a]=b;A.save(a,b);};g.prototype.get=function(a,b){if(t.hasOwnProperty(a))return t[a];I.trace("key: " + a + ", is not available in storage cache and needs to be retrieved asynchronously");A.load(a,function(c){c.ia?(t[a]=c.data,b && b(c.data)):t[a]=void 0;});};g.prototype.remove=function(a){A.remove(a);};g.prototype.clear=function(){I.info("WARNING: Calling unimplemented function Storage.clear()");};k.prototype.now=function(){return y();};k.prototype.aa=function(){return B();};k.prototype.Boa=function(a){return a + y() - B();};k.prototype.Voa=function(a){return a + B() - y();};c.prototype.yMa=function(a){var b;b=[];this.prefix && Array.isArray(this.prefix)?b.push.apply(b,[].concat(X(this.prefix))):this.prefix && b.push(this.prefix);b.push(a);return new c(this.kn,this.lla,b);};F=(function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;})();d.exports=function(a){p=a.qF;D=a.Ah;A=a.storage;t=a.JK;y=a.lzb;B=a.getTime;I=a.hkb;L=a.Um;P=a.Kt;N=a.HG;V=a.SourceBuffer;E=a.MediaSource;J=a.p6b;r=a.Pr;return {name:"cadmium",Pr:r,qF:p,storage:new g(),Storage:g,time:new k(),events:new h.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:F,Um:L,HG:N,bab:V,MediaSource:E,Kt:P,Hn:{name:m},memory:{xyb:f},pl:a.pl};};},function(d,b,a){d.exports={EventEmitter:a(1221),qg:a(1222)};},function(d){function b(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return (this.Wc={},this.Wc[a]=[b],!0);c=this.Wc[a];return void 0 === c?(this.Wc[a]=[b],!0):0 > c.indexOf(b)?(c.push(b),!0):!1;}function a(a,b){a=this.Wc?this.Wc[a]:void 0;if(!a)return !1;a.forEach(function(a){a(b);});return !0;}d.exports={addEventListener:b,on:b,removeEventListener:function(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return !1;c=this.Wc[a];if(void 0 === c)return !1;b=c.indexOf(b);if(0 > b)return !1;if(1 === c.length)return (delete this.Wc[a],!0);c.splice(b,1);return !0;},Ma:a,emit:a,removeAllListeners:function(a){this.Wc && (void 0 === a?delete this.Wc:delete this.Wc[a]);return this;}};},function(d){function b(a,b,d,g){a.trace(":",d,":",g);b(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,g,m){g=m?g.bind(m):g;m=!1;if(a){this.console && (g=b.bind(null,this.console,g,d));if("function" === typeof a.addEventListener)m=a.addEventListener(d,g);else if("function" === typeof a.addListener)m=a.addListener(d,g);else throw Error("Emitter does not have a function to add listeners for '" + d + "'");this.listeners.push([a,d,g]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function" === typeof b.removeEventListener?b.removeEventListener(c,a):"function" === typeof b.removeListener && b.removeListener(c,a);});this.listeners=[];this.console && this.console.trace("removed",a,"listener(s)");};d.exports=a;},function(d,b,a){var g,k,m,f,h,n,p,r,t;function c(a,b){var l,q,u,v,y,A,E,F,L,N,P;function c(){var c;c=a.Ob.value === r.sb.Uc && a.state.value === r.Db.wd && a.u === b.u;P?c || (clearInterval(P),A=P=void 0):c && (P=ka.setInterval(d,1E3));}function d(){var b,c,d,g,h,k;b=a.Df.value;b=(b=b && b.stream) && b.height;if(null !== b && 0 < b){c=f.ki();d=a.Vf.vE();if(d){if(A && 2E3 > c - A.time && b === A.height){g=d - A.vtb;h=q[b];h || (q[b]=h=[],b > F && (y.push(b),m.JV(y)));0 < g && !(N && N < b) && (N=b);h.push(g);h.length > E && h.shift();(h=v[b]) || (v[b]=h={});k=h[g];h[g]=k?k + 1:1;}A={time:c,vtb:d,height:b};a.j5 && a.j5.YQb(q);}}}l=h.Bh(a,"DFF");q={};u=g.config.ztb;v={};y=[];E=g.config.xtb;F=g.config.ytb;L=k.Bza;if(g.config.wtb)return (b.wia={fxb:function(){var a;a={};v && y.forEach(function(b){var c,d,f;c=v[b];if(c){d=0;f=0;t.Rd(c,function(a,b){f+=n.ce(a);d+=b;});a[b]=f / d;}});return a;},GR:function(a){var b;b={};a.forEach(function(a){b[a]={};});v && (m.JV(a),y.forEach(function(c){var d,f,g,h;d=v[c];if(d){f=0;g=0;t.Rd(d,function(a,b){f+=b;});h=Object.keys(d).map(Number);m.JV(h);for(var k=h.length - 1,l=h[k],n=a.length - 1;0 <= n;n--){for(var q=a[n];l >= q && 0 <= k;){(l=d[l]) && (g+=l);l=h[--k];}b[q][c]=p.hi(g / f * 100);}}}));return b;}},a.state.addListener(c),a.Ob.addListener(c),a.addEventListener(r.V.Gq,c),{OJ:"df",Vs:function(a){var c,f,g,h;if(a.lower && a.height > F){a=a.height;a:{if(N){c=y.length;for(var d=0;d < c;d++){f=y[d];if(f >= N && f < L){g=q[f];if(h=g)b:{h=u.length;for(var k=g.length,m=0;m < h;m++){for(var n=u[m],p=n[0],n=n[1],r=0;r < k;r++){if(g[r] >= n && 0 >= --p){h=!0;break b;}}}h=!1;}if(h && L != f){l.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:f});b.Ko.set({reason:"droppedFrames",height:f});c=L=f;break a;}}}N=void 0;}c=L;}a=a >= c;}else a=!1;return a;}});}Object.defineProperty(b,"__esModule",{value:!0});b.cab=void 0;d=a(99);g=a(11);k=a(12);m=a(47);f=a(51);h=a(7);n=a(26);p=a(10);r=a(13);t=a(23);d.wC(c);b.cab=c;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(99).wC(function(){return {OJ:"op",Vs:function(){}};});},function(d,b,a){var g,k;function c(a,b){var c,d;c=k.Bh(a,"MSS");if(g.config.jHb)return {OJ:"mss",Vs:function(a){var f,g;if(a.lower && 2160 <= a.height)a:{for(f=a;f.lower;){if(2160 > f.height && 1080 < f.height){f=!0;break a;}if(1080 >= f.height)break;f=f.lower;}f=!1;}else f=void 0;if(f){if(void 0 === d){try{g=ka.MSMediaKeys;d=g && g.isTypeSupportedWithFeatures?"probably" === g.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(A){c.error("hasUltraHdDisplay exception");d=!0;}d || (c.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.Ko.set({reason:"microsoftScreenSize",height:a.height}));}return !d;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.dab=void 0;d=a(99);g=a(11);k=a(7);d.wC(c);b.dab=c;},function(d,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});d=a(99);c=a(1227);g=a(7);k=a(31);m=a(75);d.wC(function(a){var b;if(g.ja.get(k.vj).vOb){b=g.ja.get(m.nr);return new c.Vya(a,g.Af,b);}});},function(d,b,a){var g;function c(a,b,c){var d;d=this;this.j=a;this.la=b;this.ioa=c;this.Gma=!1;this.log=this.la.tb("KeySystemRobustness",this.j);this.Gma=!1;this.ioa.wu().then(function(b){var c,f;f=null === (c=b.getConfiguration().videoCapabilities) || void 0 === c?void 0:c.map(function(a){return a.robustness;});d.Gma=!(null === f || void 0 === f || !f.some(function(a){return a === g.SW;}));a.g1a("keySystem",b.Xg);a.g1a("robustness",null === f || void 0 === f?void 0:f.toString());d.log.trace("KeySystemRobustness: " + f);})["catch"](function(a){d.log.error("KeySystemRobustness exception",a);});}Object.defineProperty(b,"__esModule",{value:!0});b.Vya=void 0;g=a(103);c.prototype.Vs=function(a){return a.lower && a.Du && !this.Gma && 720 < a.height;};ma.Object.defineProperties(c.prototype,{OJ:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.Vya=c;},function(d,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});d=a(99);c=a(11);g=a(7);k=a(1229);d.wC(function(a,b){if(c.config.iEb)return new k.Uya(a,b,g.Af,c.config,g.ta,g.Ea);});},function(d,b,a){var g,k;function c(a,b,c,d,l,n){var f;f=this;this.j=a;this.Rn=b;this.la=c;this.config=d;this.ta=l;this.Ea=n;this.Pjb=function(a){!0 === a.oldValue && !1 === a.newValue && (f.log.error("RestartStreaming: UHD key is no longer usable"),f.j.zPb());};this.yVb=function(a){var b,c,d;f.log.trace("UhdKeyStatus: " + a.oldValue + " -> " + a.newValue);c=null === a || void 0 === a?void 0:a.newValue;d=null === a || void 0 === a?void 0:a.oldValue;"usable" !== c && (f.TQb(c,(null === (b=null === a || void 0 === a?void 0:a.Ur) || void 0 === b?void 0:b.height) || 0),"usable" === d && (a=f.ta.Ae.Fa(f.kEb),f.log.error("UHD KeyStatus unexpectedly changed: " + a.ca(k.ga))));};this.DTa=!1;this.log=this.la.tb("KeyStatusStreamFilter",this.j);this.XIa=new g.Cc(!1,this.Pjb);this.xVb=new g.Cc(void 0,this.yVb);}Object.defineProperty(b,"__esModule",{value:!0});b.Uya=void 0;g=a(149);k=a(4);c.prototype.Vs=function(a){this.zTb();this.XIa.set(this.DTa && this.zBb);return a.lower && 1080 < a.height && !this.XIa.value?!0:!1;};c.prototype.Rnb=function(){this.zBb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.mSa);};c.prototype.Bqb=function(){var a,b,c;b={};c=null === (a=this.Rn.og.value) || void 0 === a?void 0:a.Ks;null === c || void 0 === c?void 0:c.forEach(function(a){b[a.lp]=a.U5.height;});this.log.trace("KeyStatusMap",b);return b;};c.prototype.fIb=function(a){var b;b=this.jEb[a.lp];1080 < b && (this.DTa="usable" === a.value,this.xVb.set(a.value,{height:b}));};c.prototype.zTb=function(){var a,b,c;a=this;b=this.Rn.ne;c=b && b.TTa;!this.ODb && c && (this.ODb=!0,this.jEb=this.Bqb(),b.TTa().subscribe(function(b){return a.fIb(b);}),this.Ea.zi(k.Nb(this.config.mSa),function(){return a.Rnb();}),this.kEb=this.ta.Ae);};c.prototype.TQb=function(a,b){this.log.error("Restricting resolution due to keyStatus",{keyHeight:b,keyStatus:a});this.Rn.Ko.set({reason:"keyStatus",height:b});};ma.Object.defineProperties(c.prototype,{OJ:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.Uya=c;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(99);c=a(11);g=a(7);d.wC(function(a,b){var d,h,k,l;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.zVb);h=d[b.Dd];if(c.config.AVb && h){k={};l=g.Bh(a,"MediaStreamFilter");return {OJ:"uiLabel",Vs:function(a){if(a.lower && a.height > h)return (k[a.height] || (k[a.height]=!0,l.warn("Restricting resolution due to uiLabel",{MaxHeight:h,streamHeight:a.height}),b.Ko.set({reason:"uiLabel",height:a.height})),!0);}};}});},function(d,b,a){var c,g,k,m,f,h,n,p,r,t,A,y,B,I;Object.defineProperty(b,"__esModule",{value:!0});c=a(180);g=a(529);d=a(57);k=a(11);m=a(58);f=a(12);h=a(47);n=a(51);p=a(23);r=a(10);t=a(7);A=a(114);y=a(13);B=a(30);I=a(31);d.$aa(d.Vaa,function(a){var J,L,N,P,S,W;function b(c){c.newValue >= y.Db.LOADING && (a.state.removeListener(b),F("type=openplay&sev=info&locstor=" + r.qX(v())),N=n.ki(),q());}function d(){W("type=startplay&sev=info&outcome=success");}function l(){var b,d;b=a.Hj;if(b){d="type=startplay&sev=error&outcome=error";b=c.Eka(t.ja.get(I.vj).lE,b);p.Rd(b,function(a,b){d+="&" + r.qX(a) + "=" + r.qX(b || "");});W(d);}else W("type=startplay&sev=info&outcome=abort");}function q(){var a,b;a=P.shift();if(0 < a){b=r.Tm(a - (n.ki() - N),0);L=setTimeout(function(){F("type=startstall&sev=info&kt=" + a);q();},b);}}function u(){W("type=startplay&sev=info&outcome=unload");}function v(){var a,b,c;try{b="" + n.O_();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b == c?"success":"mism";}catch(xa){a="ex: " + xa;}return a;}function F(b){b=S + "&soffms=" + a.Mka() + "&" + b;a.Md && Object.keys(a.Md).length && (b+="&" + h.nL(p.Hb({},a.Md,{prefix:"sm_"})));g.h3a("playback",b,J);}J=t.ja.get(A.WB).host + k.config.ita;if(k.config.i3a && J && k.config.j3a.playback){P=k.config.ZUb.slice();S="xid=" + a.ea + "&pbi=" + a.index + "&uiLabel=" + (a.Dd || "");a.state.addListener(b);a.addEventListener(y.V.Fs,d);a.addEventListener(y.V.Pf,l);m.Ve.addListener(m.um,u,f.CC);W=function(b){var c;W=f.kh;c=t.ja.get(B.Ig);b+="&initstart=" + c.startTime + "&initend=" + c.endTime;F(b);clearTimeout(L);a.removeEventListener(y.V.Fs,d);a.removeEventListener(y.V.Pf,l);m.Ve.removeListener(m.um,u);};}});},function(d,b,a){var c,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(11);g=a(12);d=a(2);k=a(7);m=a(153);a=a(30);k.ja.get(a.Ig).register(d.L.nya,function(a){c.config.Dwb && k.ja.get(m.A9).start();a(g.se);});},function(d,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.Tva=void 0;c=a(67);g=a(47);k=a(20);m=a(23);f=a(26);b.Tva=function(a,b){k.yb(a);k.yb(b);k.rJ(b.xub,"endpointURL property is required");k.yb(b.Bj);this.log=a;this.DYa=b;};b.Tva.prototype.rA=function(){var a,b,d;a=this;a.log.trace("Downloading config data.");b={browserInfo:JSON.stringify(a.DYa.Bj)};d=a.DYa.xub + "?" + g.nL(b);return new Promise(function(b,g){function h(b){var c;try{if(b.ia){c=new Uint8Array(b.content);return {ia:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return {ia:!1,message:"Unable to download the config. " + b.Ab,DE:b.cj};}catch(T){return (b=m.Ue(T),a.log.error("Unable to download the config. Received an exception parsing response",{message:T.message,exception:b,url:d}),{ia:!1,Ab:b,message:"Unable to download the config. " + T.message});}}function k(b,c,d){return c > d?(a.log.error("Config download failed, retry limit exceeded, giving up",f.Hb({Attempts:c - 1,MaxRetries:d},b)),!1):!0;}function l(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function n(d,p,q){c.ef.download(d,function(c){var r;c=h(c);if(c.ia)b(c);else {a.log.warn("Config download failed, retrying",f.Hb({Attempt:p,WaitTime:r,MaxRetries:q},c));if(k(c,p + 1,q))return (r=m.vqa(1E3,1E3 * Math.pow(2,Math.min(p - 1,q))),l(r).then(function(){return n(d,p + 1,q);}));g(c);}});}return c.ef?n({url:d,responseType:3,withCredentials:!0,dE:"config-download"},1,3):Promise.reject({ia:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(d,b,a){var c,g,k,m,f,h,n,p,r,t,A;Object.defineProperty(b,"__esModule",{value:!0});c=a(188);g=a(189);k=a(12);m=a(11);d=a(2);f=a(7);h=a(20);n=a(23);p=a(26);r=a(15);t=a(50);A=a(76);a=a(30);f.ja.get(a.Ig).register(d.L.wya,function(a){var b,d;b=f.Ah("NccpApi");d=n.wJa(["info","warn","trace","error"]);g.jY.l_.nccp={getEsn:function(){return c.li.mi;},getPreferredLanguages:function(){return m.config.Wr.bqa;},setPreferredLanguages:function(a){h.yb(r.isArray(a) && p.Cx(a[0]));m.config.Wr.bqa=a;},queueLogblob:function(a,c,g){var h;if(a && c)if((c=c.toLowerCase(),d[c])){h=f.ja.get(t.Sm);a=f.ja.get(A.At).Qr(a,c,g);h.kd(a);}else b.warn("Invalid severity",{severity:c});},flushLogblobs:function(){f.ja.get(t.Sm).flush(!0);}};a(k.se);});},function(d,b,a){var c,g,k,m,f,h,n,p,r,t,A;Object.defineProperty(b,"__esModule",{value:!0});d=a(30);b=a(2);c=a(6);g=a(31);k=a(186);m=a(12);f=a(11);h=a(7);n=a(71);p=a(57);r=a(189);t=a(277);A=a(98);h.ja.get(d.Ig).register(b.L.xya,function(a){var l,q,u;function b(a,b){return void 0 === a || void 0 === b?Promise.reject("Invalid email and/or password"):h.ja.get(t.AX).Oe(this.log,{},{TNa:a,password:b}).then(function(){});}function d(a){var b;b=h.ja.get(A.Sv);return b.OOa.fetch(a,b);}if(f.config.Sub){l=h.ja.get(k.cO);q=h.ja.get(g.vj);u=h.ja.get(c.zb).tb("Test");r.jY.l_.test={pboRequests:l.xB.map(function(a){return JSON.parse(JSON.stringify(a));}),playbacks:p.ko,getPlayback:function(a){return p.ko.find(function(b){return b.ea === a;});},playgraphManager:{isNextSegmentReady:function(a,b){var c,d;return void 0 !== (null === (d=null === (c=p.ko.find(function(b){return b.ea === a;})) || void 0 === c?void 0:c.Ga) || void 0 === d?void 0:d.uE(b));}},aseManager:{cacheDestroy:function(){return n.vh.Fr.Nw();}},device:{esn:ka._cad_global.device.mi,esnPrefix:q.lA,errorPrefix:q.lE},log:{info:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return u.info(a,c);},error:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return u.error(a,c);},warn:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return u.warn(a,c);},trace:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return u.trace(a,c);},log:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return u.log(a,c);},debug:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return u.debug(a,c);}},login:b,getManifest:d};}a(m.se);});},function(d,b,a){var c,g,k,m,f,h,n,p,r;Object.defineProperty(b,"__esModule",{value:!0});d=a(189);c=a(12);g=a(11);k=a(57);b=a(6);m=a(7);f=a(50);h=a(107);n=a(20);p=a(26);r=a(10);ka.netflix=ka.netflix || ({});n.yb(!ka.netflix.player);ka.netflix.player={VideoSession:d.jY,diag:{togglePanel:function(a,b){var c;c=[];if(!g.config || g.config.ST){switch(a){case "info":c=k.ko.map(function(a){return a.j5;});break;case "streams":c=k.ko.map(function(a){return a.k5;});break;case "log":c=[];}c.forEach(function(a){p.ic(b)?b?a.show():a.yq():a.toggle();});}},addLogMessageSink:function(a){m.ja.get(f.Sm).addListener({G8b:function(){},ZGb:function(b){a({data:b.data});}});}},log:m.Ah("Ext"),LogLevel:b.Ni,addLogSink:function(a,b){m.ja.get(h.qC).K5(a,b);},getVersion:function(){return "6.0029.052.051";},isWidevineSupported:function(a){var d;function b(a){return function(b,c){return c.contentType == a;};}if("function" !== typeof a)throw Error("input param is not a function");d=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.Bt,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.rC,robustness:"SW_SECURE_CRYPTO"}]}];try{r.Re.requestMediaKeySystemAccess("com.widevine.alpha",d).then(function(d){var f;f=d.getConfiguration();d=f.videoCapabilities || [];f=(f.audioCapabilities || []).reduce(b(c.rC),!1);d=d.reduce(b(c.Bt),!1);a(f && d);})["catch"](function(){a(!1);});}catch(B){a(!1);}}};},function(d,b,a){var c,g,k,m,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(11);g=a(12);d=a(2);k=a(7);b=a(30);m=a(98);k.ja.get(b.Ig).register(d.L.sya,function(b){var d,h,l;if(c.config.JLb){d=k.Ah("PlayerPredictionModel");h=k.ja.get(m.Sv);l=a(1238);d.log=d.trace.bind(d);f=new l({},d,{WT:function(){},VOb:function(){}},h,{qB:function(){}});ka._cad_global.playerPredictionModel=f;d.info("ppm v2 initialized");}b(g.se);});},function(d,b,a){var m,f,h,n,p,r,t;function c(a,b,c,d,f,g){this.u=this.fa=a;this.Ud=b;this.jd=c;g && g.Dd && (this.Dd=g.Dd);void 0 !== d && (this.yL=d);this.yk=f;this.fb=g;}function g(a,b,c,d,f){h(void 0 !== d,"video preparer is null");h(void 0 !== f,"ui preparer is null");this.G=b || console;this.G=b;this.Ha=c;this.Bib=d;this.tib=f;this.sHa=r.Ypa;this.AI=[];this.Fea=!1;this.UH=0;new t().on(r,"changed",k,this);this.reset();}function k(){this.G.log("config changed");r.Ypa && (this.sHa=r.Ypa);r.ZS !== this.kI && (this.reset(),this.Sqa());}m=a(283);f=a(284);b=a(532);h=b.assert;n=b.WOa;p=a(1239);r=a(533).config;t=a(1240).qg;r.declare({Ypa:["ppmConfig",{CYb:{YWa:0,XWa:2,VWa:0,WWa:5,j1a:0},J2b:{YWa:0,XWa:1,VWa:0,WWa:3,j1a:1E3},RYb:{YWa:0,XWa:1,VWa:0,WWa:3,j1a:1E3}}]});g.prototype.constructor=g;g.prototype.reset=function(){this.mda=!0;this.kI=r.ZS;this.G.log("create model: " + r.ZS,r.P_a,r.ALa);switch(r.ZS){case "modelone":this.kI=new p(this.G);break;default:this.kI=new p(this.G);}};g.prototype.Sqa=function(){var b,c;if(!1 === this.Fea){this.Fea=!0;for(var a=0;a < this.AI.length;a++){this.G.log("PlayPredictionModel replay: ",JSON.stringify(this.AI[a]));b=this.gMa(this.AI[a]);c=this.FPa(b);this.kI.update(b,c);this.mda=!1;}this.AI=[];}};g.prototype.update=function(a){var b,c,d;this.G.log("PlayPredictionModel update: ",JSON.stringify(a));if(a && a.Oa && a.Oa[0]){!1 === this.Fea && this.AI.length < r.wGb && this.AI.push(a);b=this.gMa(a);c=this.FPa(b);this.G.log("actionType",c);b="mlmodel" == r.ZS?this.kI.update(a,c):this.kI.update(b,c);b=this.Kwb(b,r.ZDb || 1);this.G.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0 === this.UH && (this.UH=m(),this.Ha && this.Ha.WT && this.Ha.WT({ysb:this.UH}));if(this.Ha && this.Ha.VOb){this.Rxb();d=[];b.forEach(function(a){d.push({f9b:a.fa});});JSON.stringify(a);JSON.stringify(b);}this.Bib.qB(b);this.tib.qB(b);this.mda=!1;}};g.prototype.Rxb=function(){m();};g.prototype.WT=function(){this.UH=m();this.Ha && this.Ha.WT && this.Ha.WT({ysb:this.UH});};g.prototype.gMa=function(a){var b,c,d,g,h;b={};g=a.Oa || [];h=(function(a){var g,h;g={};c=f.RN.name.indexOf(a.context);g.context=0 <= c?c:f.RN.Lv;g.rowIndex=a.rowIndex;g.requestId=a.requestId;g.list=[];d=a.list || [];d.forEach((function(a){h={fa:a.fa,jd:a.jd,index:a.index,yL:a.yL,u5:a.u5,list:a.list,fb:a.fb};void 0 !== a.property && (c=f.TG.name.indexOf(a.property),h.property=0 <= c?c:f.TG.Lv);g.list.push(h);}).bind(this));b.Oa.push(g);}).bind(this);void 0 !== a.direction && (c=f.Ct.name.indexOf(a.direction),b.direction=0 <= c?c:f.Ct.Lv);void 0 !== a.mR && (b.D5b=a.mR.rowIndex,b.C5b=a.mR.Mnb);b.mR=a.mR;b.Oa=[];g.forEach(h);return b;};g.prototype.FPa=function(a){var b,c,d;b=a.direction || f.Ct.Lv;c=a.mR;d=a.Oa || [];!0 === this.mda?a=f.uv.vxa:!0 === d.some(this.wBb)?(a=f.uv.$N,this.M5(d,b,c)):a=d[0].context === f.RN.SX?f.uv.SX:b === f.Ct.XCa || b === f.Ct.Wya?f.uv.mDa:f.uv.Lv;return a;};g.prototype.wBb=function(a){return (a.list || []).some(function(a){return a.property === f.TG.$N || a.property === f.TG.hwa;});};g.prototype.M5=function(a,b,c){var d,g;this.G.log("reportPlayFocusEvent: ",b,c);d={};g=n(a);this.Ha && this.Ha.M5 && (d.t5b=m(),d.direction=f.Ct.name[b],c && (d.rowIndex=c.rowIndex,d.Pga=c.Mnb),void 0 !== g.mj && (d.requestId=a[g.mj].requestId),this.Ha.M5 && this.Ha.M5(d));};g.prototype.Kwb=function(a,b){for(var c=a.length,d=[],f,g,h,k,l=0;l < c;l++){g=a[l];f=Math.floor(l / b) + 1;if(void 0 !== g.list){h=g.list;k=h.length;for(var m=0;m < Math.min(r.Knb,k) && !(h[m].yk=g.yk,this.DIa(h[m],f,d),d.length >= r.rVa);m++){;}}else this.DIa(g,f,d);if(d.length >= r.rVa)break;}return d;};g.prototype.DIa=function(a,b,d){var g,h;function f(a){a.Dd && (a.fb || (a.fb={}),a.fb.Dd=a.Dd);return a.fb;}g=a.u5;void 0 !== g && g instanceof Array?g.forEach(function(g){void 0 !== g.fa && (h=f(g),d.push(new c(g.fa,b,g.jd,g.yL,a.yk,h)));}):void 0 !== g && void 0 !== g.fa && (g=a.u5,h=f(g),d.push(new c(g.fa,b,g.jd,g.yL,a.yk,h)));void 0 !== a.fa && (h=f(a),d.push(new c(a.fa,b,a.jd,a.yL,a.yk,h)));};g.prototype.rA=function(a){var b;b=this.sHa;return a?b[a]:b;};d.exports=g;},function(d,b,a){var k,m,f,h,n,p,r,t,A,y;function c(a,b){this.mj=a;this.ll=b;}function g(a){this.G=a;this.reset();}k=a(283);m=a(284);b=a(532);f=a(533).config;h=b.Exb;n=b.lxb;p=b.Asb;r=b.bJb;t=b.aJb;A=b.$Ib;y=b.WOa;g.prototype.constructor=g;g.prototype.reset=function(){this.tHa=void 0;this.yj=[];this.gHa=this.hHa=!1;};g.prototype.update=function(a,b){var c;this.yj && (this.yj=this.yj.filter(this.ZRb,this));if(!1 === this.hHa){c=h(a.Oa).slice(0,f.LMa);0 < c.length && (this.bF(c,m.yv.Zj),this.hHa=!0,this.yj=this.sG(c.concat(this.yj)));}!1 === this.gHa && (c=n(a.Oa).slice(0,f.LMa),0 < c.length && (this.bF(c,m.yv.Zj),this.gHa=!0,this.yj=this.sG(c.concat(this.yj))));switch(b){case m.uv.vxa:b=this.ZAb(a);break;case m.uv.mDa:b=this.gBb(a);break;case m.uv.SX:b=this.hBb(a);break;case m.uv.$N:b=this.cBb(a);break;default:b=this.WAb(a);}this.tHa=a;return b;};g.prototype.ZAb=function(a){a=r(a.Oa,f.P_a,f.ALa);this.bF(a,m.yv.Zj);return this.yj=this.sG(this.yj.concat(a));};g.prototype.gBb=function(a){var b,c;this.G.log("handleScrollHorizontal");b=a.Oa;a=r(b,f.R_a,f.BLa);c=p(b,this.tHa.Oa);b=b[c].list.slice(0,f.JPb);b.concat(a);this.bF(b,m.yv.Uba);return this.sG(b.concat(this.yj));};g.prototype.bF=function(a,b){a.forEach(function(a){if(void 0 === a.Nz || a.Nz < b)a.Nz=b;void 0 === a.FM && (a.FM=k());void 0 === a.yk && (a.yk=k());});};g.prototype.hBb=function(a){this.G.log("handleSearch");a=t(a.Oa,f.fQb);this.bF(a,m.yv.oDa);this.yj=a.concat(this.yj);return this.yj=this.sG(this.yj);};g.prototype.cBb=function(a){var b,d,g,h,k;this.G.log("handlePlayFocus: ",f.VR);b=a.direction;d=a.Oa;a=[];g=y(d);if(void 0 !== g.mj)switch((a.push(g),b)){case m.Ct.XCa:for(b=1;b < f.VR;b++){a.push(new c(g.mj,g.ll + b));}a.push(new c(g.mj - 1,g.ll));a.push(new c(g.mj + 1,g.ll));break;case m.Ct.Wya:for(b=1;b < f.VR;b++){a.push(new c(g.mj,g.ll - b));}a.push(new c(g.mj - 1,g.ll));a.push(new c(g.mj + 1,g.ll));break;case m.Ct.Pcb:a.push(new c(g.mj - 1,g.ll));for(b=1;b <= f.VR / 2;b++){a.push(new c(g.mj,g.ll + b));a.push(new c(g.mj,g.ll - b));}break;case m.Ct.Z7a:for((a.push(new c(g.mj + 1,g.ll)),b=1);b <= f.VR / 2;b++){a.push(new c(g.mj,g.ll + b));a.push(new c(g.mj,g.ll - b));}}h=[];a.forEach(function(a){k=A(d,a.mj,a.ll);void 0 !== k && h.push(k);});this.bF(h,m.yv.Uba);return this.sG(h.concat(this.yj));};g.prototype.WAb=function(a){this.G.log("ModelOne: handleDefaultCase");a=r(a.Oa,f.R_a,f.BLa);this.bF(a,m.yv.Uba);return this.sG(a.concat(this.yj));};g.prototype.ZRb=function(a){return a.Nz == m.yv.Zj | a.Nz == m.yv.oDa & k() - a.FM < f.MBb;};g.prototype.sG=function(a){var b,c,d,f,g,h,k;b=[];c={};h=0;k=a.length;for(g=0;g < k;g++){d=a[g].fa;f=a[g];!1 === (d in c)?(b.push(f),c[d]=h,h++):(d=b[c[d]],f.yk < d.yk && (d.yk=f.yk),f.Nz > d.Nz && (d.Nz=f.Nz),f.FM > d.FM && (d.FM=f.FM));}return b;};d.exports=g;},function(d,b,a){d.exports={EventEmitter:a(1241),qg:a(1242)};},function(d){function b(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return (this.Wc={},this.Wc[a]=[b],!0);c=this.Wc[a];return void 0 === c?(this.Wc[a]=[b],!0):0 > c.indexOf(b)?(c.push(b),!0):!1;}function a(a,b){a=this.Wc?this.Wc[a]:void 0;if(!a)return !1;a.forEach(function(a){a(b);});return !0;}d.exports={addEventListener:b,on:b,removeEventListener:function(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return !1;c=this.Wc[a];if(void 0 === c)return !1;b=c.indexOf(b);if(0 > b)return !1;if(1 === c.length)return (delete this.Wc[a],!0);c.splice(b,1);return !0;},Ma:a,emit:a,removeAllListeners:function(a){this.Wc && (void 0 === a?delete this.Wc:delete this.Wc[a]);return this;}};},function(d){function b(a,b,d,g){a.trace(":",d,":",g);b(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,g,m){g=m?g.bind(m):g;m=!1;if(a){this.console && (g=b.bind(null,this.console,g,d));if("function" === typeof a.addEventListener)m=a.addEventListener(d,g);else if("function" === typeof a.addListener)m=a.addListener(d,g);else throw Error("Emitter does not have a function to add listeners for '" + d + "'");this.listeners.push([a,d,g]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function" === typeof b.removeEventListener?b.removeEventListener(c,a):"function" === typeof b.removeListener && b.removeListener(c,a);});this.listeners=[];this.console && this.console.trace("removed",a,"listener(s)");};d.exports=a;}]);}).call(ka);})(window);}).call(window);